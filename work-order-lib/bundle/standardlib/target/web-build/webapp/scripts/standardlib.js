var rx=rx||{};!function(){"use strict";function a(a){return _.isNull(a)||_.isUndefined(a)}function b(a){return _.isNull(a)?"null":_.isUndefined(a)?"undefined":typeof a}function c(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&c.length>1;)d+=c.shift()+e.shift();return d+c.join("%s")}"boolean"!=typeof rx.ENABLE_ASSERTS&&(rx.ENABLE_ASSERTS=!0);var d=[],e=function(a){throw a},f=function(a,b,f,g){var h="Assertion failed",i=null;f?(h+=": "+f,i=g):a&&(h+=": "+a,i=b),i=i||[],i.unshift(h);var j=new Error(c.apply(null,i));_.forEach(d,function(a){try{_.isFunction(a)&&a(j)}catch(b){}}),e(j)};rx.assert={addErrorHandler:function(a){rx.ENABLE_ASSERTS&&_.isFunction(a)&&d.push(a)},assert:function(a,b,c){rx.ENABLE_ASSERTS&&!a&&f("",null,b,Array.prototype.slice.call(arguments,2))},fail:function(a,b){rx.ENABLE_ASSERTS&&f("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))},assertNumber:function(a,c,d){rx.ENABLE_ASSERTS&&!_.isNumber(a)&&f("Expected number but got %s: %s.",[b(a),a],c,Array.prototype.slice.call(arguments,2))},assertOptionalNumber:function(c,d,e){!rx.ENABLE_ASSERTS||_.isNumber(c)||a(c)||f("Expected an optional number value but got %s: %s.",[b(c),c],d,Array.prototype.slice.call(arguments,2))},assertDefinedAndNotNull:function(a,c,d){rx.ENABLE_ASSERTS&&(_.isUndefined(a)||_.isNull(a))&&f("Expected a defined value but got %s.",[b(a)],c,Array.prototype.slice.call(arguments,2))},assertHasLength:function(a,b,c){rx.ENABLE_ASSERTS&&(rx.assert.assertNumber(a.length,"Expected a length property"),a.length<=0&&f("Expected length greater than zero but got %s.",[a.length],b,Array.prototype.slice.call(arguments,2)))},assertString:function(a,c,d){rx.ENABLE_ASSERTS&&!_.isString(a)&&f("Expected string but got %s: %s.",[b(a),a],c,Array.prototype.slice.call(arguments,2))},assertOptionalString:function(c,d,e){!rx.ENABLE_ASSERTS||_.isString(c)||a(c)||f("Expected an optional string value but got %s: %s.",[b(c),c],d,Array.prototype.slice.call(arguments,2))},assertStringWithLength:function(a,b,c){rx.ENABLE_ASSERTS&&(rx.assert.assertString(a,b,c),rx.assert.assertHasLength(a,b,c))},assertOptionalStringWithLength:function(c,d,e){rx.ENABLE_ASSERTS&&!(_.isString(c)&&c.length||a(c))&&f("Expected an optional string with length but got %s: %s.",[b(c),c],d,Array.prototype.slice.call(arguments,2))},assertArrayWithLength:function(a,b,c){rx.assert.assertArray(a,b,c),rx.assert.assertHasLength(a,b,c)},assertOptionalArrayWithLength:function(c,d,e){rx.ENABLE_ASSERTS&&!(_.isArray(c)&&c.length||a(c))&&f("Expected an optional array with length but got %s: %s.",[b(c),c],d,Array.prototype.slice.call(arguments,2))},assertFunction:function(a,c,d){rx.ENABLE_ASSERTS&&!_.isFunction(a)&&f("Expected function but got %s: %s.",[b(a),a],c,Array.prototype.slice.call(arguments,2))},assertOptionalFunction:function(c,d,e){!rx.ENABLE_ASSERTS||_.isFunction(c)||a(c)||f("Expected an optional function but got %s: %s.",[b(c),c],d,Array.prototype.slice.call(arguments,2))},assertObject:function(a,c,d){rx.ENABLE_ASSERTS&&!_.isObject(a)&&f("Expected object but got %s: %s.",[b(a),a],c,Array.prototype.slice.call(arguments,2))},assertOptionalObject:function(c,d,e){!rx.ENABLE_ASSERTS||_.isObject(c)||a(c)||f("Expected an optional object value but got %s: %s.",[b(c),c],d,Array.prototype.slice.call(arguments,2))},assertArray:function(a,c,d){rx.ENABLE_ASSERTS&&!_.isArray(a)&&f("Expected array but got %s: %s.",[b(a),a],c,Array.prototype.slice.call(arguments,2))},assertOptionalArray:function(c,d,e){!rx.ENABLE_ASSERTS||_.isArray(c)||a(c)||f("Expected an optional array value but got %s: %s.",[b(c),c],d,Array.prototype.slice.call(arguments,2))},assertBoolean:function(a,c,d){rx.ENABLE_ASSERTS&&!_.isBoolean(a)&&f("Expected boolean but got %s: %s.",[b(a),a],c,Array.prototype.slice.call(arguments,2))},assertOptionalBoolean:function(c,d,e){!rx.ENABLE_ASSERTS||_.isBoolean(c)||a(c)||f("Expected an optional boolean value but got %s: %s.",[b(c),c],d,Array.prototype.slice.call(arguments,2))},assertInstanceof:function(a,b,c,d){!rx.ENABLE_ASSERTS||a instanceof b||f("instanceof check failed.",null,c,Array.prototype.slice.call(arguments,3))},assertNullOrUndefined:function(a,c,d){!rx.ENABLE_ASSERTS||_.isNull(a)||_.isUndefined(a)||f("Expected a value that is null or undefined but got %s: %s.",[b(a),a],c,Array.prototype.slice.call(arguments,2))}}}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.access-denied",["com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.security"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.action-type",["com.bmc.arsys.rx.standardlib.resources"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.action",["com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.record.definition"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.associate",["com.bmc.arsys.rx.standardlib.action","com.bmc.arsys.rx.standardlib.components.definition-picker","com.bmc.arsys.rx.standardlib.association.instance","com.bmc.arsys.rx.standardlib.view-components.design-utils","com.bmc.arsys.rx.standardlib.actions.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.close-view",["com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.action","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.view-components.action"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.delete-records",["dialogs.main","com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.action","com.bmc.arsys.rx.standardlib.record.instance","com.bmc.arsys.rx.standardlib.components.definition-picker"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.disassociate",["com.bmc.arsys.rx.standardlib.action","com.bmc.arsys.rx.standardlib.components.definition-picker","com.bmc.arsys.rx.standardlib.association.instance","com.bmc.arsys.rx.standardlib.view-components.design-utils","com.bmc.arsys.rx.standardlib.actions.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.launch-url",["com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.action"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.open-view",["com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.action","com.bmc.arsys.rx.standardlib.view.definition","com.bmc.arsys.rx.standardlib.view.runtime","com.bmc.arsys.rx.standardlib.components.definition-picker","ui.bootstrap","cgBusy"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.refresh",["com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.action","com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.save",["com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.action","com.bmc.arsys.rx.standardlib.view-components.action"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.set-property",["com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.action","com.bmc.arsys.rx.standardlib.view.designer-utils","com.bmc.arsys.rx.standardlib.view-components.action","com.bmc.arsys.rx.standardlib.view-component"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.utils",["com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.view-components.design-utils","com.bmc.arsys.rx.standardlib.view-components.action"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings",["cgBusy","colorpicker.module","oc.lazyLoad","treeControl","ui.bootstrap","ui.router","com.bmc.arsys.rx.standardlib.action-type","com.bmc.arsys.rx.standardlib.administration-settings.attachment-panel","com.bmc.arsys.rx.standardlib.body-state","com.bmc.arsys.rx.standardlib.components.property-panel","com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.user","com.bmc.arsys.rx.standardlib.utils"]),angular.module("com.bmc.arsys.rx.​standardlib.admin-settings",["com.bmc.arsys.rx.​standardlib.administration-settings"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings.attachment-panel",["com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.view-component","com.bmc.arsys.rx.standardlib.components.property-editor"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.application",["dialogs.main","pascalprecht.translate","com.bmc.arsys.rx.standardlib.security","com.bmc.arsys.rx.standardlib.view.runtime","com.bmc.arsys.rx.standardlib.view.access-denied","com.bmc.help","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.search","com.bmc.arsys.rx.standardlib.administration-settings"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.association.definition",["com.bmc.arsys.rx.standardlib.resources"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.association.designer",["com.bmc.arsys.rx.standardlib.association.definition","dialogs.main","cgBusy","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.security","com.bmc.arsys.rx.standardlib.components.designer","com.bmc.arsys.rx.standardlib.components.simple-json-editor","com.bmc.arsys.rx.standardlib.components.definition-picker"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.association.instance",["com.bmc.arsys.rx.standardlib.resources"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.body-state",[])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.bundle",[])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.cache",["com.bmc.arsys.rx.standardlib.named-list.definition","com.bmc.arsys.rx.standardlib.process.definition","com.bmc.arsys.rx.standardlib.record.association","com.bmc.arsys.rx.standardlib.record.definition","com.bmc.arsys.rx.standardlib.user","com.bmc.arsys.rx.standardlib.association.definition","com.bmc.arsys.rx.standardlib.bundle","com.bmc.arsys.rx.standardlib.action-type"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib",[])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.blade",[])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.boolean",["ui.bootstrap","com.bmc.arsys.rx.standardlib.dpl","com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.confirmation-message-dialog",["ui.bootstrap"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.definition-picker",["dpl-busy-loader","ui.bootstrap","cgBusy","com.bmc.arsys.rx.standardlib.record.definition","com.bmc.arsys.rx.standardlib.named-list.definition","com.bmc.arsys.rx.standardlib.association.definition","com.bmc.arsys.rx.standardlib.process.definition","com.bmc.arsys.rx.standardlib.view.definition","com.bmc.arsys.rx.standardlib.cache"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer",["debounce","dialogs.main","dplTimepicker","ui.bootstrap","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.components.expression-editor","com.bmc.arsys.rx.standardlib.components.ui-select","com.bmc.arsys.rx.standardlib.components.uib-modal","com.bmc.arsys.rx.standardlib.components.boolean","com.bmc.arsys.rx.standardlib.dpl","com.bmc.arsys.rx.standardlib.expression-engine","com.bmc.arsys.rx.standardlib.components.expression-editor","com.bmc.arsys.rx.standardlib.named-list.definition","com.bmc.arsys.rx.standardlib.process.definition","com.bmc.arsys.rx.standardlib.record.association","com.bmc.arsys.rx.standardlib.record.definition","com.bmc.arsys.rx.standardlib.security","com.bmc.arsys.rx.standardlib.user","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.user-preferences"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor",["cgBusy","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.components.uib-modal"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.multi-checkbox",[])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.navigation-bar",["ui.router"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-editor",[])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-panel",["ui.bootstrap","dplTimepicker","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.components.boolean","com.bmc.arsys.rx.standardlib.components.property-editor","com.bmc.arsys.rx.standardlib.record.definition"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-view-panel",[])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.search-field",["pascalprecht.translate"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.search-filter",["ui.bootstrap","dplAccordion","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.components.tag-pills","com.bmc.arsys.rx.standardlib.record.definition","com.bmc.arsys.rx.standardlib.i18n"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.simple-json-editor",[])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.tag-pills",["com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.i18n"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.tooltip",[])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.ui-select",["ui.select"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.uib-modal",[])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.dpl",["template/timepicker.html","ui.bootstrap"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.error-handling",["com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.expression-engine",["com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.growl",[])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.i18n",["pascalprecht.translate","com.bmc.arsys.rx.standardlib"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.login",["ui.bootstrap","ui.router","com.bmc.arsys.rx.standardlib.security"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.definition",["com.bmc.arsys.rx.standardlib.resources"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.designer",["dialogs.main","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.security","com.bmc.arsys.rx.standardlib.components.designer","com.bmc.arsys.rx.standardlib.components.simple-json-editor","com.bmc.arsys.rx.standardlib.components.definition-picker","com.bmc.arsys.rx.standardlib.named-list.definition"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.navigation.navigation-guard",["ui.router"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.navigation.previous-state",["ui.router"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition",["com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer",["dialogs.main","ngDragDrop","treeControl","cgBusy","ui.bootstrap","com.bmc.arsys.rx.standardlib.action-type","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.i18n","com.bmc.arsys.rx.standardlib.security","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.process.definition","com.bmc.arsys.rx.standardlib.record.association","com.bmc.arsys.rx.standardlib.record.definition","com.bmc.arsys.rx.standardlib.record.instance","com.bmc.arsys.rx.standardlib.components.designer","com.bmc.arsys.rx.standardlib.components.blade","com.bmc.arsys.rx.standardlib.components.simple-json-editor","com.bmc.arsys.rx.standardlib.components.property-panel","com.bmc.arsys.rx.standardlib.components.multi-checkbox","com.bmc.arsys.rx.standardlib.components.expression-editor","com.bmc.arsys.rx.standardlib.components.definition-picker"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.instance-viewer",["com.bmc.arsys.rx.standardlib.action-type","com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.process.instance","com.bmc.arsys.rx.standardlib.components.confirmation-message-dialog"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.instance",["com.bmc.arsys.rx.standardlib.action-type","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.process.designer","com.bmc.arsys.rx.standardlib.components.property-view-panel"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.management",["ui.bootstrap","com.bmc.arsys.rx.standardlib.action-type","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.components.property-panel","com.bmc.arsys.rx.standardlib.process.definition","com.bmc.arsys.rx.standardlib.process.instance-viewer","com.bmc.arsys.rx.standardlib.record.definition","com.bmc.arsys.rx.standardlib.view-components.record-grid","com.bmc.arsys.rx.standardlib.components.confirmation-message-dialog","com.bmc.arsys.rx.standardlib.components.search-filter","com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.association",["com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition",["com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer",["dialogs.main","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.security","com.bmc.arsys.rx.standardlib.components.designer","com.bmc.arsys.rx.standardlib.components.simple-json-editor","com.bmc.arsys.rx.standardlib.components.definition-picker","com.bmc.arsys.rx.standardlib.components.expression-editor","com.bmc.arsys.rx.standardlib.record.definition","ui.grid.saveState"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.instance",["dialogs.main","com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.record.definition"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.resources",["restangular","com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.definition",["com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer",["cgBusy","dialogs.main","ngDragDrop","dpl-busy-loader","ui.bootstrap","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.i18n","com.bmc.arsys.rx.standardlib.security","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.rule.definition","com.bmc.arsys.rx.standardlib.record.definition","com.bmc.arsys.rx.standardlib.components.blade","com.bmc.arsys.rx.standardlib.components.designer","com.bmc.arsys.rx.standardlib.components.definition-picker","com.bmc.arsys.rx.standardlib.components.multi-checkbox","com.bmc.arsys.rx.standardlib.components.property-panel","com.bmc.arsys.rx.standardlib.components.simple-json-editor","com.bmc.arsys.rx.standardlib.process.definition"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.search",["com.bmc.arsys.rx.standardlib.view-components.shell","com.bmc.arsys.rx.standardlib.resources"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security",["ui.router","ui.bootstrap","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.user","com.bmc.arsys.rx.standardlib.navigation.navigation-guard"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.user-preferences",["com.bmc.arsys.rx.standardlib.security","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.administration-settings"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.user",["com.bmc.arsys.rx.standardlib.resources"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils",["ui.router","com.bmc.arsys.rx.standardlib.growl"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-component",["com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.view.definition","com.bmc.arsys.rx.standardlib.components.expression-editor","com.bmc.arsys.rx.standardlib.cache"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button",["com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.components.expression-editor","com.bmc.arsys.rx.standardlib.record.definition","com.bmc.arsys.rx.standardlib.view-component","com.bmc.arsys.rx.standardlib.view-components.action","com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action",["com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.view-component","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.action","com.bmc.arsys.rx.standardlib.actions.close-view","com.bmc.arsys.rx.standardlib.actions.delete-records","com.bmc.arsys.rx.standardlib.actions.launch-url","com.bmc.arsys.rx.standardlib.actions.open-view","com.bmc.arsys.rx.standardlib.actions.save","com.bmc.arsys.rx.standardlib.actions.set-property","com.bmc.arsys.rx.standardlib.actions.refresh","com.bmc.arsys.rx.standardlib.actions.associate","com.bmc.arsys.rx.standardlib.actions.disassociate"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.button-bar",["com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.view-component","com.bmc.arsys.rx.standardlib.expression-engine"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.container",["com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.view-component","com.bmc.arsys.rx.standardlib.expression-engine"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.design-utils",["com.bmc.arsys.rx.standardlib.cache"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.record-preview-card",["com.bmc.arsys.rx.standardlib.view-components.record-editor"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor",["dialogs.main","dplTimepicker","am.multiselect","ui.bootstrap","com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.action","com.bmc.arsys.rx.standardlib.association.definition","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.components.boolean","com.bmc.arsys.rx.standardlib.components.definition-picker","com.bmc.arsys.rx.standardlib.components.designer","com.bmc.arsys.rx.standardlib.components.record-preview-card","com.bmc.arsys.rx.standardlib.dpl","com.bmc.arsys.rx.standardlib.expression-engine","com.bmc.arsys.rx.standardlib.record.association","com.bmc.arsys.rx.standardlib.record.definition","com.bmc.arsys.rx.standardlib.record.instance","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.view-component","com.bmc.arsys.rx.standardlib.view-components.design-utils","com.bmc.arsys.rx.standardlib.view.definition","com.bmc.arsys.rx.standardlib.view.designer"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid",["ui.grid","ui.grid.infiniteScroll","ui.grid.selection","ui.grid.moveColumns","ui.grid.resizeColumns","ui.grid.autoResize","ui.grid.saveState","com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.user-preferences","com.bmc.arsys.rx.standardlib.record.association","com.bmc.arsys.rx.standardlib.record.definition","com.bmc.arsys.rx.standardlib.record.instance","com.bmc.arsys.rx.standardlib.components.designer","com.bmc.arsys.rx.standardlib.components.search-filter","com.bmc.arsys.rx.standardlib.view-component","com.bmc.arsys.rx.standardlib.view.designer","com.bmc.arsys.rx.standardlib.view-components.action","com.bmc.arsys.rx.standardlib.view-components.action-button","com.bmc.arsys.rx.standardlib.view-components.design-utils","dpl_components"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.rich-text",["com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.view-component","com.bmc.arsys.rx.standardlib.expression-engine","com.bmc.arsys.rx.standardlib.utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell",["ui.router","ui.bootstrap","ngSanitize","dialogs.main","pascalprecht.translate","com.bmc.arsys.rx.standardlib","com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.security","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.view-component","com.bmc.arsys.rx.standardlib.expression-engine","com.bmc.arsys.rx.standardlib.action","com.bmc.arsys.rx.standardlib.actions.open-view","com.bmc.arsys.rx.standardlib.actions.launch-url","com.bmc.arsys.rx.standardlib.actions.delete-records","com.bmc.arsys.rx.standardlib.view-components.action","com.bmc.arsys.rx.standardlib.view-components.action-button","com.bmc.arsys.rx.standardlib.record.definition"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.definition",["com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.resources","com.bmc.arsys.rx.standardlib.record.definition"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer-utils",["com.bmc.arsys.rx.standardlib.view.definition"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer.layout",["dndLists"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer",["ui.bootstrap","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.components.designer","com.bmc.arsys.rx.standardlib.components.blade","com.bmc.arsys.rx.standardlib.components.simple-json-editor","com.bmc.arsys.rx.standardlib.view.definition","com.bmc.arsys.rx.standardlib.view.designer.layout","com.bmc.arsys.rx.standardlib.view-component","com.bmc.arsys.rx.standardlib.view-components.record-editor","com.bmc.arsys.rx.standardlib.view-components.record-grid","com.bmc.arsys.rx.standardlib.view-components.action","com.bmc.arsys.rx.standardlib.view-components.action-button","com.bmc.arsys.rx.standardlib.view-components.button-bar","com.bmc.arsys.rx.standardlib.view-components.container","com.bmc.arsys.rx.standardlib.view-components.rich-text","com.bmc.arsys.rx.standardlib.view-components.shell","com.bmc.arsys.rx.standardlib.view.designer-utils"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.runtime",["dialogs.main","com.bmc.arsys.rx.standardlib.utils","com.bmc.arsys.rx.standardlib.tooltip","com.bmc.arsys.rx.standardlib.cache","com.bmc.arsys.rx.standardlib.security","com.bmc.arsys.rx.standardlib.expression-engine","com.bmc.arsys.rx.standardlib.view-component","com.bmc.arsys.rx.standardlib.view.definition","com.bmc.arsys.rx.standardlib.navigation.previous-state","com.bmc.arsys.rx.standardlib.view-components.action","com.bmc.arsys.rx.standardlib.view-components.action-button","com.bmc.arsys.rx.standardlib.view-components.container","com.bmc.arsys.rx.standardlib.view-components.record-editor","com.bmc.arsys.rx.standardlib.view-components.record-grid","com.bmc.arsys.rx.standardlib.view-components.rich-text","dpl-busy-loader"])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.associate").config(["rxActionProvider","RX_DEFINITION_PICKER","RX",function(a,b,c){a.registerAction({name:"rxAssociateAction",label:"Associate Records",bundleId:c.bundleId,designManagerService:"rxAssociationActionDesignManager",parameters:[{name:"recordDefinitionName",label:"Record Definition to Associate",editor:"rx-action-definition-picker",isRequired:!0,definitionType:b.definitionTypes.regularRecord.type},{name:"associationDefinitionName",label:"Association to Use",editor:"rx-action-association-picker",isRequired:!0},{name:"associationDefinitionRole",label:"Associated Role",editor:"rx-action-association-role-picker",isRequired:!0},{name:"associatedRecordId",label:"Associated Record ID",enableExpressionEvaluation:!0,editor:"rx-expression-field",isRequired:!0},{name:"viewDefinitionName",label:"View for Selecting or Creating Associated Records",editor:"rx-view-definition-selector",isRequired:!0,definitionType:b.definitionTypes.view.type}]})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.close-view").config(["rxActionProvider","RX",function(a,b){a.registerAction({name:"rxCloseViewAction",label:"Close View",bundleId:b.bundleId,designManagerService:"rxCloseViewActionDesignManager",parameters:[{name:"viewApi",label:"View",enableExpressionEvaluation:!0,defaultValue:"${view.api}"},{name:"actAsCancel",label:"Act as Cancel",editor:"rx-inspector-checkbox-field",switcher:!0,enableExpressionEvaluation:!0}]})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.delete-records").config(["rxActionProvider","RX_DEFINITION_PICKER","RX",function(a,b,c){a.registerAction({name:"rxDeleteRecordsAction",label:"Delete Records",bundleId:c.bundleId,parameters:[{name:"records",label:"Records",enableExpressionEvaluation:!0,editor:"rx-expression-field",isRequired:!0},{name:"recordDefinitionName",label:"Record Definition",editor:"rx-action-definition-picker",definitionType:b.definitionTypes.record.type,defaultValue:null}]})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.disassociate").config(["rxActionProvider","RX_DEFINITION_PICKER","RX",function(a,b,c){a.registerAction({name:"rxDisassociateAction",label:"Disassociate Records",bundleId:c.bundleId,designManagerService:"rxAssociationActionDesignManager",parameters:[{name:"recordDefinitionName",label:"Record Definition to Disassociate",editor:"rx-action-definition-picker",isRequired:!0,definitionType:b.definitionTypes.regularRecord.type},{name:"associationDefinitionName",label:"Association to Use",editor:"rx-action-association-picker",isRequired:!0},{name:"associationDefinitionRole",label:"Associated Role",editor:"rx-action-association-role-picker",isRequired:!0},{name:"associatedRecordId",label:"Associated Record ID",enableExpressionEvaluation:!0,editor:"rx-expression-field",isRequired:!0},{name:"disassociatedRecordIds",label:"Records to Disassociate",enableExpressionEvaluation:!0,editor:"rx-expression-field",isRequired:!0}]})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.launch-url").config(["rxActionProvider","RX",function(a,b){
a.registerAction({name:"rxLaunchUrlAction",label:"Launch URL",bundleId:b.bundleId,parameters:[{name:"url",label:"URL",enableExpressionEvaluation:!0,editor:"rx-expression-field",isRequired:!0}]})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.open-view").config(["rxActionProvider","RX_DEFINITION_PICKER","RX",function(a,b,c){a.registerAction({name:"rxOpenViewAction",label:"Open View",bundleId:c.bundleId,parameters:[{name:"viewDefinitionName",label:"View",editor:"rx-view-definition-selector",isRequired:!0,definitionType:b.definitionTypes.view.type},{name:"viewParams",editor:"rx-view-definition-params",enableExpressionEvaluation:!0},{name:"presentation",editor:"rx-view-presentation-params"}]})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.refresh").config(["rxActionProvider","RX",function(a,b){a.registerAction({name:"rxRefreshAction",label:"Refresh",bundleId:b.bundleId,parameters:[{name:"component",label:"View/Component",enableExpressionEvaluation:!0,editor:"rx-expression-field",isRequired:!0}]})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.save").config(["rxActionProvider","RX",function(a,b){a.registerAction({name:"rxSaveAction",label:"Save",bundleId:b.bundleId,designManagerService:"rxSaveActionDesignManager",parameters:[{name:"viewApi",label:"View",enableExpressionEvaluation:!0,defaultValue:"${view.api}"},{name:"targetApi",label:"View/Component",isRequired:!0,enableExpressionEvaluation:!0},{name:"closeAfterSave",label:"Close After Save",editor:"rx-inspector-checkbox-field",switcher:!0,enableExpressionEvaluation:!0}]})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.set-property").config(["rxActionProvider","RX",function(a,b){a.registerAction({name:"rxSetPropertyAction",label:"Set Property",bundleId:b.bundleId,designManagerService:"rxSetPropertyActionDesignManager",parameters:[{name:"componentApi",label:"Component Api",enableExpressionEvaluation:!0,editor:"rx-action-set-property-api",isRequired:!0},{name:"propertyPath",label:"Property Path",editor:"rx-expression-field",isRequired:!0},{name:"propertyValue",label:"Property Value",enableExpressionEvaluation:!0,editor:"rx-expression-field"}]})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").config(function(){function a(a){this.initialize(a)}joint.util.breakText=function(a,b,c,d){d=d||{};var e=b.width,f=b.height,g=d.svgDocument||V("svg").node,h=V("<text><tspan></tspan></text>").attr(c||{}).node,i=h.firstChild,j=document.createTextNode("");i.appendChild(j),g.appendChild(h),d.svgDocument||document.body.appendChild(g);for(var k,l=a.split(" "),m=[],n=[],o=0,p=0,q=l.length;o<q;o++){var r=l[o];if(j.data=n[p]?n[p]+" "+r:r,i.getComputedTextLength()<=e)n[p]=j.data,k&&(m[p++]=!0,k=0);else{if(!n[p]||k){var s=!!k;if(k=r.length-1,s||!k){if(!k){if(!n[p]){n=[];break}l.splice(o,2,r+l[o+1]),q--,m[p++]=!0,o--;continue}l[o]=r.substring(0,k),l[o+1]=r.substring(k)+l[o+1]}else l.splice(o,1,r.substring(0,k),r.substring(k)),q++,p&&!m[p-1]&&p--;o--;continue}p++,o--}if("undefined"!=typeof f){var t=t||h.getBBox().height;if(t*n.length>f){n.splice(Math.floor(f/t));break}}}return d.svgDocument?g.removeChild(h):document.body.removeChild(g),n.join("\n")},joint.shapes.basic.TextBlockView.prototype.initialize=function(){joint.dia.ElementView.prototype.initialize.apply(this,arguments),this.noSVGForeignObjectElement=!joint.env.test("svgforeignobject"),joint.env.test("svgforeignobject")||this.listenTo(this.model,"change:content change:size",function(a){this.updateContent(a)})},joint.shapes.basic.TextBlockView.prototype.update=function(a,b){if(joint.env.test("svgforeignobject"))joint.dia.ElementView.prototype.update.call(this,this.model,b);else{var c=this.model,d=_.omit(b||c.get("attrs"),".content");joint.dia.ElementView.prototype.update.call(this,c,d),b&&!_.has(b,".content")||this.updateContent(c,b)}},joint.ui.rx=joint.ui.rx||{},_.assign(joint.shapes.bpmn.icons,{gear:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsSAAALEgHS3X78AAAAw0lEQVQoz22SwRGCQAxF3zIUQAnSAXSAHUgHcslZK3CswPu/YAeUQAlQgp3oJThhNTM7s8lPfv783UQWZtYAC4CklOMpNE3AAHTAzfErsAIj0EtaSwcm4ADMGeEj3CegLjwZssaXnxgDwDbQREBSLanOiBqAZGbvUFwltZkJSyQssrUrv7GTVrh1V89P7li0uNsck5TKjLkCZjN7en722rdnGxjD1gq4/JE2Rlt719oGeQB34OhY/33pP99jc66VtDPiA3vHNpWAb5BUAAAAAElFTkSuQmCC",user:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsSAAALEgHS3X78AAAAgUlEQVQoz5WQwRFAMBBFn4wClKAEOlCCDtz2qhbXvdCBlKAEHVCKS8ywMsi7bfa/7CYZBhFpgT6Ug6r6az8z4RLYzB21qq5n4Uyz5cntzAoFH1hhTxV8JDO9CVVkSnn7JREpwsP6IMRYgQHwOTADzcfqFTACnfsRvtI4EsmBJUU4ANvZFcko+HmJAAAAAElFTkSuQmCC",message:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsSAAALEgHS3X78AAAAnUlEQVQY042RwQ3CMBAEh8gF0Al0QEpIOuA+90XpADrgfZ+kA9xBWgidUAKfDTKCSL6XfZrdldc7d38Ae+rmlYBOlww8N8DDyiUtFqAFbhGxlKS7H4ELMAHnRntTwuzubQF3wAzkiLBPglzN3ZHIpBmBe0QMq0lTxsvFBI6AlfCPQKIJ6IFe569J/yqJiLzVa9LjrpX/QFI7p0o+vwFVmjBfid8AeAAAAABJRU5ErkJggg==",plus:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjQgMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojNjY2NjY2O30KCS5zdDF7b3BhY2l0eTowLjU7fQoJLnN0MntmaWxsOiM4OUMzNDE7fQo8L3N0eWxlPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjMsMTMuNWgtOS41VjIzaC0zdi05LjVIMXYtM2g5LjVWMWgzdjkuNUgyM1YxMy41eiIvPgo8ZyBjbGFzcz0ic3QxIj4KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yNS42Ni0zMS4xN3Y4NS42OUgtMzF2LTg1LjY5SDI1LjY2IE0yNi42Ni0zMi4xN0gtMzJ2ODcuNjloNTguNjZWLTMyLjE3TDI2LjY2LTMyLjE3eiIvPgo8L2c+Cjwvc3ZnPgo=",cross:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjQgMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojNjY2NjY2O30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE0LjIyLDEyTDIyLDE5Ljc4TDE5Ljc4LDIyTDEyLDE0LjIyTDQuMjIsMjJMMiwxOS43OEw5Ljc4LDEyTDIsNC4yMkw0LjIyLDJMMTIsOS43OEwxOS43OCwyTDIyLDQuMjJMMTQuMjIsMTIKCXoiLz4KPC9zdmc+Cg==",multiInstanceParallel:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACxJREFUeNpilJOT+c+AAIwPHz5mkJeXBbGJEmdioBCMGjBqwKgBg8UAgAADADERCXj6SL6VAAAAAElFTkSuQmCC",multiInstanceSequential:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACtJREFUeNpilJOTYaAEsADxf0oMYGKgEFBsAMgLjEPfC6OxMBoLFBsAEGAAje8DgZ8/t18AAAAASUVORK5CYII=",action:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAxMiAxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTIgMTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojNjY2NjY2O308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMC44LDBjMC4zLDAsMC42LDAuMSwwLjgsMC40UzEyLDAuOSwxMiwxLjJ2OS42YzAsMC4zLTAuMSwwLjYtMC40LDAuOFMxMS4xLDEyLDEwLjgsMTJIMS4yYy0wLjMsMC0wLjYtMC4xLTAuOC0wLjRTMCwxMS4xLDAsMTAuOFYxLjJjMC0wLjMsMC4xLTAuNiwwLjQtMC44UzAuOSwwLDEuMiwwSDEwLjh6IE04LDYuNEM4LjEsNi4zLDguMiw2LjIsOC4yLDZTOC4xLDUuNyw4LDUuNmwtMy42LTJDNC4zLDMuNiw0LjEsMy42LDQsMy43UzMuOCwzLjksMy44LDQuMXYzLjdjMCwwLjIsMC4xLDAuMywwLjIsMC40czAuMywwLjEsMC40LDBMOCw2LjR6Ii8+PC9zdmc+",clock:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjQgMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojNjY2NjY2O30KCS5zdDF7b3BhY2l0eTowLjU7fQoJLnN0MntmaWxsOiM4OUMzNDE7fQo8L3N0eWxlPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTIsMmM1LjUxLDAsMTAsNC40OSwxMCwxMHMtNC40OSwxMC0xMCwxMFMyLDE3LjUxLDIsMTJTNi40OSwyLDEyLDIgTTEyLDBDNS4zNywwLDAsNS4zNywwLDEyczUuMzcsMTIsMTIsMTIKCXMxMi01LjM3LDEyLTEyUzE4LjYzLDAsMTIsMEwxMiwweiBNMTIuMTYsMTIuNTR2LThoLTJWMTN2MS41NEgxMmg1LjE2di0ySDEyLjE2eiIvPgo8ZyBjbGFzcz0ic3QxIj4KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik01NC42Ni0zMS4xN3Y4NS42OUgtMnYtODUuNjlINTQuNjYgTTU1LjY2LTMyLjE3SC0zdjg3LjY5aDU4LjY2Vi0zMi4xN0w1NS42Ni0zMi4xN3oiLz4KPC9nPgo8L3N2Zz4K",qualification:"data:image/svg+xml;base64,PHN2ZyBpZD0iZGJjMDY5YzAtYzhiNi00MGE2LWE3ZTQtNGRmNjZmOGVkOTlmIiBkYXRhLW5hbWU9IkxheWVyIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDMyIDMyIj48ZGVmcz48c3R5bGU+LlwzMCAwZjE1NjRjLTdhOGEtNGViNy05YWQzLTUyNGM4YTJjNzljMXtmaWxsOiM2NjY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5xdWVzdGlvbl9jaXJjbGU8L3RpdGxlPjxwYXRoIGNsYXNzPSIwMGYxNTY0Yy03YThhLTRlYjctOWFkMy01MjRjOGEyYzc5YzEiIGQ9Ik0xNiwwQTE2LDE2LDAsMSwwLDMyLDE2LDE2LDE2LDAsMCwwLDE2LDBoMFptMS41LDIzLjlIMTQuNFYyMC44aDMuMXYzLjFabTMuMS05Yy0wLjMuMy0uOCwwLjgtMS41LDEuNGwtMC43LjZhMi41NiwyLjU2LDAsMCwwLS44LDEuMSwzLjA5LDMuMDksMCwwLDAtLjIsMS4zSDE0LjZhMjQuMjcsMjQuMjcsMCwwLDEsLjMtMi41LDYsNiwwLDAsMSwxLjQtMS42bDAuOC0uNmEyLDIsMCwwLDAsLjYtMC43LDEuODQsMS44NCwwLDAsMCwuNC0xLjMsMi4zOSwyLjM5LDAsMCwwLS41LTEuNCwyLDIsMCwwLDAtMS43LS43LDIsMiwwLDAsMC0xLjcuOCwzLjEsMy4xLDAsMCwwLS41LDEuN0gxMC44YTUuMTYsNS4xNiwwLDAsMSwyLjEtNC4zLDYuNjQsNi42NCwwLDAsMSwzLS43LDYuMiw2LjIsMCwwLDEsMy45LDEuMSwzLjcsMy43LDAsMCwxLDEuNiwzLjNBNS4yNiw1LjI2LDAsMCwxLDIwLjYsMTQuOVoiLz48L3N2Zz4="}),a.prototype={options:{paper:null},_movedCellViews:{},initialize:function(a){_.bindAll(this,"_onExpandHandler","_onCollapsedHandler"),this.options=_.extend({},_.result(this,"options"),a||{}),this.options.paper&&(this.options.paper.on("cell:expand:done",this._onExpandHandler),this.options.paper.on("cell:collapse:done",this._onCollapsedHandler))},_onExpandHandler:function(a,b,c){this._isExpandingView(a)?this._movedCellViews[this._getMovedId(a)]=this._moveCellViews(a,b,c,!0):this._moveCellViews(a,b,c,!1)},_onCollapsedHandler:function(a){var b=this.options.paper,c=this._getMovedId(a);b.model.trigger("batch:start"),_.forEach(this._movedCellViews[c],function(a){var b=a.model.getBBox();b.x-a.delta.x===Math.round(a.origin.x)&&b.y-a.delta.y===Math.round(a.origin.y)&&a.model.translate(-a.delta.x,-a.delta.y)}),delete this._movedCellViews[c],b.model.trigger("batch:stop")},_getMovedId:function(a){return a.id},_moveCellViews:function(a,b,c,d){var e=this,f=[],h=[],i=this.options.paper;b=g.rect(b),c=g.rect(c);var j=i.findViewsInArea(a.model.getBBox()),k=c.topRight().x-b.topRight().x,l=c.bottomLeft().y-b.bottomLeft().y;return _.remove(j,{id:a.id}),_.each(j,function(b){a.model.get("parent")?a.model.get("parent")==b.model.get("parent")&&h.push(b):b.model.get("parent")||h.push(b)}),i.model.trigger("batch:start"),_.forEach(h,function(c){var g,h=c.model.getBBox(),j=c.secondaryIntersections||i.findViewsInArea(c.model.getBBox());if(_.remove(j,{id:c.id}),!c.secondaryIntersections){_.remove(j,{id:a.id});var m=[],n=e._getParentId(c);_.each(j,function(a){a.model.get("parent")?a.model.get("parent")==c.model.get("parent")&&m.push(a):n!=a.model.get("id")&&m.push(a)}),c.secondaryIntersections=m}h.intersect(b)&&(k+=b.width-(h.x-b.x),l+=b.height-(h.y-b.y)),a.secondaryIntersections&&c.secondaryIntersections&&_.indexOf(c.secondaryIntersections,a.id)!==-1||(g=h.topRight().x>b.topRight().x?h.y>b.bottomLeft().y?{x:k,y:l}:{x:k,y:0}:{x:0,y:l},d&&(c.delta=g,c.origin=h.origin()),c.model.translate(g.x,g.y,{translateBy:"rxMoveElements"}),f.push(c),f=f.concat(e._moveCellViews(c,h,c.model.getBBox())))}),i.model.trigger("batch:stop"),f},_isExpandingView:function(a){return a.isExpanding},_getParentId:function(a){if(a.model.get("parent")){var b=this.options.paper.findViewByModel(a.model.get("parent"));return this._getParentId(b)}return a.model.get("id")}},joint.ui.rx.MoveElements=a})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-panel").config(["RX_RECORD_DEFINITION","rxPropertyEditorProvider",function(a,b){b.registerEditor([a.dataTypes.character.resourceType,"String"],'<input type="text" ng-required="propertyDefinition.required" ng-disabled="propertyDefinition.disabled" ng-readonly="propertyDefinition.readonly" ng-model="ngModel[propertyDefinition[entityPropertyKeyName]]">'),b.registerEditor([a.dataTypes.integer.resourceType,a.dataTypes.decimal.resourceType,a.dataTypes.real.resourceType],'<rx-number-field-editor rx-configuration="propertyDefinition" ng-model="ngModel[propertyDefinition[entityPropertyKeyName]]"></rx-number-field-editor>'),b.registerEditor([a.dataTypes["boolean"].resourceType],'<rx-boolean-field-editor ng-required="propertyDefinition.required" rx-configuration="propertyDefinition" ng-model="ngModel[propertyDefinition[entityPropertyKeyName]]"></rx-boolean-field-editor>'),b.registerEditor(a.dataTypes.dateTime.resourceType,'<rx-date-time-field-editor ng-required="propertyDefinition.required" rx-configuration="propertyDefinition" ng-model="ngModel[propertyDefinition[entityPropertyKeyName]]"></rx-date-time-field-editor>'),b.registerEditor(a.dataTypes.timeOnly.resourceType,'<rx-time-field-editor ng-required="propertyDefinition.required" rx-configuration="propertyDefinition" ng-model="ngModel[propertyDefinition[entityPropertyKeyName]]"></rx-time-field-editor>'),b.registerEditor([a.dataTypes.dateOnly.resourceType,"Date"],'<rx-date-field-editor ng-required="propertyDefinition.required" rx-configuration="propertyDefinition" ng-model="ngModel[propertyDefinition[entityPropertyKeyName]]"></rx-date-field-editor>'),b.registerEditor(a.dataTypes.selection.resourceType,'<rx-selection-field-editor ng-required="propertyDefinition.required" rx-configuration="propertyDefinition" ng-model="ngModel[propertyDefinition[entityPropertyKeyName]]"></rx-selection-field-editor>'),b.registerEditor("object",'<rx-property-panel rx-configuration="propertyDefinition.propertyPanelConfiguration" ng-model="ngModel[propertyDefinition[entityPropertyKeyName]]"></rx-property-panel>'),b.registerDefaultDataType(a.dataTypes.character.resourceType)}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.ui-select").config(["$provide",function(a){a.decorator("uiSelectDirective",["$delegate","$timeout",function(a,b){var c=a[0],d=c.compile;return c.compile=function(a,c){var e=d.apply(this,arguments);return function(a,c,d){e.apply(this,arguments),d.$observe("tagOnBlur",function(){a.$select.tagOnBlur="true"===d.tagOnBlur}),a.$select.searchInput.on("blur",function(c){!d.$$element.find(".ui-select-choices").find(c.relatedTarget).length&&(a.$select.items.length>0||a.$select.tagging.isActivated)&&a.$select.tagOnBlur&&b(function(){var b=a.$select.search;a.$select.searchInput.triggerHandler("tagged"),a.$select.tagging.fct&&(b=a.$select.tagging.fct(b)),b&&a.$select.select(b,!0)})})}},a}])}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.error-handling").config(["$provide",function(a){a.decorator("$exceptionHandler",["$delegate","$injector",function(a,b){return function(c,d){b.get("rxScriptErrorHandler").handleScriptError(c,d),a(c,d)}}])}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.i18n").config(["$translateProvider",function(a){_.isUndefined(window.rxLocalization)&&(window.rxLocalization={locale:"en"});var b=window.rxLocalization.locale;a.translations("default",window.rxLocalization[b]),moment.locale(b),a.fallbackLanguage("default"),a.useLoader("rxLocalizationsLoader")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").config(["$httpProvider",function(a){a.defaults.headers.common["X-Requested-By"]="XMLHttpRequest",a.interceptors.push(["$rootScope","$q","RX_AUTH_EVENTS",function(a,b,c){return{responseError:function(d){return a.$broadcast({401:c.notAuthenticated,403:c.notAuthorized,419:c.sessionTimeout,440:c.sessionTimeout}[d.status]),b.reject(d)}}}])}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").config(["$httpProvider",function(a){a.interceptors.push("rxSessionExpirationInterceptor")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").config(["$provide","$urlMatcherFactoryProvider",function(a,b){b.type("nonURIEncoded",{encode:function(a){return a||""},decode:function(a){return a||""},is:function(a){return!0}}),a.decorator("$log",["$delegate",function(a){var b,c=[];return b={setLogLevels:function(a){c=_.isArray(a)&&a.length?a:[]},warn:a.warn,error:a.error},["log","debug","info"].forEach(function(d){b[d]=function(){if(_.includes(c,d)||_.includes(c,"all")){var b=a;b[d].apply(b,arguments)}}}),b}])}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").config(["rxViewComponentProvider","RX",function(a,b){a.registerComponent([{name:"Action Button",group:"Basic Components",icon:"action_button_cursor",type:"rx-action-button",designType:"rx-action-button-design",designManagerService:"rxActionButtonDesignManager",bundleId:b.bundleId,propertiesByName:[{name:"cls",type:"string"},{name:"icon",type:"string",isConfig:!0,localizable:!0},{name:"style",type:"string",isRequired:!0,isConfig:!0},{name:"label",type:"string",isConfig:!0,localizable:!0},{name:"disabled",type:"string",isConfig:!0,enableExpressionEvaluation:!0},{name:"hidden",type:"string",isConfig:!0,enableExpressionEvaluation:!0}]}])}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action").config(["rxViewComponentProvider","RX",function(a,b){a.registerComponent([{name:"Action",group:"Basic Components",icon:"target_cursor",type:"rx-action",managerService:"rxActionManager",hideInDesignerPalette:!0,designManagerService:"rxActionDesignManager",bundleId:b.bundleId,propertiesByName:[{name:"name",type:"string",isRequired:!0,isConfig:!0}]}])}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.button-bar").config(["rxViewComponentProvider","RX",function(a,b){a.registerComponent([{name:"Button Bar",group:"Basic Components",icon:"layout",type:"rx-button-bar",designType:"rx-button-bar-design",designManagerService:"rxButtonBarDesignManager",bundleId:b.bundleId,propertiesByName:[{name:"alignment",type:"string",isConfig:!0},{name:"hidden",type:"string",isConfig:!0,enableExpressionEvaluation:!0}]}])}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.container").config(["rxViewComponentProvider","RX",function(a,b){a.registerComponent([{name:"Container",group:"Basic Components",icon:"layout",type:"rx-container",designType:"rx-container-design",designManagerService:"rxContainerDesignManager",bundleId:b.bundleId,canBeEmbeddedInRecordEditor:!0,propertiesByName:[{name:"columnCount",type:"number",isRequired:!0,isConfig:!0,enableExpressionEvaluation:!0},{name:"hidden",type:"string",isRequired:!0,isConfig:!0,enableExpressionEvaluation:!0},{name:"styles",type:"string",isConfig:!0}]}])}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").config(["RX","rxActionProvider","rxRecordEditorFieldComponentConfiguratorProvider","rxViewComponentProvider","RX_RECORD_EDITOR","RX_RECORD_DEFINITION",function(a,b,c,d,e,f){var g=[{name:"Attachment",type:e.fields.attachment,designType:"rx-attachment-field-design",designManagerService:"rxAttachmentFieldDefinitionDesignManager",icon:"paperclip",supportedFieldResourceTypes:[f.dataTypes.attachment.resourceType]},{name:"Text Area",type:e.fields.textarea,designType:"rx-textarea-field-design",icon:"area_text",supportedFieldResourceTypes:[f.dataTypes.character.resourceType]},{name:"Dropdown",type:e.fields.selection,designType:"rx-selection-field-design",icon:"field_dropdown",supportedFieldResourceTypes:[f.dataTypes.selection.resourceType]},{name:"Text",type:e.fields.character,designType:"rx-character-field-design",designManagerService:"rxCharacterFieldDefinitionDesignManager",icon:"field_text",supportedFieldResourceTypes:[f.dataTypes.character.resourceType]},{name:"Date",type:e.fields.date,designType:"rx-date-field-design",icon:"calendar",supportedFieldResourceTypes:[f.dataTypes.dateOnly.resourceType]},{name:"Time",type:e.fields.time,designType:"rx-time-field-design",icon:"clock_o",supportedFieldResourceTypes:[f.dataTypes.timeOnly.resourceType]},{name:"Date/Time",type:e.fields.dateTime,designType:"rx-date-time-field-design",icon:"calendar_clock_o",supportedFieldResourceTypes:[f.dataTypes.dateTime.resourceType]},{name:"Integer",type:e.fields.integer,designType:"rx-character-field-design",icon:"field_integer_number",supportedFieldResourceTypes:[f.dataTypes.integer.resourceType]},{name:"Floating",type:e.fields.floating,designType:"rx-character-field-design",icon:"field_floating_number",supportedFieldResourceTypes:[f.dataTypes.real.resourceType]},{name:"Decimal",type:e.fields.decimal,designType:"rx-character-field-design",icon:"field_decimal_number",supportedFieldResourceTypes:[f.dataTypes.decimal.resourceType]},{name:"Select Group",type:e.fields.selectGroup,designType:"rx-select-group-design",designManagerService:"rxSelectGroupComponentDesignManager",icon:"field_dropdowns",supportedFieldResourceTypes:[f.dataTypes.character.resourceType]},{name:"Boolean",type:e.fields["boolean"],designType:"rx-boolean-field-design",icon:"switcher_check",supportedFieldResourceTypes:[f.dataTypes["boolean"].resourceType]}];_.each(g,function(b){_.defaults(b,{bundleId:a.bundleId},c.getFieldComponentDescriptorDefaults())});var h=_.find(g,{type:e.fields.selectGroup});_.find(h.propertiesByName,{name:"label"}).localizable=!1,g.push({name:"Select Group Field",type:e.fields.selectGroupField,hideInDesignerPalette:!0,bundleId:a.bundleId,supportedFieldResourceTypes:[f.dataTypes.character.resourceType],propertiesByName:[{name:"label",type:"string",isConfig:!0,localizable:!0},{name:"namedListDefinitionName",type:"string",isRequired:!0},{name:"fieldId",type:"string",isRequired:!0}]}),g.push({name:"Association",group:"Record Editor Inputs",icon:"search",type:"rx-association",designType:"rx-association-design",designManagerService:"rxAssociationDesignManager",bundleId:a.bundleId,canBeEmbeddedInRecordEditor:!0,isStandalone:!1,propertiesByName:[{name:"recordDefinitionName",type:"string",isRequired:!0,isConfig:!0},{name:"associationDefinitionName",type:"string",isRequired:!0,isConfig:!0},{name:"associatedRecordNodeSide",type:"string",isConfig:!0},{name:"viewDefinitionNameForSelect",type:"string",isRequired:!0,isConfig:!0},{name:"viewDefinitionNameForCreate",type:"string",isConfig:!0},{name:"recordInstance",type:"object",enableExpressionEvaluation:!0},{name:"recordDefinition",type:"object",enableExpressionEvaluation:!0},{name:"disabled",type:"string",isConfig:!0,enableExpressionEvaluation:!0},{name:"hidden",type:"string",isConfig:!0,enableExpressionEvaluation:!0},{name:"label",type:"string",isConfig:!0,localizable:!0}]}),g.push({name:"Associated Record Field",type:"rx-associated-record-field",hideInDesignerPalette:!0,bundleId:a.bundleId,propertiesByName:[{name:"label",type:"string",isConfig:!0,localizable:!0},{name:"fieldId",type:"string",isRequired:!0}]}),d.registerComponent([{name:"Record Editor",group:"Basic Components",icon:"file_text",type:"rx-record-editor",designType:"rx-record-editor-design",designManagerService:"rxRecordEditorDesignManager",bundleId:a.bundleId,propertiesByName:[{name:"recordDefinitionName",type:"string",isRequired:!0,isConfig:!0,isProperty:!0},{name:"recordInstanceId",type:"string",isRequired:!0,isConfig:!0,isProperty:!0,enableExpressionEvaluation:!0},{name:"recordInstance",isProperty:!0},{name:"recordDefinition"},{name:"isValid",type:"string",isProperty:!0},{name:"inReadState",type:"boolean",isProperty:!0}]}].concat(g)),b.registerAction({name:"rxAvcAssociate",hidden:!0,bundleId:a.bundleId,parameters:[{name:"viewDefinitionName"},{name:"associationViewComponent",enableExpressionEvaluation:!0}]})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").config(["rxViewComponentProvider","RX",function(a,b){a.registerComponent([{name:"Record Grid",group:"Basic Components",icon:"table",type:"rx-record-grid",designType:"rx-record-grid-design",designManagerService:"rxRecordGridDesignManager",bundleId:b.bundleId,propertiesByName:[{name:"recordDefinitionName",type:"string",isRequired:!0,isConfig:!0},{name:"enableRowSelection",type:"string",isConfig:!0},{name:"enableFiltering",type:"boolean",isConfig:!0,enableExpressionEvaluation:!0},{name:"filters",type:"string",isConfig:!0},{name:"filterExpression",type:"string",isConfig:!0,enableExpressionEvaluation:{evaluatorService:"rxQueryExpressionEvaluator"}},{name:"selectedRows",type:"array",isProperty:!0},{name:"firstSelectedRow",type:"object",isProperty:!0},{name:"clickableRow",type:"object",isProperty:!0},{name:"selectedRowCount",type:"number",isProperty:!0},{name:"totalRowCount",type:"number",isProperty:!0},{name:"isUserAllowedToDeleteRecords",type:"boolean",isProperty:!0},{name:"associationDefinitionName",type:"string",isConfig:!0},{name:"associatedRecordNodeSide",type:"string",isConfig:!0},{name:"associatedRecordId",type:"string",isConfig:!0,enableExpressionEvaluation:!0}]},{name:"Record Grid Column",type:"rx-record-grid-column",hideInDesignerPalette:!0,bundleId:b.bundleId,propertiesByName:[{name:"title",type:"string",isConfig:!0,localizable:!0},{name:"fieldId",type:"string",isRequired:!0,isConfig:!0},{name:"visible",type:"string",isConfig:!0,enableExpressionEvaluation:!0},{name:"sortable",type:"string",isConfig:!0},{name:"filterable",type:"string",isConfig:!0,enableExpressionEvaluation:!0},{name:"clickable",type:"string",isConfig:!0,enableExpressionEvaluation:!0}]},{name:"Record Grid Filter",type:"rx-record-grid-filter",hideInDesignerPalette:!0,bundleId:b.bundleId,propertiesByName:[{name:"value",type:"string",isConfig:!0,isRequired:!0},{name:"fieldId",type:"string",isRequired:!0,isConfig:!0,enableExpressionEvaluation:!0}]}])}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.rich-text").config(["RX_RICH_TEXT",function(a){var b=null!==CKEDITOR.plugins.get("expressioneditor");b||CKEDITOR.plugins.add("expressioneditor",{init:function(b){b.addCommand("insertExpression",{exec:function(a){a.insertHtml("The functionality is not implemented yet")}}),b.ui.addButton("ExpressionEditor",{label:"Insert Expression",command:"insertExpression",icon:a.ckeditor.richTextExpressionPlugin.iconPath})}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.rich-text").config(["rxViewComponentProvider","RX",function(a,b){a.registerComponent([{name:"Rich Text",group:"Basic Components",icon:"text",type:"rx-rich-text",designType:"rx-rich-text-design",designManagerService:"rxRichTextDesignManager",bundleId:b.bundleId,propertiesByName:[{name:"html",type:"string",isRequired:!0,isConfig:!0,localizable:!0},{name:"hidden",type:"string",isConfig:!0,enableExpressionEvaluation:!0}]}])}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").config(["rxViewComponentProvider","rxShellMenuItemActionProvider","$stateProvider","$urlRouterProvider","RX_SHELL","RX_APP_STATES","RX",function(a,b,c,d,e,f,g){a.registerComponent([{name:"Navigation Bar",group:"Shell Navigation",icon:"layout",type:"rx-shell",designType:"rx-shell-design",designManagerService:"rxShellManager",bundleId:g.bundleId,"static":!0},{name:"Menu Item",group:"Shell Navigation",type:e.navBar.menuItem,designType:"rx-shell-menu-item-design",icon:"cube_square",designManagerService:"rxShellMenuItemManager",bundleId:g.bundleId,propertiesByName:[{name:"menuItemName",type:"string",isRequired:!0,isConfig:!0,localizable:!0}]},{name:"Menu Group",group:"Shell Navigation",type:e.navBar.menuGroup,designType:"rx-shell-menu-group-design",icon:"cube_square",designManagerService:"rxShellMenuGroupManager",bundleId:g.bundleId,propertiesByName:[{name:"menuGroupName",type:"string",isRequired:!0,isConfig:!0,localizable:!0}]}]),b.registerAction([{name:"rxShellLaunchUrlAction",label:"Launch URL",parameters:[{name:"url",label:"URL",type:"text",isRequired:!0,attrs:{label:{"class":"required"}}}]},{name:"rxShellNavigateToViewAction",label:"Navigate to View",parameters:[{name:"viewDefinitionName",label:"View",type:"rx-view-definition-selector",isRequired:!0},{name:"viewParams",type:"rx-view-definition-params",enableExpressionEvaluation:!0}]},{name:"rxShellNavigateToStateAction",label:"Navigate to State",parameters:[{name:"state",label:"State",type:"text",isRequired:!0,attrs:{label:{"class":"required"}}}]}]),c.state(f.home,{controller:["$scope","rxShellConfigResource","rxAuthentication","$translate","rxUtils",function(a,b,c,d,e){c.appState()?c.redirectToAppState():b.get(!0).then(function(a){var b=e.flattenTree(a,"navigationBarItems"),f=_.find(b,"state");if(!f)throw new Error(d.instant("com.bmc.arsys.rx.standardlib.view-components.shell.shell-configuration.error"));c.appState(f.state),c.redirectToAppState()})}]}),d.otherwise(function(a){var b=a.get("$state");b.go(f.home)})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib").run(["$rootScope",function(a){a.rxFavicon="/standardlib/resources/images/favicon.ico"}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.dpl").run(["$templateCache","uibButtonConfig","uibDropdownConfig",function(a,b,c){b.activeClass="is-checked",c.openClass="is-open open",a.put("/dialogs/confirm.html",'<div class="d-modal__dialog">    <div class="d-modal__header">        <h5 class="d-modal__title">{{header}}</h5>   </div>   <div class="d-modal__content" >       <p class="d-modal__content-item">{{msg}}</p>   </div>   <div class="d-modal__footer">       <button class="d-button d-button_primary d-button_small" ng-click="yes()">OK</button>       <button class="d-button d-button_secondary d-button_small" ng-click="no()">Cancel</button>   </div></div>')}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.access-denied").config(["$stateProvider",function(a){a.state("rx-access-denied",{templateUrl:"scripts/access-denied/access-denied.view.html",controller:"RxAccessDeniedViewController"})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.login").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"scripts/login/login.view.html",controller:"LoginController",access:{loginRequired:!1}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.access-denied").constant("RX_ACCESS_DENIED",{accessDeniedStateName:"rx-access-denied"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.open-view").constant("RX_OPEN_VIEW",{type:{fullWidth:"fullWidth",centeredModal:"centeredModal",dockedLeftModal:"dockedLeftModal",dockedRightModal:"dockedRightModal"},launchBehavior:{sameWindow:"sameWindow",newWindow:"newWindow"},modalSize:{small:"small",medium:"medium",large:"large"},template:{modal:"scripts/view/runtime/modal/runtime-view-modal.html",blade:"scripts/view/runtime/modal/runtime-view-blade.html"
}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").constant("RX_ADMINISTRATION_SETTINGS",{SAVE_START:"rx-administration-settings-save-start",SAVE_COMPLETE:"rx-administration-settings-save-complete",IDLE:"rx-administration-settings-save-idle",BUSY:"rx-administration-settings-save-busy",RESET_DATA:"rx-administration-settings-reset-to-default",FORM_DATA_CHANGED:"rx-administration-settings-form-data-changed",LINK_IN_BUNDLE:"inBundle",LINK_EXTERNAL:"external",HIDE_PANEL:"hide-panel",OPEN_PERMISSION_EDITOR:"open-permission-editor",RESET_DEFAULT_STATE:"rx-administration-settings-reset-default-state"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.association.definition").constant("RX_ASSOCIATION_DEFINITION",function(){var a={ONE_TO_ONE:"ONE_TO_ONE",ONE_TO_MANY:"ONE_TO_MANY",MANY_TO_MANY:"MANY_TO_MANY"};return{roles:{first:{value:"nodeA",defaultName:"First Record"},second:{value:"nodeB",defaultName:"Second Record"}},cardinality:[{value:a.ONE_TO_ONE,name:"Has One"},{value:a.MANY_TO_MANY,name:"Many To Many",noConstraint:!0},{value:a.ONE_TO_MANY,name:"Has Many"}],modality:{required:"REQUIRED",optional:"OPTIONAL"},cardinalityTypes:a,constraints:[{name:"Cascade Delete",value:!0},{name:"None",value:!1}],isEnabled:[{name:"Yes",value:!0},{name:"No",value:!1}],validation:{required:{name:"Association Definition Name cannot be blank.",nodeAId:"First Record cannot be blank.",nodeBId:"Second Record cannot be blank."},pattern:{name:"Association Definition Name can only contain alphanumeric characters, spaces, hyphen and underscore."}}}}())}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.association.designer").constant("RX_ASSOCIATION_DESIGNER",{events:{afterSave:"rx-association-designer-after-save",close:"rx-association-designer-close"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.body-state").constant("RX_BODY_STATE",{header:{hidden:"rx-body-header-hidden",autoHide:"rx-body-header-auto-hide"},content:{noPadding:"rx-body-content-no-padding"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib").constant("RX",{bundleId:"standardlib"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.blade").constant("RX_BLADE",{blade:"com.bmc.arsys.rx.standardlib.components.blade",bladeTab:"com.bmc.arsys.rx.standardlib.components.blade-tab",events:{activateTab:"rx-designer-activate-blade-tab"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.definition-picker").constant("RX_DEFINITION_PICKER",{globalDefinitionsLabel:"Global",definitionScopes:{all:"all",bundle:"bundle",rx:"rx"},definitionTypes:{view:{type:"view",allDefinitionsLabel:"All Views",dataGetters:{all:"getAllViewDefinitionDescriptors",bundle:"getBundleViewDefinitionDescriptors"}},record:{type:"record",allDefinitionsLabel:"All Records",dataGetters:{all:"getAllRecordDefinitionDescriptors",rx:"getRxRecordDefinitionDescriptors",bundle:"getBundleRecordDefinitionDescriptors"}},regularRecord:{type:"regularRecord",allDefinitionsLabel:"All Records",dataGetters:{all:"getAllRegularRecordDefinitionDescriptors",rx:"getRxRegularRecordDefinitionDescriptors",bundle:"getBundleRegularRecordDefinitionDescriptors"}},namedList:{type:"namedList",allDefinitionsLabel:"All Named Lists",dataGetters:{all:"getAllNamedListDefinitionDescriptors",bundle:"getBundleNamedListDefinitionDescriptors"}},association:{type:"association",allDefinitionsLabel:"All Associations",dataGetters:{all:"getAllAssociationDefinitionDescriptors",bundle:"getBundleAssociationDefinitionDescriptors"}},process:{type:"process",allDefinitionsLabel:"All Processes",dataGetters:{all:"getAllProcessDefinitionDescriptors",bundle:"getBundleProcessDefinitionDescriptors"}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").constant("RX_DESIGNER",{designer:"com.bmc.arsys.rx.standardlib.components.designer",stencil:"com.bmc.arsys.rx.standardlib.components.designer.stencil",canvas:"com.bmc.arsys.rx.standardlib.components.designer.canvas",inspector:"com.bmc.arsys.rx.standardlib.components.designer.inspector",validationIssues:"com.bmc.arsys.rx.standardlib.components.designer.validationIssues",conditionField:"com.bmc.arsys.rx.standardlib.components.designer.conditionField",expressionField:"com.bmc.arsys.rx.standardlib.components.designer.expressionField",expressionTimer:"com.bmc.arsys.rx.standardlib.components.designer.expressionTimer",stencilSettings:"com.bmc.arsys.rx.standardlib.components.designer.stencilSettings",events:{canvasReady:"rx-designer-canvas-ready",cellAdded:"rx-designer-canvas-cell-added",cellRemoved:"rx-designer-canvas-cell-removed",beforeCellRemoved:"rx-designer-canvas-before-cell-removed",cellChanged:"rx-designer-canvas-cell-changed",cellPointerUp:"rx-designer-canvas-cell-pointer-up",cellReparented:"rx-designer-canvas-cell-reparented",blankPointerDown:"rx-designer-canvas-blank-pointer-down",graphChanged:"rx-designer-canvas-graph-changed",correctValidationIssue:"rx-designer-correct-validation-issue",refreshDesigner:"rx-designer-refresh",refreshInspector:"rx-designer-refresh-inspector",openConditionEditor:"rx-open-condition-editor",openIntervalTimerEditor:"rx-open-interval-timer-editor",openApprovalFlowSelectorDialog:"rx-open-approval-flow-editor",openWaitForApprovalDialog:"rx-open-wait-for-approval-definitions",stencilSettingsChanged:"rx-stencil-settings-changed",inspectorReady:"rx-designer-inspector-ready",permissionsChanged:"rx-designer-permissions-changed",customizationOptionsUpdated:"rx-designer-customization-options-updated",canvasRefresh:"rx-designer-canvas-refresh",canvasResume:"rx-designer-canvas-resume",canvasCancel:"rx-designer-canvas-cancel",canvasSuspend:"rx-designer-canvas-suspend"},validDefinitionNameRegex:new RegExp("^[A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞭꞰ-ꞴꞶＡ-Ｚa-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯա-ևᏸ-ᏽᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞵꞷꟺꬰ-ꭚꭠ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚªºƻǀ-ǃʔא-תװ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎა-ჺჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳱᳵᳶℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９    -   　\\x2D֊־᐀᠆‐-―⸗⸚⸺⸻⹀〜〰゠︱︲﹘﹣－_‿⁀⁔︳︴﹍-﹏＿]*$"),defaultInspectorControlTypes:["number","text","textarea","range","color","select","toggle","list","object"]})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").constant("RX_OVERLAY",{operationTypes:{CREATED_IN_THIS_OVERLAY_GROUP:"N/A",NOT_CUSTOMIZED_IN_THIS_OVERLAY_GROUP:"Not Customized",CUSTOMIZED_IN_THIS_OVERLAY_GROUP:"Customized"},overlayTypes:{overwrite:"OVERWRITE",additive:"ADDITIVE",unmodified:"UNMODIFIED"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").constant("RX_PERMISSION",{instancesWithPermissions:["record","field","process","config","runtimeconfig","view","externalconfig"],editorContexts:{view:"view",field:"field",record:"record",process:"process"},haveOverlayLogic:["record","field"],permissionType:["role","group"],administratorGroup:"Administrator",fieldPermissions:{view:"VIEW",change:"CHANGE"},permissionDialogMetadata:{field:{headerText:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.header.caption.field",actions:[{value:"VIEW",label:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.column.view.label"},{value:"CHANGE",label:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.column.change.label"}],uniqueAction:!0,filterPermissionGroupIDs:[1,2,5,8,9]},record:{headerText:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.header.caption.record",actions:[],defaultPermittedAction:"VISIBLE",uniqueAction:!0,filterPermissionGroupIDs:[1,2,5,7,8,9]},config:{headerText:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.header.caption.config",actions:[{value:"VIEW",label:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.column.view.label"},{value:"CHANGE",label:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.column.change.label"}],uniqueAction:!0},externalconfig:{headerText:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.header.caption.config",actions:[{value:"VIEW",label:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.column.view.label"}],uniqueAction:!0},runtimeconfig:{headerText:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.header.caption.config",actions:[],defaultPermittedAction:"VISIBLE",uniqueAction:!0},process:{headerText:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.header.caption.process",actions:[{value:"EXECUTE",label:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.column.execute.label"},{value:"READ",label:"com.bmc.arsys.rx.standardlib.permission.permissionEditor.column.read.label"}],uniqueAction:!0},view:{actions:[],defaultPermittedAction:"VISIBLE",uniqueAction:!0}},publicPermissionType:"Public"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").constant("RX_SCHEDULER_TIMER",{weekDaysList:[{id:1,value:"Monday"},{id:2,value:"Tuesday"},{id:3,value:"Wednesday"},{id:4,value:"Thursday"},{id:5,value:"Friday"},{id:6,value:"Saturday"},{id:7,value:"Sunday"},"","",""],resourceType:"com.bmc.arsys.rx.services.rule.domain.ScheduleTime",timeCriteriaPath:"rxData/timeCriteria",numberOfDays:_.range(1,36),defaultTime:"12:AM"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").constant("RX_INSPECTOR_SELECT_EXPRESSION_DROPDOWN",function(){var a={select:"Select",expression:"Expression"},b={selectProcess:"Select Process",buildExpression:"Build Expression",editExpression:"Edit Expression"};return{dropDownOptionsValue:a,dropDownDisplayValue:b,selectExpressionDropdownOptions:[{value:a.select,displayValue:b.selectProcess},{value:a.expression,displayValue:b.buildExpression}]}}())}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").constant("RX_WAIT_FOR_APPROVAL",{definitionName:"AP:Role",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",roleNameFieldId:"8",approveType:{roleBased:"0",userBased:"1",adHoc:"2"},dataPageType:"com.bmc.arsys.rx.approval.application.datapage.WaitForApprovalProcessDataPageQuery"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").constant("RX_EXPRESSION_EDITOR",{events:{openExpressionEditor:"rx-open-expression-editor",refreshInspector:"rx-designer-refresh-inspector",refreshExpression:"rx-expression-refresh-expression"},operators:{all:[[{displayValue:"(",contentValue:"(",buttonStyle:"narrow"},{displayValue:")",contentValue:")",buttonStyle:"narrow"},{displayValue:'"',contentValue:'"',buttonStyle:"narrow"},{displayValue:"+",contentValue:"+",buttonStyle:"narrow"},{displayValue:"-",contentValue:"-",buttonStyle:"narrow"},{displayValue:"*",contentValue:"*",buttonStyle:"narrow"},{displayValue:"/",contentValue:"/",buttonStyle:"narrow"},{displayValue:"%",contentValue:"%",buttonStyle:"narrow"}],[{displayValue:">",contentValue:">",buttonStyle:"narrow"},{displayValue:"<",contentValue:"<",buttonStyle:"narrow"},{displayValue:"=",contentValue:"=",buttonStyle:"narrow"},{displayValue:"!=",contentValue:"!=",buttonStyle:"narrow"},{displayValue:">=",contentValue:">=",buttonStyle:"narrow"},{displayValue:"<=",contentValue:"<=",buttonStyle:"narrow"},{displayValue:"LIKE",contentValue:"LIKE",buttonStyle:"wide"}],[{displayValue:"AND",contentValue:"AND",buttonStyle:"wide"},{displayValue:"OR",contentValue:"OR",buttonStyle:"wide"},{displayValue:"NOT",contentValue:"NOT",buttonStyle:"wide"},{displayValue:"NULL",contentValue:"$NULL$",buttonStyle:"wide"}]],math:[[{displayValue:"(",contentValue:"(",buttonStyle:"narrow"},{displayValue:")",contentValue:")",buttonStyle:"narrow"},{displayValue:'"',contentValue:'"',buttonStyle:"narrow"},{displayValue:"+",contentValue:"+",buttonStyle:"narrow"},{displayValue:"-",contentValue:"-",buttonStyle:"narrow"},{displayValue:"*",contentValue:"*",buttonStyle:"narrow"},{displayValue:"/",contentValue:"/",buttonStyle:"narrow"},{displayValue:"%",contentValue:"%",buttonStyle:"narrow"}]]}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.search-filter").constant("RX_DATA_TYPES",{character:"Character",dateTime:"DateTime",dateOnly:"DateOnly",timeOnly:"TimeOnly",integer:"Integer",decimal:"Decimal",real:"Real",selection:"Selection","boolean":"Boolean"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.error-handling").constant("RX_ERROR_HANDLING",{maxErrorMessageLength:500,maxArMessageLength:200,errorMessages:{httpDefaultError:"An unexpected server communication error has occurred. Status: %s.",httpNetworkError:"Network communication error has occurred.",scriptError:"An unexpected script error has occurred."},AR_MESSAGES_HEADER:"x-ar-messages",AR_NOTE_LOG_INFO:8914,AR_GUEST_USER_MESSAGE_NO:59})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.growl").constant("RX_GROWL",{eventName:"rx-growl-message"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.designer").constant("RX_NAMED_LIST_DESIGNER",{namedListDesigner:"com.bmc.arsys.rx.standardlib.named-list.designer.named-list-designer",events:{afterSave:"rx-named-list-designer-after-save",close:"rx-named-list-designer-close"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").constant("RX_APPROVAL_PROCESS",{apForm:{definitionName:"AP:Form",fields:{formName:{id:12e3,label:"Form Name"}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").constant("RX_AR_APPROVAL_PROCESS",{apForm:{definitionName:"AP:Form",fields:{formName:{id:12e3,label:"Form Name"}}},apProcessDefinitionForm:{definitionName:"AP:Process Definition",fields:{process:{id:1e4,label:"Process"}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").constant("RX_ASSIGNMENT_PROCESS",{assignmentProcessForm:{definitionName:"ASE:Assignment Process",fields:{processName:{id:500067200,label:"Process Name"}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").constant("RX_PROCESS_DEFINITION",{permissionTypes:{read:{displayName:"Read",type:"READ"},execute:{displayName:"Execute",type:"EXECUTE"}},localVariableDataTypes:{processCharacter:{resourceType:"com.bmc.arsys.rx.services.process.domain.record.ProcessCharacterFieldDefinition"}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").constant("RX_USER_TASK",{mode:{createRecord:"Create Record",updateRecord:"Update Record"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").constant("RX_PROCESS_DESIGNER",{processDesigner:"com.bmc.arsys.rx.standardlib.process.designer.process-designer",processPreview:"com.bmc.arsys.rx.standardlib.process.designer.process-preview",userPreferences:{componentId:"rx-process-designer",version:"1.0"},events:{afterSave:"rx-process-designer-after-save",close:"rx-process-designer-close"},processElementResourceTypes:{startEvent:"com.bmc.arsys.rx.services.process.domain.StartEventDefinition",endEvent:"com.bmc.arsys.rx.services.process.domain.EndEventDefinition",processAction:"com.bmc.arsys.rx.services.process.domain.ServiceTaskDefinition",sequenceFlow:"com.bmc.arsys.rx.services.process.domain.SequenceFlowDefinition",parallelGateway:"com.bmc.arsys.rx.services.process.domain.ParallelGatewayDefinition",exclusiveGateway:"com.bmc.arsys.rx.services.process.domain.ExclusiveGatewayDefinition",userTask:"com.bmc.arsys.rx.services.process.domain.UserTaskDefinition",callActivity:"com.bmc.arsys.rx.services.process.domain.CallActivityDefinition",subProcess:"com.bmc.arsys.rx.services.process.domain.SubProcessDefinition",receiveTask:"com.bmc.arsys.rx.services.process.domain.ReceiveTaskDefinition",textAnnotation:"com.bmc.arsys.rx.services.process.domain.TextAnnotation",textAnnotationAssociation:"com.bmc.arsys.rx.services.process.domain.TextAnnotationAssociation",timerEvent:"com.bmc.arsys.rx.services.process.domain.BoundaryEventDefinition"},approvalElementResourceTypes:{approvalProcess:"com.bmc.arsys.rx.approval:Approval Process",waitForApprovalReview:"com.bmc.arsys.rx.approval:Wait for Approval Review",arApprovalPorcess:"com.bmc.arsys.rx.approval:AR Approval Process"},assignmentElementResourceTypes:{assignmentProcess:"com.bmc.arsys.rx.assignment:Wait for Assignment"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.instance-viewer").constant("RX_PROCESS_INSTANCE_VIEWER",{processInstanceViewer:"com.bmc.arsys.rx.standardlib.process.instance.process-instance-viewer",events:{close:"rx-process-instance-viewer-close"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.instance").constant("RX_PROCESS_INSTANCE",{status:{active:"ACTIVE",suspended:"SUSPENDED",errored:"ERRORED",completed:"COMPLETED"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").constant("RX_RECORD_DEFINITION",function(){var a={displayId:1,createdBy:2,createdDate:3,assignee:4,modifiedBy:5,modifiedDate:6,status:7,description:8,notifierListening:16,guid:179,id:379},b={system:"SYSTEM",required:"REQUIRED",optional:"OPTIONAL"},c={resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",name:"Display ID",description:null,id:a.displayId,fieldOption:b.system,maxLength:15,defaultValue:"",anyUserAllowedToSubmit:!1,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0},d={resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",name:"ID",description:null,id:a.id,fieldOption:b.optional,maxLength:38,defaultValue:null,anyUserAllowedToSubmit:!0,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0};return{coreFieldIds:a,joinRecordDefinitionCoreFieldIds:[a.displayId,a.id],fieldOptions:b,systemLikeFields:[a.guid,a.id],coreFields:[c,{resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",name:"Created By",description:null,id:a.createdBy,fieldOption:b.required,maxLength:254,defaultValue:"$USER$",anyUserAllowedToSubmit:!0,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0},{resourceType:"com.bmc.arsys.rx.standardlib.record.DateTimeFieldDefinition",name:"Created Date",description:null,id:a.createdDate,fieldOption:b.system,defaultValue:null,anyUserAllowedToSubmit:!1,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0},{resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",name:"Assignee",description:null,id:a.assignee,fieldOption:b.optional,maxLength:254,defaultValue:null,anyUserAllowedToSubmit:!1,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0},{resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",name:"Modified By",description:null,id:a.modifiedBy,fieldOption:b.system,maxLength:254,defaultValue:null,anyUserAllowedToSubmit:!1,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0},{resourceType:"com.bmc.arsys.rx.standardlib.record.DateTimeFieldDefinition",name:"Modified Date",description:null,id:a.modifiedDate,fieldOption:b.system,defaultValue:null,anyUserAllowedToSubmit:!1,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0},{resourceType:"com.bmc.arsys.rx.standardlib.record.SelectionFieldDefinition",name:"Status",description:null,id:a.status,fieldOption:b.required,optionNamesById:{0:"New",1:"Assigned",2:"Fixed",3:"Rejected",4:"Closed"},displayType:null,defaultValue:0,anyUserAllowedToSubmit:!1,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0},{resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",name:"Description",description:null,id:a.description,fieldOption:b.required,maxLength:254,defaultValue:null,anyUserAllowedToSubmit:!0,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0},{resourceType:"com.bmc.arsys.rx.standardlib.record.SelectionFieldDefinition",name:"Notifier Listening",description:null,id:a.notifierListening,fieldOption:b.system,optionNamesById:{0:"Not Listening",1:"Listening"},displayType:null,defaultValue:0,anyUserAllowedToSubmit:!1,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0},{resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",name:"GUID",description:null,id:a.guid,fieldOption:b.optional,maxLength:38,defaultValue:null,anyUserAllowedToSubmit:!0,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0},d],joinRecordDefinitionCoreFields:[c,d],dataTypes:{character:{displayName:"Text",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition"},integer:{displayName:"Integer",resourceType:"com.bmc.arsys.rx.standardlib.record.IntegerFieldDefinition"},dateTime:{displayName:"Date/Time",resourceType:"com.bmc.arsys.rx.standardlib.record.DateTimeFieldDefinition"},selection:{displayName:"Selection",resourceType:"com.bmc.arsys.rx.standardlib.record.SelectionFieldDefinition"},decimal:{displayName:"Decimal",resourceType:"com.bmc.arsys.rx.standardlib.record.DecimalFieldDefinition"},real:{displayName:"Floating",resourceType:"com.bmc.arsys.rx.standardlib.record.RealFieldDefinition"},timeOnly:{displayName:"Time",resourceType:"com.bmc.arsys.rx.standardlib.record.TimeOnlyFieldDefinition"},dateOnly:{displayName:"Date",resourceType:"com.bmc.arsys.rx.standardlib.record.DateOnlyFieldDefinition"},attachment:{displayName:"Attachment",resourceType:"com.bmc.arsys.rx.standardlib.record.AttachmentFieldDefinition"},"boolean":{displayName:"Boolean",resourceType:"com.bmc.arsys.rx.standardlib.record.BooleanFieldDefinition",options:[{value:"",content:""},{value:"1",content:"True"},{value:"0",content:"False"}]},recordInstance:{displayName:"Record",resourceType:"com.bmc.arsys.rx.services.process.domain.record.RecordInstanceFieldDefinition",skipDefaultValue:!0},object:{displayName:"Object",resourceType:"com.bmc.arsys.rx.services.process.domain.record.ObjectFieldDefinition",skipDefaultValue:!0}},recordDefinitionTypes:{regular:{recordDefinitionType:"com.bmc.arsys.rx.services.record.domain.RegularRecordDefinition",displayName:"Regular"},join:{recordDefinitionType:"com.bmc.arsys.rx.services.record.domain.JoinRecordDefinition",displayName:"Join"}},joinTypes:{inner:{value:"INNER",displayName:"Inner Join"},outer:{value:"OUTER",displayName:"Outer Join"}},specialtyFields:{assigneeGroup:{id:112,name:"Assignee Group"}},joinFieldMapping:"com.bmc.arsys.rx.services.record.domain.JoinRecordDefinitionFieldMapping",joinSecurityLabelMapping:"com.bmc.arsys.rx.services.record.domain.JoinSecurityLabelMapping",sourceTypes:{primary:"PRIMARY_RECORD_DEFINITION",secondary:"SECONDARY_RECORD_DEFINITION"},sourceTypesInvertedMap:{PRIMARY_RECORD_DEFINITION:"primary",SECONDARY_RECORD_DEFINITION:"secondary"},groupIds:{assigneeGroup:7},STANDARDLIB_PREFIX:"standardlib:",AR_MAX_RESERVED_FIELD_ID:536870912,AR_MIN_CUSTOM_FIELD_ID:536870913,AR_MAX_FIELD_ID:2147483647,AR_CORE_FIELD_IDS:_.range(1,100).concat([a.guid,a.id,399]),AR_PASSWORD_FIELD_IDS:[102,123],SECURITY_LABEL_IDS:{MAX:60999,MIN:60020},EMPTY_FIELD_NAME_OPTION:{content:"<No Field Selected>",value:""},EMPTY_LIST_OPTION:{content:"<No List Selected>",value:""}}}())}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").constant("RX_RECORD_DESIGNER",{recordDesigner:"com.bmc.arsys.rx.standardlib.record.designer.record-designer",events:{inheritanceChange:"rx-record-designer-inheritance-change",securityLabelsInherited:"rx-record-designer-security-labels-inherited",fieldOverlayReverted:"rx-record-designer-field-overlay-reverted",afterSave:"rx-record-designer-after-save",close:"rx-record-designer-close",toggleColumnVisibility:"rx-record-designer-toggle-column-visibility"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.instance").constant("RX_RECORD_INSTANCE",{association:{operationResourceTypes:{associate:"com.bmc.arsys.rx.services.association.domain.AssociateOperation",disassociate:"com.bmc.arsys.rx.services.association.domain.DisassociateOperation",createAndAssociate:"com.bmc.arsys.rx.services.association.domain.CreateAndAssociateOperation"}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.resources").constant("RX_RESOURCE_URLS",{api:"/api",dataPage:"rx/application/datapage",command:"rx/application/command",recordInstance:"rx/application/record/recordinstance",recordDefinition:"rx/application/record/recorddefinition",namedListDefinition:"rx/application/namedlist/namedlistdefinition",user:"rx/application/user",recordInstanceAttachment:"rx/application/record/attachment",theme:"rx/application/theme",loginContent:"rx/application/logincontent",processSubdomainName:"rx/application/process",processInstanceResourceName:"processinstance"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.definition").constant("RX_RULE_DEFINITION",{ruleElementResourceTypes:{ruleAction:"com.bmc.arsys.rx.services.rule.domain.CustomRuleAction",triggerElement:"com.bmc.arsys.rx.services.rule.domain.RecordTriggerEvent",triggerTimeElement:"com.bmc.arsys.rx.services.rule.domain.TimerTriggerEvent",startProcessAction:"com.bmc.arsys.rx.services.rule.domain.StartProcessInstanceAction",cancelProcessAction:"com.bmc.arsys.rx.services.rule.domain.CancelProcessInstanceAction",signalProcessInstanceAction:"com.bmc.arsys.rx.services.rule.domain.SignalProcessInstanceAction",qualification:"ruleQualificationResourceType",signalProcessAutomaticCorrelation:"com.bmc.arsys.rx.services.rule.domain.SignalProcessAutomaticCorrelation",link:"ruleLinkResourceType",scheduleTime:"com.bmc.arsys.rx.services.rule.domain.ScheduleTime",intervalTime:"com.bmc.arsys.rx.services.rule.domain.IntervalTime"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").constant("RX_RULE_DESIGNER",{ruleDesigner:"com.bmc.arsys.rx.standardlib.rule.designer.rule-designer",userPreferences:{componentId:"rx-rule-designer",version:"1.0"},events:{afterSave:"rx-rule-designer-after-save",close:"rx-rule-designer-close"},processElementResourceTypes:{receiveTask:"com.bmc.arsys.rx.services.process.domain.ReceiveTaskDefinition"},selectExpressionDropdownOptions:[{value:"Select",displayValue:"Select Process"},{value:"Expression",displayValue:"Build Expression"}],eventTypes:[{value:"ON_CREATE",content:"On Create"},{value:"ON_UPDATE",content:"On Update"},{value:"ON_DELETE",content:"On Delete"},{value:"ON_IMPORT",content:"On Import"}]})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").constant("RX_APP_STATES",{home:"rxHome"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").constant("RX_AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",logoutFailed:"auth-logout-failed",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized",switchOverlayInitiated:"switch-overlay-initiated"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").constant("RX_SESSION",{minutesBeforeLogout:2,keepAliveCommand:"com.bmc.arsys.rx.application.user.command.KeepAliveCommand",userInteractionThrottleTimeMs:1e3,userInteractionEvents:"click keypress",expirationModes:{idle:"idleSessionExpirationMode",absolute:"absoluteSessionExpirationMode"},expirationHeaders:{idle:"Session-Expiration",absolute:"Absolute-Session-Expiration"},ssoProviderTypes:{rsso:"RSSO"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").constant("RX_USER_GROUPS",{administrator:"Administrator",structAdmin:"Struct Admin",approvalAdmin:"Approval Admin"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.user-preferences").constant("RX_USER_PREFERENCES",{settingName:"UI Preferences",fields:{loginName:"LoginName",componentId:"componentId",preferences:"preferences",componentTypeName:"componentTypeName",version:"version",ownerKeyValue:"ownerKeyValue1",settingName:"settingName",settingId:"settingId"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").constant("RX_LOG",{serverLogLevels:["sql","api","rule","process"]})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-component").constant("RX_VIEW_COMPONENT",{events:{propertyChanged:"rx-view-component-property-changed",action:"rx-view-component-action"},actions:{save:"rx-view-component-save",close:"rx-view-component-close",newComponentAdded:"rx-view-new-component-added",refresh:"rx-view-component-refresh"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").constant("RX_ACTION_BUTTON",function(){var a={primary:"primary",secondary:"secondary",clear:"clear"},b={small:"small",large:"large"};return{styleOptions:a,sizeOptions:b,styles:[{name:"Primary",value:a.primary,cls:"d-button_primary"},{name:"Secondary",value:a.secondary,cls:"d-button_secondary"},{name:"Clear",value:a.clear,cls:"d-button_action"}],sizes:[{name:"Small",value:b.small,cls:"d-button_small"},{name:"Large",value:b.large,cls:""}],icons:[{label:"Add",name:"add",cls:"plus"},{label:"Add Circle",name:"addCircle",cls:"plus_circle"},{label:"Back",name:"back",cls:"undo"},{label:"Calendar",name:"calendar",cls:"calendar"},{label:"Delete",name:"delete",cls:"cross"},{label:"Delete Circle",name:"deleteCircle",cls:"cross_circle"},{label:"Edit",name:"edit",cls:"pencil"},{label:"Exclamation Circle",name:"exclamationCircle",cls:"exclamation_circle"},{label:"Exclamation Triangle",name:"exclamationTriangle",cls:"exclamation_triangle"},{label:"Gear",name:"gear",cls:"gear"},{label:"Help",name:"help",cls:"question_circle"},{label:"Home",name:"home",cls:"home"},{label:"Link",name:"link",cls:"link"},{label:"Mail",name:"mail",cls:"envelope"},{label:"Pin",name:"pin",cls:"pin"},{label:"Search",name:"search",cls:"search"},{label:"Share",name:"share",cls:"share"},{label:"Star",name:"star",cls:"star"},{label:"Thumbs Down",name:"thumbsDown",cls:"thumbs_down"
},{label:"Thumbs Up",name:"thumbsUp",cls:"thumbs_up"},{label:"Trash",name:"trash",cls:"trash"}]}}())}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.button-bar").constant("RX_BUTTON_BAR",{styles:[{name:"Left",value:"left",cls:"align-left"},{name:"Center",value:"center",cls:"align-center"},{name:"Right",value:"right",cls:"align-right"}]})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.design-utils").constant("RX_ASSOCIATED_RECORD_NODE_SIDES",{nodeA:{value:"nodeA",defaultName:"First Record"},nodeB:{value:"nodeB",defaultName:"Second Record"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").constant("RX_RECORD_EDITOR",{recordEditorComponent:"rx-record-editor",association:{actions:{associate:"associate",createAndAssociate:"createAndAssociate"},componentTypes:{associatedRecordField:"rx-associated-record-field",actionButton:"rx-action-button"}},modes:{create:"CREATE",edit:"EDIT"},defaultState:{read:"READ",edit:"EDIT"},_designEvents:{fieldInit:"field:init"},fields:{dateTime:"rx-date-time-field",character:"rx-character-field",textarea:"rx-textarea-field",selection:"rx-selection-field",date:"rx-date-field",time:"rx-time-field",integer:"rx-integer-field",floating:"rx-floating-field",decimal:"rx-decimal-field",selectGroup:"rx-select-group",selectGroupField:"rx-select-group-field","boolean":"rx-boolean-field",attachment:"rx-attachment-field",association:"rx-association"},templates:{"default":"scripts/view-components/record-editor/record-editor-default.html",allFields:"scripts/view-components/record-editor/record-editor-all-fields.html"},styles:{noBorder:"rx-record-editor_no-border"},fieldGroupTypes:{required:"required",optional:"optional",systemLike:"systemLike"},events:{beforeSave:"rx-record-editor-before-save",afterSave:"rx-record-editor-after-save"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").constant("RX_RECORD_GRID",{uiComponentName:"rx-record-grid",defaultFilter:"{}",version:"1.0",modes:{record:"record",association:"association"},components:{filter:"rx-record-grid-filter",column:"rx-record-grid-column"},selectionTypes:{multiple:"multiple",single:"single"},defaultUiGridPlugins:["ui-grid-infinite-scroll","ui-grid-selection","ui-grid-move-columns","ui-grid-resize-columns","ui-grid-auto-resize","ui-grid-save-state"],columnProperties:[{name:"visible",defaultValue:!0,label:"Visible by default",tooltip:{text:"Select this option to make a field visible by default on the application UI.",placement:"top"}},{name:"sortable",defaultValue:!0,label:"Sorting enabled"},{name:"filterable",defaultValue:!0,label:"Filtering enabled"},{name:"clickable",defaultValue:!1,label:"Make column value an Action Button",tooltip:{text:"Select this check-box to associate an action with the button.",placement:"top"}}],userPreferences:{filters:"filters",columns:"columns"},actions:{cellClick:"rx-record-grid-cell-click"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.rich-text").constant("RX_RICH_TEXT",{ckeditor:{skinPath:"/standardlib/resources/css/ckeditor/skins/rich-text/",richTextExpressionPlugin:{iconPath:"/standardlib/resources/images/ckeditor/plugins/rich-text-expression/icons/toolbar.png"}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").constant("RX_SHELL",{shellRuntimeComponent:"rx-shell",shellDesignComponent:"rx-shell-design",events:{menuItemUpdate:"menuItem:update",menuGroupUpdate:"menuGroup:update",navBarUpdate:"navBar:update"},navBar:{menuItem:"rx-shell-menu-item",menuGroup:"rx-shell-menu-group"},actions:{launchURL:"rxShellLaunchUrlAction",navigateToView:"rxShellNavigateToViewAction",navigateToState:"rxShellNavigateToStateAction",navigateToSmartReporting:"rxShellNavigateToSmartReportingAction"},notificationTypes:{active:"active",dismissed:"dismissed"},menuGroup:["rx-shell-menu-item"],strings:{newMenuItemName:"New Menu Item",newMenuGroupName:"Menu Group",noneIconLabel:"None"},definitions:{userMessage:{definitionName:"UserMessage",dataPageType:"com.bmc.arsys.rx.application.usermessage.datapage.UserMessageDataPageQuery",updateCommand:"com.bmc.arsys.rx.application.usermessage.command.UpdateStateOfUserMessagesCommand",fields:{requestId:"1",submitter:"2",createDate:"3",assignedTo:"4",lastModifiedBy:"5",modifiedDate:"6",status:"7",shortDescription:"8",instanceId:"379",subject:"20000",body:"20001",recipient:"20002"},status:{unread:"0",read:"1",dismissed:"2"}}},globalSearch:{mfsFormList:"3000",mfsSearchTermMustHave:"3001",mfsSearchResultOption:"3008",mfsResultFormName:"3010",mfsResultEntryID:"3011",mfsResultTitle:"3012",mfsResultExcerpt:"3013",mfsResultWeight:"3014",mfsResultRequestId:"3017"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.definition").constant("RX_VIEW_DEFINITION",{resourceTypes:{viewComponent:"com.bmc.arsys.rx.services.view.domain.ViewComponentDefinition",containerViewComponent:"com.bmc.arsys.rx.services.view.domain.ContainerViewComponentDefinition"},events:{childAdd:"rx-view-designer-child-add",childRemove:"rx-view-designer-child-remove",childUpdate:"rx-view-designer-child-update"},baseContainer:"rx-view-designer-container",containerComponent:"rx-container",actionButtonComponent:"rx-action-button",defaultLayoutTemplateId:5,layoutProperties:["layoutTemplate","columns","static","role","columnCount","span","children","componentDefinitionId","height"],componentDescriptorProperties:["designType","type","name"],columnCountOptions:_.times(6,function(a){return{value:++a,content:a}}),elementTemplate:'<{type} rx-configuration="configuration" rx-view-component-id="{guid}" class="rx-theme-main-border-color rx-theme-main-text-color rx-theme-main-background-color"></{type}>',shellElementTemplate:'<{type} rx-configuration="configuration" rx-view-component-id="{guid}"></{type}>',runtimeContainerElementTemplate:'<rx-container rx-configuration="node" rx-view-component-id="{guid}"></rx-container>',shellDefinitionName:"BMC Modern Shell",viewType:{regular:"REGULAR",shell:"SHELL"},viewLayoutTemplates:[{id:1,label:"Header and 1 Column",layout:{layoutTemplate:1,columns:[{children:[{"static":!0,role:"header",height:100,columns:[{children:[]}]},{"static":!0,role:"content",columns:[{children:[]}]}]}]}},{id:2,label:"Header and 2 Columns (50/50)",layout:{layoutTemplate:2,columns:[{children:[{"static":!0,role:"header",height:100,columns:[{children:[]}]},{"static":!0,role:"content",columns:[{children:[],span:6},{children:[],span:6}]}]}]}},{id:3,label:"Header and 2 Columns (60/40)",layout:{layoutTemplate:3,columns:[{children:[{"static":!0,role:"header",height:100,columns:[{children:[]}]},{"static":!0,role:"content",columns:[{children:[],span:7},{children:[],span:5}]}]}]}},{id:4,label:"Header and 2 Columns (40/60)",layout:{layoutTemplate:4,columns:[{children:[{"static":!0,role:"header",height:100,columns:[{children:[]}]},{"static":!0,role:"content",columns:[{children:[],span:5},{children:[],span:7}]}]}]}},{id:5,label:"Container",layout:{layoutTemplate:5,columns:[{role:"content",children:[]}]}},{id:6,label:"2 Columns (50/50)",layout:{layoutTemplate:6,columns:[{role:"content",children:[],span:6},{role:"content",children:[],span:6}]}},{id:7,label:"2 Columns (60/40)",layout:{layoutTemplate:7,columns:[{role:"content",children:[],span:7},{role:"content",children:[],span:5}]}},{id:8,label:"2 Columns (40/60)",layout:{layoutTemplate:8,columns:[{role:"content",children:[],span:5},{role:"content",children:[],span:7}]}},{id:9,label:"3 Equal Columns",layout:{layoutTemplate:9,columns:[{role:"content",children:[],span:4},{role:"content",children:[],span:4},{role:"content",children:[],span:4}]}},{id:10,label:"Header, Footer and 1 Column",layout:{layoutTemplate:10,columns:[{children:[{"static":!0,role:"header",height:100,columns:[{children:[]}]},{"static":!0,role:"content",columns:[{children:[]}]},{"static":!0,role:"footer",height:100,columns:[{children:[]}]}]}]}},{id:11,label:"Header, Footer and 2 Columns (50/50)",layout:{layoutTemplate:11,columns:[{children:[{"static":!0,role:"header",height:100,columns:[{children:[]}]},{"static":!0,role:"content",columns:[{children:[],span:6},{children:[],span:6}]},{"static":!0,role:"footer",height:100,columns:[{children:[]}]}]}]}},{id:12,label:"Header, Footer and 2 Columns (60/40)",layout:{layoutTemplate:12,columns:[{children:[{"static":!0,role:"header",height:100,columns:[{children:[]}]},{"static":!0,role:"content",columns:[{children:[],span:7},{children:[],span:5}]},{"static":!0,role:"footer",height:100,columns:[{children:[]}]}]}]}},{id:13,label:"Header, Footer and 2 Columns (40/60)",layout:{layoutTemplate:13,columns:[{children:[{"static":!0,role:"header",height:100,columns:[{children:[]}]},{"static":!0,role:"content",columns:[{children:[],span:5},{children:[],span:7}]},{"static":!0,role:"footer",height:100,columns:[{children:[]}]}]}]}}],styles:[{id:"rx-no-margin",name:"No Margin"},{id:"rx-default-border",name:"1px Border"},{id:"rx-white-background",name:"White Background"}]})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").constant("RX_VIEW_DESIGNER",{events:{afterSave:"rx-view-designer-after-save",canvasReady:"rx-view-designer-canvas-ready",close:"rx-view-designer-close",viewComponentAdded:"rx-view-designer-view-component-added",viewComponentRemoved:"rx-view-designer-view-component-removed",viewComponentRemoveRequest:"rx-view-designer-view-component-remove-request",viewComponentPointerUp:"rx-view-designer-view-component-pointer-up",viewComponentMoved:"rx-view-designer-view-component-moved",updateBreadcrumbs:"rx-view-designer-update-breadcrumbs",blankPointerDown:"rx-view-designer-blank-pointer-down",layoutChanged:"rx-view-designer-layout-changed",addExpressionField:"rx-view-designer-add-expression-field"},layoutNodeCacheId:"rx-view-designer-layout-node-cache",modelCacheId:"rx-view-designer-model-cache"})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.runtime").constant("RX_RUNTIME_VIEW",{events:{viewAction:"rx-runtime-view-action",viewReady:"rx-runtime-view-ready"},actions:{save:"rx-runtime-view-save",close:"rx-runtime-view-close",cancel:"rx-runtime-view-cancel"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").filter("selectionFilter",function(){return function(a,b,c,d){b=d?b+"_"+d:b;var e=a;return _.forEach(c.propertyPanelConfigurations,function(c){_.forEach(c.propertyDefinitions,function(c){if(c.dataType.indexOf("SelectionFieldDefinition")>1&&c.id==b){var d=_.find(c.options,function(b){return b.value==a});e=d.content}})}),e}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.association.definition").filter("associationCardinality",["RX_ASSOCIATION_DEFINITION",function(a){return function(b){return _.find(a.cardinality,"value",b).name}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.association.definition").filter("associationConstraints",["RX_ASSOCIATION_DEFINITION",function(a){return function(b){return _.find(a.constraints,"value",b).name}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.association.definition").filter("associationIsEnabled",["RX_ASSOCIATION_DEFINITION",function(a){return function(b){return _.find(a.isEnabled,"value",b).name}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.definition-picker").filter("definitionSearch",function(){return function(a,b){function c(a,b){return _(a).forEach(function(a){a.definitionTreeNodes=d(a.definitionTreeNodes,b)}).filter(function(a){return a.definitionTreeNodes.length}).value()}function d(a,b){var c=RegExp("("+b.replace(/^\s+/g,"")+")","gi");return _(a).map(function(a){var b=a.label.match(c);if(b)return a.label=e(a.label,c),a}).compact().value()}function e(a,b){return a.replace(b,"<mark>$1</mark>")}if(_.includes(b,":")){var f=b.split(":",2),g=f[0],h=f[1],i=d(a,g);return h.length?c(i,h):i}return c(a,b)}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").filter("intervalTimer",function(){return function(a,b){var c=/(R([0-9]*\.?[0-9]*)\/)?P((([0-9]*\.?[0-9]*)Y)?(([0-9]*\.?[0-9]*)M)?(([0-9]*\.?[0-9]*)W)?(([0-9]*\.?[0-9]*)D)?)?(T(([0-9]*\.?[0-9]*)H)?(([0-9]*\.?[0-9]*)M)?(([0-9]*\.?[0-9]*)S)?)?/,d=a?a.match(c):"";if(!d)return"";var e=parseFloat(d[7])||0,f=parseFloat(d[9])||0,g=parseFloat(d[11])||0,h=parseFloat(d[14])||0,i=parseFloat(d[16])||0;return"json"===b?{months:e,weeks:f,days:g,hours:h,minutes:i}:(e?e+" month(s) ":"")+(f?f+" week(s) ":"")+(g?g+" day(s) ":"")+(h?h+" hour(s) ":"")+(i?i+" minute(s)":"")}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").filter("scheduleTimerExpressionBuilder",["$filter",function(a){return function(b){var c=_.sortBy(b.monthDays),d=c.length>1?c.pop():"",e=c.join(", "),f=(e?"On dates "+e:"")+(d?" and "+d:"")+(e?" of every month":""),g=_(b.weekDays).sortBy("id").pluck("value").value(),h=g.length>1?g.pop():"",i=g.join(", "),j=(f&&i?", and every "+i:"")+(!f&&i?"Every "+i:"")+(h?" and "+h:""),k=a("scheduleTimerSort")(b.hours,b.minute),l=k.length>1?k.pop():"",m=k.join(", "),n=(m?" at "+m:"")+(l?" and "+l:"");return f+j+n}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").filter("scheduleTimerJson",["RX_SCHEDULER_TIMER",function(a){return function(b,c){return"json"==c?(b.monthDays=b.monthDays||[],b.weekDays=_.map(b.weekDays,function(b,c){var d=b.substr(0,1).toUpperCase()+b.substr(1).toLocaleLowerCase();return _.findWhere(a.weekDaysList,{value:d})}),b.hours=_.map(b.hours,function(a){return moment(a,["H"],"en").format("h:A")}),b):(b.monthDays=_.sortBy(b.monthDays),b.weekDays=_(b.weekDays).sortBy("id").pluck("value").invoke("toUpperCase").value(),b.hours=_(b.hours).map(function(a){return parseInt(moment(a,["h:A"],"en").format("H"))}).sortBy().value(),b)}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").filter("scheduleTimerSort",function(){return function(a,b){return!!a&&(a.sort(function(a,b){var c=/[a-zA-Z]+|[0-9]+/g,d=a.match(c),e=b.match(c),f=d[0]+":"+d[1].toLocaleLowerCase(),g=e[0]+":"+e[1].toLocaleLowerCase();return new Date("2016/01/01 "+f)-new Date("2016/01/01 "+g)}),a=_.map(a,function(a){var c=a.split(":"),d=c[0]+":"+(b?b>9?b:"0"+b:"00")+c[1];return d}))}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").filter("selectionFieldOptions",function(){return function(a){return _(a).values().join(", ")}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").filter("actionTypeName",["i18n","definitionNameFilter","rxString",function(a,b,c){return function(d){var e=a(d,!1);return e||(e=c.prettify(b(d))),e}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").filter("approvalCompletionCriteria",function(){var a={0:"One Must Sign",1:"All Must Sign"};return function(b){return a[b]}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").filter("serviceName",["i18n","rxString",function(a,b){return function(c){var d="";if(c&&(d=a(c,!1),!d)){var e=c.match(/([^\.]*?)(?:ServiceImpl|Service)?$/)[1];d=b.prettify(e)}return d}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").filter("bundlePath",function(){return function(a,b){var c=a.match(/(.+):/);return c&&c.pop()||b||""}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").filter("definitionName",["bundlePathFilter",function(a){return function(a,b){if(a=a||"",!b||"decode"===b){var c=a.substring(a.indexOf(":")+1);return c}if("encode"===b)return a}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").filter("fieldOption",function(){return function(a){var b;return"SYSTEM"===a?b="Yes (System)":"REQUIRED"===a?b="Yes":"OPTIONAL"===a&&(b="No"),b}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").filter("fieldTypeName",["rxString",function(a){var b=/([^:]*?)(?:FieldType)?$/;return function(c){var d=c.match(b)[1];return a.prettify(d)}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").filter("recordDefinitionFieldMapping",["RX_RECORD_DEFINITION","$filter",function(a,b){return function(c,d,e){var f="";if(c)if(_.contains(a.joinRecordDefinitionCoreFieldIds,d.id));else if(e){var g=a.sourceTypesInvertedMap[c.source];f=b("definitionName")(e[g+"RecordDefinitionName"])+" ("+_.capitalize(g)+")"}return f}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").filter("recordDefinitionJoinType",["RX_RECORD_DEFINITION",function(a){return function(b){return _.get(_.find(a.joinTypes,{value:b}),"displayName","")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").filter("recordDefinitionType",["RX_RECORD_DEFINITION",function(a){return function(b){return _.get(_.find(a.recordDefinitionTypes,{recordDefinitionType:b}),"displayName","")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").filter("resourceType",["RX_RECORD_DEFINITION",function(a){return function(b){return _.get(_.find(a.dataTypes,{resourceType:b}),"displayName",b)}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").filter("fieldDefaultValue",["$filter",function(a){var b=/^\d{4}-\d{1,2}-\d{1,2}$/,c=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/;return function(d,e){return e&&_.isObject(e.optionNamesById)&&e.optionNamesById[d]?e.optionNamesById[d]:_.isString(d)&&b.test(d)?a("date")(d,"mediumDate"):_.isString(d)&&c.test(d)?a("date")(d,"medium"):d}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.definition").filter("ruleActionTypeName",["i18n","definitionNameFilter","rxString",function(a,b,c){return function(d){var e=a(d,!1);return e||(e=c.prettify(b(d))),e}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.definition").filter("ruleServiceName",["i18n","rxString",function(a,b){return function(c){var d="";if(c&&(d=a(c,!1),!d)){var e=c.match(/([^\.]*?)(?:ServiceImpl|Service)?$/)[1];d=b.prettify(e)}return d}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.definition").filter("rxRuleTriggerEvent",["RX_RULE_DEFINITION",function(a){return function(b){return b&&b.timeCriteria?a.ruleElementResourceTypes.scheduleTime===b.timeCriteria.resourceType?"Schedule":"Interval":b&&b.eventTypes?b.eventTypes.join(", "):void 0}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").filter("ruleIntervalDurationIso",function(){return function(a){return"P"+(a.days?a.days+"D":"")+(a.hours||a.minutes?"T":"")+(a.hours?a.hours+"H":"")+(a.minutes?a.minutes+"M":"")}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").filter("ruleIntervalTimer",function(){function a(a,b,c){var d=[];a&&d.push(a+(1===a?" day":" days")),b&&d.push(b+(1===b?" hour":" hours")),c&&d.push(c+(1===c?" minute":" minutes"));var e=d.join(", ");return e?"Every "+e:""}return function(b,c){var d=/(R([0-9]*\.?[0-9]*)\/)?P((([0-9]*\.?[0-9]*)Y)?(([0-9]*\.?[0-9]*)M)?(([0-9]*\.?[0-9]*)W)?(([0-9]*\.?[0-9]*)D)?)?(T(([0-9]*\.?[0-9]*)H)?(([0-9]*\.?[0-9]*)M)?(([0-9]*\.?[0-9]*)S)?)?/,e=b.match(d);if(!e)return"";var f=parseFloat(e[11])||0,g=parseFloat(e[14])||0,h=parseFloat(e[16])||0;return"json"===c?{days:f,hours:g,minutes:h}:a(f,g,h)}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.search").filter("highlight",["$sce",function(a){return function(b,c){return c&&(b=b.replace(new RegExp("("+c+")","gi"),'<span class="rx-global-search-highlighted">$1</span>')),a.trustAsHtml(b)}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").filter("rxBoolean",function(){return function(a,b,c){var d=b||"True",e=c||"False";return a?d:e}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").filter("customizationStatus",["RX_OVERLAY",function(a){return function(b){return a.operationTypes[b]||""}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").filter("idToName",["rxString",function(a){return function(b){return a.prettify(b)}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").filter("rxKeyToValue",function(){return function(a,b){return b[a]}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.record-preview-card").filter("rxRecordPreviewCardValue",function(){return function(a,b){return rx.assert.assert(_.isNumber(b)&&b>0,"maxLength must be a positive number."),_.trunc(a.split("/n")[0],b)}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").filter("rxRecordEditorFieldComponentGroup",["RX_RECORD_EDITOR","RX_RECORD_DEFINITION","rxRecordEditorUtils",function(a,b,c){return function(d,e,f){return _.filter(d,function(d){var g=_.find(e,{id:d.propertiesByName.fieldId});switch(f){case a.fieldGroupTypes.required:return g.fieldOption===b.fieldOptions.required&&!c.isSystemLikeField(g);case a.fieldGroupTypes.systemLike:return c.isSystemLikeField(g);case a.fieldGroupTypes.optional:return g.fieldOption===b.fieldOptions.optional&&!c.isSystemLikeField(g)}})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.action").factory("rxActionUtils",["rxUtils",function(a){function b(b){function d(a){return _(a).map(c).compact().value()}var e=[];return _.isFunction(b.getSelectedRows)?e=d(b.getSelectedRows()):_.isObject(b)&&a.isNonEmptyString(b[c])?e.push(b[c]):_.isArray(b)&&_.some(b,_.isObject)?e=d(b):a.isNonEmptyString(b)?e.push(b):_.isArray(b)&&_.some(b,a.isNonEmptyString)&&(e=_.clone(b)),e}var c="$ID$";return{extractRecordIds:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.action").provider("rxAction",function(){function a(a){rx.assert.assertStringWithLength(a.name),rx.assert.assertStringWithLength(a.bundleId),a.hidden||rx.assert.assertStringWithLength(a.label),a.parameters=a.parameters.map(function(a){return _.isUndefined(a.defaultValue)&&_.isUndefined(a.editor)&&(a.editor=a.enableExpressionEvaluation?"rx-expression-field":"rx-editor-input"),a}),b.push(a)}var b=[];return{registerAction:function(b){_.isArray(b)?_.forEach(b,a):a(b)},$get:["$injector","rxUtils","rxGlobalCache",function(a,c,d){return{getRegisteredActions:function(){return b},getLicensedActions:function(){return d.getBundleDescriptors().then(function(a){return _.filter(b,function(b){return _.find(a,{id:b.bundleId})})})},findDescriptor:function(a){return rx.assert.assertStringWithLength(a),_.find(b,{name:a})},serializeAction:function(a){return _.forEach(a,function(b,c){angular.isObject(b)&&(_.forEach(b,function(b,d){a[[c,d].join(".")]=b}),delete a[c])}),a},deserializeAction:function(a){return _.forEach(a,function(b,c){if(c.indexOf(".")>-1){var d=c.split(".",2);a[d[0]]=a[d[0]]||{},a[d[0]][d[1]]=a[c],delete a[c]}}),a},serializeActions:function(a){return a.map(function(a){return a.propertiesByName=c.serializeObject(a.propertiesByName),a})},deserializeActions:function(a){return a.map(function(a){return c.deserializeObject(a.propertiesByName)})},executeAction:function(b){if(_.isFunction(b))return b;var c=this,d=this.findDescriptor(b);if(!d)return angular.noop;var e=d.parameters,f=a.get(d.name);return rx.assert.assertObject(f,"Service for action "+b+" could not be found."),rx.assert.assertFunction(f.execute,"Service for action "+b+" should have execute method"),function(a){var b=c.deserializeActions([a])[0],d=_.map(e,function(a){var c=b[a.name];return _.isFunction(c)?c():c});return f.execute.apply(f,d)}}}}]}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.associate").service("rxAssociateAction",["rxAssociationInstanceCommands","rxOpenViewAction","rxActionUtils","RX_ASSOCIATED_RECORD_NODE_SIDES","rxAssociationDefinitionResource","rxLog","rxString","$q","RX_OPEN_VIEW","RX_ASSOCIATION_DEFINITION",function(a,b,c,d,e,f,g,h,i,j){this.execute=function(k,l,m,n,o){if(rx.assert.assertStringWithLength(k,"rxAssociateAction: Record Definition Name is not defined."),rx.assert.assertStringWithLength(l,"rxAssociateAction: Association Definition Name is not defined."),rx.assert.assertStringWithLength(o,"rxAssociateAction: View Definition Name is not defined."),!n)return f.warning("rxAssociateAction: Associated Record ID is not defined."),h.reject();var p=e.get(l),q=b.execute(o,null,{modalSize:i.modalSize.large,type:i.type.dockedRightModal}).then(function(a){var b=_(a).map(c.extractRecordIds).flatten().compact().uniq().value();return f.debug(g.format("rxAssociateAction: associating %s record(s)",b.length)),b});return h.all({instanceIds:q,associationDefinition:p}).then(function(b){var c,e,f=b.instanceIds,g=b.associationDefinition;return f.length?(m===d.nodeA.value?(c=f,e=[n]):(c=[n],e=f),g.cardinality===j.cardinalityTypes.ONE_TO_ONE?(c=_.first(c),e=_.first(e)):g.cardinality===j.cardinalityTypes.ONE_TO_MANY&&(c=_.first(c)),a.associateRecords(l,c,e).then(function(){return f})):f})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.close-view").factory("rxCloseViewActionDesignManager",["rxActionEditorModel","rxUtils",function(a,b){function c(a){return a.rxData.actAsCancel=b.tryParseJson(a.rxData.actAsCancel),a}return{getModel:function(b){return new a(c(b))}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.close-view").service("rxCloseViewAction",["rxLog",function(a){this.execute=function(b,c){if(c===!0){if(_.isFunction(b.cancel))return b.cancel();a.error("rxCloseViewAction: view does not have a cancel API method.")}else{if(_.isFunction(b.close))return b.close();a.error("rxCloseViewAction: view does not have a close API method.")}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.delete-records").service("rxDeleteRecordsAction",["$q","dialogs","rxUtils","rxLog","rxRecordInstanceResource",function(a,b,c,d,e){var f=function(a){return _.isArray(a)?a:[a]};this.execute=function(g,h){if(_.isEmpty(h)&&g&&_.isFunction(g.getRecordDefinitionName)&&(h=g.getRecordDefinitionName()),c.isNonEmptyString(h)){var i=[];g&&(i=f(_.isFunction(g.getSelectedRows)?g.getSelectedRows():g));var j=_(i).compact().map(function(a){return _.isString(a)?a:a.$ID$}).compact().uniq().value();if(j.length)return b.confirm("Warning!","Are you sure you want to delete records?").result.then(function(){var b=e.withName(h),c=_.map(j,function(a){return b["delete"](a)});return a.all(c).then(function(){_.isFunction(g.refresh)&&g.refresh()})});d.debug("rxDeleteRecordsAction: no records to delete.")}else d.error("rxDeleteRecordsAction: Record Definition Name is not defined.")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.disassociate").service("rxDisassociateAction",["rxAssociationInstanceCommands","rxActionUtils","RX_ASSOCIATED_RECORD_NODE_SIDES","rxAssociationDefinitionResource","rxString","rxLog","$q",function(a,b,c,d,e,f,g){this.execute=function(h,i,j,k,l){if(rx.assert.assertStringWithLength(i,"rxDisassociateAction: Association Definition Name is not defined."),rx.assert.assert(!_.isEmpty(l),"rxDisassociateAction: Disassociated Record IDs not defined"),!k)return f.warning("rxDisassociateAction: Associated Record ID is not defined."),g.reject();var m=_(b.extractRecordIds(l)).flatten().compact().uniq().value();return f.debug(e.format("rxDisassociateAction: disassociating %s record(s)",m.length)),m.length?d.get(i).then(function(b){var d,e;return j===c.nodeA.value?(d=m,e=[k]):(d=[k],e=m),a.disassociateRecords(i,d,e).then(function(){return m})}):g.resolve([])}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.launch-url").service("rxLaunchUrlAction",["$window","$q",function(a,b){this.execute=function(c){return a.open(c),b.when()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.open-view").service("rxOpenViewAction",["$state","rxViewDefinitionResource","$uibModal","RX_RUNTIME_VIEW","rxRuntimeViewState","$q","RX_OPEN_VIEW",function(a,b,c,d,e,f,g){function h(a,b,e,h,i){var j=a+(e.modalSize||g.modalSize.medium);return f(function(a,f){var g,k={viewDefinitionName:b,params:h,on:{action:{}}};k.on.action[d.events.viewAction]=function(a){a.data.actionName===d.actions.close&&g.close(a.data.outputParams),a.data.actionName===d.actions.cancel&&g.dismiss()},g=c.open({templateUrl:i,controller:"RuntimeViewModalController",windowClass:j,backdrop:"static",resolve:{runtimeViewConfiguration:function(){return k},modalConfiguration:function(){return{title:e.title}}}}),g.result.then(a,f)})}function i(b,c,d){var f=e.get();c.launchBehavior===g.launchBehavior.newWindow?window.open(a.href(f,{viewDefinitionName:b,param:d})):a.go(f,{viewDefinitionName:b,param:d})}function j(a){return rx.assert.assert(_.isString(a)||_.isObject(a),"viewDefinitionName must be a string or an object representing view definition."),_.isString(a)?b.get(a):f.when(a)}return{execute:function(a,b,c){return j(a).then(function(d){var e=_.map(d.inputParams,function(a){return b[a.name]});switch(c.type){case g.type.fullWidth:return i(a,c,e),f.reject();case g.type.centeredModal:return h("rx-runtime-view-dialog modal__",a,c,e,g.template.modal);case g.type.dockedRightModal:return h("rx-runtime-view-dialog d-action-blade action-blade__",a,c,e,g.template.blade);case g.type.dockedLeftModal:return h("rx-runtime-view-dialog d-action-blade is-left action-blade__",a,c,e,g.template.blade);default:return i(a,c,e),f.reject()}})},getOutputParams:function(a){return a.viewDefinitionName?j(a.viewDefinitionName).then(function(a){return _.map(a.outputParams,function(a){return{name:a.name}})}):f.when([])}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.refresh").service("rxRefreshAction",["rxLog",function(a){this.execute=function(b){if(b){if(_.isFunction(b.refresh))return b.refresh();a.warning("rxRefreshAction: component cannot be refreshed.")}else a.warning("rxRefreshAction: component is not specified.")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.save").factory("rxSaveActionDesignManager",["rxActionEditorModel","rxUtils",function(a,b){function c(a){return a.rxData.closeAfterSave=b.tryParseJson(a.rxData.closeAfterSave),a}return{getModel:function(b){return new a(c(b))}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.save").service("rxSaveAction",["rxLog",function(a){this.execute=function(b,c,d){if(_.isFunction(c.save)){var e=c.save();return d===!0?e.then(function(){return _.isFunction(b.close)?b.close():void a.error("rxSaveAction: view does not have a close API method.")}):e}a.error("rxSaveAction: view/component does not have a save API method.")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.set-property").factory("rxSetPropertyActionDataDictionaryUpdater",["$q","$injector","rxViewComponent","rxViewDefinitionUtils","rxCurrentViewDefinition",function(a,b,c,d,e){function f(a){_.forEach(a,function(a){a.type=h.type,a.icon=h.icon,a.children&&f(a.children)})}function g(g,h){return a.all(_(d.flattenContainers(e.get().componentDefinitions)).map(function(d){var e,f=c.findDescriptor(d.type),g=f.designManagerService;if(g){var h=b.has(g)?b.get(g):null;h&&_.isFunction(h.getSettableProperties)&&(e=h.getSettableProperties(f,d))}return a.when(e)}).value()).then(function(a){var b=_(a).compact().value();return f(b),b})}var h={type:"Component Property",
icon:"d-icon-arrow_right_square_input"};return{updateDataDictionaryForPropertyPath:g}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.set-property").factory("rxSetPropertyActionDesignManager",["$q","$injector","rxActionEditorModel","rxActionExpressionConfigurator","rxSetPropertyActionDataDictionaryUpdater",function(a,b,c,d,e){function f(a){return new h(a)}var g=d.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments);var a={regExp:/^rxData\/propertyPath$/g,updateDataDictionary:e.updateDataDictionaryForPropertyPath};this.registerExpressionConfig(a)}}),h=c.extend({getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new g(this),this._expressionConfigurator}});return{getModel:f}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.set-property").service("rxSetPropertyAction",function(){return{execute:function(a,b,c){var d=!1;if(a&&_.isFunction(a.setProperty)&&b){var e=b.match(/^\$\{view\.components\.[0-9a-z-]+\.(.+)}$/);e&&e[1]&&(d=a.setProperty(e[1],c))}return d}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.utils").factory("rxAssociationActionDesignManager",["rxActionEditorModel",function(a){function b(a){return new c(a)}var c=a.extend({onModelChange:function(a,b){var c=this.get("rxData");"recordDefinitionName"!==a&&(b.isHidden=!c.recordDefinitionName)}});return{getModel:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").config(["rxPropertyEditorProvider",function(a){a.registerEditor("com.bmc.arsys.rx.admin-settings.ColorChooserFieldDefinition",'<input colorpicker type="text" ng-pattern="/^(#([0-9a-f]{6}|[0-9a-f]{3}))|(rgba.*)$/i" ng-disabled="propertyDefinition.disabled" ng-required="propertyDefinition.required" ng-model="ngModel[propertyDefinition[entityPropertyKeyName]]">'),a.registerEditor("com.bmc.arsys.rx.admin-settings.SecureDataFieldDefinition",'<input type="password" ng-disabled="propertyDefinition.disabled" ng-required="propertyDefinition.required" ng-model="ngModel[propertyDefinition[entityPropertyKeyName]]"  autocapitalize="off" autocomplete="off" autocorrect="off">'),a.registerEditor("com.bmc.arsys.rx.admin-settings.AttachmentFieldDefinition",'<rx-administration-settings-attachment-panel ng-model="ngModel[propertyDefinition[entityPropertyKeyName]]"></rx-administration-settings-attachment-panel>')}])}(),function(){"use-strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").provider("rxAdministrationSettingsCustomView",function(){function a(a){rx.assert.assertStringWithLength(a.componentName),rx.assert.assertStringWithLength(a.runTimeDirective);var c=_.find(b,{componentName:a.componentName});rx.assert.assertNullOrUndefined(c,'The view of type "'+a.runTimeDirective+'" has already been registered!'),b.push(a)}var b=[];return{registerComponent:function(b){_.isArray(b)?_.forEach(b,a):a(b)},$get:function(){function a(){return b}function c(a){return _.find(b,{componentName:a})}return{getRegisteredComponents:a,findDescriptor:c}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").service("rxAdminSettingGroupManager",["$timeout","dialogs","rxAdministrationSettingsResource",function(a,b,c){var d=function(b,c){b.config={},b.config.entity={},(_.isEmpty(b.configuration)||_.isUndefined(b.configuration))&&(b.configuration=_.clone(c)),b.config.propertyPanelConfigurations=[],b.config.propertyPanelConfigurations.push(_.clone(b.configuration)),b.config.componentName=b.name,_.isUndefined(b.entity)?a(function(){b.entity=_.clone(b.config.entity)},10):b.config.entity=_.clone(b.entity),b.config.createNew=!0,b.showPanel=!0},e=function(a,d,e,f){f&&b.confirm("Warning!","Are you sure you want to delete selected settings?").result.then(function(){c.removeData(e.name+"/"+a.ownerKeyValue1).then(function(a){return e.masterContent.rows.splice(d,1),e.showPanel=!1,a})})},f=function(b,d,e){return d.config={},(_.isEmpty(d.configuration)||_.isUndefined(d.configuration))&&(d.configuration=_.clone(e)),d.config.entity={},d.config.propertyPanelConfigurations=[],d.config.propertyPanelConfigurations.push(_.clone(d.configuration)),d.config.componentName=d.name,d.config.createNew=!1,d.config.ownerKeyValue=b.ownerKeyValue1,_.isUndefined(d.entity)?a(function(){d.config.entity=_.clone(d.config.entity)},10):d.config.entity=_.clone(d.entity),c.getComponentSettingData(d.name+"/"+b.ownerKeyValue1).then(function(a){for(var b=0;b<a.values.length;b++)a.values[b].settingValue?d.config.entity[a.values[b].settingName+"_"+d.config.componentName]=isNaN(a.values[b].settingValue)?a.values[b].settingValue:Number(a.values[b].settingValue):d.config.entity[a.values[b].settingName+"_"+d.config.componentName]=a.values[b].settingValue;d.showPanel=!0,d.settingData=a})};return{createChild:d,removeChild:e,getChildComponentSettingData:f}}])}(),function(){angular.module("com.bmc.arsys.rx.standardlib.administration-settings").provider("rxAdministrationSettingsNavigation",["$stateProvider",function(a){this.$get=["$state",function(b){return{addState:function(b,c,d){a.state(b,{url:"/external/"+b,views:{detail:{templateUrl:d||null,controller:c||null}}})}}}]}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").provider("rxAdministrationSettingsState",function(){function a(a){return rx.assert.assertStringWithLength(a),b=a}var b=null;return{administratorSettingsState:a,$get:function(){return{get:function(){return b}}}}})}(),function(){angular.module("com.bmc.arsys.rx.standardlib.administration-settings").service("rxAdministrationSettingsComponent",["rxResource","rxAdministrationSettingsResource",function(a,b){var c,d={},e=function(){return d},f=function(a){c=a},g=function(){return c},h=function(a){var c=[];return b.getNavTreeData(a).then(function(a){var b=0;return _.forEach(a.AdminNavigationMenu.items,function(a,d){c.push({label:a.label,id:b,children:i(a,b)}),b++}),c})},i=function(a,b){var c=-1;return a.items?_.map(a.items,function(a){return c++,{label:a.label,id:b+"_"+c,guid:a.guid,defaultBundleScope:a.defaultBundleScope,compName:a.compName,isViewComponent:a.viewComponent,isCustom:a.isCustom,linkType:a.linkType,externalLink:a.externalLink,registeredModuleName:a.registeredModuleName,children:i(a,b+"_"+c)}}):[]},j=function(a){return b.getComponentDefinitionData(a).then(function(a){return a})},k=function(a){return b.getComponentSettingData(a).then(function(a){return a})},l=function(a){return b.getGridComponentData(a).then(function(a){return a})};return{getNavTreeData:h,getTreeOptions:e,setSelectedNode:f,getSelectedNode:g,getComponentDefinition:j,getComponentSettingData:k,getGridComponentData:l}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").service("rxCreatePropertyObject",function(){var a=function(a,b,c,d){var e={id:"",label:"",name:"",dataType:"",required:"",disabled:""};e.id=c&&d?a.id+"_"+c:a.id,e.label=a.label,e.name=a.label,e.dataType=a.dataType,e.required=a.required,e.defaultValue=isNaN(a.defaultValue)?a.defaultValue:Number(a.defaultValue),e.disabled=!a.changePermission;var f={};return a.dataType.indexOf("BooleanFieldDefinition")>-1&&(e.options=[],_.each(a.options,function(a){f={},f.content=a,f.value=a,e.options.push(f)})),a.dataType.indexOf("SelectionFieldDefinition")>1&&(e.options=[],_.forIn(a.optionNamesById,function(a,b){f={},f.content=a,f.value=Number(b),e.options.push(f)})),a.dataType.indexOf("DecimalFieldDefinition")>1&&(e.precision=2),(a.dataType.indexOf("DecimalFieldDefinition")>1||a.dataType.indexOf("CharacterFieldDefinition")>1||a.dataType.indexOf("IntegerFieldDefinition")>1)&&(a.maxValue&&(e.max=a.maxValue),a.minValue&&(e.min=a.minValue)),e};return{definitionObject:a}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.application").provider("rxApplicationConfigurator",["$httpProvider","$logProvider","$locationProvider","$compileProvider","dialogsProvider","rxRuntimeViewStateProvider","rxAuthenticationProvider","rxSearchResultsStateProvider","rxAdministrationSettingsStateProvider","ehHelpDocsServiceProvider",function(a,b,c,d,e,f,g,h,i,j){function k(a){return _.each(n,function(b,c){a[c]?_.isArray(a[c])?a[c]=_.union(a[c],b):_.isObject(a[c])&&_.isObject(b)&&_.assign(a[c],b):a[c]=b}),a}function l(b){var c=k(b);a.defaults.headers.get=angular.extend(a.defaults.headers.get||{},{"If-Modified-Since":"Mon, 26 Jul 1997 05:00:00 GMT","Cache-Control":"no-cache",Pragma:"no-cache"}),m||d.debugInfoEnabled(!1),g.loginState("login"),c.httpInterceptors&&(_.isArray(c.httpInterceptors)?_.each(c.httpInterceptors,function(b){a.interceptors.push(b)}):a.interceptors.push(c.httpInterceptors)),c.defaultApplicationState&&g.appState(c.defaultApplicationState),c.runtimeViewStateName&&f.runtimeViewState(c.runtimeViewStateName),c.searchResultsStateName&&h.searchResultsState(c.searchResultsStateName),c.disableDialogAnimation!==!0&&e.useAnimation(),c.administrationSettingsState&&i.administratorSettingsState(c.administrationSettingsState),c.useDefaultLocale&&(window.rxLocalization.locale="en"),j.configure({resourceUrl:["rxBrowserLanguage",function(a){return function(b){return"resources/helpdocs/"+a()+"/"+b+".html"}}]})}var m,n={httpInterceptors:["rxHttpResponseErrorInterceptor","rxOverlayRequestsInterceptor","rxHttpResponseMessageInterceptor"]},o=window.location.search.replace("?","").split("&");if(o.length>0){var p={};_.each(o,function(a){var b=a.split("=");p[b[0]]?_.isUndefined(b[1])||_.union(p[b[0]],b[1].split(",")):p[b[0]]=_.isUndefined(b[1])?[]:b[1].split(",")}),_.has(p,"debug")&&(m=p.debug,n.httpInterceptors.push("rxHttpLogInterceptor"))}return{configure:function(a){return l(a)},$get:["$rootScope","$state","$http","$translate","$uibModalStack","$log","$window","RX_LOG","RX_ACCESS_DENIED","rxNotificationMessage","rxAuthorization","rxAuthentication","rxSession","rxBundleCache","rxLog",function(a,b,c,d,e,f,g,h,i,j,k,l,n,o,p){return{runApplicationConfig:function(j){function q(a,c,d){var e,f=b.href(c.name,d,{absolute:!0});return a["abstract"]?"BEGIN STATE CHANGE: to "+c.name+" "+f:(e=b.href(a.name,{},{absolute:!0}),"BEGIN STATE CHANGE: from "+a.name+" "+e+" to "+c.name+" "+f)}var r=this;if(j.bundleId&&(c.defaults.headers.common["default-bundle-scope"]=j.bundleId,o.setBundleId(j.bundleId)),m){var s,t=h.serverLogLevels,u=_.intersection(m,t);u.length?s=u.join(","):0===m.length&&(s=t.join(",")),c.defaults.headers.common["log-retrieval"]=s,u.length>0&&m.push("log"),m.length?f.setLogLevels(m):f.setLogLevels(["all"])}else f.setLogLevels(!1);a.$on("$stateChangeStart",function(a,c,e,f){"login"==c.name&&c.access&&c.access.loginRequired===!1||(n.isAlive()&&j.isUserFromRestrictedGroup?j.isUserFromRestrictedGroup()?(i.accessDeniedStateName&&!k.isStateAuthorized(c)&&(a.preventDefault(),b.go(i.accessDeniedStateName)),!a.defaultPrevented&&r.debugOptions&&p.debug(q(f,c,e))):i.accessDeniedStateName&&c.name!==i.accessDeniedStateName&&(a.preventDefault(),b.go(i.accessDeniedStateName)):(n.isAlive()||(a.preventDefault(),l.initSession().then(function(){d.use(g.rxLocalization.locale),b.go(c.name,e)})),!a.defaultPrevented&&r.debugOptions&&p.debug(q(f,c,e))))}),a.$on("$stateChangeError",function(a,c,d){e.dismissAll(),p.debug("STATE CHANGE ERROR: "+c.name+" "+b.href(c.name,d,{absolute:!0}))}),a.$on("$stateChangeSuccess",function(a,c,d){e.dismissAll(),p.debug("END STATE CHANGE: "+c.name+" "+b.href(c.name,d,{absolute:!0}))})}}}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.association.instance").factory("rxAssociationInstanceCommands",["rxCommandResource",function(a){function b(a,b,c){return b=_.isArray(b)?b:[b],c=_.isArray(c)?c:[c],rx.assert.assertStringWithLength(a),rx.assert.assertArrayWithLength(b),rx.assert.assertArrayWithLength(c),d.execute({associationDefinitionName:a,nodeARecordInstanceIds:b,nodeBRecordInstanceIds:c})}function c(a,b,c){return b=_.isArray(b)?b:[b],c=_.isArray(c)?c:[c],rx.assert.assertStringWithLength(a),rx.assert.assertArrayWithLength(b),rx.assert.assertArrayWithLength(c),e.execute({associationDefinitionName:a,nodeARecordInstanceIds:b,nodeBRecordInstanceIds:c})}var d=a.withType("com.bmc.arsys.rx.application.association.command.AssociateMultipleCommand"),e=a.withType("com.bmc.arsys.rx.application.association.command.DisassociateMultipleCommand");return{associateRecords:b,disassociateRecords:c}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.body-state").factory("rxBodyState",["RX_BODY_STATE",function(a){function b(b){d.removeClass(_.values(a.header).join(" ")),d.addClass(b)}function c(b){d.removeClass(_.values(a.content).join(" ")),d.addClass(b)}var d=$("body");return{setHeaderState:b,setContentState:c}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.cache").factory("rxBundleCache",["$q","rxLog","rxString","rxActionTypeDataPageResource","rxRoleDataPageResource","rxGlobalCache",function(a,b,c,d,e,f){function g(){o=_.cloneDeep(p),b.debug("rxBundleCache: cleared.")}function h(a){a!==i()&&(g(),o.bundleId=a,b.debug(c.format("rxBundleCache: bundle ID set to %s.",a)))}function i(){return o.bundleId}function j(){return rx.assert.assertStringWithLength(o.bundleId,"rxBundleCache: bundle ID is not set."),o.bundleName||(o.bundleName=f.getBundleDescriptor(o.bundleId).then(function(a){return o.bundleName=a.name,o.bundleName})),a.when(o.bundleName)}function k(){return rx.assert.assertStringWithLength(o.bundleId,"rxBundleCache: bundle ID is not set."),o.bundleFriendlyName||(o.bundleFriendlyName=f.getBundleDescriptor(o.bundleId).then(function(a){return o.bundleFriendlyName=a?a.friendlyName||a.id:o.bundleId,o.bundleFriendlyName})),a.when(o.bundleFriendlyName)}function l(){return rx.assert.assertStringWithLength(o.bundleId,"rxBundleCache: bundle ID is not set."),o.roleDescriptors||(o.roleDescriptors=e.get(-1,0,{propertySelection:["applicationName","roleName","roleID"].join(),applicationName:o.bundleId}).then(function(a){return o.roleDescriptors=a.plain().data,o.roleDescriptors})),a.when(o.roleDescriptors)}function m(){return rx.assert.assertStringWithLength(o.bundleId,"rxBundleCache: bundle ID is not set."),o.bundleActionTypes||(o.bundleActionTypes=d.get(-1,0,{requireDependent:!0}).then(function(a){return o.bundleActionTypes=a.data,o.bundleActionTypes})),a.when(o.bundleActionTypes)}function n(){return rx.assert.assertStringWithLength(o.bundleId,"rxBundleCache: bundle ID is not set."),o.bundleDependencies||(o.bundleDependencies=f.getBundleDescriptor(o.bundleId).then(function(a){return o.bundleDependencies=a.dependentBundles,o.bundleDependencies})),a.when(o.bundleDependencies)}var o,p={bundleId:null,bundleName:null,bundleFriendlyName:null,bundleActionTypes:null,roleDescriptors:null,bundleDependencies:null};return g(),{clear:g,getBundleId:i,setBundleId:h,getBundleName:j,getBundleFriendlyName:k,getActionTypes:m,getRoleDescriptors:l,getBundleDependencies:n}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.cache").factory("rxDesignerCache",["$q","rxAssociationDefinitionResource","rxRecordDefinitionResource","rxProcessDefinitionDataPageResource","rxRecordDefinitionDataPageResource","rxNamedListDefinitionNameDataPageResource","rxNamedListDefinitionResource","rxAssociationNodeTreeDataPageResource","rxGroupDataPageResource","rxRoleDataPageResource","rxProcessDefinitionResource",function(a,b,c,d,e,f,g,h,i,j,k){function l(){C=_.cloneDeep(D)}function m(c){return c&&!C.associationDefinitions[c]&&(C.associationDefinitions[c]=b.get(c).then(function(a){return C.associationDefinitions[c]=a,C.associationDefinitions[c]})),a.when(C.associationDefinitions[c])}function n(b,d){return!b||!d&&C.recordDefinitions[b]||(C.recordDefinitions[b]=c.get(b).then(function(a){return C.recordDefinitions[b]=a,C.recordDefinitions[b]})),a.when(C.recordDefinitions[b])}function o(b,d){return null===d&&(d=0),!b||C.recordDefinitionsByOverlay[d]&&C.recordDefinitionsByOverlay[d][b]||(C.recordDefinitionsByOverlay[d]||(C.recordDefinitionsByOverlay[d]={}),C.recordDefinitionsByOverlay[d][b]=c.getFromOverlay(b,d).then(function(a){return C.recordDefinitionsByOverlay[d][b]=a,C.recordDefinitionsByOverlay[d][b]})),a.when(C.recordDefinitionsByOverlay[d][b])}function p(b){return _.isString(b)&&(b=[b]),a.all(b.map(function(a){return n(a)}))}function q(b){return b&&!C.namedListDefinitions[b]&&(C.namedListDefinitions[b]=g.get(b).then(function(a){return C.namedListDefinitions[b]=a,C.namedListDefinitions[b]})),a.when(C.namedListDefinitions[b])}function r(){return C.namedListDefinitionNameDataPage||(C.namedListDefinitionNameDataPage=f.get().then(function(a){return C.namedListDefinitionNameDataPage=a.data,C.namedListDefinitionNameDataPage})),a.when(C.namedListDefinitionNameDataPage)}function s(){return C.recordDefinitionDescriptors||(C.recordDefinitionDescriptors=e.get(-1,0,{propertySelection:["name","recordDefinitionType"]}).then(function(a){return C.recordDefinitionDescriptors=a.data,C.recordDefinitionDescriptors})),a.when(C.recordDefinitionDescriptors)}function t(){return C.bundleRecordDefinitionDescriptors||(C.bundleRecordDefinitionDescriptors=e.get(-1,0,{propertySelection:["name","recordDefinitionType"],requireDependent:!0}).then(function(a){return C.bundleRecordDefinitionDescriptors=a.data,C.bundleRecordDefinitionDescriptors})),a.when(C.bundleRecordDefinitionDescriptors)}function u(a){return _.map(a,function(a){return C.processDefinitions[a]})}function v(b){return b&&!C.processDefinitions[b]&&(C.processDefinitions[b]=z().then(function(c){return _.includes(c,b)?k.get(b).then(function(a){return C.processDefinitions[b]=a.plain(),C.processDefinitions[b]}):(C.processDefinitions=_.remove(C.processDefinitions,b),a.reject())})),a.when(C.processDefinitions[b])}function w(b){return z().then(function(c){var d=_.filter(b,function(a){return _.includes(c,a)}),e=_.reject(d,function(a){return _.isPlainObject(C.processDefinitions[a])});if(e.length){var f=_.map(e,function(a){return v(a)});return a.all(f).then(function(){return u(b)})}return a.when(u(b))})}function x(a){var b=a.lastUpdateTime?a.name:a.guid;C.processDefinitions[b]=a}function y(){return C.processDefinitionNames||(C.processDefinitionNames=d.get(-1,0,{propertySelection:["name"].join(),requireDependent:!0}).then(function(a){return C.processDefinitionNames=_.map(a.data,"name"),C.processDefinitionNames})),a.when(C.processDefinitionNames)}function z(){return C.allProcessDefinitionNames||(C.allProcessDefinitionNames=d.get(-1,0,{propertySelection:["name"]},{"default-bundle-scope":void 0}).then(function(a){return C.allProcessDefinitionNames=_.map(a.data,"name"),C.allProcessDefinitionNames})),a.when(C.allProcessDefinitionNames)}function A(b){_.isString(b)&&(b=[b]);var c=_.transform(b,function(a,b){b&&!C.recordAssociations[b]&&(C.recordAssociations[b]=h.withName(b).get(-1,0,{depth:1}).then(function(a){return C.recordAssociations[b]=_.map(a.data,"value"),C.recordAssociations[b]})),a[b]=C.recordAssociations[b]},{});return a.all(c)}function B(b){_.isString(b)&&(b=[b]);var c=_.transform(b,function(a,b){b&&!C.recordAssociationsTree[b]&&(C.recordAssociationsTree[b]=h.withName(b).get(-1,0,{depth:2}).then(function(a){return C.recordAssociationsTree[b]=a,C.recordAssociationsTree[b]})),a[b]=C.recordAssociationsTree[b]},{});return a.all(c)}var C,D={associationDefinitions:{},recordDefinitions:{},recordDefinitionsByOverlay:{},processDefinitions:{},recordAssociations:{},recordAssociationsTree:{},namedListDefinitions:{},namedListDefinitionNameDataPage:null,processDefinitionNames:null,recordDefinitionDescriptors:null,bundleRecordDefinitionDescriptors:null,allProcessDefinitionNames:null};return l(),{clear:l,getAssociationDefinition:m,getRecordDefinition:n,getRecordDefinitionFromOverlay:o,getRecordDefinitions:p,getRecordDefinitionDescriptors:s,getBundleRecordDefinitionDescriptors:t,getProcessDefinition:v,getProcessDefinitions:w,setProcessDefinition:x,getProcessDefinitionNames:y,getNamedListDefinitionNameDataPage:r,getNamedListDefinition:q,getRecordAssociations:A,getRecordAssociationsTree:B}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.cache").factory("rxGlobalCache",["$q","$window","$document","rxActionTypeDataPageResource","rxGroupDataPageResource","rxBundleDescriptorDataPageResource","rxBundleDescriptorResource",function(a,b,c,d,e,f,g){function h(){p=_.cloneDeep(q)}function i(){p.groupDescriptors=null,p.groupDescriptorsForField=null}function j(){return p.rootActionTypes||(p.rootActionTypes=d.get(-1,0,null,{"default-bundle-scope":void 0}).then(function(a){return p.rootActionTypes=a.data,p.rootActionTypes})),a.when(p.rootActionTypes)}function k(){var a=document.documentElement.getAttribute("rx-app");return _.find(b.rxBundleDependencies,{id:a})}function l(){return p.bundleDescriptors||(p.bundleDescriptors=f.get().then(function(a){return p.bundleDescriptors=a.data,p.bundleDescriptors})),a.when(p.bundleDescriptors)}function m(b){return b&&!p.bundleDescriptorsById[b]&&(p.bundleDescriptorsById[b]=g.get(b).then(function(a){return p.bundleDescriptorsById[b]=a,p.bundleDescriptorsById[b]})),a.when(p.bundleDescriptorsById[b])}function n(){return p.groupDescriptors||(p.groupDescriptors=e.get(-1,0,{propertySelection:["groupName","groupId"].join(),queryExpression:"('120' != 1 AND '106' != 5)"}).then(function(a){return p.groupDescriptors=a.plain().data,p.groupDescriptors})),a.when(p.groupDescriptors)}function o(){return p.groupDescriptorsForField||(p.groupDescriptorsForField=e.get(-1,0,{propertySelection:["groupName","groupId"].join()}).then(function(a){return p.groupDescriptorsForField=a.plain().data,p.groupDescriptorsForField})),a.when(p.groupDescriptorsForField)}var p,q={bundleDescriptors:null,bundleDescriptorsById:{},rootActionTypes:null,groupDescriptors:null,groupDescriptorsForField:null};return h(),{clear:h,clearGroupDescriptors:i,getBundleDescriptors:l,getBundleDescriptor:m,getCurrentApplicationBundleDescriptor:k,getRootActionTypes:j,getGroupDescriptors:n,getFieldGroupDescriptors:o}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.confirmation-message-dialog").service("rxConfirmationMessageDialog",["$uibModal",function(a){this.showDialog=function(b){return a.open({templateUrl:"scripts/components/confirmation-message-dialog/confirmation-message-dialog.html",controller:"rxConfirmationMessageDialogController",windowClass:b.windowClass||"rx-confirmation-message",resolve:{context:b.context}})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.definition-picker").factory("rxDefinitionPickerCache",["$q","rxRecordDefinitionDataPageResource","rxNamedListDefinitionDataPageResource","rxProcessDefinitionDataPageResource","rxAssociationDefinitionDataPageResource","RX_VIEW_DEFINITION","RX_RECORD_DEFINITION","rxViewDefinitionDataPageResource",function(a,b,c,d,e,f,g,h){function i(a){rx.assert.assertFunction(a.$on,"Should be scope instance"),a.$on("$destroy",function(){j(a)}),A.push(a)}function j(a){_.remove(A,a),_.isEmpty(A)&&k()}function k(){z=_.clone(B)}function l(){return z.allRecordDefinitionDescriptors||(z.allRecordDefinitionDescriptors=b.get(-1,0,{propertySelection:["name"]},{"default-bundle-scope":void 0}).then(function(a){return z.allRecordDefinitionDescriptors=a.data,z.allRecordDefinitionDescriptors})),a.when(z.allRecordDefinitionDescriptors)}function m(){return z.rxRecordDefinitionDescriptors||(z.rxRecordDefinitionDescriptors=b.get(-1,0,{propertySelection:["name"],rxDefinitionsOnly:!0},{"default-bundle-scope":void 0}).then(function(a){return z.rxRecordDefinitionDescriptors=a.data,z.rxRecordDefinitionDescriptors})),a.when(z.rxRecordDefinitionDescriptors)}function n(){return z.bundleRecordDefinitionDescriptors||(z.bundleRecordDefinitionDescriptors=b.get(-1,0,{propertySelection:["name"],requireDependent:!0}).then(function(a){return z.bundleRecordDefinitionDescriptors=a.data,z.bundleRecordDefinitionDescriptors})),a.when(z.bundleRecordDefinitionDescriptors)}function o(){return z.allRegularRecordDefinitionDescriptors||(z.allRegularRecordDefinitionDescriptors=b.get(-1,0,{propertySelection:["name"],resourceType:g.recordDefinitionTypes.regular.recordDefinitionType},{"default-bundle-scope":void 0}).then(function(a){return z.allRegularRecordDefinitionDescriptors=a.data,z.allRegularRecordDefinitionDescriptors})),a.when(z.allRegularRecordDefinitionDescriptors)}function p(){return z.rxRegularRecordDefinitionDescriptors||(z.rxRegularRecordDefinitionDescriptors=b.get(-1,0,{propertySelection:["name"],rxDefinitionsOnly:!0,resourceType:g.recordDefinitionTypes.regular.recordDefinitionType},{"default-bundle-scope":void 0}).then(function(a){return z.rxRegularRecordDefinitionDescriptors=a.data,z.rxRegularRecordDefinitionDescriptors})),a.when(z.rxRegularRecordDefinitionDescriptors)}function q(){return z.bundleRegularRecordDefinitionDescriptors||(z.bundleRegularRecordDefinitionDescriptors=b.get(-1,0,{propertySelection:["name"],requireDependent:!0,resourceType:g.recordDefinitionTypes.regular.recordDefinitionType}).then(function(a){return z.bundleRegularRecordDefinitionDescriptors=a.data,z.bundleRegularRecordDefinitionDescriptors})),a.when(z.bundleRegularRecordDefinitionDescriptors)}function r(){return z.allProcessDefinitionDescriptors||(z.allProcessDefinitionDescriptors=d.get(-1,0,{propertySelection:["name"]},{"default-bundle-scope":void 0}).then(function(a){return z.allProcessDefinitionDescriptors=a.data,z.allProcessDefinitionDescriptors})),a.when(z.allProcessDefinitionDescriptors)}function s(){return z.bundleProcessDefinitionDescriptors||(z.bundleProcessDefinitionDescriptors=d.get(-1,0,{propertySelection:["name"],requireDependent:!0}).then(function(a){return z.bundleProcessDefinitionDescriptors=a.data,z.bundleProcessDefinitionDescriptors})),a.when(z.bundleProcessDefinitionDescriptors)}function t(){return z.allViewDefinitionDescriptors||(z.allViewDefinitionDescriptors=h.get(-1,0,{propertySelection:["name"],viewType:f.viewType.regular},{"default-bundle-scope":void 0}).then(function(a){return z.allViewDefinitionDescriptors=a.data,z.allViewDefinitionDescriptors})),a.when(z.allViewDefinitionDescriptors)}function u(){return z.bundleViewDefinitionDescriptors||(z.bundleViewDefinitionDescriptors=h.get(-1,0,{propertySelection:["name"],requireDependent:!0,viewType:f.viewType.regular}).then(function(a){return z.bundleViewDefinitionDescriptors=a.data,z.bundleViewDefinitionDescriptors})),a.when(z.bundleViewDefinitionDescriptors)}function v(){return z.allNamedListDefinitionDescriptors||(z.allNamedListDefinitionDescriptors=c.get(-1,0,{propertySelection:["name"]},{"default-bundle-scope":void 0}).then(function(a){return z.allNamedListDefinitionDescriptors=a.data,z.allNamedListDefinitionDescriptors})),a.when(z.allNamedListDefinitionDescriptors)}function w(){return z.bundleNamedListDefinitionDescriptors||(z.bundleNamedListDefinitionDescriptors=c.get(-1,0,{propertySelection:["name"],requireDependent:!0}).then(function(a){return z.bundleNamedListDefinitionDescriptors=a.data,z.bundleNamedListDefinitionDescriptors})),a.when(z.bundleNamedListDefinitionDescriptors)}function x(){return z.allAssociationDescriptors||(z.allAssociationDescriptors=e.get(-1,0,{propertySelection:["name"]},{"default-bundle-scope":void 0}).then(function(a){return z.allAssociationDescriptors=a.plain().data,z.allAssociationDescriptors})),a.when(z.allAssociationDescriptors)}function y(){return z.bundleAssociationDescriptors||(z.bundleAssociationDescriptors=e.get(-1,0,{propertySelection:["name"],requireDependent:!0}).then(function(a){return z.bundleAssociationDescriptors=a.plain().data,z.bundleAssociationDescriptors})),a.when(z.bundleAssociationDescriptors)}var z,A=[],B={allViewDefinitionDescriptors:null,bundleViewDefinitionDescriptors:null,allRecordDefinitionDescriptors:null,rxRecordDefinitionDescriptors:null,bundleRecordDefinitionDescriptors:null,allRegularRecordDefinitionDescriptors:null,rxRegularRecordDefinitionDescriptors:null,bundleRegularRecordDefinitionDescriptors:null,allNamedListDefinitionDescriptors:null,bundleNamedListDefinitionDescriptors:null,allAssociationDescriptors:null,bundleAssociationDescriptors:null,allProcessDefinitionDescriptors:null,bundleProcessDefinitionDescriptors:null};return k(),{registerConsumer:i,getBundleRecordDefinitionDescriptors:n,getAllRegularRecordDefinitionDescriptors:o,getBundleRegularRecordDefinitionDescriptors:q,getRxRegularRecordDefinitionDescriptors:p,getAllRecordDefinitionDescriptors:l,getRxRecordDefinitionDescriptors:m,getBundleViewDefinitionDescriptors:u,getAllViewDefinitionDescriptors:t,getAllNamedListDefinitionDescriptors:v,getBundleNamedListDefinitionDescriptors:w,getBundleAssociationDefinitionDescriptors:y,getAllAssociationDefinitionDescriptors:x,getAllProcessDefinitionDescriptors:r,getBundleProcessDefinitionDescriptors:s}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").factory("RxAutoComplete",["$q",function(a){function b(){this.initialize.apply(this,arguments)}return b.prototype={initialize:angular.noop,autoCompleteTriggers:['<"','>"','="','!="','>="','<="'],getSuggestions:function(b){var c=b.text.substr(0,b.cursor.position),d=this._getLastToken(c);if(d){var e=this.extractData(d,b);if(e.component&&_.isFunction(e.component.getAutoCompleteList))return e.component.getAutoCompleteList({fieldPath:e.fieldPath})}return a.when([])},isAutoCompleteAvailable:function(a){var b=!0,c=a.text.substr(0,a.cursor.position),d=this._getLastToken(c);if(d){var e=this.extractData(d,a);if(e.component&&_.isFunction(e.component.getAutoCompleteList)){var f=c.lastIndexOf(d),g=c.substr(f+d.length);g=g.replace(/\s+/g,""),b=_.includes(this.autoCompleteTriggers,g)}else b=!1}else b=!1;return b},extractData:function(){rx.assert.fail("Method extractData should be implemented")},_getLastToken:function(a){return _.last(this._findTokens(a))},_findTokens:function(a){return a.match(/(\$[^{} ]+\$)|((\${[^{]+}))/g)}},b.extend=Backbone.Model.extend,b}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").factory("rxDesignerCellHighlighter",function(){function a(a){var b={bpmn:{"bpmn.Event":".scalable circle.outer","bpmn.Annotation":".rotatable path.stroke",link:"path.connection","bpmn.Flow":"path.connection","bpmn.Gateway":".scalable polygon.body","bpmn.Activity":".scalable rect.outer","basic.Rect":".scalable rect"},rx:{"rx.TextAnnotation":".rotatable path.stroke","rx.TextAnnotationAssociation":"path.connection","rx.SequenceFlow":"path.connection","rx.ParallelGateway":".scalable polygon.body","rx.ExclusiveGateway":".scalable polygon.body","rx.StartEvent":".scalable circle.outer","rx.EndEvent":".scalable circle.outer","rx.CallActivity":".scalable rect.outer","rx.SubProcess":".scalable rect.outer","rx.ReceiveTask":".scalable rect.outer","rx.ProcessAction":".scalable rect.outer","rx.UserTask":".scalable rect.outer","rx.TimerEvent":".scalable circle.outer","rx.ApprovalProcess":".scalable rect.outer","rx.WaitForApprovalReview":".scalable rect.outer","rx.AssignmentProcess":".scalable rect.outer"}},c=Backbone.View.extend({cellView:void 0,cellViewHighlighterV:void 0,options:{strokeWidth:10,circleRadius:31.5,color:"green"},initialize:function(a){this.cellView=a,this.listenTo(this.cellView.paper,"scale translate",this.update),this.$el=this.cellView.$el},render:function(a){this.options=_.extend({},_.result(this,"options"),a||{}),this.cellView.model.on("remove",this.remove),this.update()},update:function(){this._eraseHighlight(),this._drawHighlight()},remove:function(a){this._eraseHighlight(),Backbone.View.prototype.remove.apply(this,arguments)},_eraseHighlight:function(){this.cellViewHighlighterV&&this.cellViewHighlighterV.remove()},_drawHighlight:function(){var a=b.rx[this.cellView.model.prop("type")]||b.bpmn[this.cellView.model.prop("type")],c=this.cellView.$el.find(a).first(),d=c[0].outerHTML?V(c[0].outerHTML).clone():void 0;
d&&(d.attr({stroke:this.options.color,"stroke-width":this.options.strokeWidth}),"circle"==d.node.tagName&&d.attr({r:this.options.circleRadius}),this.cellViewHighlighterV=d,c.closest("g").prepend(d.node))}});return new c(a)}return{get:function(b){return b instanceof joint.dia.CellView?new a(b):angular.noop}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").factory("rxDesignerUserPreferences",["$q","debounce","rxUserPreferences","RX_USER_PREFERENCES","RX_DESIGNER",function(a,b,c,d,e){function f(a,f,g){var h=this;rx.assert.assertString(a),rx.assert.assertString(f),this.componentId=a,this.uiComponentSettingData={},this.uiComponentSettingData[d.fields.version]=f,this.uiComponentSettingData[d.fields.componentTypeName]=e.designer,this.uiComponentSettingData[d.fields.preferences]=g,this.savePreference=b(function(){return c.setUiComponentPreferences(h.componentId,h.uiComponentSettingData)},1e3)}function g(a,b,c){return new f(a,b,c)}return f.prototype={setStencilSettings:function(a){this.uiComponentSettingData[d.fields.preferences].stencilSettings=a,this.savePreference()},getStencilSettings:function(){var a=this;return c.getUiComponentPreferences(a.componentId).then(function(b){return b=b||{},_.assign(a.uiComponentSettingData[d.fields.preferences],b).stencilSettings})["catch"](function(){return a.uiComponentSettingData[d.fields.preferences].stencilSettings})}},{getInstance:g}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").factory("rxOverlay",["rxCurrentUser","rxSession","RX_OVERLAY",function(a,b,c){function d(){var c=a.get()||{};return _.pick(b.getCurrentOverlayContext(),"overlayGroupId").overlayGroupId||c.defaultOverlayGroupId}function e(a,b){var e=d();return e===a&&null===b?c.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP:e===a?c.operationTypes.CUSTOMIZED_IN_THIS_OVERLAY_GROUP:c.operationTypes.NOT_CUSTOMIZED_IN_THIS_OVERLAY_GROUP}function f(a,b){if(_.isUndefined(b.lastUpdateTime))return!0;var d=b.overlayDescriptor||{parentOverlayGroupId:null},f=e(b.overlayGroupId,d.parentOverlayGroupId);return f===c.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP||b[a]}function g(a){var b=d();return!a.lastUpdateTime||b===a.overlayGroupId}return{getOverlayOperation:e,isFieldFromSameOverlay:g,isCustomizationEnabled:f}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").factory("rxTimerEditor",["$uibModal",function(a){function b(b){return b=b||{},a.open({templateUrl:"scripts/components/designer/editors/timer-editor.html",controller:"TimerEditorController",backdrop:"static",resolve:{expressionContext:function(){return b.expressionContext}},windowClass:"rx-timer-editor-dialog"})}return{open:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").factory("rxActionElementInterface",["rxId","$q","dialogs","rxDesignerCache","$rootScope","definitionNameFilter","RX_EXPRESSION_EDITOR","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h){function i(a){return"REQUIRED"===a.fieldOption&&(""===a.defaultValue||null===a.defaultValue||void 0===a.defaultValue)}function j(a){return _.includes(["createRecord","updateRecord","getRecord","getRecordsByQuery","deleteRecord"],a)}function k(a){return _.includes(["createRecord","updateRecord"],a)}function l(a){return"updateRecord"==a}function m(a){return"createRecord"==a}function n(a){return _.includes(["associateRecords","associateChildRecord","disassociateRecords"],a)}function o(a){return"setSecurityLabel"===a||"removeSecurityLabel"===a}function p(a){return"setSecurityLabel"===a}function q(a){return"removeSecurityLabel"===a}function r(a){return"deleteRecord"===a}function s(a){return"getRecordsByQuery"===a}function t(a){return _.includes(["businessTimeAdd","businessTimeDifference","businessTimeFreeWindow","businessTimeNextWindow","businessTimeSubtract"],a)}function u(a){var b=new RegExp("\\${queryExpression.([^}]+)}","g");return(a||"").replace(b,"'$1'")}return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ActionElementInterface={_onChangeRxData:function(a,b,d){var e=this;if("rxData/inputMap/recordDefinitionName"===d.propertyPath&&(j(e.prop("rxData/actionTypeName"))||o(e.prop("rxData/actionTypeName")))){var f=e.prop("rxData/inputMap/recordDefinitionName");f!=e._lastRecordDefinitionName&&(e._lastRecordDefinitionName?s(b.actionTypeName)?c.confirm("Warning!","Query Expression, Fields and Output Map parameters will be cleared. Do you want to continue?").result.then(function(){e.prop("rxData/inputMap/queryExpression",""),e.prop("rxData/outputMap",null,{silent:!0}),e.prop("rxData/outputMap",[],{silent:!0}),e._setRecordDefinitionName(f)},function(){e.prop("rxData/inputMap/recordDefinitionName",e._lastRecordDefinitionName)}):r(b.actionTypeName)?e._setRecordDefinitionName(f):c.confirm("Warning!","Input Map and Output Map parameters will be cleared. Do you want to continue?").result.then(function(){e.prop("rxData/outputMap",null,{silent:!0}),e.prop("rxData/outputMap",[],{silent:!0}),e._setRecordDefinitionName(f)},function(){e.prop("rxData/inputMap/recordDefinitionName",e._lastRecordDefinitionName)}):e._setRecordDefinitionName(f))}if(e._lastRecordSource!==e.prop("rxData/inputMap/recordSource")&&(o(b.actionTypeName)||l(b.actionTypeName))){var g=e.prop("rxData/inputMap/recordSource")?"true"===e.prop("rxData/inputMap/recordSource"):null;g?g&&c.confirm("Warning!","Input Map Fields will be cleared. Do you want to continue?").result.then(function(){e._lastRecordSource=e.prop("rxData/inputMap/recordSource"),e._lastRecordDefinitionName="",e.prop("rxData/inputMap/record",""),e.prop("rxData/inputMap/recordDefinitionName",""),e.prop("rxData/inputMap/recordID",""),o(b.actionTypeName)?e._setSecurityLabel():e.updateRecordDefinition()},function(){e.prop("rxData/inputMap/recordSource",e._lastRecordSource)}):c.confirm("Warning!","Record Definition and Record ID will be cleared. Do you want to continue?").result.then(function(){e._lastRecordSource=e.prop("rxData/inputMap/recordSource"),e._lastRecordDefinitionName="",e.prop("rxData/inputMap/recordDefinitionName",""),e.prop("rxData/inputMap/recordID",""),o(b.actionTypeName)?e._setSecurityLabel():e.updateRecordDefinition(g)},function(){e.prop("rxData/inputMap/recordDefinitionName",e._lastRecordDefinitionName),e.prop("rxData/inputMap/recordSource",e._lastRecordSource)})}},_setRecordDefinitionName:function(a){var b=this;b.prop("rxData/actionTypeName");b._lastRecordDefinitionName=a,b.commonDataDictionary=null,e.$broadcast(g.events.refreshInspector,b)},_buildInspector:function(a){var b=angular.copy(this.get("rxInspector")),c={recordDefinitionName:b.inputs.rxData.inputMap.recordDefinitionName},d=this.prop("rxData/actionTypeName");if(!this.prop("rxInspector/readonly"))if(s(d)||k(d)){var e={group:"inputMap",label:"Add/Remove Input Map Fields",type:"rx-inspector-add-remove-input-map-fields",index:2,attributes:{},attrs:{}};this.isRecordSource()||(e.when={notEmpty:{"rxData/inputMap/recordDefinitionName":""}}),s(d)?(e.fieldType="card-view",e.label="Add/Remove Fields",e.attributes.isAllFieldDisplay=!0):m(d)&&(e.attributes.enforceRequiredFields=!0),b.inputs.rxData.inputMap.inputMapFields=e}else b.inputs.rxData.inputMap=_.assign(c,this._buildInspectorInputMap(a,b.readonly));this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0}),this.trigger("rx:change:inputs",this)},_buildInspectorInputMap:function(a,b){var c=this.prop("rxData/actionTypeName"),d={};return this._getFieldDefinitions(a).forEach(function(a){if("updateRecord"!==c||a.id!==h.coreFieldIds.id){var e={label:a.name,type:"rx-inspector-expression-node-field",group:"inputMap"};if(a.resourceType===h.dataTypes.selection.resourceType&&(e.type="rx-inspector-expression-input-select",e.options=_.map(a.optionNamesById,function(a,b){return{content:a,value:b}})),i(a))e.attrs={label:{"class":"required"}};else if(b){var f={},g={};f["rxData/inputMap/"+a.name]=void 0,g["rxData/inputMap/"+a.name]="",e.when={and:[{ne:f},{ne:g}]}}b&&(e.attrs=e.attrs||{},$(e.attrs).prop({input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}})),d[a.name]=e}}),d},_buildDataInputMap:function(a){var b={};return a&&this._getFieldDefinitions(a).forEach(function(a){b[a.name]=""}),b},_getFieldDefinitions:function(a){var b=angular.copy(this.get("rxData")),c=_(a.fieldDefinitions).filter(function(a){return"SYSTEM"!=a.fieldOption}).sortBy("name").value();return"createRecord"===b.actionTypeName&&(c=_.sortBy(c,function(a){return!i(a)})),c},getCurrentRecordDefinition:function(){return d.getRecordDefinition(this._lastRecordDefinitionName)},getRecordDefinitionName:function(){var a=this.prop("rxData/inputMap/recordDefinitionName");return a?a.replace(/^\"|\"$/g,""):a}},{isFieldRequired:i,isRecordAction:j,isCreateOrUpdateRecordAction:k,isUpdateRecordAction:l,isCreateRecordAction:m,isAssociationAction:n,isSetSecurityLabelAction:p,isRemoveSecurityLabelAction:q,isSecurityLabelAction:o,isGetRecordsByQueryAction:s,getExpressionInArFormat:u,isBusinessTimeAction:t}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").factory("rxDataDictionary",["rxUtils",function(a){function b(b){return a.flattenTree({children:angular.copy(b)}).filter(function(a){return a&&angular.isDefined(a.value)})}return{convertTreeToList:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").factory("rxDefaultExpressionConfigurator",["$q","$rootScope","rxUtils","rxDataDictionary","rxExpressionConfigurationInterface","rxPropertyNavigator","RX_EXPRESSION_EDITOR",function(a,b,c,d,e,f,g){function h(a,b){return _.filter(c.flattenTree({children:a}),b)}function i(a,b){var c="rxInspector/inputs/",d=c+a.replace(/\/\d*\//g,"/item/");if(!b.prop(d)){var e=d.split("/");e.splice(-1,0,"properties"),d=e.join("/")}return d}function j(a,b){_.forEach(a,function(a){a.tooltip=b?b+" > "+a.label:a.label,a.children&&j(a.children,a.tooltip)})}return e.extend({_model:null,_currentExpressionField:"",_availableExpressionFields:[],_expressionResults:{},initialize:function(b){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this._model=b,this._defaultDictionaryConfig={validateExpression:function(b,c){return a.when(!0)},updateDataDictionary:function(b,c){return a.when(b)},getExpandedNodes:function(b,c){var d=_.cloneDeep(b);return _.remove(d,{label:"General"}),a.when(d)},operators:g.operators.math}},getDataDictionary:function(){return _.cloneDeep(this.cellDataDictionary)},supportDynamicQualification:function(){return!!_.isFunction(this._model.supportDynamicQualification)&&this._model.supportDynamicQualification(this._currentExpressionField)},setCurrentExpressionField:function(a){var b=this._model;this._currentExpressionField=a,this._availableExpressionFields=_.filter(f.getExpressionFields(),function(a){return!_.isUndefined(b.prop(a.path))})},getCurrentExpressionField:function(){var a=this,b=_.find(this._availableExpressionFields,{path:a._currentExpressionField});return b||(b=this._model.prop(i(a._currentExpressionField,this._model))),this.updateDataDictionary(this.commonDataDictionary,this._currentExpressionField).then(function(c){return a.getExpandedNodes(c,a._currentExpressionField).then(function(d){return{value:a._model.prop(a._currentExpressionField),dataDictionary:c,label:b.label,operators:a.getOperators(a._currentExpressionField),expandedNodes:d}})})},getNextExpressionField:function(){var a=this,b=_.findIndex(this._availableExpressionFields,{path:a._currentExpressionField})+1;return this._currentExpressionField=this._availableExpressionFields[b].path,this.getCurrentExpressionField()},getPreviousExpressionField:function(){var a=this,b=_.findIndex(this._availableExpressionFields,{path:a._currentExpressionField})-1;return this._currentExpressionField=this._availableExpressionFields[b].path,this.getCurrentExpressionField()},doesPreviousExpressionFieldExist:function(){var a=this,b=_.findIndex(this._availableExpressionFields,{path:a._currentExpressionField});return 0!==b&&b!==-1},doesNextExpressionFieldExist:function(){var a=this,b=_.findIndex(this._availableExpressionFields,{path:a._currentExpressionField});return b!==this._availableExpressionFields.length-1&&b!==-1},validateExpressionField:function(a){return this.validateExpression(this._currentExpressionField,a)},setDefaultDictionaryConfig:function(a){_.assign(this._defaultDictionaryConfig,a)},registerExpressionConfig:function(a){this._updateDataDictionaryConfigs||(this._updateDataDictionaryConfigs=[]),rx.assert.assertInstanceof(a.regExp,RegExp,"regExp must be a regular expression."),_.defaults(a,this._defaultDictionaryConfig),this._updateDataDictionaryConfigs.push(a)},shouldRebuildCellDataDictionary:function(a){return!angular.equals(a,this.commonDataDictionary)},buildDataDictionary:function(c){if(this.shouldRebuildCellDataDictionary(arguments)){var e,f=this;return this.commonDataDictionary=c||this.commonDataDictionary,e=_.map(this._updateDataDictionaryConfigs,function(a){return a.updateDataDictionary.call(f,_.cloneDeep(f.commonDataDictionary))}),e.push(this._defaultDictionaryConfig.updateDataDictionary.call(f,_.cloneDeep(f.commonDataDictionary))),a.all(e).then(function(a){return f.cellDataDictionary=_(a).each(function(a){j(a)}).map(d.convertTreeToList).flatten().uniq("value").value(),b.$broadcast(g.events.refreshExpression),f.cellDataDictionary})}return b.$broadcast(g.events.refreshExpression),a.when(this.cellDataDictionary)},getOperators:function(a){if(a){var b=_.find(this._updateDataDictionaryConfigs,function(b){return a.match(b.regExp)})||this._defaultDictionaryConfig;return b.operators}return this._defaultDictionaryConfig.operators},updateDataDictionary:function(b,c){if(c){var d=_.find(this._updateDataDictionaryConfigs,function(a){return c.match(a.regExp)})||this._defaultDictionaryConfig;return a.when(d.updateDataDictionary.call(this,_.cloneDeep(b),c)).then(function(a){return j(a),a})}return a.when(this._defaultDictionaryConfig.updateDataDictionary.call(this,_.cloneDeep(b),c)).then(function(a){return j(a),a})},getExpandedNodes:function(b,c){if(c){var d=_.find(this._updateDataDictionaryConfigs,function(a){return c.match(a.regExp)})||this._defaultDictionaryConfig;return a.when(d.getExpandedNodes.call(this,_.cloneDeep(b),c))}return a.when(this._defaultDictionaryConfig.getExpandedNodes.call(this,_.cloneDeep(b),c))},validateExpression:function(b,c){if(b){var d=_.find(this._updateDataDictionaryConfigs,function(a){return b.match(a.regExp)})||this._defaultDictionaryConfig;return a.when(d.validateExpression.call(this,b,c))}return a.when(this._defaultDictionaryConfig.validateExpression.call(this,b,c))},findElement:h,addResult:function(a){this._model.prop(this._currentExpressionField,a)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").factory("rxExpressionConfigurationInterface",function(){return joint.shapes.rx=joint.shapes.rx||{},Backbone.Model.extend({initialize:function(){},buildDataDictionary:function(a){},getDataDictionary:function(){},getOperators:function(a){},getCurrentExpressionField:function(){},setCurrentExpressionField:function(a){},getNextExpressionField:function(a){},getPreviousExpressionField:function(a){},doesPreviousExpressionFieldExist:function(a){},doesNextExpressionFieldExist:function(a){},validateExpressionField:function(){},addResult:function(){},getResults:function(){}})})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").factory("rxExpressionEditorUtils",function(){var a=/\$\{.*\}/,b=function(b){return b&&b.match(a)};return{isValidDynamicExpression:b}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").factory("rxExpressionEditor",["$uibModal","rxDefaultExpressionConfigurator",function(a,b){function c(c){c=c||{};var d={};return d.legend=c.expressionContext.legend,d.useDynamicQualification=c.expressionContext.useDynamicQualification,d.autoCompleteData=c.expressionContext.autoCompleteData||c.expressionContext.cell,d.autoComplete=c.expressionContext.autoComplete,d.expressionConfigurator={},c.expressionContext.expressionConfigurator?d.expressionConfigurator=c.expressionContext.expressionConfigurator:d.expressionConfigurator=b.getInstance(c.expressionContext.cell),d.expressionConfigurator.commonDataDictionary=c.expressionContext.dataDictionary||d.expressionConfigurator.commonDataDictionary,d.expressionConfigurator.setCurrentExpressionField(c.expressionContext.path),a.open({templateUrl:"scripts/components/expression-editor/expression-editor.html",controller:"ExpressionEditorController",backdrop:"static",resolve:{expressionContext:function(){return d}},windowClass:"rx-expression-editor-dialog "+(c.windowClass||"")})}return{open:c}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").factory("rxRichExpressionEditorAutoCompletePlugin",["$q",function(a){return CKEDITOR.plugins.add("rx-autocomplete",{init:function(b){var c={};b.addCommand("autoComplete",{exec:function(b,d){d=d||{};var e=d.cursor||b.getCursor(),f=a.defer();f.promise.then(function(a){b.contextMenu&&(c={},b.addMenuGroup("suggestions"),$.each(a,function(a,d){var e="suggestionBox suggestionBoxItem"+a;c[e]=CKEDITOR.TRISTATE_OFF,b.addMenuItem(e,{id:d.id,label:d.label,group:"suggestions",icon:null,onClick:function(){b.focus(),b.insertHtml(this.id)}})})),b.contextMenu.show(b.document.getBody(),null,e.x,e.y)}),b.fire("updateAutoCompleteSuggestions",{deferred:f,text:d.text||b.getData(),cursor:e})}}),b.contextMenu.addListener(function(){return c}),b.contextMenu.onHide=function(){c={}},delete b._.menuItems.paste,delete b._.menuItems.cut,delete b._.menuItems.copy,b.getCursor=function(){b.gettingCursorPosition=!0;var a=b.document.createElement("span");b.insertElement(a);for(var c=0,d=0,e=a.$;e.offsetParent;)c+=e.offsetLeft,d+=e.offsetTop,e=e.offsetParent;c+=e.offsetLeft,d+=e.offsetTop,d+=30,a.setText(b.id);var f=b.getData().indexOf(b.id);return a.remove(),b.gettingCursorPosition=!1,{x:c,y:d,position:f}}}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").factory("rxRichExpressionEditorPlugin",function(){return CKEDITOR.plugins.add("rx-data-dictionary-item",{requires:"widget",init:function(a){function b(b){var d=c(b),e=_(a.dictionaryList).find(function(a){if(a.showRawValue!==!0)return _.isArray(a.value)?_.includes(a.value,d):a.value==d}),f=b;if(b=b.replace(/"/g,"&quot;"),e){var g=e.tooltip||"",h=g.replace("&","&amp;").replace('"',"&quot;");f='<span class="rx-data-dictionary-item" data-value="'+b+'" title="'+h+'"><span class="rx-data-dictionary-item-icon"><i class="icon '+(e.icon||"d-icon-angle_left")+'">&nbsp;</i></span><span class="rx-data-dictionary-item-value">'+e.label+"</span></span>"}else b.match(/^\${ruleContext\.\d+}/g)&&(f='<span class="rx-data-dictionary-item rx-data-dictionary-invalid-item" data-value="'+b+'"><span class="rx-data-dictionary-item-icon"><i class="icon d-icon-field_text">&nbsp;</i></span><span class="rx-data-dictionary-item-value">'+b.match(/\d+(?=})/)[0]+"</span></span>");return f}function c(a){var b=a;return/\$\\([A-Z]+)\$/.test(a)&&(b=b.split("\\").join("")),b}a.widgets.add("rx-data-dictionary-item",{inline:!0,upcast:function(a){if(a.hasClass("rx-data-dictionary-item")){var b=a.attributes;return b.style?b.style+=";display:inline-block":b.style="display:inline-block",!0}},downcast:function(a){return new CKEDITOR.htmlParser.cdata(a.attributes["data-value"])}}),a.on("toHtml",function(a){var c=_.isArray(a.data.dataValue)?a.data.dataValue[0]:a.data.dataValue,d=c.match(/(\$[^{}\$ ]+\$)|((\${[^{]+}))|("[^"]+")|('[^']+')/g);_(d).uniq().forEach(function(a){var d=b(a),e=new RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g");c=c.replace(e,d)}).value(),a.data.dataValue=c+(d?"<span>&nbsp;</span>":"")},null,null,4),a.on("toDataFormat",function(a){a.data.dataValue=a.data.dataValue.replace(/<p>|<span>|<\/p>|<\/span>|<br \/>/g,""),a.data.dataValue=CKEDITOR.tools.htmlDecode(a.data.dataValue),a.data.dataValue=a.data.dataValue.replace(new RegExp(String.fromCharCode(160),"g")," "),a.data.dataValue=a.data.dataValue.replace(new RegExp(String.fromCharCode(8203),"g")," ")},null,null,15),a.on("key",function(a){13==a.data.keyCode&&a.cancel()}),a.on("paste",function(a){var b=a.data.dataTransfer.getData("value");b&&(a.data.dataValue=b)})}}),{}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").factory("rxPropertyNavigator",function(){function a(a){c=a}function b(){return c}var c=[];return{getExpressionFields:b,setExpressionFields:a}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-editor").provider("rxPropertyEditor",function(){var a={},b=null;return{registerEditor:function(b,c){rx.assert.assertStringWithLength(c);var d=_.isArray(b)?b:[b];_.each(d,function(b){rx.assert.assertStringWithLength(b),rx.assert.assert(!a.hasOwnProperty(b),"Property editor for data type "+b+" has already been registered."),a[b]=c})},registerDefaultDataType:function(c){rx.assert.assert(a.hasOwnProperty(c),"Property editor for data type "+c+" has not been registered."),b=c},$get:["$templateCache",function(c){function d(a){return"/rx/components/property-editor/"+a+".html"}function e(c){var e;return a.hasOwnProperty(c)?e=d(c):(rx.assert.assert(b,"Property editor for data type "+c+" has not been registered."),e=d(b)),e}function f(b){return a.hasOwnProperty(b)}for(var g in a){var h=d(g);c.put(h,a[g])}return{getPropertyEditorTemplateUrl:e,isDataTypeRegistered:f}}]}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.search-filter").factory("rxSearchFilterModel",["$filter","RX_RECORD_DEFINITION","RX_DATA_TYPES",function(a,b,c){function d(a){return _.intersection(h.slice(),_.keys(a)).length>0}function e(a){return _.reduce(a,function(a,b,c){return _.reduce(b,function(a,b,d){var e=_.isString(b)?'"'+b+'"':b;switch(c){case"eq":return"'"+d+"'="+e;case"ne":return"'"+d+"'="+e;case"lt":return"'"+d+"'<"+e;case"lte":return"'"+d+"'<="+e;case"gt":return"'"+d+"'>"+e;case"gte":return"'"+d+"'>="+e;case"in":return"'"+d+"' IN "+e;default:return"'"+d+"'="+e}},!1)},!1)}function f(a){return d(a)?e(a):_.reduce(a,function(a,b,c){var d=_.map(b,f,this);switch(c){case"and":return"("+d.join(" AND ")+")";case"or":return"("+d.join(" OR ")+")";default:return"("+d.join(" AND ")+")"}},!1)}var g=function(b){function e(a){var b=[];return _.forEach(a,function(a){var c=f(a);b.push(c)}),b}function f(b){var d;switch(b.type){case c.integer:case c.real:case c.decimal:d={name:b.displayName,label:b.displayName,id:b.field,type:b.type,options:[{label:a("translate")("com.bmc.arsys.rx.standardlib.components.search-field.searchbox.placeholder")+" "+b.displayName,type:"number",from:0,to:0,minValue:b.minValue,maxValue:b.maxValue,criteria:{id:b.field,name:b.displayName}}]};break;case c.dateTime:case c.dateOnly:case c.timeOnly:d={name:b.displayName,label:b.displayName,id:b.field,type:b.type,options:[{name:b.displayName,label:b.displayName,type:"timeStampRange",format:"mediumDate",startDatePicker:{date:new Date},endDatePicker:{date:new Date},criteria:{id:b.field,name:b.displayName}}]};break;case c.selection:d={name:b.displayName,label:b.displayName,id:b.field,type:b.type,expanded:!0,options:[]},_.forEach(b.options,function(a,c){d.options.push({name:a,label:a,id:b.field,type:"constant",criteria:{name:b.displayName,id:b.field,type:b.type,value:[c]}})});break;case c["boolean"]:d={name:b.displayName,label:b.displayName,type:b.type,id:b.field,options:[]},_.forEach([!0,!1],function(a){d.options.push({name:a,label:a,type:"constant",criteria:{id:b.field,type:b.type,name:b.displayName,value:a}})});break;default:case c.character:d={name:b.displayName,label:b.displayName,id:b.field,type:b.type,options:[{label:a("translate")("com.bmc.arsys.rx.standardlib.components.search-field.searchbox.placeholder")+" "+b.displayName,type:"search",subtype:"keyword"}]}}return d}function g(b,d){var e=[],f=b&&b.and||[],g=_.map(f,function(a){return i(a)});return _.each(g,function(b){var f,g,h=_.keys(b[0])[0],i=_.find(d,{field:h}),j={name:i.displayName},k={id:i.field,name:i.displayName,type:i.type};switch(i.type){case c.dateTime:case c.dateOnly:case c.timeOnly:f=_.find(b,function(a){return["gt","gte"].indexOf(a.op)>=0}),g=_.find(b,function(a){return["lt","lte"].indexOf(a.op)>=0}),k.value={startDate:f[i.field],endDate:g[i.field]},j.label=a("date")(k.value.startDate,"medium")+" - "+a("date")(k.value.endDate,"medium"),j.criteria=k,e.push(j);break;case c.integer:case c.real:case c.decimal:f=_.find(b,function(a){return["gt","gte"].indexOf(a.op)>=0}),g=_.find(b,function(a){return["lt","lte"].indexOf(a.op)>=0}),k.value={from:f[i.field],to:g[i.field]},j.label=k.value.from+" - "+k.value.to,j.criteria=k,e.push(j);break;default:_.each(b,function(a){var b=a[i.field];j.label=b,j.name=b,i.type==c["boolean"]?k.value=b:k.value=[b],j.criteria=k,e.push(_.cloneDeep(j))})}}),e}function h(a){return _.reduce(a,function(a,b,c){return["lt","gt","gte","lte"].indexOf(c)>=0?(b.op=c,b):b},!1)}function i(a){return d(a)?h(a):_.reduce(a,function(a,b,c){var d=_.map(b,i,this);switch(c){case"and":return d;case"or":return d;default:return a}},!1)}this.initialFilter=b.initialFilters,this.filters=e(b.fields),this.selectedFilters=b.selectedFilters?g(b.selectedFilters,b.fields)||null:[],this.getSelectedFiltersExpression=function(){var a={},b=_.groupBy(this.selectedFilters,"criteria.id");return _.size(b)&&(a.and=[]),_.each(b,function(b){var d={};_.each(b,function(a){var b,e,f={};switch(a.criteria.type){case c.integer:case c.real:case c.decimal:d.and||(d={and:[]}),b={gte:{}},e={lte:{}},b.gte[a.criteria.id]=a.criteria.value.from,e.lte[a.criteria.id]=a.criteria.value.to,d.and.push(b,e);break;case c.dateTime:case c.dateOnly:case c.timeOnly:d.and||(d={and:[]}),b={gte:{}},e={lte:{}},b.gte[a.criteria.id]=new Date(a.criteria.value.startDate).toISOString(),e.lte[a.criteria.id]=new Date(a.criteria.value.endDate).toISOString(),a.criteria.type==c.dateOnly?(b.gte[a.criteria.id]=moment(b.gte[a.criteria.id]).format("YYYY-MM-DD"),e.lte[a.criteria.id]=moment(e.lte[a.criteria.id]).format("YYYY-MM-DD")):a.criteria.type==c.timeOnly&&(b.gte[a.criteria.id]=moment(b.gte[a.criteria.id]).format("hh:mm:ss"),e.lte[a.criteria.id]=moment(e.lte[a.criteria.id]).format("hh:mm:ss")),d.and.push(b,e);break;default:case c["boolean"]:case c.selection:case c.character:d.or||(d={or:[]}),f={eq:{}};var g=_.isArray(a.criteria.value)?String(a.criteria.value[0]):String(a.criteria.value);f.eq[a.criteria.id]=g.replace(/(\")/g,'""'),d.or.push(f)}}),a.and.push(d)}),a}},h=["eq","ne","regex","lt","lte","gt","gte","in"];return{getSearchFilterModel:function(a){return new g(a)},generateSearchQuery:function(a){return(a||[]).map(function(a){return f(a)}).join(" AND ")}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.error-handling").factory("rxHttpResponseErrorInterceptor",["$q","rxServerErrorHandler",function(a,b){function c(a){var b=[{status:404,contains:"/resources/i18n/locale"},{status:412,contains:'"messageNumber":309'},{status:404,contains:"BMC Modern Shell"}];return _.find(b,function(b){return a.status===b.status&&a.data&&JSON.stringify(a.data).indexOf(b.contains)!=-1})}return{responseError:function(d){return c(d)||b.handleServerResponseError(d),a.reject(d)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.error-handling").factory("rxHttpResponseMessageInterceptor",["rxServerMessageHandler","RX_ERROR_HANDLING",function(a,b){return{response:function(c){var d=c.headers()[b.AR_MESSAGES_HEADER];return d&&a.handleServerResponseMessage(d),c}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.error-handling").factory("rxScriptErrorHandler",["rxNotificationMessage","RX_ERROR_HANDLING","rxLog","rxUtils",function(a,b,c,d){function e(e,f){var g=b.errorMessages.scriptError;d.isNonEmptyString(e.message)&&(g+=" "+e.message),a.error(_.trunc(g,b.maxErrorMessageLength),{suppressLog:!0}),c.error(g)}return{handleScriptError:e}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.error-handling").factory("rxServerErrorHandler",["rxNotificationMessage","RX_ERROR_HANDLING","rxString",function(a,b,c){function d(a){return c.format("%s (%s): %s",a.messageType,a.messageNumber,_([a.messageText,a.messageAppendedText]).compact().join("; "))}function e(a){var d;if(0===a.status)d=b.errorMessages.httpNetworkError;else{var e=a.status||"";a.statusText&&(e+=" "+a.statusText),d=c.format(b.errorMessages.httpDefaultError,e)}return d}function f(c){a.error(_.trunc(c,b.maxErrorMessageLength))}function g(a){var b=!1;if(a.config&&_.isFunction(a.config.handleResponseError)&&(b=a.config.handleResponseError(a)),!b){var c,g=h(a);g?angular.forEach(g,function(a){c=d(a),f(c)}):(c=e(a),f(c))}}function h(a){return a&&a.data?_.filter(a.data,function(a){return"ERROR"===a.messageType&&(a.messageText||a.messageAppendedText)}):null}return{getServerResponseErrorDetails:h,handleServerResponseError:g}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.error-handling").factory("rxServerMessageHandler",["rxNotificationMessage","RX_ERROR_HANDLING","rxString",function(a,b,c){function d(d){var e=_.trunc(c.format("%s (%s): %s; %s",d.messageType,d.messageNumber,d.messageText||"",d.messageAppendedText||""),b.maxArMessageLength);"WARNING"===d.messageType?a.warning(e):a.info(e)}function e(a){var c=[];try{c=JSON.parse(a)}catch(e){}_(c).reject(function(a){return a.messageNumber===b.AR_NOTE_LOG_INFO}).forEach(d).value()}return{handleServerResponseMessage:e}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.expression-engine").factory("rxDefaultExpressionEvaluator",["rxExpressionHelper","rxUtils",function(a,b){function c(a,b){return Boolean(a)&&Boolean(b)}function d(a,b){return Boolean(a)||Boolean(b)}function e(a,b){return _.contains(a,b)}function f(a){if(!j[a]){var b=jsep(a);if(!g(b))throw new Error("Invalid syntax");j[a]=jsep(a)}return j[a]}function g(a){var b=!1;switch(a.type){case"BinaryExpression":b=g(a.left)&&g(a.right);break;case"UnaryExpression":b=g(a.argument);break;case"Literal":b=!0}return b}function h(a,b){switch(a.type){case"BinaryExpression":var c=h(a.left,b),d=h(a.right,b);if(k[a.operator]){var e=k[a.operator](c,d);if(_.isNaN(e))throw new Error("Operator: "+a.operator+" has invalid arguments: "+c+", "+d);return e}throw new Error("Unknown binary operator: "+a.operator);case"Literal":return _.startsWith(a.value,"rx-${")?_.result(b,a.value.slice(5,-1)):a.value;case"UnaryExpression":if(l[a.operator]){var f=h(a.argument,b),g=l[a.operator](f);if(_.isNaN(g))throw new Error("Operator: "+a.operator+" has invalid argument: "+f);return g}throw new Error("Unknown unary operator: "+a.operator);default:throw new Error("Invalid syntax")}}function i(c,d){var e=c;if(_.isString(c))if(c=_.trim(c),b.isNonEmptyString(c)){var g,i=a.prepare(c);try{g=f(i)}catch(j){throw new Error('Cannot parse expression "'+c+'": '+j.message+".")}try{e=h(g,d||{})}catch(j){throw new Error('Cannot evaluate expression "'+c+'": '+j.message+".")}}else e=null;return e}jsep.addBinaryOp("LIKE",7),jsep.addBinaryOp("AND",2),jsep.addBinaryOp("OR",1),jsep.addBinaryOp("=",6);var j={},k={"=":function(a,b){return Boolean(a==b)},"+":function(a,b){return _.isUndefined(a)||null===a&&_.isString(b)?b:_.isUndefined(b)||null===b&&_.isString(a)?a:null===a&&null===b?null:a+b},"-":function(a,b){return _.isUndefined(a)&&(a=0),_.isUndefined(b)&&(b=0),a-b},"*":function(a,b){return _.isUndefined(a)&&(a=0),_.isUndefined(b)&&(b=0),a*b},"/":function(a,b){return _.isUndefined(a)||_.isUndefined(b)?0:a/b},"<":function(a,b){return a<b},">":function(a,b){return a>b},">=":function(a,b){return a>=b},"<=":function(a,b){
return a<=b},"!=":function(a,b){return a!=b},"%":function(a,b){return _.isUndefined(a)||_.isUndefined(b)?0:a%b},AND:c,and:c,OR:d,or:d,LIKE:e,like:e},l={"-":function(a){return _.isUndefined(a)?0:-Number(a)},"!":function(a){return!Boolean(a)}};return{evaluate:i,parseExpression:f,validateChildNodeTypes:g}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.expression-engine").factory("rxQueryExpressionEvaluator",["rxExpressionHelper","rxUtils",function(a,b){return{evaluate:function(c,d){if(!c)return"";var e="$NULL$",f=a.prepare(c),g=f.replace(/"rx-\${(.+?)}"/g,function(a,c){var f=_.result(d,c);return b.isNullOrUndefined(f)||""===f?e:'"'+_.result(d,c)+'"'});return"("+g+")"}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.expression-engine").factory("rxExpressionEngine",["$injector","rxDefaultExpressionEvaluator","rxDefaultExpressionValidator","rxLog",function(a,b,c,d){return{evaluate:function(c,e,f){var g;f&&(g=a.get(f)),g=g||b;var h=g.evaluate(c,e);return d.debug('EVALUATED EXPRESSION "'+c+'" : '+h),h},isValid:function(a,b){return c.isValid(a,b)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.expression-engine").factory("rxExpressionHelper",function(){function a(a){return a.replace(/null/gi,null)}function b(a){return a.replace(/not/gi,"!")}function c(a){return a.replace(/or/gi,"OR")}function d(a){return a.replace(/and/gi,"AND")}function e(a){return a.replace(/like/gi,"LIKE")}function f(a,b,c){var d=c.match(a);return{matches:d,expression:c.replace(a,b)}}function g(a,b,c){return _.each(a,function(a){c=c.replace(b,a)}),c}function h(a,b,c){return _.each(a,function(a){c=c.replace(b,'"rx-'+a+'"')}),c}function i(a){var b=a.replace(new RegExp(String.fromCharCode(160),"g")," "),c=f(/'[^'\\]*(?:\\.[^'\\]*)*'|"[^"\\]*(?:\\.[^"\\]*)*"/g,"RX_STRING",b),d=f(/\${[^}]+}/g,"RX_EXPRESSION",c.expression),e=d.expression;return _.each(j,function(a){e=a(e)}),e=h(d.matches,"RX_EXPRESSION",e),g(c.matches,"RX_STRING",e)}var j=[];return j.push(a),j.push(b),j.push(d),j.push(c),j.push(e),{prepare:i,extractTokens:f,insertTokens:g}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.expression-engine").factory("rxDefaultExpressionValidator",["rxExpressionHelper","rxUtils","rxDefaultExpressionEvaluator",function(a,b,c){return{isValid:function(d){var e=!0;if(b.isNonEmptyString(d)){var f=a.prepare(d);try{c.parseExpression(f)}catch(g){e=!1}}return e}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.growl").factory("rxGrowl",["$rootScope","RX_GROWL",function(a,b){function c(c,d,e){var f=d||{};a.$broadcast(b.eventName,{text:c,severity:e,ttl:f.ttl||h,enableHtml:f.enableHtml||i})}function d(a,b){c(a,b,"success")}function e(a,b){c(a,b,"info")}function f(a,b){c(a,b,"warning")}function g(a,b){c(a,b,"error")}var h=null,i=!1;return{addSuccessMessage:d,addInfoMessage:e,addWarningMessage:f,addErrorMessage:g}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.i18n").factory("rxLocalizationsLoader",["$q","$http","$window","RX",function(a,b,c,d){return function(e){var f=[];return"default"===e.key?_.each(c.rxBundleDependencies,function(c){if(c.containsJavaScript){var d=a.defer();b.get("/"+c.id+"/resources/i18n/localized-strings.json").then(function(a){d.resolve(a)},function(){d.resolve({})}),f.push(d.promise)}}):_.each(c.rxBundleDependencies,function(a){if(a.containsJavaScript){var c=a.id===d.bundleId?"rx-framework":a.id;f.push(b.get("/api/rx/application/localizedstrings/"+c+"?locale="+e.key))}}),a.all(f).then(function(a){var b={};if(_.each(a,function(a){b=_.merge(b,a.data)}),"default"===e.key){var d=c.rxLocalization[c.rxLocalization.locale]?c.rxLocalization.locale:_(c.rxLocalization).keys().first();b=_.merge(b,c.rxLocalization[d])}return b})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.i18n").factory("i18n",["rxString",function(a){var b={sendUserMessage:"Send Message",sendUserMessageByTemplate:"Send Message by Templ","com.bmc.arsys.server.rx.services.expression.ExpressionServiceImpl":"Expressions","com.bmc.arsys.server.rx.services.record.RecordServiceImpl":"Records","com.bmc.arsys.rx.usermessage.business.impl.UserMessageServiceImpl":"User Messages","com.example.taskmanager.service.TaskService":"Tasks","com.bmc.arsys.rx.approval.business.impl.ApprovalServiceImpl":"Approvals","com.bmc.arsys.rx.services.process.domain.StartEventDefinition":"Start","com.bmc.arsys.rx.services.process.domain.EndEventDefinition":"End","com.bmc.arsys.rx.services.process.domain.ParallelGatewayDefinition":"Parallel","com.bmc.arsys.rx.services.process.domain.ExclusiveGatewayDefinition":"Exclusive","com.bmc.arsys.rx.services.process.domain.UserTaskDefinition":"User Task","com.bmc.arsys.rx.services.process.domain.CallActivityDefinition":"Call Activity","com.bmc.arsys.rx.services.process.domain.SubProcessDefinition":"Sub Process","com.bmc.arsys.rx.services.process.domain.ReceiveTaskDefinition":"Receive Task","com.bmc.arsys.rx.services.process.domain.TextAnnotation":"Annotation","com.bmc.arsys.rx.services.process.domain.BoundaryEventDefinition":"Timer","com.bmc.arsys.rx.approval:Approval Process":"Approval Process","com.bmc.arsys.rx.approval:Wait for Approval Review":"Wait for Approval Review","com.bmc.arsys.rx.approval:AR Approval Process":"AR Approval Process","com.bmc.arsys.rx.assignment:Wait for Assignment":"Wait for Assignment","com.bmc.arsys.rx.services.rule.domain.ShowMessageAction":"Show Message","com.bmc.arsys.rx.services.rule.domain.StartProcessInstanceAction":"Start Process","com.bmc.arsys.rx.services.rule.domain.CancelProcessInstanceAction":"Cancel Process","com.bmc.arsys.rx.services.rule.domain.SignalProcessInstanceAction":"Signal Process",ruleQualificationResourceType:"Qualification"};return function(c,d){d=!_.isBoolean(d)||d;var e=b[c];return!e&&d&&(e=a.prettify(c)),e}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.definition").service("rxNamedListManager",["rxNamedListDataPageResource",function(a){this.loadNamedListValues=function(b,c){var d;return d=c?a.getWithCriteria(b,c):a.get(b),d.then(function(a){return _(a.data).map(function(a){var b=_.keys(a)[0];return{label:b,value:a[b]}}).uniq(function(a){return a.label+a.value}).value()})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.designer").factory("rxNamedListDefinitionExpressionConfigurator",["$q","RX_EXPRESSION_EDITOR","rxDefaultExpressionConfigurator",function(a,b,c){return c.extend({initialize:function(a){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments);var c={operators:b.operators.all};this.setDefaultDictionaryConfig(c)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.designer").factory("rxNamedListDefinitionModel",["$q","definitionNameFilter","rxBundleCache","rxDesignerCache","RX_EXPRESSION_EDITOR","rxNamedListDefinitionExpressionConfigurator","RX_DESIGNER","RX_RECORD_DEFINITION","RX_DEFINITION_PICKER",function(a,b,c,d,e,f,g,h,i){var j=Backbone.Model.extend({constructor:function(a){var b=this.getRxData(a),c=this.getRxInspector(a);Backbone.Model.call(this,{id:"namedListDefinition",type:"rx.NamedListDefinition",rxData:b,rxInspector:c})},initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this._expressionConfigurator=new f(this);var a=this.get("rxData");a.recordDefinitionName&&this._onChangeRxData(null,a,{propertyPath:"rxData/recordDefinitionName",propertyValue:a.recordDefinitionName})},getExpressionConfigurator:function(){return this._expressionConfigurator},persist:function(a){var d=_.cloneDeep(this.get("rxData"));if(a.lastUpdateTime)d.name=a.name;else{var e=c.getBundleId(),f=e?e+":":"";d.name=f+b(d.name,"encode")}_.assign(a,d)},isLink:function(){return!1},prop:joint.dia.Cell.prototype.prop,remove:function(){this.collection.remove(this.cid)},_onChangeRxData:function(a,b,c){if("rxData/recordDefinitionName"===c.propertyPath){var d=this,e=d.get("rxInspector"),f=angular.copy(this.get("rxData"));return this.getFieldNameOptions().then(function(b){e.inputs.rxData.labelFieldId.options=b,e.inputs.rxData.valueFieldId.options=b,a&&(f.labelFieldId=null,f.valueFieldId=null),d.unset("rxData",{silent:!0,ignoreCommandManager:!0}),d.set("rxData",f,{ignoreCommandManager:!0}),d.unset("rxInspector",{ignoreCommandManager:!0}),d.set("rxInspector",e,{ignoreCommandManager:!0})})}},getCurrentRecordDefinition:function(){var b=a.defer();return d.getRecordDefinition(this.get("rxData").recordDefinitionName).then(b.resolve)["catch"](function(){b.resolve(null)}),b.promise},getFieldNameOptions:function(){var a=this;return this.getCurrentRecordDefinition().then(function(b){var c=[];return b?c=_(b.fieldDefinitions).map(function(a){return{content:a.name,value:+a.id}}).compact().sortBy("content").unshift(h.EMPTY_FIELD_NAME_OPTION).value():a.prop("rxData/recordDefinitionName")&&a.prop("rxData/recordDefinitionName",""),c})},getRxData:function(a){var c=_.cloneDeep(_.pick(a,["name","recordDefinitionName","queryCriteria","labelFieldId","valueFieldId","shouldSortOnLabel"]));return c.name=b(c.name),c},getRxInspector:function(a){var b=!a.lastUpdateTime,c=!1,d=function(a){var b=c?{"input, textarea":{readonly:!0,disabled:!0}}:{};return _.assign({},b,a)},e=d();return{inputs:{rxData:{name:{label:"Name of List",type:"rx-inspector-text",group:"general",tooltip:{text:"Use this field to associate the named list with a record, to be finally displayed in the view definition.",placement:"top"},attrs:d({label:{"class":"required"},input:{readonly:!b,maxlength:254}})},recordDefinitionName:{label:"Record Definition",type:"rx-inspector-definition-picker",definitionType:i.definitionTypes.record.type,group:"general",attrs:d({label:{"class":"required"}}),align:"left"},queryCriteria:{label:"Condition to Filter List Results",type:"rx-inspector-expression-textarea-field",group:"general",tooltip:{text:"Enter a condition to control which items should appear on the named list in the deployed application.",placement:"top"},attrs:e},labelFieldId:{label:"Label Field to be Displayed to the User",type:"rx-inspector-select",group:"general",tooltip:{text:"Select the value from the drop-down list to be used as the field name of the named list.",placement:"top"},options:[],attrs:d({label:{"class":"required"}})},valueFieldId:{label:"Source Field for Value of Selection",type:"rx-inspector-select",group:"general",tooltip:{text:"Select the value from the drop-down list to associate the named list with a record. This named list is displayed in the view definition.",placement:"top"},options:[],attrs:d({label:{"class":"required"}})}}},groups:{general:{label:"General",index:1}}}},getAutoCompleteList:function(a){return this.getCurrentRecordDefinition().then(function(b){var c=[];if(b){var d=_.find(b.fieldDefinitions,{name:a.fieldPath.replace(/'/g,"")});d&&d.optionNamesById&&(c=_.map(d.optionNamesById,function(a){return{id:a,label:a}}))}return c})}});return{getModel:function(a){return new j(a)},getDataDictionary:function(b,c){var e={};return b.recordDefinitionName?d.getRecordDefinition(b.recordDefinitionName).then(function(a){return e={label:"Record Instance"},e.children=a?_(a.fieldDefinitions).map(function(a){if(a.resourceType!==h.dataTypes.attachment.resourceType)return{label:a.name,type:c.fields.type,icon:c.fields.icon,value:"'"+a.name+"'"}}).compact().sortBy("label").value():[],e}):a.when([])},validate:function(c){var d=[],e=b(c.name,"decode");return _.isEmpty(_.trim(e))&&(e="Named List Definition",d.push({elementId:c.id,elementName:e,propertyName:"name",type:"error",message:"Name of List cannot be blank."})),g.validDefinitionNameRegex.test(e)||d.push({elementId:c.id,elementName:e,propertyName:"name",type:"error",message:"Name of List can only contain alphanumeric characters, spaces, hyphen and underscore."}),_.isEmpty(_.trim(c.recordDefinitionName))&&d.push({elementId:c.id,elementName:e,propertyName:"recordDefinitionName",type:"error",message:"Record Definition cannot be blank."}),_.isEmpty(_.trim(c.labelFieldId))&&d.push({elementId:c.id,elementName:e,propertyName:"labelFieldId",type:"error",message:"Label Field cannot be blank."}),_.isEmpty(_.trim(c.valueFieldId))&&d.push({elementId:c.id,elementName:e,propertyName:"valueFieldId",type:"error",message:"Value Field cannot be blank."}),a.when(d)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.designer").factory("rxNamedListAutoComplete",["RxAutoComplete",function(a){function b(a){return new c(a)}var c=a.extend({initialize:function(a){rx.assert.assertDefinedAndNotNull(a),this.graph=a},extractData:function(a){return{component:this.graph,fieldPath:a}},_findTokens:function(a){return a.match(/'([^']+)'/g)}});return{getInstance:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.designer").factory("rxNamedListDataDictionary",["rxNamedListDefinitionModel","$q",function(a,b){function c(){g={plainNamedListDefinition:{},currentDataDictionary:{}}}function d(a){return angular.equals(a,g.plainNamedListDefinition)?b.when(g.currentDataDictionary):(g.plainNamedListDefinition=angular.copy(a),f(a).then(function(a){return g.currentDataDictionary=a,g.currentDataDictionary}))}var e={fields:{label:"Field Name",type:"Field Name",icon:"d-icon-arrow_right_square_input"}},f=function(b){return a.getDataDictionary(b,e).then(function(a){return _.compact([a])})},g={plainNamedListDefinition:{},currentDataDictionary:{}},h=function(){return _.values(e)};return{clear:c,getCommonDataDictionary:d,getLegend:h}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.navigation.navigation-guard").factory("rxNavigationGuard",["$rootScope","$window","$state","$q",function(a,b,c,d){function e(a,b,c,d,e){var f;return i.some(function(g){return!!(f=g(a,b,c,d,e))}),f}function f(a){return i.unshift(a),function(){var b=i.indexOf(a);b>=0&&i.splice(b,1)}}function g(){i=[]}var h,i=[],j=[];return b.onbeforeunload=function(a){var c=e(a);if(c)return(a||b.event).returnValue=c,c},a.$on("$stateChangeStart",function(f,g,i,k,l){var m=e(f,g,i,k,l);return m&&!b.confirm(m)?f.preventDefault():void(h?h=!1:(f.preventDefault(),0===j.length&&(a.$broadcast("beforeUnload",j),d.all(j).then(function(){h=!0,c.go(g,i)})["finally"](function(){j=[]}))))}),{registerGuardian:f,clearGuardians:g}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.navigation.previous-state").provider("rxPreviousState",function(){function a(a){return angular.isString(a)?a:a.name}function b(b,d){var e=a(b);return c.some(function(b){var c=a(b);return c===e&&(!b.params||angular.equals(b.params,d))})}var c=[""];return{ignoreState:function(d,e){if(!b(d,e)){var f=a(d);c.push({name:f,params:e})}},$get:["$rootScope","$state",function(a,c){function d(){return g}function e(a,b){if(g)c.go(g.state,g.params);else{if(!a)throw new Error("previous state is invalid");c.go(a,b)}}function f(){g=null}var g=null,h=null;return a.$on("$stateChangeStart",function(a,c,d,e,f){h=g,b(e,f)||(g={state:e,params:f})}),a.$on("$stateChangeError",function(){g=h,h=null}),a.$on("$stateChangeSuccess",function(){h=null}),{get:d,go:e,reset:f}}]}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").factory("rxProcessElementSearch",["rxId",function(a){function b(a,b){return _.find(a.flowElements,b)||_.find(a.artifacts,b)}function c(a,c){var d=b(a,c);return d||(d=_.find(h(a),c)),d}function d(a,c){var d,e=b(a,{guid:c});return d=e?a:_.find(h(a),function(a){return b(a,{guid:c})})}function e(a,b){return c(a,{guid:b})}function f(a,b){return _.filter(h(a),b)}function g(a,b){return _.each(h(a),b)}function h(a){return _([]).concat(a.flowElements||[],a.artifacts||[]).transform(function(a,b){a.push(b),b.flowElements&&a.push(h(b))}).flatten().value()}return{each:g,find:c,filter:f,findByGuid:e,findOwner:d,flattenElements:h}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxApprovalProcessElement",["$q","$injector","RX_PROCESS_DESIGNER","RX_APPROVAL_PROCESS","rxDesignerCache","rxApprovalFlowSelectorResource","rxProcessDesignerCache","rxExpandableProcessShapeInterface","rxExpandableProcessShapeViewInterface","rxProcessShapeInterface","rxProcessShapeViewInterface","rxDefaultExpressionConfigurator","rxProcessShape","rxProcessDefinitionDescriptorDataPageResource","rxString",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ApprovalProcessView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.ExpandableProcessShapeViewInterface).extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),!this.model.get("parent")&&this.model.get("expanded")&&_.isUndefined(this.model.get("embeds"))&&!this.model._expanding&&this.expand()},getPaperScale:function(){return new V(this.paper.viewport).scale()}}),joint.shapes.rx.ApprovalProcess=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.ExpandableProcessShapeInterface).extend({_expanding:!1,defaults:joint.util.deepSupplement({type:"rx.ApprovalProcess",activityType:"call-activity",content:"Approval Process",subProcess:!0,expanded:!1,collapsedSize:{width:70,height:60},size:{width:70,height:60},attrs:{path:{transform:"scale(0.3, 0.3)","ref-dy":-15},rect:{rx:2,ry:2}}},joint.shapes.bpmn.Activity.prototype.defaults),elementCanvasSize:{width:90,height:60},persist:function(a){var b=joint.shapes.rx.ProcessShapeInterface.persist.apply(this,arguments);if(b){b.inputMap&&b.inputMap["Record Definition Name"]&&(b.inputMap=_.omit(b.inputMap,"Record Definition Name")),b.inputMap&&b.inputMap.complexInputMap&&(b.inputMap=_.omit(b.inputMap,"complexInputMap"));var c=[];for(var d in b.inputMap){var e=b.inputMap[d];e&&("RecordInstance"===d?c.push({assignTarget:d,expression:e}):/^\"|\"$/g.test(e)?c.push({assignTarget:d,expression:e}):c.push({assignTarget:d,expression:'"'+e+'"'}))}b.inputMap=c}return b},initialize:function(a){joint.shapes.bpmn.Activity.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,"change:size",this._onChangeSize),this.listenTo(this,"change:expanded",this._updateGeometryGroup)},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new l(this),this._expressionConfigurator},_onChangeSize:function(a,b){this.get("expanded")||this.set("collapsedSize",b)},_onChangeRxData:function(a,b,c){var d=this;/^(rxData\/outputMap\/)[0-9]+(\/assignTarget)$/g.test(c.propertyPath)&&d._rebuildOutputMap(c.propertyValue),b.label&&a.prop("rxData/inputMap/Approval Process Name",b.label,{ignoreCommandManager:!0}),b.inputMap.complexInputMap&&"rxData/inputMap/complexInputMap"==c.propertyPath&&(a.trigger("batch:start"),a.prop("rxData/inputMap/Approval Flow Name",b.inputMap.complexInputMap.guid),a.trigger("batch:stop"))},updateInspectorConfig:function(b){var c=this,d=[],e=angular.copy(this.get("rxInspector")),f=angular.copy(this.get("rxData"));if(this._updateGeometryGroup(),e.inputs.rxData.outputMap){var g=m.getProcessVariables(b);e.inputs.rxData.outputMap.item.properties.assignTarget.options=g,c.unset("rxInspector",{silent:!0}),c.prop("rxInspector",e,{silent:!0}),c.trigger("rx:change:inputs",c)}return b.inputParams&&_.forEach(b.inputParams,function(a){"com.bmc.arsys.rx.services.process.domain.record.RecordInstanceFieldType"===a.fieldTypeName&&c.prop("rxData/inputMap/Record Definition Name",a.recordDefinitionName)}),f.inputMap.complexInputMap&&f.inputMap.complexInputMap.guid&&(c.prop("rxData/inputMap/complexInputMap/approvalFlowName")||d.push(n.get(-1,0,{}).then(function(a){if(a.data){var b=_.find(a.data,{guid:f.inputMap.complexInputMap.guid});c.prop("rxData/inputMap/complexInputMap/approvalFlowName",b.name)}}))),a.all(d)},_updateGeometryGroup:function(){var a=this.get("rxInspector"),b={input:{readonly:!0,disabled:!0}},c=this.get("expanded")?b:{};a.inputs.position.x.attrs=a.inputs.position.y.attrs=c,a.inputs.size.width.attrs=a.inputs.size.height.attrs=c,this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",a,{silent:!0}),this.trigger("rx:change:inputs",this)},getCalledProcessDefinition:function(){return e.getProcessDefinition(this.prop("rxData/calledProcessDefinitionName"))},_prepareForExpand:function(){var c=this,d=a.defer();return this.getCalledProcessDefinition().then(function(a){g.loadFlowElementDependencies(a).then(function(){var f=c.prop("rxData/calledProcessDefinitionName")+":"+c.get("id"),h=g.getProcessClone(f);if(!h){var i=b.get("rxProcessDesignerElementManager"),j=i.cloneProcessDefinition(a);h={definition:j,graph:i.getGraph(j,{readonly:!0})},g.setProcessClone(f,h),e.setProcessDefinition(j)}d.resolve(h)})},function(){d.reject()}),d.promise},_afterExecuteExpand:function(){this.attr({".body":{fill:"#f2f2f2"},".sub-process":{visibility:"hidden"}})},_prepareCellModel:function(a){this.constructor.__super__._prepareCellModel.apply(this,arguments),a.set({inCallActivity:!0},{silent:!0})},_executeCollapse:function(){this.unembedElements(),this.set("parentCallActivity",null,{silent:!0}),this.attr({".body":{fill:"#ffffff"},".sub-process":{visibility:"visible"}})}}),{getRxData:function(a){var b={resourceType:c.processElementResourceTypes.callActivity,name:"com.bmc.arsys.rx.approval:Approval Process",calledProcessDefinitionName:"com.bmc.arsys.rx.approval:Approval Process",description:"",inputMap:{},outputMap:[],multiInstanceLoopDefinition:null};if(a){_.assign(b,a),b.inputMap={};var d={};a.inputMap.forEach(function(a){b.inputMap[a.assignTarget]=a.expression,"Approval Process Name"===a.assignTarget&&(b.label=a.expression),"Approval Flow Name"===a.assignTarget&&(d.guid=a.expression.replace(/^\"|\"$/g,""))}),b.inputMap.complexInputMap=d}return b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0},inputMap:{"Record Definition Name":{label:"Record Definition",type:"text",group:"inputMap",attrs:c,when:!0},RecordInstance:{label:"Record",type:"rx-inspector-expression-node-field",group:"inputMap",attrs:b({label:{"class":"required"}})},complexInputMap:{type:"rx-inspector-approval-flow-selector-field",group:"inputMap"}},outputMap:{type:"list",group:"outputMap",index:4,item:{type:"object",properties:{assignTarget:{type:"rx-inspector-input-select",label:"Name",options:[],attrs:b({label:{"class":"required"}})},expression:{type:"rx-inspector-expression-node-field",label:"Source",attrs:b({label:{"class":"required"}})}}}}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},inputMap:{label:"Input Map",index:2},outputMap:{label:"Output Map",index:3},multiInstance:{label:"Multi Instance Loop",index:4},geometry:{label:"Geometry",index:5,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxInspector(d),f=this.getRxData(a);return a&&d&&(delete e.inputs.position,delete e.inputs.size,delete e.groups.geometry,delete e.groups.inputMap,delete e.inputs.rxData.inputMap,delete e.groups.outputMap,delete e.inputs.rxData.outputMap),{rxData:f,rxInspector:e}},getShape:function(a){var b=this.getRxConfig(a);return new joint.shapes.rx.ApprovalProcess(b)},validate:function(b,c){var d=[],e=b.outputMap||[],f=b.label;_.isEmpty(_.trim(b.label))&&b.hasOwnProperty("label")&&d.push({elementId:b.guid,elementName:"Approval Process",propertyName:"label",type:"error",message:"Label cannot be blank."});var g=_.find(b.inputMap,{assignTarget:"RecordInstance"});g&&!o.isEmptySafe(g.expression)||d.push({elementId:b.guid,elementName:"Approval Process",propertyName:"inputMap/RecordInstance",type:"warning",message:'Input Map Property "RecordInstance" cannot be blank.'});var h=_.where(c.flowElements,{targetNode:b.guid}).length,i=_.where(c.flowElements,{sourceNode:b.guid}).length;0!==h&&1===i||d.push({elementId:b.guid,elementName:f,type:"warning",message:"One outbound and at least one inbound sequence flow is required."}),_.each(e,function(a,c){_.isEmpty(_.trim(a.assignTarget))&&d.push({elementId:b.guid,elementName:f,propertyName:"outputMap/"+c+"/assignTarget",type:"error",message:"Output Map Parameter Name cannot be blank."}),_.isEmpty(_.trim(a.expression))&&d.push({elementId:b.guid,elementName:f,propertyName:"outputMap/"+c+"/expression",type:"error",message:"Output Map Parameter Source cannot be blank."})});var j=_.uniq(e,"assignTarget");return j.length!==e.length&&d.push({elementId:b.guid,elementName:f,type:"error",message:"Output Map parameter names must be unique."}),a.when(d)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxARApprovalProcessElement",["$q","$injector","RX_PROCESS_DESIGNER","RX_AR_APPROVAL_PROCESS","rxDesignerCache","rxRecordInstanceDataPageResource","rxProcessDesignerCache","rxExpandableProcessShapeInterface","rxExpandableProcessShapeViewInterface","rxDefaultExpressionConfigurator","rxProcessShapeInterface","rxProcessShapeViewInterface","rxProcessShape",function(a,b,c,d,e,f,g,h,i,j,k,l,m){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ARApprovalProcessView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.ExpandableProcessShapeViewInterface).extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),!this.model.get("parent")&&this.model.get("expanded")&&_.isUndefined(this.model.get("embeds"))&&!this.model._expanding&&this.expand()},getPaperScale:function(){return new V(this.paper.viewport).scale()}}),joint.shapes.rx.ARApprovalProcess=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.ExpandableProcessShapeInterface).extend({_expanding:!1,defaults:joint.util.deepSupplement({type:"rx.ARApprovalProcess",activityType:"call-activity",content:"AR Approval Process",subProcess:!0,expanded:!1,collapsedSize:{width:70,height:60},size:{width:70,height:60},attrs:{path:{transform:"scale(0.3, 0.3)","ref-dy":-15},rect:{rx:2,ry:2}}},joint.shapes.bpmn.Activity.prototype.defaults),elementCanvasSize:{width:90,height:60},persist:function(a){var b=joint.shapes.rx.ProcessShapeInterface.persist.apply(this,arguments);if(b){var c=[];_.forEach(b.inputMap,function(a,d){var e=b.inputMap[d];e&&("Request ID"===d?c.push({assignTarget:d,expression:e}):/^\"|\"$/g.test(e)?c.push({assignTarget:d,expression:e}):c.push({assignTarget:d,expression:'"'+e+'"'}))}),b.inputMap=c}return b},initialize:function(a){joint.shapes.bpmn.Activity.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,"change:size",this._onChangeSize),this.listenTo(this,"change:expanded",this._updateGeometryGroup)},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new j(this),this._expressionConfigurator},_onChangeSize:function(a,b){this.get("expanded")||this.set("collapsedSize",b)},_onChangeRxData:function(a,b,c){var d=this;/^(rxData\/outputMap\/)[0-9]+(\/assignTarget)$/g.test(c.propertyPath)&&d._rebuildOutputMap(c.propertyValue)},updateInspectorConfig:function(b){var c=this,e=a.defer(),g=[],h=angular.copy(this.get("rxInspector"));if(this._updateGeometryGroup(),h.inputs.rxData.outputMap){var i=m.getProcessVariables(b);h.inputs.rxData.outputMap.item.properties.assignTarget.options=i,c.unset("rxInspector",{silent:!0}),c.prop("rxInspector",h,{silent:!0}),c.trigger("rx:change:inputs",c)}if(this.prop("rxInspector/inputs/rxData/inputMap")){var j=[],k=[];g.push(f.withName(d.apForm.definitionName).get(-1,0,{propertySelection:d.apForm.fields.formName.id}).then(function(a){_.forEach(a.data,function(a){j.push(a[d.apForm.fields.formName.id])}),_.isEmpty(j)?c.prop("rxInspector/inputs/rxData/inputMap/Form Name/options",""):c.prop("rxInspector/inputs/rxData/inputMap/Form Name/options",j)})),g.push(f.withName(d.apProcessDefinitionForm.definitionName).get(-1,0,{propertySelection:d.apProcessDefinitionForm.fields.process.id}).then(function(a){_.forEach(a.data,function(a){k.push(a[d.apProcessDefinitionForm.fields.process.id])}),_.isEmpty(k)?c.prop("rxInspector/inputs/rxData/inputMap/Approval Process Name/options",""):c.prop("rxInspector/inputs/rxData/inputMap/Approval Process Name/options",k)})),a.all(g).then(function(){e.resolve()})}else e.resolve();return e.promise},_updateGeometryGroup:function(){var a=this.get("rxInspector");if(!a.readonly){var b={input:{readonly:!0,disabled:!0}},c=this.get("expanded")?b:{};a.inputs.position.x.attrs=a.inputs.position.y.attrs=c,a.inputs.size.width.attrs=a.inputs.size.height.attrs=c,this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",a,{silent:!0}),this.trigger("rx:change:inputs",this)}},getCalledProcessDefinition:function(){return e.getProcessDefinition(this.prop("rxData/calledProcessDefinitionName"))},_prepareForExpand:function(){var c=this,d=a.defer();return this.getCalledProcessDefinition().then(function(a){g.loadFlowElementDependencies(a).then(function(){var f=c.prop("rxData/calledProcessDefinitionName")+":"+c.get("id"),h=g.getProcessClone(f);if(!h){var i=b.get("rxProcessDesignerElementManager"),j=i.cloneProcessDefinition(a);h={definition:j,graph:i.getGraph(j,{readonly:!0})},g.setProcessClone(f,h),e.setProcessDefinition(j)}d.resolve(h)})},function(){d.reject()}),d.promise},_afterExecuteExpand:function(){this.attr({".body":{fill:"#f2f2f2"},".sub-process":{visibility:"hidden"}})},_prepareCellModel:function(a){this.constructor.__super__._prepareCellModel.apply(this,arguments),a.set({inCallActivity:!0},{silent:!0})},_executeCollapse:function(){this.unembedElements(),this.set("parentCallActivity",null,{silent:!0}),this.attr({".body":{fill:"#ffffff"},".sub-process":{visibility:"visible"}})}}),{getRxData:function(a){var b={resourceType:c.processElementResourceTypes.callActivity,name:"com.bmc.arsys.rx.approval:AR Approval Process",calledProcessDefinitionName:"com.bmc.arsys.rx.approval:AR Approval Process",description:"",inputMap:{},outputMap:[]};return a&&(_.assign(b,a),b.inputMap={},_.forEach(a.inputMap,function(a){b.inputMap[a.assignTarget]=a.expression.replace(/^\"|\"$/g,"")})),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0},inputMap:{"Request ID":{label:"Record",type:"rx-inspector-expression-node-field",group:"inputMap",attrs:b({label:{"class":"required"}})},"Form Name":{label:"Form Name",type:"select",group:"inputMap",options:[],attrs:b({label:{"class":"required"}})},"Approval Process Name":{label:"Approval Process Name",type:"select",group:"inputMap",options:[],attrs:b({label:{"class":"required"}})}},outputMap:{type:"list",group:"outputMap",index:4,item:{type:"object",properties:{assignTarget:{type:"rx-inspector-input-select",label:"Name",options:[],attrs:b({label:{"class":"required"}})},expression:{type:"rx-inspector-expression-node-field",label:"Source",attrs:b({label:{"class":"required"}})}}}}},position:{
x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},inputMap:{label:"Input Map",index:2},outputMap:{label:"Output Map",index:3},geometry:{label:"Geometry",index:5,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxInspector(d),f=this.getRxData(a);return a&&d&&(delete e.inputs.position,delete e.inputs.size,delete e.groups.geometry,delete e.groups.inputMap,delete e.inputs.rxData.inputMap,delete e.groups.outputMap,delete e.inputs.rxData.outputMap),{rxData:f,rxInspector:e}},getShape:function(a){var b=this.getRxConfig(a);return new joint.shapes.rx.ARApprovalProcess(b)},validate:function(b,c){var d=[],e=b.outputMap||[],f=b.label;_.isEmpty(_.trim(b.label))&&b.hasOwnProperty("label")&&d.push({elementId:b.guid,elementName:"Approval Process",propertyName:"label",type:"error",message:"Label cannot be blank."});var g=_.where(c.flowElements,{targetNode:b.guid}).length,h=_.where(c.flowElements,{sourceNode:b.guid}).length;0!==g&&1===h||d.push({elementId:b.guid,elementName:f,type:"warning",message:"One outbound and at least one inbound sequence flow is required."}),_.each(e,function(a,c){_.isEmpty(_.trim(a.assignTarget))&&d.push({elementId:b.guid,elementName:f,propertyName:"outputMap/"+c+"/assignTarget",type:"error",message:"Output Map Parameter Name cannot be blank."}),_.isEmpty(_.trim(a.expression))&&d.push({elementId:b.guid,elementName:f,propertyName:"outputMap/"+c+"/expression",type:"error",message:"Output Map Parameter Source cannot be blank."})});var i=_.uniq(e,"assignTarget");return i.length!==e.length&&d.push({elementId:b.guid,elementName:f,type:"error",message:"Output Map parameter names must be unique."}),a.when(d)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxArtifactShapeInterface",["rxId","rxProcessShapeInterface",function(a,b){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ArtifactShapeInterface=_.assign({},joint.shapes.rx.ProcessShapeInterface,{labelPath:null,persist:function(b){var c=_.find(b.artifacts,{guid:a.get(this.id)});return this.canPersist()?c?_.assign(c,this.prop("rxData")):(c=this.createNewProcessElement(),b.artifacts.push(c)):c&&(_.pull(b.artifacts,c),c=null),c}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxAssignmentProcessElement",["$q","$injector","RX_PROCESS_DESIGNER","RX_ASSIGNMENT_PROCESS","rxString","rxDesignerCache","rxRecordInstanceDataPageResource","rxDefaultExpressionConfigurator","rxProcessDesignerCache","rxExpandableProcessShapeInterface","rxExpandableProcessShapeViewInterface","rxProcessShapeInterface","rxProcessShapeViewInterface","rxProcessShape",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.AssignmentProcessView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.ExpandableProcessShapeViewInterface).extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),!this.model.get("parent")&&this.model.get("expanded")&&_.isUndefined(this.model.get("embeds"))&&!this.model._expanding&&this.expand()},getPaperScale:function(){return new V(this.paper.viewport).scale()}}),joint.shapes.rx.AssignmentProcess=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.ExpandableProcessShapeInterface).extend({_expanding:!1,defaults:joint.util.deepSupplement({type:"rx.AssignmentProcess",activityType:"call-activity",content:"Assignment Process",subProcess:!0,expanded:!1,collapsedSize:{width:70,height:60},size:{width:70,height:60},attrs:{path:{transform:"scale(0.3, 0.3)","ref-dy":-15},rect:{rx:2,ry:2}}},joint.shapes.bpmn.Activity.prototype.defaults),elementCanvasSize:{width:90,height:60},persist:function(a){var b=joint.shapes.rx.ProcessShapeInterface.persist.apply(this,arguments);if(b){var c=[];for(var d in b.inputMap){var e=b.inputMap[d];e&&("Application Record Instance"===d?c.push({assignTarget:d,expression:e}):/^\"|\"$/g.test(e)?c.push({assignTarget:d,expression:e}):c.push({assignTarget:d,expression:'"'+e+'"'}))}b.inputMap=c}return b},initialize:function(a){joint.shapes.bpmn.Activity.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,"change:size",this._onChangeSize),this.listenTo(this,"change:expanded",this._updateGeometryGroup)},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new h(this),this._expressionConfigurator},_onChangeSize:function(a,b){this.get("expanded")||this.set("collapsedSize",b)},_onChangeRxData:function(a,b,c){var d=this;/^(rxData\/outputMap\/)[0-9]+(\/assignTarget)$/g.test(c.propertyPath)&&d._rebuildOutputMap(c.propertyValue)},updateInspectorConfig:function(b){var c=this,e=angular.copy(this.get("rxInspector"));if(this._updateGeometryGroup(),e.inputs.rxData.outputMap){var f=n.getProcessVariables(b);e.inputs.rxData.outputMap.item.properties.assignTarget.options=f,c.unset("rxInspector",{silent:!0}),c.prop("rxInspector",e,{silent:!0}),c.trigger("rx:change:inputs",this)}if(this.prop("rxInspector/inputs/rxData/inputMap")){var h=[];return g.withName(d.assignmentProcessForm.definitionName).get(-1,0,{}).then(function(a){_.forEach(a.data,function(a,b){h.push(a[d.assignmentProcessForm.fields.processName.id])}),h?c.prop("rxInspector/inputs/rxData/inputMap/Assignment Process Name/options",h):c.prop("rxInspector/inputs/rxData/inputMap/Record Definition Name/options","")})}return a.when()},_updateGeometryGroup:function(){var a=this.get("rxInspector"),b={input:{readonly:!0,disabled:!0}},c=this.get("expanded")?b:{};a.inputs.position.x.attrs=a.inputs.position.y.attrs=c,a.inputs.size.width.attrs=a.inputs.size.height.attrs=c,this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",a,{silent:!0}),this.trigger("rx:change:inputs",this)},getCalledProcessDefinition:function(){return f.getProcessDefinition(this.prop("rxData/calledProcessDefinitionName"))},_prepareForExpand:function(){var c=this,d=a.defer();return this.getCalledProcessDefinition().then(function(a){i.loadFlowElementDependencies(a).then(function(){var e=c.prop("rxData/calledProcessDefinitionName")+":"+c.get("id"),g=i.getProcessClone(e);if(!g){var h=b.get("rxProcessDesignerElementManager"),j=h.cloneProcessDefinition(a);g={definition:j,graph:h.getGraph(j,{readonly:!0})},i.setProcessClone(e,g),f.setProcessDefinition(j)}d.resolve(g)})},function(){d.reject()}),d.promise},_afterExecuteExpand:function(){this.attr({".body":{fill:"#f2f2f2"},".sub-process":{visibility:"hidden"}})},_prepareCellModel:function(a){this.constructor.__super__._prepareCellModel.apply(this,arguments),a.set({inCallActivity:!0},{silent:!0})},_executeCollapse:function(){this.unembedElements(),this.set("parentCallActivity",null,{silent:!0}),this.attr({".body":{fill:"#ffffff"},".sub-process":{visibility:"visible"}})}}),{getRxData:function(a){var b={resourceType:c.processElementResourceTypes.callActivity,name:"com.bmc.arsys.rx.assignment:Wait for Assignment",calledProcessDefinitionName:"com.bmc.arsys.rx.assignment:Wait for Assignment",description:"",outputMap:[],multiInstanceLoopDefinition:null};return a&&(_.assign(b,a),b.inputMap={},a.inputMap.forEach(function(a){"Application Record Instance"===a.assignTarget?b.inputMap[a.assignTarget]=a.expression:b.inputMap[a.assignTarget]=a.expression.replace(/^\"|\"$/g,"")})),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{and:[{ne:{"rxData/description":void 0}},{ne:{"rxData/description":""}}]}:void 0},inputMap:{"Application Record Instance":{label:"Record",type:"rx-inspector-expression-node-field",group:"inputMap",attrs:b({label:{"class":"required"}})},"Assignment Process Name":{label:"Assignment Process Name",type:"select",options:[],group:"inputMap",attrs:b({label:{"class":"required"}})}},outputMap:{type:"list",group:"outputMap",index:4,item:{type:"object",properties:{assignTarget:{type:"rx-inspector-input-select",label:"Name",options:[],attrs:b({label:{"class":"required"}})},expression:{type:"rx-inspector-expression-node-field",label:"Source",attrs:b({label:{"class":"required"}})}}}}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},inputMap:{label:"Input Map",index:2},outputMap:{label:"Output Map",index:3},multiInstance:{label:"Multi Instance Loop",index:4},geometry:{label:"Geometry",index:5,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxInspector(d),f=this.getRxData(a);return a&&0===a.outputMap.length&&d&&(delete e.groups.outputMap,delete e.inputs.rxData.outputMap),{rxData:f,rxInspector:e}},getShape:function(a){var b=this.getRxConfig(a);return new joint.shapes.rx.AssignmentProcess(b)},validate:function(b,c){var d=[],f=b.outputMap||[],g=b.label;e.isEmptySafe(b.label)&&b.hasOwnProperty("label")&&d.push({elementId:b.guid,elementName:"Assignment Process",propertyName:"label",type:"error",message:"Label cannot be blank."});var h=_.where(c.flowElements,{targetNode:b.guid}).length,i=_.where(c.flowElements,{sourceNode:b.guid}).length;0!==h&&1===i||d.push({elementId:b.guid,elementName:g,type:"warning",message:"One outbound and at least one inbound sequence flow is required."}),_.each(f,function(a,c){e.isEmptySafe(a.assignTarget)&&d.push({elementId:b.guid,elementName:g,propertyName:"outputMap/"+c+"/assignTarget",type:"error",message:"Output Map Parameter Name cannot be blank."}),e.isEmptySafe(a.expression)&&d.push({elementId:b.guid,elementName:g,propertyName:"outputMap/"+c+"/expression",type:"error",message:"Output Map Parameter Source cannot be blank."})});var j=_.uniq(f,"assignTarget");return j.length!==f.length&&d.push({elementId:b.guid,elementName:g,type:"error",message:"Output Map parameter names must be unique."}),a.when(d)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxCallActivityElementExpressionConfigurator",["$q","rxId","RX_RECORD_DEFINITION","RX_EXPRESSION_EDITOR","rxExpressionEditorUtils","rxMultiInstanceExpressionConfigurator","rxDesignerCache",function(a,b,c,d,e,f,g){return f.extend({initialize:function(d){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments);var f={regExp:/^(rxData\/outputMap\/)[0-9]+(\/expression)$/g,updateDataDictionary:function(c,f){var h=e.isValidDynamicExpression(d._lastCalledProcessDefinitionName)?d._lastSampleProcessDefinition:d._lastCalledProcessDefinitionName;return h?g.getProcessDefinition(h).then(function(e){var f=_(c).find({label:"General"}),g=_(c).find({label:"Process Variables"}),h={label:d.prop("rxData/label"),children:[]},i=[];return e.outputParams.forEach(function(a){h.children.push({label:a.name,icon:"d-icon-arrow_chart",value:"${activityResults."+b.get(d.id)+"."+a.name+"}"})}),g&&i.push(g),h.children.length?a.when(i.concat(f,h)):a.when(i.concat(f))}):a.when(c)}};this.registerExpressionConfig(f);var h={regExp:/^(rxData\/inputMap\/)/g,updateDataDictionary:function(b,f){return d._lastCalledProcessDefinitionName&&!e.isValidDynamicExpression(d._lastCalledProcessDefinitionName)&&f?g.getProcessDefinition(d._lastCalledProcessDefinitionName).then(function(a){var d=_(a.inputParams).find({name:_(f.split("/")).findLast(),resourceType:c.dataTypes.selection.resourceType});if(d){var e=_(d.optionNamesById).map(function(a,b){return{label:a,value:'"'+a+'"',showRawValue:!0}}).value();b.unshift({label:"Options",children:e})}return b}):a.when(b)}};this.registerExpressionConfig(h);var i={regExp:/^rxData\/calledProcessDefinitionName$/g,validateExpression:function(b,c){return c&&!c.match(/\$\{.*\}/)?g.getProcessDefinitionNames().then(function(a){return _.includes(a,c)}):a.when(!0)}};this.registerExpressionConfig(i)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxCallActivityElement",["$q","$injector","$rootScope","RX_PROCESS_DESIGNER","RX_RECORD_DEFINITION","RX_DEFINITION_PICKER","RX_EXPRESSION_EDITOR","i18n","rxId","dialogs","definitionNameFilter","rxDesignerCache","rxCallActivityElementModel","rxProcessDesignerCache","rxExpandableProcessShapeInterface","rxExpandableProcessShapeViewInterface","rxProcessShapeInterface","rxProcessShapeViewInterface","rxMultiInstanceConfiguration","rxMultiInstanceInterface","rxProcessElementSearch",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){function v(a){return"REQUIRED"===a.fieldOption&&(null===a.defaultValue||_.isUndefined(a.defaultValue))}joint.shapes.rx=joint.shapes.rx||{};var w=/\$\{.*\}/,x=function(a){return a&&a.match(w)};return{getRxData:function(a){var b={resourceType:d.processElementResourceTypes.callActivity,name:"Call Activity",calledProcessDefinitionName:"",description:"",inputMap:[],outputMap:[],loopType:"",multiInstanceLoopDefinition:null};return a&&(_.assign(b,a),b.calledProcessDefinitionName=a.calledProcessDefinitionName||"",!a.lastUpdateTime&&a.calledProcessDefinitionName&&(b.name=a.calledProcessDefinitionName),b.inputMap={},a.inputMap.forEach(function(a){b.inputMap[a.assignTarget]=a.expression})),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0},calledProcessDefinitionName:{label:"Called Process",type:"rx-inspector-select-expression-dropdown",group:"properties",index:3,definitionType:f.definitionTypes.process.type,attrs:b({label:{"class":"required"}})},sampleProcessDefinitionName:{label:"Sample Process",type:"rx-inspector-definition-picker",definitionType:f.definitionTypes.process.type,group:"properties",index:4,attrs:b(),when:{regex:{"rxData/calledProcessDefinitionName":w}}},outputMap:{type:"list",group:"outputMap",index:4,item:{type:"object",properties:{assignTarget:{type:"rx-inspector-input-select",label:"Name",options:[],attrs:b({label:{"class":"required"}})},expression:{type:"rx-inspector-expression-node-field",label:"Source",attrs:b({label:{"class":"required"}})}}},when:{or:[{and:[{ne:{"rxData/calledProcessDefinitionName":""}},{not:{regex:{"rxData/calledProcessDefinitionName":w}}}]},{and:[{regex:{"rxData/calledProcessDefinitionName":w}},{ne:{"rxData/sampleProcessDefinitionName":""}}]}]}}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},inputMap:{label:"Input Map",index:2},outputMap:{label:"Output Map",index:3},multiInstance:{label:"Multi Instance Loop",index:4},geometry:{label:"Geometry",index:5,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxData(a),f=this.getRxInspector(d);return a&&d&&(delete f.inputs.position,delete f.inputs.size,delete f.groups.geometry,delete f.groups.inputMap,delete f.inputs.rxData.inputMap,delete f.groups.outputMap,delete f.inputs.rxData.outputMap),{rxData:e,rxInspector:f}},getShape:function(a){var b=a?{calledProcessDefinitionName:a,inputMap:[],outputMap:[]}:null,c=this.getRxConfig(b);return new joint.shapes.rx.CallActivity(c)},validate:function(b,c){var e,f=[],g=a.defer(),i=b.outputMap||[],j=b.label;if(_.isEmpty(_.trim(b.label)))j=h(d.processElementResourceTypes.callActivity),b.hasOwnProperty("label")&&f.push({elementId:b.guid,elementName:j,propertyName:"label",type:"error",message:"Label cannot be blank."});else{var k=u.filter(c,{label:j});k.length>1&&f.push({elementId:b.guid,elementName:j,propertyName:"label",type:"error",message:"Label must be unique."})}var m=_.where(c.flowElements,{targetNode:b.guid}).length,n=_.where(c.flowElements,{sourceNode:b.guid}).length;if(0!==m&&1===n||f.push({elementId:b.guid,elementName:j,type:"warning",message:"One outbound and at least one inbound sequence flow is required."}),_.isEmpty(_.trim(b.calledProcessDefinitionName)))f.push({elementId:b.guid,elementName:j,propertyName:"calledProcessDefinitionName",type:"error",message:"Called Process cannot be blank."});else{var o=b.calledProcessDefinitionName;x(b.calledProcessDefinitionName)&&(o=b.sampleProcessDefinitionName?b.sampleProcessDefinitionName:null),o&&(e=l.getProcessDefinition(o),e.then(function(a){a&&_(a.inputParams).filter(v).pluck("name").each(function(a){var c=_(b.inputMap).find({assignTarget:a});c&&!_.isEmpty(_.trim(c.expression))||f.push({elementId:b.guid,elementName:j,propertyName:"inputMap/"+a,type:"warning",message:'Input Map Property "'+a+'" cannot be blank.'})}).value()},function(){f.push({elementId:b.guid,elementName:j,propertyName:"calledProcessDefinitionName",type:"error",message:"Called Process Name is not valid."})}))}_.each(i,function(a,c){_.isEmpty(_.trim(a.assignTarget))&&f.push({elementId:b.guid,elementName:j,propertyName:"outputMap/"+c+"/assignTarget",type:"error",message:"Output Map Parameter Name cannot be blank."}),_.isEmpty(_.trim(a.expression))&&f.push({elementId:b.guid,elementName:j,propertyName:"outputMap/"+c+"/expression",type:"error",message:"Output Map Parameter Source cannot be blank."})});var p=_.uniq(i,"assignTarget");return p.length!==i.length&&f.push({elementId:b.guid,elementName:j,type:"error",message:"Output Map parameter names must be unique."}),s.validate(b,j,f),e?e["finally"](function(){g.resolve(f)}):g.resolve(f),g.promise}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxCallActivityElementModel",["$q","$injector","$rootScope","RX_PROCESS_DESIGNER","RX_RECORD_DEFINITION","RX_EXPRESSION_EDITOR","RX_INSPECTOR_SELECT_EXPRESSION_DROPDOWN","i18n","rxId","dialogs","definitionNameFilter","rxDesignerCache","rxProcessDesignerCache","rxExpandableProcessShapeInterface","rxCallActivityElementExpressionConfigurator","rxExpandableProcessShapeViewInterface","rxProcessShapeInterface","rxProcessShapeViewInterface","rxMultiInstanceConfiguration","rxMultiInstanceInterface","rxProcessElementSearch","actionTypeNameFilter","rxProcessShape",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){function x(a){return"REQUIRED"===a.fieldOption&&(null===a.defaultValue||_.isUndefined(a.defaultValue))}joint.shapes.rx=joint.shapes.rx||{};var y=/\$\{.*\}/,z=function(a){return a&&a.match(y)};return joint.shapes.rx.CallActivityView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.ExpandableProcessShapeViewInterface).extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this.model,"rx:change:calledProcessDefinitionName",this.onChangeLastCalledProcessDefinitionName),!this.model.get("parent")&&this.model.get("expanded")&&_.isUndefined(this.model.get("embeds"))&&!this.model._expanding&&this.expand()},onChangeLastCalledProcessDefinitionName:function(){this.model.get("expanded")&&(this.collapse(),this.expand())},getPaperScale:function(){return new V(this.paper.viewport).scale()}}),joint.shapes.rx.CallActivity=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.ExpandableProcessShapeInterface).extend(joint.shapes.rx.MultiInstanceInterface).extend({_lastCalledProcessDefinitionName:"",_lastSelectExpressionDropdownValue:"",_lastSampleProcessDefinition:null,_expanding:!1,defaults:joint.util.deepSupplement({type:"rx.CallActivity",activityType:"call-activity",content:h(d.processElementResourceTypes.callActivity),subProcess:!0,expanded:!1,collapsedSize:{width:70,height:60},size:{width:70,height:60},attrs:{path:{transform:"scale(0.3, 0.3)","ref-dy":-15},rect:{rx:4,ry:4}}},joint.shapes.bpmn.Activity.prototype.defaults),elementCanvasSize:{width:90,height:60},persist:function(a){var b=joint.shapes.rx.ProcessShapeInterface.persist.apply(this,arguments);if(b){var c=[];for(var d in b.inputMap){var e=b.inputMap[d];e&&c.push({assignTarget:d,expression:e})}b.calledProcessDefinitionName=b.calledProcessDefinitionName.trim(),b.inputMap=c,this._persistMultiInstanceInfo(b)}return b},initialize:function(a){joint.shapes.bpmn.Activity.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,"change:size",this._onChangeSize),this.listenTo(this,"change:expanded",this._updateGeometryGroup),a&&a.rxData&&a.rxData.calledProcessDefinitionName&&(this._lastCalledProcessDefinitionName=a.rxData.calledProcessDefinitionName,z(this._lastCalledProcessDefinitionName)&&(this._lastSelectExpressionDropdownValue=g.dropDownOptionsValue.expression)),a&&a.rxData&&a.rxData.sampleProcessDefinitionName&&(this._lastSampleProcessDefinition=a.rxData.sampleProcessDefinitionName)},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new o(this),this._expressionConfigurator},_onChangeSize:function(a,b){this.get("expanded")||this.set("collapsedSize",b)},_onChangeRxData:function(a,b,c){var d=this,e=z(b.calledProcessDefinitionName);!d._lastCalledProcessDefinitionName&&b.calledProcessDefinitionName?(d._lastSelectExpressionDropdownValue=d.selectExpressionDropdownValue,d._setCalledProcess(b.calledProcessDefinitionName)):d._lastCalledProcessDefinitionName&&!b.calledProcessDefinitionName?j.confirm("Warning!","Called Process, Input Map and Output Map parameters will be cleared. Do you want to continue?").result.then(function(){d._setCalledProcess(b.calledProcessDefinitionName),d._lastSelectExpressionDropdownValue=d.selectExpressionDropdownValue},function(){d.prop("rxData/calledProcessDefinitionName",d._lastCalledProcessDefinitionName),d.selectExpressionDropdownValue=d._lastSelectExpressionDropdownValue}):d._lastCalledProcessDefinitionName==b.calledProcessDefinitionName||e||(d._lastCalledProcessHasInputOrOutputParameter?j.confirm("Warning!","Input Map and Output Map parameters will be cleared. Do you want to continue?").result.then(function(){d._setCalledProcess(b.calledProcessDefinitionName)},function(){d.prop("rxData/calledProcessDefinitionName",d._lastCalledProcessDefinitionName)}):d._setCalledProcess(b.calledProcessDefinitionName)),e&&b.sampleProcessDefinitionName?d._lastSampleProcessDefinition?b.sampleProcessDefinitionName!=d._lastSampleProcessDefinition&&(d._lastSampleProcessHasInputOrOutputParameter?j.confirm("Warning!","Input Map and Output Map parameters will be cleared. Do you want to continue?").result.then(function(){d._setSampleProcess(b.sampleProcessDefinitionName)},function(){d.prop("rxData/sampleProcessDefinitionName",d._lastSampleProcessDefinition)}):d._setSampleProcess(b.sampleProcessDefinitionName)):d._setSampleProcess(b.sampleProcessDefinitionName):e&&!b.sampleProcessDefinitionName&&d._lastSampleProcessDefinition&&j.confirm("Warning!","Input Map and Output Map parameters will be cleared. Do you want to continue?").result.then(function(){d._setSampleProcess(b.sampleProcessDefinitionName)},function(){d.prop("rxData/sampleProcessDefinitionName",d._lastSampleProcessDefinition)}),/^(rxData\/outputMap\/)[0-9]+(\/assignTarget)$/g.test(c.propertyPath)&&d._rebuildOutputMap(c.propertyValue)},_setSampleProcess:function(a){var b=this;b._lastSampleProcessDefinition=a,l.getProcessDefinition(a).then(function(a){b.prop("rxData/outputMap",null,{silent:!0}),b.prop("rxData/outputMap",[],{silent:!0}),b._rebuildInputMap(a),b._lastSampleProcessHasInputOrOutputParameter=a&&!_.isEmpty(a.outputParams)||a&&!_.isEmpty(a.inputParams),b._updateMultiInstanceInfo().then(function(){c.$broadcast(f.events.refreshInspector,b)})})},_setCalledProcess:function(a){var b=this;b._lastCalledProcessDefinitionName=a,l.getProcessDefinition(a).then(function(a){b.prop("rxData/outputMap",null,{silent:!0}),b.prop("rxData/outputMap",[],{silent:!0}),b._rebuildInputMap(a),b._lastCalledProcessHasInputOrOutputParameter=a&&!_.isEmpty(a.inputParams)||a&&!_.isEmpty(a.outputParams),b._updateMultiInstanceInfo().then(function(){b.trigger("rx:change:calledProcessDefinitionName"),c.$broadcast(f.events.refreshInspector,b)})})},_initInputMap:function(a){var b=angular.copy(this.get("rxInspector"));b.inputs.rxData.inputMap=this._buildInspectorInputMap(a),this.updateInspectorOutputMapConfig(b,a),this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0})},_rebuildInputMap:function(a){var b=angular.copy(this.get("rxInspector")),c=angular.copy(this.get("rxData"));a?(this.updateInspectorOutputMapConfig(b,a),b.inputs.rxData.inputMap=this._buildInspectorInputMap(a),c.inputMap=this._buildDataInputMap(a)):(delete b.inputs.rxData.inputMap,c.inputMap=[]),this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0}),this.unset("rxData",{silent:!0}),this.prop("rxData",c,{silent:!0})},_buildDataInputMap:function(a){var b={};return a.inputParams.forEach(function(a){b[a.name]=""}),b},_buildInspectorInputMap:function(a){var b={},c=_.sortBy(a.inputParams,function(a){return!x(a)});return c.forEach(function(a){var c={label:a.name,type:"rx-inspector-expression-node-field",group:"inputMap"};a.resourceType===e.dataTypes.selection.resourceType&&(c.type="rx-inspector-expression-input-select",c.options=_.map(a.optionNamesById,function(a,b){return{content:a,value:b}})),x(a)&&(c.attrs={label:{"class":"required"}}),b[a.name]=c}),b},updateInspectorOutputMapConfig:function(a,b){_.isEmpty(b.outputParams)?a.inputs.rxData.outputMap.when=!0:a.inputs.rxData.outputMap.when={or:[{and:[{ne:{"rxData/calledProcessDefinitionName":""}},{not:{regex:{"rxData/calledProcessDefinitionName":y}}}]},{and:[{regex:{"rxData/calledProcessDefinitionName":y}},{ne:{"rxData/sampleProcessDefinitionName":""}}]}]}},updateInspectorConfig:function(b){var c=this,d=[],e=angular.copy(this.get("rxInspector"));if(!e.readonly){if(this._updateGeometryGroup(),e.inputs.rxData.outputMap){var f=w.getProcessVariables(b);e.inputs.rxData.outputMap.item.properties.assignTarget.options=f,c.unset("rxInspector",{silent:!0}),c.prop("rxInspector",e,{silent:!0}),c.trigger("rx:change:inputs",c)}d.push(c._updateMultiInstanceInfo()),c._lastCalledProcessDefinitionName&&(z(c._lastCalledProcessDefinitionName)?c._lastSampleProcessDefinition&&d.push(l.getProcessDefinition(c._lastSampleProcessDefinition).then(function(a){c._initInputMap(a)})):d.push(l.getProcessDefinition(c._lastCalledProcessDefinitionName).then(function(a){c._initInputMap(a)}))),z(this.prop("rxData/calledProcessDefinitionName"))&&(this.selectExpressionDropdownValue=g.dropDownOptionsValue.expression)}return a.all(d)},_updateGeometryGroup:function(){var a=this.get("rxInspector");if(!a.readonly){var b={input:{readonly:!0,disabled:!0}},c=this.get("expanded")?b:{};a.inputs.position.x.attrs=a.inputs.position.y.attrs=c,a.inputs.size.width.attrs=a.inputs.size.height.attrs=c,this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",a,{silent:!0}),this.trigger("rx:change:inputs",this)}},_showMultiInstanceInfo:function(){var a=z(this._lastCalledProcessDefinitionName);return this.prop("rxInspector/readonly")?this.prop("rxData/multiInstanceLoopDefinition"):this._lastCalledProcessDefinitionName&&a?this.prop("rxData/sampleProcessDefinitionName"):!(!this._lastCalledProcessDefinitionName||a)&&this._lastCalledProcessDefinitionName},_canExpand:function(){var b=a.defer();return this._lastCalledProcessDefinitionName?z(this._lastCalledProcessDefinitionName)?b.reject("Dynamic Call Activity cannot be expanded."):this.getCalledProcessDefinition().then(function(a){a.layout?b.resolve():b.reject("The Called Process does not have a layout.")}):b.reject("Please select a Called Process before expanding this Call Activity."),b.promise},getCalledProcessDefinition:function(){return l.getProcessDefinition(this._lastCalledProcessDefinitionName)},_prepareForExpand:function(){var c=this,d=a.defer();return this.getCalledProcessDefinition().then(function(a){m.loadFlowElementDependencies(a).then(function(){var e=c._lastCalledProcessDefinitionName+":"+c.get("id"),f=m.getProcessClone(e);if(!f){var g=b.get("rxProcessDesignerElementManager"),h=g.cloneProcessDefinition(a);f={definition:h,graph:g.getGraph(h,{readonly:!0})},m.setProcessClone(e,f),l.setProcessDefinition(h)}d.resolve(f)})},function(){d.reject()}),d.promise},_afterExecuteExpand:function(){this.attr({".body":{fill:"#f2f2f2"},".sub-process":{visibility:"hidden"}})},_prepareCellModel:function(a){this.constructor.__super__._prepareCellModel.apply(this,arguments),a.set({inCallActivity:!0},{silent:!0})},_executeCollapse:function(){this.unembedElements(),this.set("parentCallActivity",null,{silent:!0}),this.attr({".body":{fill:"#ffffff"},".sub-process":{visibility:"visible"}})},getAutoCompleteList:function(b){var c=this.prop("rxData/calledProcessDefinitionName");return b.fieldPath&&c?l.getProcessDefinition(c).then(function(c){if(!_.isEmpty(c.outputParams)){var d=_.find(c.outputParams,{name:b.fieldPath});return d&&d.resourceType===e.dataTypes.selection.resourceType?_(d.optionNamesById).values().map(function(a){return{id:a,label:a}}).value():a.when([])}}):a.when([])}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxEndEventElement",["$q","i18n","RX_PROCESS_DESIGNER","rxProcessShapeInterface","rxProcessShapeViewInterface","rxProcessElementSearch",function(a,b,c,d,e,f){joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.EndEventView=joint.dia.ElementView.extend(joint.shapes.rx.ProcessShapeViewInterface);var g="End";return joint.shapes.rx.EndEvent=joint.shapes.bpmn.Event.extend(joint.shapes.rx.ProcessShapeInterface).extend({defaults:joint.util.deepSupplement({type:"rx.EndEvent",size:{width:50,height:50},attrs:{".label":{fill:"gray",text:b(c.processElementResourceTypes.endEvent)}},eventType:"end"},joint.shapes.bpmn.Event.prototype.defaults),defaultName:g,labelPath:"attrs/.label/text",clearLabel:!0,elementCanvasSize:{width:30,height:30}}),{getRxData:function(a){var b={resourceType:c.processElementResourceTypes.endEvent,name:g,description:""};return a&&_.assign(b,a),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:c,when:a?{notEmpty:{"rxData/label":""}}:void 0},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},geometry:{label:"Geometry",index:2,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxInspector(d);return a&&d&&(delete e.inputs.position,delete e.inputs.size,delete e.groups.geometry),{rxData:this.getRxData(a),rxInspector:e}},getShape:function(){var a=this.getRxConfig();return new joint.shapes.rx.EndEvent(a)},validate:function(d,e){var g=[],h=_.isEmpty(_.trim(d.label))?b(c.processElementResourceTypes.endEvent):d.label,i=_.where(e.flowElements,{
targetNode:d.guid}).length;i<1&&g.push({elementId:d.guid,elementName:h,type:"warning",message:"At least one inbound sequence flow is required."});var j=_.where(e.flowElements,{sourceNode:d.guid}).length;if(j>0&&g.push({elementId:d.guid,elementName:h,type:"error",message:"Cannot have outbound sequence flows."}),!_.isEmpty(_.trim(d.label))){var k=f.filter(e,{label:h});k.length>1&&g.push({elementId:d.guid,elementName:h,propertyName:"label",type:"error",message:"Label must be unique."})}return a.when(g)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxExclusiveGatewayElement",["$q","i18n","RX_PROCESS_DESIGNER","rxProcessShapeInterface","rxProcessElementSearch",function(a,b,c,d,e){joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ExclusiveGatewayView=joint.dia.ElementView.extend(joint.shapes.rx.ProcessShapeViewInterface);var f="Exclusive Gateway";return joint.shapes.rx.ExclusiveGateway=joint.shapes.bpmn.Gateway.extend(joint.shapes.rx.ProcessShapeInterface).extend({defaults:joint.util.deepSupplement({type:"rx.ExclusiveGateway",icon:"cross",size:{width:60,height:60},attrs:{".label":{fill:"gray",text:b(c.processElementResourceTypes.exclusiveGateway)}}},joint.shapes.bpmn.Gateway.prototype.defaults),defaultName:f,labelPath:"attrs/.label/text",clearLabel:!0,elementCanvasSize:{width:40,height:40}}),{getRxData:function(a){var b={resourceType:c.processElementResourceTypes.exclusiveGateway,name:f,description:""};return a&&_.assign(b,a),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:c,when:a?{notEmpty:{"rxData/label":""}}:void 0},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},geometry:{label:"Geometry",index:2,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxInspector(d);return a&&d&&(delete e.inputs.position,delete e.inputs.size,delete e.groups.geometry),{rxData:this.getRxData(a),rxInspector:e}},getShape:function(){var a=this.getRxConfig();return new joint.shapes.rx.ExclusiveGateway(a)},validate:function(d,f){var g=[],h=_.isEmpty(_.trim(d.label))?b(c.processElementResourceTypes.exclusiveGateway):d.label,i=_.where(f.flowElements,{targetNode:d.guid}).length,j=_.where(f.flowElements,{sourceNode:d.guid}).length,k=1===i&&j>1||1===j&&i>1;if(k){if(j>0){var l=_.where(f.flowElements,{sourceNode:d.guid}),m=_.filter(l,function(a){return _.isEmpty(_.trim(a.condition))}).length;(0===m||m>1)&&g.push({elementId:d.guid,elementName:h,propertyName:"label",type:"warning",message:"Exclusive Gateway must have one outgoing Sequence Flow with no Condition specified."})}}else g.push({elementId:d.guid,elementName:h,type:"error",message:"The number of connections is invalid."});if(!_.isEmpty(_.trim(d.label))){var n=e.filter(f,{label:h});n.length>1&&g.push({elementId:d.guid,elementName:h,propertyName:"label",type:"error",message:"Label must be unique."})}return a.when(g)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxExpandableProcessShapeViewInterface",["rxProcessShapeViewInterface",function(a){var b=20,c=35,d=25,e=200,f=200;return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ExpandableProcessShapeViewInterface=_.assign({},joint.shapes.rx.ProcessShapeViewInterface,{initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this.model,"expand:begin",this.expandBeginHandler),this.listenTo(this.model,"expand:done",this.expandDoneHandler),this.listenTo(this.model,"collapse:begin",this.collapseBeginHandler),this.listenTo(this.model,"collapse:done",this.collapseDoneHandler),this.listenTo(this.model,"change:expanded",this.onChangeExpanded)},expand:function(){var a=this;this.model.expand().then(function(){a.parentResize(),a.isExpanding=!1})},parentResize:function(){var a=this;if(a.resizeAfterExpand(),a.model.get("parent")){var b=a.paper.findViewByModel(a.model.get("parent"));b&&b.parentResize&&!b.isExpanding&&b.parentResize()}},collapse:function(){this.notify("cell:collapse:begin"),this.model.collapse()},onChangeExpanded:function(){this.model.get("expanded")?this.expand():this.collapse()},expandBeginHandler:function(){this.notify("cell:expand:begin")},expandDoneHandler:function(){if(!this.isExpanding&&(this.resizeAfterExpand(),this.model.get("parent"))){var a=this.paper.findViewByModel(this.model.get("parent"));a&&a.expandDoneHandler&&a.expandDoneHandler()}},collapseBeginHandler:function(){this.notify("cell:collapse:begin")},collapseDoneHandler:function(){var a=this.model.get("collapsedSize"),b=this.model.get("position"),c=this.model.get("position"),d=g.rect(b.x,b.y,c.width,c.height),e=g.rect(b.x,b.y,a.width,a.height);this.model.resize(a.width,a.height),this.notify("cell:collapse:done",d,e)},resizeAfterExpand:function(){var a=this.model.get("collapsedSize"),h=this.model.get("position"),i=this.getEmbeddedBBox(),j=i.width+2*b,k=i.height+c+d;j<e&&(j=e),k<f&&(k=f);var l=g.rect(h.x,h.y,a.width,a.height),m=g.rect(h.x,h.y,j,k);this.model.resize(j,k),this.notify("cell:expand:done",l,m)},pointerdblclick:function(a,b,c){"rx.CallActivity"!=this.model.get("parentType")&&this.canInteract()&&(this.model.set("expanded",!this.model.get("expanded"),{ignoreCommandManager:!0}),this.isExpanding=!0,this._parent.pointerdblclick.apply(this,arguments))}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxExpandableProcessShapeInterface",["$q","rxId","rxNotificationMessage","rxProcessElementSearch","rxProcessShapeInterface",function(a,b,c,d,e){joint.shapes.rx=joint.shapes.rx||{};var f=20,g=35;return joint.shapes.rx.ExpandableProcessShapeInterface=_.assign({},joint.shapes.rx.ProcessShapeInterface,{expand:function(){var b=this,d=a.defer();return this._expanding=!0,this._canExpand().then(function(){b._prepareForExpand().then(function(a){b.trigger("expand:begin"),b._executeExpand(a)["finally"](function(){b._expanding=!1,d.resolve()}),b.trigger("expand:done")},function(){b.trigger("expand:error"),b.set("expanded",!1,{silent:!0,ignoreCommandManager:!0}),b._expanding=!1,d.reject()})},function(a){b._expanding=!1,b.set("expanded",!1,{silent:!0,ignoreCommandManager:!0}),d.reject(),a&&c.info(a)}),d.promise},collapse:function(){this._expanding||(this.trigger("collapse:begin"),this._executeCollapse(),this._expanding=!1,this.trigger("collapse:done"))},unembedElements:function(){var a=this;angular.forEach(this.getEmbeddedCells(),function(b){b.rxUnembed=!0,a.unembed(b,{silent:!0}),_.isFunction(b.unembedElements)&&b.unembedElements(),b.remove({silent:!0})})},_executeCollapse:angular.noop,isExpandable:!0,_canExpand:function(){return a.when()},_prepareForExpand:function(){return a.when()},_executeExpand:function(c){var e=this,f=c.graph,g=[],h=_.filter(f.cells,function(a){return"rx.SequenceFlow"!=a.type&&"rx.TextAnnotationAssociation"!=a.type}),i=_.min(_.map(h,function(a){return a.position.x})),j=_.min(_.map(h,function(a){return a.position.y}));return this.collection.trigger("batch:start"),f.cells=_.sortBy(f.cells,function(a){return"rx.SequenceFlow"==a.type||"rx.TextAnnotationAssociation"==a.type}),f.cells.forEach(function(a){var f=joint.util.getByPath(e.collection.cellNamespace,a.type,"."),h=new f(a),k=d.findByGuid(c.definition,b.get(h.id));k&&k.originalGuid&&h.set("originalGuid",k.originalGuid,{silent:!0}),e._prepareCellModel(h,c,i,j),h.graph=e.collection.graph,h.get("expanded")&&g.push(h.expand()),e.embed(h,{rxSilent:!0,silent:!0}),e.collection.add(h)}),this.collection.trigger("batch:stop"),this._afterExecuteExpand(),a.all(g)},_afterExecuteExpand:function(){},_prepareCellModel:function(a,b,c,d){var e=a.get("position"),h=this.get("position"),i={};e&&(i.position={x:e.x+h.x-c+f,y:e.y+h.y-d+g});var j=a.get("vertices");a.isLink()&&_.size(j)&&(_.each(j,function(a){a.x=a.x+h.x-c+f,a.y=a.y+h.y-d+g}),a.unset("vertices"),a.set("vertices",j)),i.z=this.get("z")+1,i.parentType=this.get("type"),a.set(i,{silent:!0})}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxMultiInstanceConfiguration",["$sce",function(a){function b(a){var b={label:{"class":"required"}},c=angular.copy(f);return a&&_.assign(b,h),c.properties.inputDataItem.attrs=b,c.properties.loopDataInputRef.attrs=b,c.properties.completionCondition.attrs={},c}function c(a){var b=angular.copy(g);return a&&_.assign(b.attrs,h),b}function d(){return{label:"About Multi Instance Loops",type:"rx-inspector-text-tooltip",group:"multiInstance",tooltipPopupDelay:"500",tooltip:a.trustAsHtml("A multi instance loop defines repetition for a process activity. It allows execution of the activity for each item in an array of data.<br><br>Loop Data Input refers to the array of data, such as a list of task records.<br><br>Input Data Item is a process variable. On each execution, it is assigned one value, such as one task record, from the Loop Data Input array.<br><br>The process activity uses the process variable, configured as the Input Data Item, as the input to perform the operation.")}}function e(a,b,c){a.multiInstanceLoopDefinition&&(_.isEmpty(_.trim(a.multiInstanceLoopDefinition.inputDataItem))&&c.push({elementId:a.guid,elementName:b,type:"error",propertyName:"multiInstanceLoopDefinition/inputDataItem",message:"Input Data Item cannot be blank."}),_.isEmpty(_.trim(a.multiInstanceLoopDefinition.loopDataInputRef))&&c.push({elementId:a.guid,elementName:b,type:"error",propertyName:"multiInstanceLoopDefinition/loopDataInputRef",message:"Loop Data Input cannot be blank."}))}var f={type:"object",group:"multiInstance",properties:{loopDataInputRef:{label:"Loop Data Input",type:"rx-inspector-expression-node-field"},inputDataItem:{label:"Input Data Item",type:"select",options:[]},completionCondition:{label:"Completion Criteria",type:"rx-inspector-expression-node-field",tooltip:"The Completion Criteria specify the conditions which, when evaluating to true, stop the looping activity, allowing the process flow to continue."}},when:{regex:{"rxData/loopType":/true|false/}}},g={type:"select",label:"Loop Type",group:"multiInstance",attrs:{},options:[{value:"",content:""},{value:"false",content:"Parallel"},{value:"true",content:"Sequential"}]},h={input:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}};return{validate:e,getAboutMultiInstanceLoopInspectorConfig:d,getLoopTypeInspectorConfig:c,getMultiInstanceLoopInspectorConfig:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxMultiInstanceExpressionConfigurator",["RX_EXPRESSION_EDITOR","rxDefaultExpressionConfigurator",function(a,b){return b.extend({initialize:function(b){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.registerExpressionConfig({regExp:/^rxData\/multiInstanceLoopDefinition\/completionCondition$/g,operators:a.operators.all}),this.registerExpressionConfig({regExp:/^rxData\/multiInstanceLoopDefinition/g,updateDataDictionary:function(a,b){var c=this.findElement(a,function(a){return _.includes(a.value,"[0]")});return _.each(c,function(a){a.value=a.value.replace(/\[0\]/g,"")}),a},operators:a.operators.math})}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxMultiInstanceInterface",["$q","RX_EXPRESSION_EDITOR","rxMultiInstanceConfiguration","rxProcessShape","rxDesignerCache",function(a,b,c,d,e){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.MultiInstanceInterface={_inputDataItemPath:"rxInspector/inputs/rxData/multiInstanceLoopDefinition/properties/inputDataItem/options",initialize:function(a){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),a.rxData.multiInstanceLoopDefinition&&this.prop("rxData/loopType",String(a.rxData.multiInstanceLoopDefinition.isSequential),{silent:!0}),this.listenTo(this,"change:rxData",this._onChangeRxDataMultiInstanceInfo),this._initMultiInstanceMarkup(),this._initMultiInstanceIcons(),this._updateMultiInstanceIcons()},_initMultiInstanceMarkup:function(){this.markup=this.markup.replace(/<path class="sub-process"\/>/,'<g class="rx-icon-container"><image class="icon-multi-instance-sequential"/><image class="icon-multi-instance-parallel"/><path class="sub-process"/></g>')},_updateMultiInstanceInfo:function(){var b=a.defer(),c=b.promise;return this.prop("rxInspector/readonly")?b.resolve():this._showMultiInstanceInfo()?c=this._updateInputDataItems():(this._removeMultiInstanceInfo(),b.resolve()),c},_updateInputDataItems:function(){var b=this,c=a.defer();return this._getInputDataItems().then(function(a){var d=angular.copy(b.get("rxInspector"));a=_.compact(a),a.unshift(""),d.inputs.rxData.multiInstanceLoopDefinition||b._initMultiInstanceInfoInspector(d);var e=angular.copy(b.get("rxData"));b.prop("rxInspector/readonly")&&e.multiInstanceLoopDefinition?d.inputs.rxData.multiInstanceLoopDefinition.properties.inputDataItem.options=[e.multiInstanceLoopDefinition.inputDataItem]:(d.inputs.rxData.multiInstanceLoopDefinition.properties.inputDataItem.options=a,e.multiInstanceLoopDefinition&&!_.contains(a,e.multiInstanceLoopDefinition.inputDataItem)&&(delete e.multiInstanceLoopDefinition.inputDataItem,b.unset("rxData",{silent:!0}),b.prop("rxData",e,{ignoreCommandManager:!0}))),b.unset("rxInspector",{silent:!0}),b.set("rxInspector",d,{silent:!0}),c.resolve()}),c.promise},_onChangeRxDataMultiInstanceInfo:function(a,b,c){this._updateMultiInstanceIcons()},_initMultiInstanceIcons:function(){var a=angular.copy(this.get("attrs")),b={width:10,height:10,y:1};a[".sub-process"]={d:"M 0 0 L 30 0 30 30 0 30 z M 15 4 L 15 26 M 4 15 L 26 15",stroke:"#000000",fill:"transparent",transform:"scale(0.3, 0.3) translate(0, 6)"},a[".sub-process"].display=this.prop("subProcess")?"":"none",a[".icon-multi-instance-sequential"]=angular.copy(b),a[".icon-multi-instance-parallel"]=angular.copy(b),a[".icon-multi-instance-sequential"]["xlink:href"]=joint.shapes.bpmn.icons.multiInstanceSequential,a[".icon-multi-instance-parallel"]["xlink:href"]=joint.shapes.bpmn.icons.multiInstanceParallel,a[".rx-icon-container"]={ref:".body","x-alignment":"middle","ref-x":.5,"ref-dy":-15},_.defaults(a[".icon"],a.image),delete a.image,delete a.path,this.unset("attrs",{silent:!0}),this.set("attrs",a)},_updateMultiInstanceIcons:function(){var a=this.prop("rxData/loopType"),b=this.get("attrs");b[".icon-multi-instance-sequential"].display="true"==a?"":"none",b[".icon-multi-instance-parallel"].display="false"==a?"":"none",this.prop("subProcess")&&(b[".sub-process"].transform=a?"scale(0.3, 0.3) translate(50, 6)":"scale(0.3, 0.3) translate(0, 6)"),this.unset("attrs",{silent:!0}),this.set("attrs",b,{rxSilent:!0})},_showMultiInstanceInfo:function(){return!0},supportDynamicQualification:function(a){return"rxData/multiInstanceLoopDefinition/completionCondition"===a},_initMultiInstanceInfoInspector:function(a){a.inputs.rxData.aboutMultiInstanceLoop=c.getAboutMultiInstanceLoopInspectorConfig(),a.inputs.rxData.loopType=c.getLoopTypeInspectorConfig(a.readonly),a.inputs.rxData.multiInstanceLoopDefinition=c.getMultiInstanceLoopInspectorConfig(a.readonly)},_removeMultiInstanceInfo:function(){var a=angular.copy(this.get("rxInspector"));delete a.inputs.rxData.aboutMultiInstanceLoop,delete a.inputs.rxData.multiInstanceLoopDefinition,delete a.inputs.rxData.loopType,this.unset("rxInspector",{silent:!0}),this.set("rxInspector",a,{silent:!0}),this.prop("rxData/aboutMultiInstanceLoop",""),this.prop("rxData/multiInstanceLoopDefinition",null),this.prop("rxData/loopType","")},_getInputDataItems:function(){return e.getProcessDefinition(this.get("ownerProcessDefinitionName")).then(function(a){return d.getProcessVariables(a)})},_persistMultiInstanceInfo:function(a){var b=this.get("rxData");return"true"===b.loopType||"false"===b.loopType?(a.multiInstanceLoopDefinition=a.multiInstanceLoopDefinition||{},a.multiInstanceLoopDefinition.isSequential=JSON.parse(b.loopType)):a.multiInstanceLoopDefinition=null,delete a.loopType,delete a.aboutMultiInstanceLoop,a}},{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxParallelGatewayElement",["$q","i18n","RX_PROCESS_DESIGNER","rxProcessShapeInterface","rxProcessElementSearch",function(a,b,c,d,e){joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ParallelGatewayView=joint.dia.ElementView.extend(joint.shapes.rx.ProcessShapeViewInterface);var f="Parallel Gateway";return joint.shapes.rx.ParallelGateway=joint.shapes.bpmn.Gateway.extend(joint.shapes.rx.ProcessShapeInterface).extend({defaults:joint.util.deepSupplement({type:"rx.ParallelGateway",icon:"plus",size:{width:60,height:60},attrs:{".label":{fill:"gray",text:b(c.processElementResourceTypes.parallelGateway)}}},joint.shapes.bpmn.Gateway.prototype.defaults),defaultName:f,labelPath:"attrs/.label/text",clearLabel:!0,elementCanvasSize:{width:40,height:40}}),{getRxData:function(a){var b={resourceType:c.processElementResourceTypes.parallelGateway,name:f,description:""};return a&&_.assign(b,a),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:c,when:a?{notEmpty:{"rxData/label":""}}:void 0},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},geometry:{label:"Geometry",index:2,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxInspector(d);return a&&d&&(delete e.inputs.position,delete e.inputs.size,delete e.groups.geometry),{rxData:this.getRxData(a),rxInspector:e}},getShape:function(){var a=this.getRxConfig();return new joint.shapes.rx.ParallelGateway(a)},validate:function(d,f){var g=[],h=_.isEmpty(_.trim(d.label))?b(c.processElementResourceTypes.parallelGateway):d.label,i=_.where(f.flowElements,{targetNode:d.guid}).length,j=_.where(f.flowElements,{sourceNode:d.guid}).length,k=1===i&&j>1||1===j&&i>1;if(k||g.push({elementId:d.guid,elementName:h,type:"error",message:"The number of connections is invalid."}),!_.isEmpty(_.trim(d.label))){var l=e.filter(f,{label:h});l.length>1&&g.push({elementId:d.guid,elementName:h,propertyName:"label",type:"error",message:"Label must be unique."})}return a.when(g)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessActionElementExpressionConfigurator",["$q","rxId","RX_RECORD_DEFINITION","RX_EXPRESSION_EDITOR","rxActionElementInterface","rxMultiInstanceExpressionConfigurator","definitionNameFilter","rxDesignerCache",function(a,b,c,d,e,f,g,h){return f.extend({initialize:function(f){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments);var i=f.prop("rxData/actionTypeName"),j=e.isGetRecordsByQueryAction(i),k=e.isUpdateRecordAction(i),l=e.isSecurityLabelAction(i),m={regExp:/^(rxData\/outputMap\/)[0-9]+(\/expression)$/g,updateDataDictionary:function(c,d){var e=_(c).find({label:"Activities"});if(e){var g=_(e.children).find({guid:b.get(f.id)});_.remove(c,e),g&&c.push(g)}return a.when(c)}};if(this.registerExpressionConfig(m),k||l){var n={regExp:/^(rxData\/inputMap\/record)$/g,updateDataDictionary:function(b,c){return"false"==f.prop("rxData/inputMap/recordSource")&&(_.remove(b,{label:"General"}),_.remove(b,{label:"Activities"})),a.when(b)}};this.registerExpressionConfig(n)}var o={updateDataDictionary:function(b,d){var e=f.getRecordDefinitionName()||f._getRecordDefinitionFromInputParams();return e?h.getRecordDefinition(e).then(function(a){if(j){var f=_(a.fieldDefinitions).map(function(a){return{label:a.name,type:"Record Definition Field",icon:"d-icon-field_text",value:["${queryExpression."+a.id+"}","${queryExpression."+a.name+"}"],id:a.id}}).value();b.unshift({label:g(e)+" Fields",children:f})}if(d){var h=_(a.fieldDefinitions).find({name:_(d.split("/")).findLast()});if(h)switch(h.resourceType){case c.dataTypes.selection.resourceType:var i=_(h.optionNamesById).map(function(a,b){return{label:a,value:'"'+a+'"',showRawValue:!0}}).value();b.unshift({label:"Options",children:i});break;case c.dataTypes["boolean"].resourceType:b.unshift({label:"Options",children:[{label:"True",value:'"true"',showRawValue:!0},{label:"False",value:'"false"',showRawValue:!0}]})}}return b},function(){return b}):a.when(b)},operators:j?d.operators.all:d.operators.math};this.setDefaultDictionaryConfig(o)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessActionElement",["$q","i18n","rxString","actionTypeNameFilter","RX_PROCESS_DESIGNER","RX_DEFINITION_PICKER","rxMultiInstanceInterface","rxMultiInstanceConfiguration","rxProcessElementSearch","rxDesignerCache","rxProcessActionElementModel","rxActionElementInterface",function(a,b,c,d,e,f,g,h,i,j,k,l){var m=[];return{setActionTypes:function(a){m=a},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b(),d={readonly:a,inputs:{rxData:{actionTypeName:{label:"Action Type Name",type:"rx-inspector-read-only-text",filter:"actionTypeName",group:"properties",index:1,attrs:b({input:{readonly:!0,disabled:!0}})},label:{label:"Label",type:"text",group:"properties",index:2,attrs:b({label:{"class":"required"}})},description:{label:"Description",type:"textarea",group:"properties",index:3,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0},runAsUser:{label:"Run as",type:"rx-inspector-select",options:[{value:"true",content:"Current User"},{value:"false",content:"Administrator"},{value:"null",content:"Inherit from Process"}],group:"properties",tooltip:"Allows you to execute the process Service Task with permissions inherited from the process or permissions of the selected user role.",index:4,attrs:b(),defaultValue:"null"},inputMap:{},outputMap:{type:"list",group:"outputMap",item:{type:"object",properties:{assignTarget:{type:"rx-inspector-input-select",label:"Name",options:[],attrs:b({label:{"class":"required"}})},expression:{type:"rx-inspector-expression-node-field",label:"Source",attrs:b({label:{"class":"required"}})}}}}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},inputMap:{label:"Input Map",index:2},outputMap:{label:"Output Map",index:3},multiInstance:{label:"Multi Instance Loop",index:4},geometry:{label:"Geometry",index:5,closed:!0}}};return d},getRxData:function(a,b){var c=d(b.actionTypeName),f={resourceType:e.processElementResourceTypes.processAction,name:c,description:"",runAsUser:"null",actionTypeName:b.actionTypeName,inputMap:{},outputMap:[],loopType:"",multiInstanceLoopDefinition:null};return a&&(_.assign(f,a),f.runAsUser=String(f.runAsUser)),f},getRxConfig:function(a,d,e){e=e||{},rx.assert.assertObject(a),rx.assert.assertStringWithLength(a.actionTypeName),rx.assert.assertArrayWithLength(m);var g=e.readonly===!0,h=_.find(m,{actionTypeName:a.actionTypeName}),i={rxData:this.getRxData(a,h||{}),rxInspector:this.getRxInspector(g)};if(!g&&h){var j=l.isAssociationAction(h.actionTypeName),k=l.isGetRecordsByQueryAction(h.actionTypeName),n=l.isRecordAction(h.actionTypeName),o=l.isSecurityLabelAction(h.actionTypeName),p=l.isBusinessTimeAction(h.actionTypeName),q=l.isUpdateRecordAction(h.actionTypeName),r="showAlert"===h.actionTypeName;!o&&!q||_.find(h.inputParams,{name:"recordSource"})||h.inputParams.unshift({dataType:"String",dataTypeDetail:null,name:"recordSource",required:!1}),0===i.rxData.inputMap.length&&(i.rxData.inputMap={});var s=o?h.inputParams:_.sortBy(h.inputParams,function(a){return!a.required});s.forEach(function(a,d){var e,g=(n||o)&&"recordDefinitionName"===a.name||j&&"associationDefinitionName"===a.name,m="securityLabel"===a.name,s="recordSource"===a.name,t=(o||q)&&"recordDefinitionName"===a.name,u=(o||q)&&"recordID"===a.name,v=(o||q)&&"record"===a.name,w=k&&"retrieve"===a.name,x=k&&"fieldIDs"===a.name,y=p&&"unit"===a.name,z=l.isSetSecurityLabelAction(h.actionTypeName)&&"appendExistingValues"===a.name;e=g?"rx-inspector-definition-picker":m||s||r&&"RequestMessageType"===a.dataType||y?"select":r&&"int"===a.dataType?"number":w?"rx-inspector-radio-button":z?"toggle":"rx-inspector-expression-node-field";var A={group:"inputMap",label:b(a.name),type:e,index:d,attrs:{}};return(!n||"values"!==a.name)&&(g&&j?A.definitionType=f.definitionTypes.association.type:g?A.definitionType=f.definitionTypes.record.type:m?A.options=[]:x?A.when=!0:w?(A.options=[{value:"0",content:"First Matching Record"},{value:"1",content:"All Matching Record"}],A.attrs.defaultValue="0"):s?A.options=[{value:"true",content:"Database"},{value:"false",content:"Process Variable"}]:r&&"RequestMessageType"===a.dataType?(A.options=[{value:'"INFO"',content:"INFO"},{value:'"WARNING"',content:"WARNING"},{value:'"ERROR"',content:"ERROR"}],a.defaultValue='"INFO"'):r&&"alertCode"===a.name?a.defaultValue=1e4:y?A.options=[{value:"",content:""},{value:"1",content:"seconds"},{value:"2",content:"minutes"},{value:"3",content:"hours"},{value:"4",content:"days"}]:z&&(a.defaultValue=!0),t||u?A.when={ne:{"rxData/inputMap/recordSource":"false"}}:v&&(A.when={eq:{"rxData/inputMap/recordSource":"false"}},A.index=2),(a.required||t||u||v)&&(A.attrs.label={"class":"required"}),!n&&_.get(i,"rxInspector.inputs.rxData.multiInstanceLoopDefinition.properties.inputDataItem.options")&&i.rxInspector.inputs.rxData.multiInstanceLoopDefinition.properties.inputDataItem.options.push({content:c.prettify(a.name),value:a.name}),i.rxInspector.inputs.rxData.inputMap[a.name]=A,void(_.isUndefined(a.defaultValue)?i.rxData.inputMap[a.name]="":i.rxData.inputMap[a.name]=a.defaultValue))}),"void"==h.outputParams.dataType&&delete i.rxInspector.inputs.rxData.outputMap,_.isEmpty(h.outputParams)&&(delete i.rxInspector.inputs.rxData.outputMap,delete i.rxInspector.groups.outputMap)}if(a.guid&&(_.assign(i.rxData,_.pick(a,_(i.rxData).keys().remove(function(a){return"inputMap"!==a}).value())),i.rxData.runAsUser=String(i.rxData.runAsUser),_.isArray(a.inputMap)&&0!==a.inputMap.length)){i.rxData.inputMap={};var t=!!h&&l.isCreateOrUpdateRecordAction(h.actionTypeName);a.inputMap.forEach(function(a){var b=a.assignTarget;if(t){var c=/values\[\"(.*)\"\]/.exec(b);c&&(b=c[1])}i.rxData.inputMap[b]="recordDefinitionName"===b||"associationDefinitionName"===b?a.expression.replace(/^\"|\"$/g,""):a.expression})}return a&&g&&(delete i.rxInspector.inputs.position,delete i.rxInspector.inputs.size,delete i.rxInspector.groups.geometry,delete i.rxInspector.groups.outputMap,delete i.rxInspector.inputs.rxData.outputMap,delete i.rxInspector.groups.inputMap,delete i.rxInspector.inputs.rxData.inputMap),i},getShape:function(a){rx.assert.assertObject(a),rx.assert.assertArrayWithLength(m);var b=this.getRxConfig({actionTypeName:a.actionTypeName});return b.content=d(a.actionTypeName),new joint.shapes.rx.ProcessAction(b)},validate:function(b,e){var f,g=[],k=b.outputMap||[],n=a.defer(),o=b.label;if(_.isEmpty(_.trim(b.label)))o=d(b.actionTypeName),b.hasOwnProperty("label")&&g.push({elementId:b.guid,elementName:o,propertyName:"label",type:"error",message:"Label cannot be blank."});else{var p=i.filter(e,{label:o});p.length>1&&g.push({elementId:b.guid,elementName:o,propertyName:"label",type:"error",message:"Label must be unique."})}var q=_.where(e.flowElements,{targetNode:b.guid}).length,r=_.where(e.flowElements,{sourceNode:b.guid}).length;0!==q&&1===r||g.push({elementId:b.guid,elementName:o,type:"warning",message:"One outbound and at least one inbound sequence flow is required."});var s=_.find(m,{actionTypeName:b.actionTypeName});if(s)if("createRecord"===b.actionTypeName){var t=_.find(b.inputMap,{assignTarget:"recordDefinitionName"}),u=_.filter(b.inputMap,function(a){var b=a.assignTarget;return 0===b.indexOf('values["')&&b.indexOf('"]')===b.length-2});if(t){var v=t.expression.replace(/^\"|\"$/g,"");f=j.getRecordDefinition(v).then(function(a){var d=_(a.fieldDefinitions).filter(l.isFieldRequired).pluck("name").value();_.each(d,function(a){var d=_.find(u,{assignTarget:'values["'+a+'"]'});d&&!_.isEmpty(_.trim(d))||g.push({elementId:b.guid,elementName:o,propertyName:"inputMap/"+a,type:"warning",message:c.prettify(a)+" cannot be blank."})})})}else g.push({elementId:b.guid,elementName:o,propertyName:"inputMap/recordDefinitionName",type:"warning",message:"Record Definition Name cannot be blank."})}else if("updateRecord"===b.actionTypeName){var w=["recordDefinitionName","record","recordID"],x=_.filter(w,function(a){return _.find(b.inputMap,{assignTarget:a})});_.isEmpty(x)?g.push({elementId:b.guid,elementName:o,propertyName:"inputMap/recordDefinitionName",type:"warning",message:"Record Definition Name, Record ID and Record cannot be blank."}):_.includes(x,"record")||_.includes(x,"recordDefinitionName")?_.includes(x,"record")||_.includes(x,"recordID")||g.push({elementId:b.guid,elementName:o,propertyName:"inputMap/recordID",type:"warning",message:"Record ID cannot be blank."}):g.push({elementId:b.guid,elementName:o,propertyName:"inputMap/recordDefinitionName",type:"warning",message:"Record Definition Name cannot be blank."})}else if(l.isSecurityLabelAction(b.actionTypeName)){var y=["recordDefinitionName","record","recordID"],z=_(s.inputParams).filter("required").map("name").value(),A=_.filter(y,function(a){return _.find(b.inputMap,{assignTarget:a})});_.isEmpty(A)?g.push({elementId:b.guid,elementName:o,propertyName:"inputMap/recordDefinitionName",type:"warning",message:"Record Definition Name, Record ID and Record cannot be blank."}):_.includes(A,"record")||_.includes(A,"recordDefinitionName")?_.includes(A,"record")||_.includes(A,"recordID")||g.push({elementId:b.guid,elementName:o,propertyName:"inputMap/recordID",type:"warning",message:"Record ID cannot be blank."}):g.push({elementId:b.guid,elementName:o,propertyName:"inputMap/recordDefinitionName",type:"warning",message:"Record Definition Name cannot be blank."}),_.each(z,function(a){var d=_.find(b.inputMap,{assignTarget:a});d&&!_.isEmpty(_.trim(d.expression))||g.push({elementId:b.guid,elementName:o,propertyName:"inputMap/"+a,type:"warning",message:c.prettify(a)+" cannot be blank."})})}else if("showAlert"===b.actionTypeName){var B=_.transform(b.inputMap,function(a,b){a[b.assignTarget]=b.expression},{});B.alertCode<1e4&&g.push({elementId:b.guid,elementName:b.name||"Show Alert",propertyName:"alertCode",type:"error",message:"Alert Code must be greater or equal to 10000."}),_.isEmpty(B.alertText)&&g.push({elementId:b.guid,elementName:b.name||"Show Alert",propertyName:"alertText",type:"error",message:"Alert Text cannot be blank."})}else{var C=_(s.inputParams).filter("required").map("name").value();_.each(C,function(a){var d=_.find(b.inputMap,{assignTarget:a});d&&!_.isEmpty(_.trim(d.expression))||g.push({
elementId:b.guid,elementName:o,propertyName:"inputMap/"+a,type:"warning",message:c.prettify(a)+" cannot be blank."})})}else g.push({elementId:b.guid,elementName:o,type:"warning",message:b.actionTypeName+" is not a registered action type."});_.each(k,function(a,c){_.isEmpty(_.trim(a.assignTarget))&&g.push({elementId:b.guid,elementName:o,propertyName:"outputMap/"+c+"/assignTarget",type:"error",message:'Output Map Parameter\'s "Name" cannot be blank.'}),_.isEmpty(_.trim(a.expression))&&g.push({elementId:b.guid,elementName:o,propertyName:"outputMap/"+c+"/expression",type:"error",message:'Output Map Parameter\'s "Source" cannot be blank.'})});var D=_.uniq(k,"assignTarget");return D.length!==k.length&&g.push({elementId:b.guid,elementName:o,type:"error",message:"Output Map parameter names must be unique."}),h.validate(b,o,g),f?f["finally"](function(){n.resolve(g)}):n.resolve(g),n.promise}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessActionElementModel",["$q","i18n","dialogs","definitionNameFilter","rxProcessShapeInterface","rxMultiInstanceInterface","rxMultiInstanceConfiguration","rxProcessActionElementExpressionConfigurator","rxDesignerCache","rxActionElementInterface","rxProcessShape","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h,i,j,k,l){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ProcessActionView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.ProcessShapeViewInterface).extend({className:function(){var a=joint.shapes.bpmn.ActivityView.prototype.className.apply(this,arguments);return a+" "+this.model.get("rxData").actionTypeName}}),joint.shapes.rx.ProcessAction=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.ProcessShapeInterface).extend(joint.shapes.rx.ActionElementInterface).extend(joint.shapes.rx.MultiInstanceInterface).extend({defaults:joint.util.deepSupplement({type:"rx.ProcessAction",size:{width:70,height:60},attrs:{".icon":{width:12,height:12,"ref-x":3,"ref-y":3},rect:{rx:4,ry:4}},icon:"gear"},joint.shapes.bpmn.Activity.prototype.defaults),_lastRecordSource:"true",_lastRecord:"",elementCanvasSize:{width:90,height:60},initialize:function(a){var b=a.rxData.actionTypeName;joint.shapes.bpmn.Activity.prototype.initialize.apply(this,arguments),a&&a.rxData&&(this.listenTo(this,"change:rxData",this._onChangeRxData),(j.isRecordAction(b)||j.isSecurityLabelAction(b))&&a.rxData.inputMap.recordDefinitionName?this._lastRecordDefinitionName=this.getRecordDefinitionName():(j.isSecurityLabelAction(b)||j.isUpdateRecordAction(b))&&a.rxData.inputMap.record&&(this._lastRecordSource="false"))},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new h(this),this._expressionConfigurator},persist:function(a){var b=joint.shapes.rx.ProcessShapeInterface.persist.apply(this,arguments);if(b){var c=[],d=this.prop("rxData/actionTypeName"),e=j.isCreateOrUpdateRecordAction(d),f=j.isSetSecurityLabelAction(d),g=j.isGetRecordsByQueryAction(d);for(var h in b.inputMap){var i=b.inputMap[h];i&&e&&!_.includes(["recordDefinitionName","recordID","record","recordSource"],h)?c.push({assignTarget:'values["'+h+'"]',expression:i}):i&&_.includes(["recordDefinitionName","associationDefinitionName","securityLabel"],h)&&!/^\"|\"$/g.test(i)?c.push({assignTarget:h,expression:'"'+i+'"'}):i&&g&&"queryExpression"===h?c.push({assignTarget:h,expression:j.getExpressionInArFormat(i)}):"fieldIDs"===h&&this.getFieldIds()?c.push({assignTarget:h,expression:'"'+this.getFieldIds()+'"'}):g&&"retrieve"===h?c.push({assignTarget:h,expression:i||"0"}):f&&"appendExistingValues"===h?c.push({assignTarget:h,expression:'"'+i+'"'||"false"}):i&&"recordSource"!==h&&c.push({assignTarget:h,expression:i})}b.inputMap=c;var l=k.getProcessVariables(a);this.prop("rxInspector/inputs/rxData/outputMap")&&this.prop("rxInspector/inputs/rxData/outputMap/item/properties/assignTarget/options",l,{silent:!0}),b.runAsUser=JSON.parse(b.runAsUser),this._persistMultiInstanceInfo(b)}return b},getFieldIds:function(){var a=_(this.inputMapFields).values().first();return _(a).map("id").join()},getFieldIdList:function(){return this.prop("rxData/inputMap/fieldIDs")?this.prop("rxData/inputMap/fieldIDs").replace(/^\"|\"$/g,"").split(","):[]},updateRecordDefinition:function(a){a||this._buildInspector()},isAddRemoveVisible:function(){return!_.isEmpty(this._getRecordDefinitionFromInputParams())},convertSelectionToString:function(){j.isGetRecordsByQueryAction(this.prop("rxData/actionTypeName"))&&this.prop("rxData/inputMap/fieldIDs",this.getFieldIds())},isRecordSource:function(){return"false"===this.prop("rxData/inputMap/recordSource")&&!_.isEmpty(this._getRecordDefinitionFromInputParams())},_getRecordDefinitionFromInputParams:function(){var a=this,b=a.prop("rxData/inputMap/record")?a.prop("rxData/inputMap/record").match(/\$\{processContext\.(.+)\}/):[],c="";if(b&&b[1]&&!_.isEmpty(a._recordInstanceProcessInputParams)){var d=_.find(a._recordInstanceProcessInputParams,{name:b[1]});d&&(c=d.recordDefinitionName)}return c},_onChangeRxData:function(a,b,c){var d=this;if(joint.shapes.rx.ActionElementInterface._onChangeRxData.apply(this,arguments),!_.isUndefined(d.prop("rxData/inputMap/record"))&&d.prop("rxData/inputMap/record")!==d._lastRecord){var e=d._getRecordDefinitionFromInputParams();_.isEmpty(e)&&!d._lastRecordDefinitionName||d._setRecordDefinitionName(e),d._lastRecord=d.prop("rxData/inputMap/record")}/^(rxData\/outputMap\/)[0-9]+(\/assignTarget)$/g.test(c.propertyPath)&&this._rebuildOutputMap(c.propertyValue)},_setRecordDefinitionName:function(a){var b=this;this._lastRecordDefinitionName=a,i.getRecordDefinition(a).then(function(a){b._updateMultiInstanceInfo().then(function(){var c=b.prop("rxData/actionTypeName");if(j.isGetRecordsByQueryAction(c)||j.isCreateOrUpdateRecordAction(c)){var d=b.prop("rxData/inputMap"),e=b.inputMapFields?b.inputMapFields[_.keys(b.inputMapFields)[0]]:null;d=e?_.omit(d,function(a,b){return _.find(e,{name:b})}):d,d=_.assign(d,b._buildDataInputMap(a)),b.prop("rxData/inputMap",null,{silent:!0}),b.prop("rxData/inputMap",d),b._buildInspector(a)}else j.isSecurityLabelAction(c)?b._setSecurityLabel(a):b.trigger("rx:change:inputs",b)})})},getSecurityLabels:function(a){return _(a).map(function(a){return{content:d(a.name),value:a.name}}).sort(function(a,b){return a.content.localeCompare(b.content)}).unshift({content:"",value:""}).value()},_setSecurityLabel:function(a){this.prop("rxData/inputMap/securityLabel",""),this.prop("rxInspector/inputs/rxData/inputMap/securityLabel/options",null),a&&this.prop("rxInspector/inputs/rxData/inputMap/securityLabel/options",this.getSecurityLabels(a.securityLabels)),this.trigger("rx:change:inputs",this)},updateInspectorConfig:function(b){var c=this,d=[],e=c.prop("rxData/actionTypeName"),f=angular.copy(this.get("rxInspector")),g=c.prop("rxData");if(!f.readonly){if(f.inputs.rxData.outputMap){var h=k.getProcessVariables(b);f.inputs.rxData.outputMap.item.properties.assignTarget.options=h,c.unset("rxInspector",{silent:!0}),c.prop("rxInspector",f,{silent:!0}),c.trigger("rx:change:inputs",c)}if(d.push(c._updateMultiInstanceInfo()),(j.isUpdateRecordAction(e)||j.isSecurityLabelAction(e))&&(c._recordInstanceProcessInputParams=_.filter([].concat(b.inputParams||[],b.outputParams||[],b.localVariables||[]),function(a){return a.resourceType===l.dataTypes.recordInstance.resourceType})),j.isRecordAction(e))c.prop("rxData/inputMap/recordDefinitionName")&&d.push(i.getRecordDefinition(c.getRecordDefinitionName()).then(function(a){(j.isCreateOrUpdateRecordAction(c.prop("rxData/actionTypeName"))||j.isGetRecordsByQueryAction(c.prop("rxData/actionTypeName")))&&c._buildInspector(a)}));else if(j.isSecurityLabelAction(e)){var m=c.prop("rxInspector/inputs/rxData/inputMap/securityLabel/options"),n=c._getRecordDefinitionFromInputParams(),o=g.inputMap.securityLabel?g.inputMap.securityLabel.replace(/^\"|\"$/g,""):"";c.prop("rxData/inputMap/recordDefinitionName")&&_.isEmpty(m)?d.push(i.getRecordDefinition(c.getRecordDefinitionName()).then(function(a){a&&(c.prop("rxInspector/inputs/rxData/inputMap/securityLabel/options",c.getSecurityLabels(a.securityLabels)),c.prop("rxData/inputMap/securityLabel",o))})):n&&(_.isEmpty(m)||c._lastRecordDefinitionName!==n)&&d.push(i.getRecordDefinition(n).then(function(a){a&&(c.prop("rxInspector/inputs/rxData/inputMap/securityLabel/options",null,{silent:!0}),c.prop("rxInspector/inputs/rxData/inputMap/securityLabel/options",c.getSecurityLabels(a.securityLabels)),c.prop("rxData/inputMap/securityLabel",o))})),!j.isSetSecurityLabelAction(e)||_.isUndefined(g.inputMap.appendExistingValues)||_.isBoolean(g.inputMap.appendExistingValues)||c.prop("rxData/inputMap/appendExistingValues",JSON.parse(g.inputMap.appendExistingValues.replace(/^\"|\"$/g,"")),{silent:!0})}(j.isUpdateRecordAction(e)||j.isSecurityLabelAction(e))&&(c.prop("rxData/inputMap/record")?(c._lastRecordDefinitionName=c._getRecordDefinitionFromInputParams(),c._lastRecord=c.prop("rxData/inputMap/record"),c.prop("rxData/inputMap/recordSource","false",{silent:!0}),c._lastRecordDefinitionName&&j.isUpdateRecordAction(e)&&c._buildInspector()):(_.isUndefined(c.prop("rxData/inputMap/recordSource"))||""===c.prop("rxData/inputMap/recordSource"))&&c.prop("rxData/inputMap/recordSource","true",{silent:!0}));var p=c.prop("rxData/inputMap/queryExpression"),q=/\'([^']+)\'/g;p&&!_.isEmpty(p.match(q))&&c.prop("rxData/inputMap/queryExpression",p.replace(q,"${queryExpression.$1}"))}return a.all(d)},_getFieldDefinitions:function(a){return _(a.fieldDefinitions).filter(function(a){return"SYSTEM"!=a.fieldOption}).sort(function(a,b){return a.name.localeCompare(b.name)}).value()},getAutoCompleteList:function(b){return b.fieldPath&&this.prop("rxData/inputMap/recordDefinitionName")?i.getRecordDefinition(this.getRecordDefinitionName()).then(function(c){var d=b.fieldPath.match(/output(\[0\])*\.(\d*)/),e=d?d[2]:b.fieldPath,f=_.find(c.fieldDefinitions,function(a){return a.id===Number(e)||a.name===e});return f&&f.resourceType===l.dataTypes.selection.resourceType?_(f.optionNamesById).values().map(function(a){return{id:a,label:a}}).value():a.when([])}):a.when([])},getCustomRecordSources:function(){return{processVariable:"Process Variable"}},supportDynamicQualification:function(a){return"rxData/inputMap/queryExpression"===a}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessDefinitionElement",["$q","$filter","rxBundleCache","RX_DESIGNER","RX_PROCESS_DESIGNER","RX_RECORD_DEFINITION","RX_PROCESS_DEFINITION","rxGUID","rxProcessDefinitionResource","rxDesignerCache",function(a,b,c,d,e,f,g,h,i,j){function k(a){return _(a).map(function(a){return{value:a.resourceType,content:a.displayName}}).sort(function(a,b){return a.content.localeCompare(b.content)}).value()}function l(a){var c=_.cloneDeep(_.pick(a,["name","description","isEnabled","runAsUser","inputParams","outputParams","localVariables","permissions","contextKeyParam","overlayDescriptor","overlayGroupId","allowOverlay"]));return c.name=b("definitionName")(c.name,"decode"),c.permissions=c.permissions||[],_.each([].concat(c.inputParams||[]).concat(c.outputParams||[]).concat(c.localVariables||[]),function(a){a.required="REQUIRED"===a.fieldOption,a.resourceType===f.dataTypes.selection.resourceType&&_.isArray(a.options)&&(a.options=a.options.join("\n")),delete a.fieldOption}),c.runAsUser=String(c.runAsUser),c.contextKeyParam=c.contextKeyParam||null,c}return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ProcessModelView=joint.dia.ElementView.extend({}),joint.shapes.rx.ProcessModel=joint.dia.Element.extend({markup:"<g></g>",defaults:{type:"rx.ProcessModel",position:{x:0,y:0},size:{width:1,height:1}},isRemovable:!1,initialize:function(a){a&&a.id||this.set("id",h.generate(),{silent:!0}),this.listenTo(this,d.events.permissionsChanged,this._onPermissionsChanged)},_onPermissionsChanged:function(a){var b=angular.copy(this.get("rxData"));b.permissions=a,this.set("rxData",b)},getParentId:function(){return!1},isLink:function(){return!1},setRxData:function(a){this.set("rxData",l(a),{silent:!0})},persist:function(a){var d=_.cloneDeep(this.get("rxData"));if(d.permissions||(d.permissions=[]),a.lastUpdateTime)d.name=a.name;else{var e=c.getBundleId(),g=e?e+":":"";d.name=g+b("definitionName")(d.name,"encode")}return _.each([].concat(d.inputParams||[]).concat(d.outputParams||[]).concat(d.localVariables||[]),function(a){a.fieldOption=a.required?"REQUIRED":"OPTIONAL",delete a.required,a.resourceType===f.dataTypes.selection.resourceType&&_.isString(a.options)&&(a.options=_(a.options.split(/\r\n|\r|\n/g)).compact().unique().value()),""===a.defaultValue&&(a.defaultValue=null),a.isInputAndOutputParam&&delete a.isInputAndOutputParam}),d.runAsUser=JSON.parse(d.runAsUser),_.assign(a,d),null},canPersist:function(){return!1},getAutoCompleteList:function(b){var c=[];if(b.fieldPath){var d=_([]).concat(this.prop("rxData/outputParams")).concat(this.prop("rxData/inputParams")).concat(this.prop("rxData/localVariables")).find(function(a){return a.name===b.fieldPath});d&&(c=_(d.optionNamesById).values().map(function(a){return{id:a,label:a}}).value())}return a.when(c)},getBBox:function(){return joint.g.rect(0,0,0,0)},isEmbeddedIn:function(){return!1}}),{getModel:function(a){var b=k(_.without(_.toArray(f.dataTypes),f.dataTypes.attachment)),c=l(a.plainProcessDefinition),e=a.readonly===!0,g=function(a){var b=e?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},b,a)},h={inputs:{rxData:{name:{label:"Name",type:"text",group:"properties",attrs:g({label:{"class":"required"},input:{maxlength:254,readonly:!!a.plainProcessDefinition.lastUpdateTime}})},description:{label:"Description",type:"textarea",group:"properties",attrs:g(),when:e?{ne:{"rxData/description":""}}:void 0},overlayDescriptor:{label:"",type:"rx-customization-perspective",group:"properties",definitionName:a.plainProcessDefinition.name,customizationOptionsDirective:"rx-process-customization-options",revertPrompt:"Are you sure you want to revert customization for selected process definition?",revertCommand:i.revertCustomization,revertCompleteEventName:d.events.refreshDesigner},isEnabled:{label:"Enabled",type:"toggle",group:"properties",defaultValue:!0,attrs:g()},runAsUser:{label:"Run as",type:"rx-inspector-select",options:[{value:"true",content:"Current User"},{value:"false",content:"Administrator"}],group:"properties",tooltip:"Allows you to execute process Service Tasks with the permissions of the selected user role.",attrs:g(),defaultValue:"false"},parameters:{type:"rx-inspector-process-parameter-editor",group:"variables",inputDataTypes:b,attrs:g()},permissions:{label:"Permissions",type:"rx-permission-editor",group:"permissions",isReadOnly:e}}},groups:{properties:{label:"General",index:1},variables:{label:"Variables",index:2},permissions:{label:"Permissions",index:3}}};return new joint.shapes.rx.ProcessModel({rxData:c,rxInspector:h})},validate:function(c){var g=[],h=c.inputParams||[],i=c.outputParams||[],j=c.localVariables||[],k=c.permissions||[],l=b("definitionName")(c.name,"decode");_.isEmpty(_.trim(l))&&(l="Process Definition",g.push({elementId:c.guid,elementName:l,propertyName:"name",type:"error",message:"Process Name cannot be blank."})),d.validDefinitionNameRegex.test(l)||g.push({elementId:c.guid,elementName:l,propertyName:"name",type:"error",message:"Process Name can only contain alphanumeric characters, spaces, hyphen and underscore."}),1!=_.filter(c.flowElements,{resourceType:e.processElementResourceTypes.startEvent}).length&&g.push({elementId:c.guid,elementName:l,type:"error",message:"Process must have a single Start Event."}),_.find(c.flowElements,{resourceType:e.processElementResourceTypes.endEvent})||g.push({elementId:c.guid,elementName:l,type:"error",message:"Process must have at least one End Event."});var m=[];_.each(h,function(a,b){_.isEmpty(_.trim(a.name))?g.push({elementId:c.guid,elementName:l,propertyName:"inputParams/"+b+"/name",type:"error",message:"Input parameter name cannot be blank."}):m.push(a.name),a.resourceType===f.dataTypes.selection.resourceType&&_.isEmpty(a.optionNamesById)&&g.push({elementId:c.guid,elementName:l,propertyName:"inputParams/"+b+"/options",type:"error",message:"Options cannot be blank."}),a.resourceType===f.dataTypes.recordInstance.resourceType&&_.isEmpty(_.trim(a.recordDefinitionName))&&g.push({elementId:c.guid,elementName:l,propertyName:"inputParams/"+b+"/recordDefinitionName",type:"error",message:"Record Definition cannot be blank."}),_.isNumber(a.id)&&a.id<=1e3&&g.push({elementId:c.guid,elementName:l,propertyName:"inputParams/"+b+"/id",type:"error",message:"Variable ID must be greater than 1000."})}),_.uniq(m).length!==m.length&&g.push({elementId:c.guid,elementName:l,type:"error",message:"Input parameter names must be unique."});var n=[];_.each(i,function(a,b){_.isEmpty(_.trim(a.name))?g.push({elementId:c.guid,elementName:l,propertyName:"outputParams/"+b+"/name",type:"error",message:"Output parameter name cannot be blank."}):n.push(a.name),_.isNumber(a.id)&&a.id<=1e3&&g.push({elementId:c.guid,elementName:l,propertyName:"outputParams/"+b+"/id",type:"error",message:"Variable ID must be greater than 1000."})}),_.uniq(n).length!==n.length&&g.push({elementId:c.guid,elementName:l,type:"error",message:"Output parameter names must be unique."});var o=[];_.each(j,function(a,b){_.isEmpty(_.trim(a.name))?g.push({elementId:c.guid,elementName:l,propertyName:"localVariables/"+b+"/name",type:"error",message:"Local variable name cannot be blank."}):o.push(a.name),a.resourceType===f.dataTypes.selection.resourceType&&_.isEmpty(a.optionNamesById)&&g.push({elementId:c.guid,elementName:l,propertyName:"localVariables/"+b+"/options",type:"error",message:"Options cannot be blank."}),a.resourceType===f.dataTypes.recordInstance.resourceType&&_.isEmpty(_.trim(a.recordDefinitionName))&&g.push({elementId:c.guid,elementName:l,propertyName:"localVariables/"+b+"/recordDefinitionName",type:"error",message:"Record Definition cannot be blank."}),_.isNumber(a.id)&&a.id<=1e3&&g.push({elementId:c.guid,elementName:l,propertyName:"localVariables/"+b+"/id",type:"error",message:"Variable ID must be greater than 1000."})}),_.uniq(o).length!==o.length&&g.push({elementId:c.guid,elementName:l,type:"error",message:"Local variable names must be unique."});var p=_.pluck(k,"ownerId.value");return _.uniq(p).length!==p.length&&g.push({elementId:c.guid,elementName:l,type:"error",message:"Permitted group names must be unique."}),a.when(g)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessShapeInterface",["rxId","$q","RX_EXPRESSION_EDITOR","$rootScope",function(a,b,c,d){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ProcessShapeInterface={labelPath:"content",initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.on("change:position",this.onChangePosition),this.on("change:rxData",this._onCellChanged),this.get("rxData").label=this.prop(this.labelPath)},onActivityTypeChange:function(a,b){switch(b){case"task":a.attr({".inner":{visibility:"hidden"},".outer":{"stroke-width":2,"stroke-dasharray":"none"},path:{ref:".outer"},image:{ref:".outer"},rect:{rx:4,ry:4}});break;case"event-sub-process":a.attr({".inner":{visibility:"hidden"},".outer":{"stroke-width":2,"stroke-dasharray":"1,2"},path:{ref:".outer"},image:{ref:".outer"},rect:{rx:4,ry:4}});break;case"call-activity":a.attr({".inner":{visibility:"hidden"},".outer":{"stroke-width":4,"stroke-dasharray":"none"},path:{ref:".outer"},image:{ref:".outer"},rect:{rx:4,ry:4}})}},createNewProcessElement:function(){return _.assign({},this.prop("rxData"),{guid:a.get(this.id)})},updateContent:function(){var a=this.get("content"),b=this.id?a:_.trunc(a,{length:20}),c=b===a?"":a;joint.env.test("svgforeignobject")?this.attr({".content":{html:b,title:c}}):this.attr({".content":{text:b,title:c}})},persist:function(b){var c=_.find(b.flowElements,{guid:a.get(this.id)});return this.canPersist()?c?_.assign(c,this.prop("rxData")):(c=this.createNewProcessElement(),b.flowElements.push(c)):c&&(_.pull(b.flowElements,c),c=null),c},getParentId:function(){return this.get("parent")},canPersist:function(){return"rx.CallActivity"!=this.get("parentType")},getLayout:function(){return _.omit(this.toJSON(),["rxData","rxInspector","embeds","layout","parentProcessDefinition","ownerProcessDefinitionName"])},canBeEmbedded:function(a,b){var c=b.model.getNeighbors(this);return 0===c.length||_.every(c,function(b){return b.get("parent")==a.model.id})},canEmbedElement:function(a,b){return!1},onChangePosition:function(a,b,c){var d=a.getParentId();if(d&&c.translateBy&&"rxMoveElements"!=c.translateBy&&!this.get("inCallActivity")){var e=a.collection.get(d);if(e){var f=this.collection.graph.getConnectedLinks(this);if(f.length){var g=e.getBBox(),h=a.getBBox();g.containsPoint(h.origin())&&g.containsPoint(h.topRight())&&g.containsPoint(h.corner())&&g.containsPoint(h.bottomLeft())||a.set("position",a.previous("position"))}}}},_onCellChanged:function(a,b,c){"rxData/label"==c.propertyPath&&(a.labelPath&&a.prop(a.labelPath,this.getLabel()),this.updateName())},updateName:function(){this.prop("rxData/name",this.getLabel()||this.defaultName)},getLabel:function(){return this.prop("rxData/label")},_rebuildOutputMap:function(a){var b=angular.copy(this.get("rxInspector")),e=b.inputs.rxData.outputMap.item.properties.assignTarget.options;_.contains(e,a)||(e.push(a),e=_(e).uniq().sortBy().value(),b.inputs.rxData.outputMap.item.properties.assignTarget.options=e,this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0}),d.$broadcast(c.events.refreshInspector,this))}},{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessShapeViewInterface",function(){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ProcessShapeViewInterface={initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments)},canInteract:function(){return _.isFunction(this.paper.options.interactive)?this.paper.options.interactive(this):this.paper.options.interactive},prepareEmbedding:function(){var a=this.paper.model.getConnectedLinks(this.model),b=this.model.get("parent")&&a.length;b||joint.dia.ElementView.prototype.prepareEmbedding.apply(this,arguments)},getEmbeddedBBox:function(){var a,b=this.model.getEmbeddedCells(),c=this;if(b.length){var d=_(b).filter(function(a){return"rx.SequenceFlow"!=a.get("type")}).map(function(a){var b=c.paper.findViewByModel(a);return new V(b.el).bbox(!1,c.paper.viewport)}).value(),e=_.min(_.map(d,function(a){return a.x})),f=_.min(_.map(d,function(a){return a.y})),h=_.max(_.map(d,function(a){return a.x+a.width})),i=_.max(_.map(d,function(a){return a.y+a.height}));a=g.rect(e,f,h-e,i-f)}else a=g.rect(0,0,0,0);return a}},{}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessShape",["rxDesignerCache","definitionNameFilter",function(a,b){return{getRecordDefinitionNameList:function(){return a.getRecordDefinitionDescriptors().then(function(a){return _(a).map(function(a){return{value:a.name,content:b(a.name)}}).sort(function(a,b){return a.value.toLowerCase().localeCompare(b.value.toLowerCase())}).unshift({value:"",content:""}).value()})},getProcessVariables:function(a){var b=_(a.inputParams).pluck("name").uniq().value(),c=_(a.outputParams).pluck("name").uniq().value(),d=_(a.localVariables).pluck("name").uniq().value(),e=_(a.flowElements).pluck("outputMap").flatten().compact().pluck("assignTarget").compact().uniq().value(),f=_(a.flowElements).pluck("signalParams").flatten().compact().value(),g=_([]).concat(b,c,d,e,f).uniq().sortBy().value();return g}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxReceiveTaskElementExpressionConfigurator",["$q","rxId","RX_EXPRESSION_EDITOR","rxMultiInstanceExpressionConfigurator",function(a,b,c,d){return d.extend({initialize:function(c){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments);var d={regExp:/^(rxData\/outputMap\/)[0-9]+(\/expression)$/g,updateDataDictionary:function(d){var e=_(d).find({label:"General"}),f=_(d).find({label:"Process Variables"}),g=c.prop("rxData/signalParams")||[],h={label:c.prop("rxData/label"),children:[]},i=[];return g.forEach(function(a){h.children.push({label:a,value:"${activityResults."+b.get(c.id)+"."+a+"}",icon:"d-icon-arrow_chart"})}),f&&i.push(f),h.children.length?a.when(i.concat(e,h)):a.when(i.concat(e))}};this.registerExpressionConfig(d)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxReceiveTaskElement",["$q","i18n","rxId","RX_EXPRESSION_EDITOR","RX_PROCESS_DESIGNER","$rootScope","rxProcessShapeInterface","rxProcessShapeViewInterface","rxMultiInstanceInterface","rxReceiveTaskElementModel","rxMultiInstanceConfiguration","rxProcessElementSearch",function(a,b,c,d,e,f,g,h,i,j,k,l){return{getRxData:function(a){var b={resourceType:e.processElementResourceTypes.receiveTask,name:"Receive Task",description:"",signalParams:[],outputMap:[],loopType:"",multiInstanceLoopDefinition:null};return a&&_.assign(b,a),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0},signalParams:{type:"list",group:"signalParams",index:3,item:{type:"rx-inspector-input-select",label:"Parameter Name",options:[],attrs:b({label:{"class":"required"}})},attrs:b({label:{"class":"required"}})},outputMap:{type:"list",group:"outputMap",index:4,item:{type:"object",properties:{assignTarget:{type:"rx-inspector-input-select",label:"Name",options:[],attrs:b({label:{"class":"required"}})},expression:{type:"rx-inspector-expression-node-field",label:"Source",attrs:b({label:{"class":"required"}})}}},when:{isValidSignalParams:{"rxData/signalParams":[]}}}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},operators:{isValidSignalParams:function(a,b){return _(b).compact().size()>0}},groups:{properties:{label:"General",index:1},signalParams:{label:"Signal Parameters",index:2},outputMap:{label:"Output Map",index:3},multiInstance:{label:"Multi Instance Loop",index:4},geometry:{label:"Geometry",index:5,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxData(a),f=this.getRxInspector(d);return a&&d&&(delete f.inputs.position,delete f.inputs.size,delete f.groups.geometry,delete f.groups.outputMap,delete f.inputs.rxData.outputMap,delete f.groups.signalParams,delete f.inputs.rxData.signalParams),{rxData:e,rxInspector:f}},getShape:function(){var a=this.getRxConfig();return new joint.shapes.rx.ReceiveTask(a)},validate:function(c,d){var f=[],g=c.outputMap||[],h=c.signalParams||[],i=c.label;if(_.isEmpty(_.trim(c.label)))i=b(e.processElementResourceTypes.receiveTask),c.hasOwnProperty("label")&&f.push({elementId:c.guid,elementName:i,propertyName:"label",type:"error",message:"Label cannot be blank."});else{var j=l.filter(d,{label:i});j.length>1&&f.push({elementId:c.guid,elementName:i,propertyName:"label",type:"error",message:"Label must be unique."})}var m=_.where(d.flowElements,{targetNode:c.guid}).length,n=_.where(d.flowElements,{sourceNode:c.guid}).length;if(0===m||1!==n)f.push({elementId:c.guid,elementName:i,type:"warning",message:"One outbound and at least one inbound sequence flow is required."});else{var o=_.findIndex(c.signalParams,function(a){return _.isEmpty(_.trim(a))});o!==-1&&f.push({elementId:c.guid,elementName:i,propertyName:"signalParams/"+o,type:"error",message:"Signal Parameter Name cannot be blank."})}var p=_.uniq(h);p.length!==h.length&&f.push({elementId:c.guid,elementName:i,type:"error",message:"Signal Parameter names must be unique."}),_.each(g,function(a,b){_.isEmpty(_.trim(a.assignTarget))&&f.push({elementId:c.guid,elementName:i,propertyName:"outputMap/"+b+"/assignTarget",type:"error",message:"Output Map Parameter Name cannot be blank."}),_.isEmpty(_.trim(a.expression))&&f.push({elementId:c.guid,elementName:i,propertyName:"outputMap/"+b+"/expression",type:"error",message:"Output Map Parameter Source cannot be blank."})});var q=_.uniq(g,"assignTarget");return q.length!==g.length&&f.push({elementId:c.guid,elementName:i,type:"error",message:"Output Map Parameter names must be unique."}),k.validate(c,i,f),a.when(f)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxReceiveTaskElementModel",["$q","i18n","rxId","RX_EXPRESSION_EDITOR","RX_PROCESS_DESIGNER","$rootScope","rxProcessShapeInterface","rxProcessShapeViewInterface","rxMultiInstanceInterface","rxMultiInstanceConfiguration","rxReceiveTaskElementExpressionConfigurator","rxProcessElementSearch","rxProcessShape",function(a,b,c,d,e,f,g,h,i,j,k,l,m){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.ReceiveTaskView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.ProcessShapeViewInterface),joint.shapes.rx.ReceiveTask=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.ProcessShapeInterface).extend(joint.shapes.rx.MultiInstanceInterface).extend({defaults:joint.util.deepSupplement({type:"rx.ReceiveTask",size:{width:70,height:60},attrs:{".icon":{width:12,height:12,"ref-x":3,"ref-y":3},rect:{rx:4,ry:4}},icon:"message",content:b(e.processElementResourceTypes.receiveTask)},joint.shapes.bpmn.Activity.prototype.defaults),elementCanvasSize:{width:90,height:60},initialize:function(a){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,"change:size",this._onChangeSize)},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new k(this),this._expressionConfigurator},updateInspectorConfig:function(a){var b=angular.copy(this.get("rxInspector"));if(b.inputs.rxData.outputMap){var c=m.getProcessVariables(a);b.inputs.rxData.outputMap.item.properties.assignTarget.options=c,b.inputs.rxData.signalParams.item.options=c,this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0}),this.trigger("rx:change:inputs",this)}return this._updateMultiInstanceInfo()},_showMultiInstanceInfo:function(){return!this.prop("rxInspector/readonly")||this.prop("rxData/multiInstanceLoopDefinition")},persist:function(a){var b=joint.shapes.rx.ProcessShapeInterface.persist.apply(this,arguments),c=m.getProcessVariables(a);return this.prop("rxInspector/inputs/rxData/outputMap/item/properties/assignTarget/options",c,{silent:!0}),this._persistMultiInstanceInfo(b),b},_onChangeRxData:function(a,b,c){var e=this;/^rxData\/signalParams/.test(c.propertyPath)&&e._updateInputDataItems().then(function(){f.$broadcast(d.events.refreshInspector,e)}),/^(rxData\/signalParams\/)[0-9]+/.test(c.propertyPath)&&e._rebuildSignalParams(c.propertyValue),/^(rxData\/outputMap\/)[0-9]+(\/assignTarget)$/g.test(c.propertyPath)&&e._rebuildOutputMap(c.propertyValue)},_onChangeSize:function(){_.each(this.getEmbeddedCells(),function(a){a._snapToParentBorder&&a._snapToParentBorder()})},_rebuildSignalParams:function(a){var b=angular.copy(this.get("rxInspector")),c=b.inputs.rxData.signalParams.item.options;_.contains(c,a)||(c.push(a),c=_(c).uniq().sortBy().value(),
b.inputs.rxData.signalParams.item.options=c,this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0}),f.$broadcast(d.events.refreshInspector,this))},canEmbedElement:function(a){return"rx.TimerEvent"===_.get(a,"model.attributes.type")&&!this.get("inCallActivity")}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxSequenceFlowElementExpressionConfigurator",["$q","RX_EXPRESSION_EDITOR","rxDefaultExpressionConfigurator",function(a,b,c){return c.extend({initialize:function(a){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.registerExpressionConfig({regExp:/^rxData\/condition$/g,operators:b.operators.all})}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxSequenceFlowElement",["$q","i18n","rxId","RX_PROCESS_DESIGNER","rxProcessShapeInterface","rxProcessShapeViewInterface","rxSequenceFlowElementModel",function(a,b,c,d,e,f,g){var h="Sequence Flow";return{getRxData:function(a,b){var c={resourceType:d.processElementResourceTypes.sequenceFlow,name:h,description:"",sourceNode:"",targetNode:"",condition:"",sourceResourceType:null,targetResourceType:null};if(a){var e=_.find(b.flowElements,{guid:a.sourceNode}),f=_.find(b.flowElements,{guid:a.targetNode});e&&(c.sourceResourceType=e.resourceType),f&&(c.targetResourceType=f.resourceType),_.assign(c,a)}return c},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{flowType:{type:"select",options:[{value:"default",content:"Default"},{value:"conditional",content:"Conditional"},{value:"normal",content:"Normal"},{value:"message",content:"Message"},{value:"association",content:"Association"},{value:"conversation",content:"Conversation"}],label:"Type",group:"properties",index:1,attrs:b({select:{disabled:!0}})},labels:{label:"Label",type:"list",attrs:{'[data-attribute="labels"]':{"class":"list sequence-flow-label"}},group:"properties",index:2,item:{type:"object",properties:{attrs:{text:{text:{type:"text",index:1,attrs:c}}},position:{type:"range",label:"Label Position",min:.1,max:.9,step:.1,defaultValue:.5,index:2,attrs:c}}},when:a?{notEmpty:{"labels/0/attrs/text/text":""}}:void 0},rxData:{description:{label:"Description",type:"textarea",group:"properties",index:3,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0},condition:{label:"Condition",type:"rx-inspector-expression-node-field",group:"properties",index:4,when:{eq:{"rxData/sourceResourceType":d.processElementResourceTypes.exclusiveGateway}}}}},groups:{properties:{label:"General",index:1}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxData(a,b),f=this.getRxInspector(d);if(b&&a){var g=angular.fromJson(b.layout)||{cells:[]},h=g.cells.filter(function(b){return a.guid.indexOf(b.id)>-1})[0];f.readonly&&(delete f.inputs.rxData.condition,h.labels||"rx.SequenceFlow"!=h.type||(delete f.inputs.labels,e.description||""!==e.condition||(delete f.groups,delete f.inputs)))}return{rxData:e,rxInspector:f}},getShape:function(){var a=this.getRxConfig();return new joint.shapes.rx.SequenceFlow(a)},registerValidators:function(a){function c(c,d,e){var f=a.attributes.commandManager.graph,g=f.getCell(d.data.id);if("rx.SequenceFlow"===g.get("type")){var h=f.getCell(g.get("target").id),i=f.getCell(g.get("source").id),j=i.get("type"),k=h.get("type"),l=i.get("parent"),m=h.get("parent");if(!h||!i)return void e("The sequence flow must have a source and a target.");if(h===i)return void e("The sequence flow must connect two different elements.");if(l&&m!==l&&("rx.TimerEvent"===j&&f.getCell(l).get("parent")!==h.get("parent")||"rx.TimerEvent"===k&&f.getCell(m).get("parent")!==i.get("parent")||"rx.TimerEvent"!==j&&"rx.TimerEvent"!==k))return void e("The elements can only be connected if they belong to the same sub process.");var n=h.get("rxData").label||b(h.get("rxData").resourceType);if("rx.StartEvent"===k||"rx.TimerEvent"===k)return void e('Element "'+n+'" cannot have inbound sequence flows.');if("rx.TextAnnotation"===k)return void e("Text Annotation cannot have inbound sequence flows.");var o=i.get("rxData").label||b(i.get("rxData").resourceType);if("rx.EndEvent"===j)return void e('Element "'+o+'" cannot have outbound sequence flows.');var p=f.getConnectedLinks(i,{outbound:!0}).length;return"rx.ExclusiveGateway"!==j&&"rx.ParallelGateway"!==j&&p>1?void e('Element "'+o+'" can have only one outbound sequence flow.'):void 0}}a.validate("change:source change:target",c)},validate:function(){return a.when([])}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxSequenceFlowElementModel",["$q","i18n","rxId","RX_PROCESS_DESIGNER","rxSequenceFlowElementExpressionConfigurator","rxProcessShapeInterface","rxProcessShapeViewInterface",function(a,b,c,d,e,f,g){joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.SequenceFlowView=joint.dia.LinkView.extend(joint.shapes.rx.ProcessShapeViewInterface).extend({className:function(){var a=joint.dia.LinkView.prototype.className.apply(this,arguments);return this.model.get("inCallActivity")&&(a+=" rx-non-interactive"),a}});var h="Sequence Flow";return joint.shapes.rx.SequenceFlow=joint.shapes.bpmn.Flow.extend(joint.shapes.rx.ProcessShapeInterface).extend({defaults:joint.util.deepSupplement({type:"rx.SequenceFlow",router:{name:"manhattan"},labels:[{attrs:{text:{text:""}},position:"0.5"}]},joint.shapes.bpmn.Flow.prototype.defaults),defaultName:h,_previousCondition:"",labelPath:null,initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.on("change:labels",this.onLabelsChanged);var a=this.prop("rxData/condition");a&&(this._previousCondition=a)},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new e(this),this._expressionConfigurator},onLabelsChanged:function(a,b,c){"labels/0/attrs/text/text"==c.propertyPath&&this.updateName()},_onCellChanged:function(a,b,c){joint.shapes.rx.ProcessShapeInterface._onCellChanged.apply(this,arguments);var e=this.prop("rxData/condition");this._previousCondition!==e&&(b.sourceResourceType===d.processElementResourceTypes.exclusiveGateway&&e?this.prop("flowType","conditional"):b.sourceResourceType===d.processElementResourceTypes.exclusiveGateway&&this.prop("flowType","default"),this._previousCondition=e)},getLabel:function(){return this.prop("labels/0/attrs/text/text")},persist:function(a){var b=joint.shapes.rx.ProcessShapeInterface.persist.apply(this,arguments);if(this.canPersist()){var e=c.get(this.get("source").id),f=c.get(this.get("target").id),g=_.find(a.flowElements,{guid:e}),h=_.find(a.flowElements,{guid:f}),i=g&&g.resourceType,j=h&&h.resourceType;this.get("rxData");this.prop("rxData/sourceResourceType",i,{ignoreCommandManager:!0}),this.prop("rxData/targetResourceType",j,{ignoreCommandManager:!0}),_.assign(b,{sourceNode:e,targetNode:f}),i&&j&&i===d.processElementResourceTypes.exclusiveGateway||delete b.condition,delete b.sourceResourceType,delete b.targetResourceType}return b},supportDynamicQualification:function(a){return"rxData/condition"===a},getParentId:function(){var a=this.get("parent");if(!a){var b=this.getSourceElement();b&&(a=b.getParentId())}return a}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxStartEventElement",["$q","i18n","RX_PROCESS_DESIGNER","rxProcessShapeInterface","rxProcessShapeViewInterface","rxProcessElementSearch",function(a,b,c,d,e,f){var g="rx.StartEvent";joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.StartEventView=joint.dia.ElementView.extend(joint.shapes.rx.ProcessShapeViewInterface);var h="Start";return joint.shapes.rx.StartEvent=joint.shapes.bpmn.Event.extend(joint.shapes.rx.ProcessShapeInterface).extend({defaults:joint.util.deepSupplement({type:g,size:{width:50,height:50},attrs:{".label":{fill:"gray",text:b(c.processElementResourceTypes.startEvent)}},eventType:"start"},joint.shapes.bpmn.Event.prototype.defaults),defaultName:h,labelPath:"attrs/.label/text",clearLabel:!0,elementCanvasSize:{width:30,height:30}}),{getRxData:function(a){var b={resourceType:c.processElementResourceTypes.startEvent,name:h,description:""};return a&&_.assign(b,a),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b(),d={readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:c,when:a?{notEmpty:{"rxData/label":""}}:void 0},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},geometry:{label:"Geometry",index:2,closed:!0}}};return d},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxInspector(d);return a&&d&&(delete e.inputs.position,delete e.inputs.size,delete e.groups.geometry),{rxData:this.getRxData(a),rxInspector:e}},getShape:function(){var a=this.getRxConfig();return new joint.shapes.rx.StartEvent(a)},validate:function(d,e){var g=[],h=_.isEmpty(_.trim(d.label))?b(c.processElementResourceTypes.startEvent):d.label,i=_.where(e.flowElements,{targetNode:d.guid}).length;i>0&&g.push({elementId:d.guid,elementName:h,type:"error",message:"Cannot have inbound sequence flows."});var j=_.where(e.flowElements,{sourceNode:d.guid}).length;if(1!=j&&g.push({elementId:d.guid,elementName:h,type:"warning",message:"A single outbound sequence flow is required."}),!_.isEmpty(_.trim(d.label))){var k=f.filter(e,{label:h});k.length>1&&g.push({elementId:d.guid,elementName:h,propertyName:"label",type:"error",message:"Label must be unique."})}return a.when(g)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxSubProcessElement",["$q","i18n","$injector","RX_PROCESS_DESIGNER","rxId","rxDesignerCache","rxProcessElementSearch","rxProcessShapeInterface","rxProcessShapeViewInterface","rxMultiInstanceInterface","rxMultiInstanceConfiguration","rxMultiInstanceExpressionConfigurator","rxExpandableProcessShapeInterface","rxExpandableProcessShapeViewInterface",function(a,b,c,d,e,f,h,i,j,k,l,m,n,o){joint.shapes.rx=joint.shapes.rx||{};var p=20;return joint.shapes.rx.SubProcessView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.ExpandableProcessShapeViewInterface).extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),!this.model.getEmbeddedCells().length&&_.isUndefined(this.model.get("embeds"))&&this.model.get("expanded")&&!this.model._expanding&&this.expand(),this.listenTo(this.model,"change:size",this.onChangeSize),this.listenTo(this.model,"change:embeds",this.onChangeEmbeds)},onChangeSize:function(){this._canResize()||this._resizeToEmbeddedElements()},onChangeEmbeds:function(a,b){var c=this.model.previous("embeds");this.model._expanding||c&&!(b.length>c.length)||this._resizeToEmbeddedElements()},_resizeToEmbeddedElements:function(){var a=this.getEmbeddedBBox(),b=this.model.get("position"),c=this.model.get("size"),d=a.width+a.x-b.x+p,e=a.height+a.y-b.y+p;d<c.width&&(d=c.width),e<c.height&&(e=c.height),this.model.resize(d,e)},_canResize:function(){var a=!0,b=this;if(this.model.get("expanded")){var c=new V(this.el).bbox(!1,b.paper.viewport);c.width-=p,c.height-=p;var d=g.rect(c);_.each(this.model.getEmbeddedCells(),function(c){var e=b.paper.findViewByModel(c),f=g.rect(new V(e.el).bbox(!1,b.paper.viewport));if(!(d.containsPoint(f.origin())&&d.containsPoint(f.topRight())&&d.containsPoint(f.corner())&&d.containsPoint(f.bottomLeft())))return a=!1,!1})}return a}}),joint.shapes.rx.SubProcess=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.ExpandableProcessShapeInterface).extend(joint.shapes.rx.MultiInstanceInterface).extend({defaults:joint.util.deepSupplement({type:"rx.SubProcess",activityType:"event-sub-process",content:"Sub Process",expanded:!1,subProcess:!0,size:{width:70,height:60},collapsedSize:{width:70,height:60},attrs:{rect:{rx:4,ry:4}}},joint.shapes.bpmn.Activity.prototype.defaults),elementCanvasSize:{width:90,height:60},initialize:function(a){joint.shapes.bpmn.Activity.prototype.initialize.apply(this,arguments),this.on("change:size",this._onChangeSize)},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new m(this),this._expressionConfigurator},_onChangeSize:function(a,b){this.get("expanded")||this.set("collapsedSize",b)},createNewProcessElement:function(){var a=joint.shapes.rx.ProcessShapeInterface.createNewProcessElement.apply(this,arguments);return a.flowElements=[],a.artifacts=[],a},getEmbeddedLayout:function(){return _.invoke(this.getEmbeddedCells(),"getLayout")},getLayout:function(){return _.omit(this.toJSON(),["rxData","rxInspector","embeds","parentProcessDefinition","ownerProcessDefinitionName"])},canEmbedElement:function(a){return this.get("expanded")&&"rx.TimerEvent"!==_.get(a,"model.attributes.type")},persist:function(a){var b=_.find(a.flowElements,{guid:e.get(this.id)});return this.canPersist()?(b?_.assign(b,this.prop("rxData")):(b=this.createNewProcessElement(),a.flowElements.push(b)),this._persistMultiInstanceInfo(b)):b&&(_.pull(a.flowElements,b),b=null),b},updateInspectorConfig:function(){return this._updateMultiInstanceInfo()},_getOwnerProcessDefinition:function(){return f.getProcessDefinition(this.get("ownerProcessDefinitionName"))},_showMultiInstanceInfo:function(){return!this.prop("rxInspector/readonly")||this.prop("rxData/multiInstanceLoopDefinition")},_prepareForExpand:function(){var a=this;return this._getOwnerProcessDefinition().then(function(b){var d=h.findByGuid(b,e.get(a.get("id")))||{},f=c.get("rxProcessDesignerElementManager");return{definition:b,graph:f.getGraph(d,{readonly:!!a.get("inCallActivity"),ownerProcessDefinitionName:a.get("ownerProcessDefinitionName")})}})},_afterExecuteExpand:function(){this.attr({".sub-process":{display:"none"}})},_prepareCellModel:function(a,b){var c={silent:!0};this.constructor.__super__._prepareCellModel.apply(this,arguments),this.get("inCallActivity")&&a.set("inCallActivity",!0,c),a.unset("parent",c)},_executeCollapse:function(){this.attr({".sub-process":{display:""}}),this.unembedElements()},updateLayout:function(a){if(this.get("expanded")){var b=h.findByGuid(a,e.get(this.get("id"))),c=_(this.getEmbeddedLayout()).value();b&&(b.layout=c?JSON.stringify({cells:c}):null)}}}),{getRxData:function(a){var b={resourceType:d.processElementResourceTypes.subProcess,name:"Sub Process",description:"",loopType:"",multiInstanceLoopDefinition:null};return a&&_.assign(b,_.omit(a,["flowElements, artifacts"])),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},multiInstance:{label:"Multi Instance Loop",index:2},geometry:{label:"Geometry",index:3,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxData(a),f=this.getRxInspector(d);return a&&d&&(delete f.inputs.position,delete f.inputs.size,delete f.groups.geometry),{rxData:e,rxInspector:f}},getShape:function(){var a=this.getRxConfig();return new joint.shapes.rx.SubProcess(a)},validate:function(e,f){var g=[],i=a.defer(),j=[],k=c.get("rxProcessDesignerElementManager"),m=e.label;if(_.isEmpty(_.trim(e.label)))m=b(d.processElementResourceTypes.subProcess),e.hasOwnProperty("label")&&j.push({elementId:e.guid,elementName:m,propertyName:"label",type:"error",message:"Label cannot be blank."});else{var n=h.filter(f,{label:m});n.length>1&&j.push({elementId:e.guid,elementName:m,propertyName:"label",type:"error",message:"Label must be unique."})}var o=_.where(f.flowElements,{targetNode:e.guid}).length,p=_.where(f.flowElements,{sourceNode:e.guid}).length;return 0!==o&&1===p||j.push({elementId:e.guid,elementName:m,type:"warning",message:"One outbound and at least one inbound sequence flow is required."}),0===e.flowElements.length&&j.push({elementId:e.guid,elementName:m,type:"error",message:"Sub Process has no elements."}),l.validate(e,m,j),_.each(e.flowElements,function(a){g.push(k.validateElement(a,e))}),a.all(g).then(function(a){j=j.concat(_.compact(_.flatten(a))),i.resolve(j)}),i.promise}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxTextAnnotationAssociationElement",["$q","rxId","RX_PROCESS_DESIGNER","rxArtifactShapeInterface","rxProcessShapeViewInterface",function(a,b,c,d,e){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.TextAnnotationAssociationView=joint.dia.LinkView.extend(joint.shapes.rx.ProcessShapeViewInterface),joint.shapes.rx.TextAnnotationAssociation=joint.shapes.bpmn.Flow.extend(joint.shapes.rx.ArtifactShapeInterface).extend({defaults:joint.util.deepSupplement({type:"rx.TextAnnotationAssociation",flowType:"association"},joint.shapes.bpmn.Flow.prototype.defaults),persist:function(a){var c=joint.shapes.rx.ArtifactShapeInterface.persist.apply(this,arguments);return this.canPersist()&&_.assign(c,{sourceNode:b.get(this.get("source").id),targetNode:b.get(this.get("target").id)}),c}}),{getRxData:function(a){var b={resourceType:c.processElementResourceTypes.textAnnotationAssociation,sourceNode:"",targetNode:""};return a&&_.assign(b,a),b},getRxConfig:function(a,b){var c=this.getRxData(a,b);return{rxData:c,rxInspector:void 0}},getShape:function(){var a=this.getRxConfig();return new joint.shapes.rx.TextAnnotationAssociation(a)},registerValidators:function(a){function b(b,c,d){var e=a.attributes.commandManager.graph,f=e.getCell(c.data.id);if("rx.TextAnnotationAssociation"===f.get("type")){var g=e.getCell(f.get("target").id),h=e.getCell(f.get("source").id);if(!g||!h)return void d("Text Annotation Association must have a source and a target.");if(g.get("parent")!=h.get("parent"))return void d("Elements can only be connected if they belong to the same Sub Process.");var i=g.get("type");if("rx.TextAnnotation"===i)return void d("Text Annotation cannot have inbound Text Annotation Associations.");var j=h.get("type");return"rx.TextAnnotation"!==j?void d("Only Text Annotation element can have outbound Text Annotation Associations."):void 0}}a.validate("change:source change:target",b)},validate:function(){return a.when([])}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxTextAnnotationElement",["$q","RX_PROCESS_DESIGNER","rxArtifactShapeInterface","rxProcessShapeViewInterface",function(a,b,c,d){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.TextAnnotationView=joint.shapes.bpmn.AnnotationView.extend(joint.shapes.rx.ProcessShapeViewInterface),joint.shapes.rx.TextAnnotation=joint.shapes.bpmn.Annotation.extend(joint.shapes.rx.ArtifactShapeInterface).extend({defaults:joint.util.deepSupplement({type:"rx.TextAnnotation",size:{width:60,height:50},attrs:{rect:{rx:2,ry:2}}},joint.shapes.bpmn.Annotation.prototype.defaults),initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.set("content",this.get("rxData").text),this.on("change:rxData",this._onChangeRxData)},_onChangeRxData:function(){this.set("content",this.get("rxData").text)}}),{getRxData:function(a){var c={resourceType:b.processElementResourceTypes.textAnnotation,text:""};return a&&_.assign(c,a),c},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{text:{label:"Notes",type:"textarea",group:"properties",index:1,attrs:b({label:{"class":"required"}})}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},geometry:{label:"Geometry",index:2,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0;return{rxData:this.getRxData(a),rxInspector:this.getRxInspector(d)}},getShape:function(){var a=this.getRxConfig();return new joint.shapes.rx.TextAnnotation(a)},validate:function(b){var c=[];return _.isEmpty(_.trim(b.text))&&c.push({elementId:b.guid,elementName:"Text Annotation",propertyName:"text",type:"error",message:"Notes cannot be blank."}),a.when(c)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxTimerEventElement",["RX_PROCESS_DESIGNER","rxProcessShapeInterface","rxProcessShapeViewInterface","RX_EXPRESSION_EDITOR","rxDefaultExpressionConfigurator","i18n","$q","rxId","dialogs","rxProcessElementSearch",function(a,b,c,d,e,f,h,i,j,k){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.TimerEventView=joint.dia.ElementView.extend(joint.shapes.rx.ProcessShapeViewInterface).extend({pointerdown:function(a,b,c){var d=this.model.getParentId();if(d){var e=this.model.collection.get(d),f=e.getLayout(),h=this.model.get("position"),i=this.model.get("size"),j=g.rect(h.x,h.y,i.width,i.height).center();this.constraint=g.rect(f.position.x,f.position.y,f.size.width,f.size.height);var k=this.constraint.intersectionWithLineFromCenterToPoint(j);k&&k.x&&k.y&&joint.dia.ElementView.prototype.pointerdown.apply(this,[a,k.x,k.y])}else joint.dia.ElementView.prototype.pointerdown.apply(this,arguments)},pointermove:function(a,b,c){if(this.constraint){var d=this.constraint.intersectionWithLineFromCenterToPoint(g.point(b,c));d&&joint.dia.ElementView.prototype.pointermove.apply(this,[a,d.x,d.y])}}}),joint.shapes.rx.TimerEvent=joint.shapes.bpmn.Event.extend(joint.shapes.rx.ProcessShapeInterface).extend({defaults:joint.util.deepSupplement({type:"rx.TimerEvent",size:{width:50,height:50},attrs:{".label":{fill:"gray",text:f(a.processElementResourceTypes.timerEvent)}},eventType:"intermediate",icon:"clock"},joint.shapes.bpmn.Event.prototype.defaults),initialize:function(a){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this._lastTimerType=a.rxData&&a.rxData.timerType,this.listenTo(this,"change:parent",this._snapToParentBorder),this.listenTo(this,"change:rxData",this._onChangeRxData)},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new e(this),this._expressionConfigurator},persist:function(a){var b=joint.shapes.rx.ProcessShapeInterface.persist.apply(this,arguments),c=this.get("parent");return b&&(c&&(b.attachedToNode=i.get(c)),b.event={resourceType:"com.bmc.arsys.rx.services.process.domain.TimerEventDefinition",timeExpression:b.expressionDefinition||b.intervalDefinition||""},delete b.timerType,delete b.expressionDefinition,delete b.intervalDefinition),b},onChangePosition:function(){this._snapToParentBorder()},_snapToParentBorder:function(){var a=this.get("parent");if(a){var b=this.collection.get(a),c=b.position(),d=b.attributes.size,e=this.position(),f=this.attributes.size;c.bottom=c.y+d.height,c.right=c.x+d.width,e.centerY=e.y-f.height/2,e.centerX=e.x+f.width/2,e.centerY===c.y&&e.centerY===c.bottom||e.centerX!==c.x&&e.centerX!==c.right?e.centerY===c.y&&e.centerY===c.bottom||(e.centerY<=c.y?this.position(e.x,c.y-f.height/2):this.position(e.x,c.y+d.height-f.height/2)):e.centerX<=c.x?this.position(c.x-f.width/2,e.y):this.position(c.x+d.width-f.width/2,e.y)}},_onChangeRxData:function(a,b,c){var d=this;d._lastTimerType!==b.timerType&&j.confirm("Warning!","If you change from one Timer Type to another, the previously entered definition will be deleted. Do you want to continue?").result.then(function(){d._setTimerType(b.timerType)},function(){d.prop("rxData/timerType",d._lastTimerType)})},_setTimerType:function(a){var b=this;this._lastTimerType=a,b.prop("rxData/expressionDefinition",""),b.prop("rxData/intervalDefinition","")},getOperators:function(){return d.operators.math},labelPath:"attrs/.label/text",clearLabel:!0,elementCanvasSize:{width:30,height:30}}),{getRxData:function(b){var c={resourceType:a.processElementResourceTypes.timerEvent,name:"Timer",description:"",timerType:"Interval"};return b&&(_.assign(c,b),c.event&&c.event.timeExpression&&(/\${[^}]+}/g.test(c.event.timeExpression)?(c.timerType="Expression",c.expressionDefinition=c.event.timeExpression):(c.timerType="Interval",c.intervalDefinition=c.event.timeExpression))),c},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b(),d={readonly:a,inputs:{rxData:{description:{label:"Description",type:"textarea",group:"properties",index:1,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0},timerType:{label:"Timer Type",type:"select",options:[{value:"Interval",content:"Interval"},{value:"Expression",content:"Expression"}],group:"properties",index:2,attrs:c,when:a?{and:[{ne:{"rxData/timerType":void 0}},{ne:{"rxData/timerType":""}}]}:void 0},expressionDefinition:{label:"Time Expression",type:"rx-inspector-expression-node-field",group:"properties",index:3,attrs:b({label:{"class":"required"}}),when:a?{notEmpty:{"rxData/expressionDefinition":""}}:{eq:{"rxData/timerType":"Expression"}}},intervalDefinition:{label:"Interval Definition",type:"rx-inspector-timer-field",group:"properties",index:4,attrs:b({label:{"class":"required"},textarea:{disabled:!0}}),when:a?{notEmpty:{"rxData/intervalDefinition":""}}:{eq:{"rxData/timerType":"Interval"}}}}},groups:{properties:{label:"General",index:1}}};return d},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0;return{rxData:this.getRxData(a),rxInspector:this.getRxInspector(d)}},getShape:function(){var a=this.getRxConfig();return new joint.shapes.rx.TimerEvent(a)},registerValidators:function(a){function b(b,c,d){var e=a.attributes.commandManager.graph,f=e.getCell(c.data.id);if(f){if("rx.TimerEvent"!==f.get("type"))return;var g=f.get("parent"),h=_.get(c,"data.previous.parent");if(!g)return void d("The Timer Event can only be added to a User Task or a Receive Task element.");if(c&&"change:parent"===c.action&&h&&g!==h)return void d("Timer Event event cannot be detached from its parent.")}}a.validate("add change:parent",b)},validate:function(a,b){var c=[],d=k.find(b,{sourceNode:a.guid});return d||c.push({elementId:a.guid,elementName:"Timer",type:"warning",message:"One outbound sequence flow is required."}),0===a.event.timeExpression.length&&c.push({elementId:a.guid,elementName:"Timer",type:"warning",message:"Timer cannot be blank."}),h.when(c)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxUserTaskElementExpressionConfigurator",["$q","rxId","RX_RECORD_DEFINITION","RX_EXPRESSION_EDITOR","rxMultiInstanceExpressionConfigurator","rxDesignerCache",function(a,b,c,d,e,f){return e.extend({initialize:function(e){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments);var g={regExp:/^rxData\/completeTaskCondition$/g,updateDataDictionary:function(c,d){var f,g=_(c).find({label:"Activities"});return g&&(f=_(g.children).find({guid:b.get(e.id)}),f&&(f.children.forEach(function(a){a.value="${userTask."+a.label+"}"}),_.remove(c,g),c.push(f))),a.when(c)},operators:d.operators.all};this.registerExpressionConfig(g);var h={regExp:/^(rxData\/outputMap\/)[0-9]+(\/expression)$/g,updateDataDictionary:function(c,d){var f=_(c).find({label:"Activities"}),g=[];if(f){var h=_(f.children).find({guid:b.get(e.id)});if(h){var i=_(c).find({label:"General"}),j=_(c).find({label:"Process Variables"});j&&g.push(j),g.push(i),g.push(h)}}return a.when(g)},operators:d.operators.math};this.registerExpressionConfig(h);var i={updateDataDictionary:function(b,d){return e._lastRecordDefinitionName&&d?f.getRecordDefinition(e._lastRecordDefinitionName).then(function(a){if(d){var e=_(a.fieldDefinitions).find({name:_(d.split("/")).findLast()});if(e)switch(e.resourceType){case c.dataTypes.selection.resourceType:var f=_(e.optionNamesById).map(function(a,b){return{label:a,value:'"'+a+'"',showRawValue:!0}}).value();b.unshift({label:"Options",children:f});break;case c.dataTypes["boolean"].resourceType:b.unshift({label:"Options",children:[{label:"True",value:'"true"',showRawValue:!0},{label:"False",value:'"false"',showRawValue:!0}]})}}return b}):a.when(b)},operators:d.operators.math};this.setDefaultDictionaryConfig(i)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxUserTaskElement",["$q","i18n","rxString","RX_PROCESS_DESIGNER","RX_DEFINITION_PICKER","RX_USER_TASK","rxDesignerCache","rxUserTaskElementModel","rxMultiInstanceConfiguration","rxProcessElementSearch",function(a,b,c,d,e,f,g,h,i,j){function k(a){return"REQUIRED"===a.fieldOption&&(""===a.defaultValue||null===a.defaultValue||void 0===a.defaultValue)}return{getRxData:function(a){function b(b){c[b]={},(a[b]||[]).forEach(function(a){c[b][a.assignTarget]=a.expression})}var c={resourceType:d.processElementResourceTypes.userTask,name:"User Task",description:"",recordDefinitionName:"",recordInstanceOrId:"",completeTaskCondition:"",inputMap:{},outputMap:[],taskCancellationInputMap:[],loopType:"",multiInstanceLoopDefinition:null,mode:f.mode.createRecord};return a&&(_.assign(c,a),a.recordInstanceOrId&&(c.mode=f.mode.updateRecord),b("inputMap"),b("taskCancellationInputMap")),c},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0},mode:{label:"Mode",type:"rx-inspector-group-button",group:"properties",index:3,options:[{value:f.mode.createRecord,content:"Create Record"},{value:f.mode.updateRecord,content:"Update Record"}],attrs:c,when:a?{and:[{ne:{"rxData/mode":void 0}},{ne:{"rxData/mode":""}}]}:void 0},recordDefinitionName:{label:"Record Definition",type:"rx-inspector-definition-picker",definitionType:e.definitionTypes.record.type,availablePickerStates:{search:e.definitionScopes.bundle},group:"properties",index:4,attrs:b({label:{"class":"required"}})},recordInstanceOrId:{label:"Record ID",type:"rx-inspector-expression-node-field",group:"properties",index:5,attrs:b({label:{"class":"required"}}),when:a?{and:[{ne:{"rxData/recordInstanceOrId":""}},{ne:{"rxData/recordInstanceOrId":void 0}}]}:{and:[{regex:{"rxData/recordDefinitionName":/^(?=\s*\S).*$/}},{eq:{"rxData/mode":f.mode.updateRecord}}]}},completeTaskCondition:{label:"Completion Criteria",type:"rx-inspector-expression-node-field",group:"properties",index:6,when:a?{and:[{ne:{"rxData/completeTaskCondition":""
}},{ne:{"rxData/completeTaskCondition":void 0}}]}:{regex:{"rxData/recordDefinitionName":/^(?=\s*\S).*$/}},attrs:b({label:{"class":"required"}})},inputMap:{type:"rx-inspector-add-remove-input-map-fields",group:"inputMap",label:"Add/Remove Input Map Fields",when:{regex:{"rxData/recordDefinitionName":/^(?=\s*\S).*$/}},attributes:{enforceRequiredFields:!0}},outputMap:{type:"list",group:"outputMap",item:{type:"object",properties:{assignTarget:{type:"rx-inspector-input-select",label:"Name",options:[],attrs:b({label:{"class":"required"}})},expression:{type:"rx-inspector-expression-node-field",label:"Source",attrs:b({label:{"class":"required"}})}}},when:{regex:{"rxData/recordDefinitionName":/^(?=\s*\S).*$/}},attrs:c}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},inputMap:{label:"Input Map",index:2},outputMap:{label:"Output Map",index:3},taskCancellationInputMap:{label:"Cancellation Input Map",index:4,closed:!0},multiInstance:{label:"Multi Instance Loop",index:5},geometry:{label:"Geometry",index:6,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxData(a),g=this.getRxInspector(d);return a&&d?(delete g.inputs.position,delete g.inputs.size,delete g.groups.geometry,delete g.groups.inputMap,delete g.inputs.rxData.inputMap,delete g.groups.taskCancellationInputMap,delete g.inputs.rxData.taskCancellationInputMap,delete g.groups.outputMap,delete g.inputs.rxData.outputMap):g.inputs.rxData.inputMap.attributes={enforceRequiredFields:e.mode===f.mode.createRecord},{rxData:e,rxInspector:g}},getShape:function(){var a=this.getRxConfig();return new joint.shapes.rx.UserTask(a)},validate:function(e,f){var h,l=[],m=a.defer(),n=e.outputMap||[],o=e.label;if(c.isEmptySafe(e.label))o=b(d.processElementResourceTypes.userTask),e.hasOwnProperty("label")&&l.push({elementId:e.guid,elementName:o,propertyName:"label",type:"error",message:"Label cannot be blank."});else{var p=j.filter(f,{label:o});p.length>1&&l.push({elementId:e.guid,elementName:o,propertyName:"label",type:"error",message:"Label must be unique."})}var q=_.where(f.flowElements,{targetNode:e.guid}).length,r=_.where(f.flowElements,{sourceNode:e.guid}).length;0!==q&&1===r||l.push({elementId:e.guid,elementName:o,type:"warning",message:"One outbound and at least one inbound sequence flow is required."}),c.isEmptySafe(e.recordDefinitionName)?l.push({elementId:e.guid,elementName:o,propertyName:"recordDefinitionName",type:"error",message:"Record Definition cannot be blank."}):(_.isUndefined(e.recordInstanceOrId)?h=g.getRecordDefinition(e.recordDefinitionName).then(function(a){var b=_(a.fieldDefinitions).filter(k).pluck("name").value();_.each(b,function(a){var b=_.find(e.inputMap,{assignTarget:a});b&&!c.isEmptySafe(b.expression)||l.push({elementId:e.guid,elementName:o,propertyName:"inputMap/"+a,type:"warning",message:'Input Map Property "'+a+'" cannot be blank.'})})}):null!==e.recordInstanceOrId&&c.isEmptySafe(e.recordInstanceOrId)&&l.push({elementId:e.guid,elementName:o,propertyName:"recordInstanceOrId",type:"error",message:"Record Id cannot be blank."}),c.isEmptySafe(e.completeTaskCondition)&&l.push({elementId:e.guid,elementName:o,propertyName:"completeTaskCondition",type:"warning",message:"Completion Criteria cannot be blank."})),_.each(n,function(a,b){c.isEmptySafe(a.assignTarget)&&l.push({elementId:e.guid,elementName:o,propertyName:"outputMap/"+b+"/assignTarget",type:"error",message:'Output Map Parameter\'s "Name" cannot be blank.'}),c.isEmptySafe(a.expression,b)&&l.push({elementId:e.guid,elementName:o,propertyName:"outputMap/"+b+"/expression",type:"error",message:'Output Map Parameter\'s "Source" cannot be blank.'})});var s=_.uniq(n,"assignTarget");return s.length!==n.length&&l.push({elementId:e.guid,elementName:o,type:"error",message:"Output Map parameter names must be unique."}),i.validate(e,o,l),h?h["finally"](function(){m.resolve(l)}):m.resolve(l),m.promise}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxUserTaskElementModel",["$q","dialogs","i18n","rxId","RX_PROCESS_DESIGNER","RX_RECORD_DEFINITION","RX_EXPRESSION_EDITOR","RX_DEFINITION_PICKER","RX_USER_TASK","$rootScope","rxString","rxDesignerCache","rxProcessShapeViewInterface","rxProcessShapeInterface","definitionNameFilter","rxUserTaskElementExpressionConfigurator","rxMultiInstanceConfiguration","rxMultiInstanceInterface","rxProcessElementSearch","rxProcessShape",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){function u(a){return"REQUIRED"===a.fieldOption&&null===a.defaultValue}return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.UserTaskView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.ProcessShapeViewInterface),joint.shapes.rx.UserTask=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.ProcessShapeInterface).extend(joint.shapes.rx.MultiInstanceInterface).extend({_lastRecordDefinitionName:null,_expressionConfigurator:null,_lastMode:null,defaults:joint.util.deepSupplement({type:"rx.UserTask",size:{width:70,height:60},attrs:{".icon":{width:12,height:12,"ref-x":3,"ref-y":3},rect:{rx:4,ry:4}},icon:"user",content:c(e.processElementResourceTypes.userTask)},joint.shapes.bpmn.Activity.prototype.defaults),elementCanvasSize:{width:90,height:60},persist:function(a){var b=joint.shapes.rx.ProcessShapeInterface.persist.apply(this,arguments);return b&&(this._transformMap(b,"inputMap"),this._transformMap(b,"taskCancellationInputMap"),this._persistMultiInstanceInfo(b)),b.mode===i.mode.createRecord&&delete b.recordInstanceOrId,delete b.mode,b},_transformMap:function(a,b){var c=[];for(var d in a[b]){var e=a[b][d];e&&c.push({assignTarget:d,expression:e})}a[b]=c},_updateCls:function(){this.get("rxInspector").cls=k.isEmptySafe(this.get("rxData").recordInstanceOrId)?"":"rx-user-task-mode-update"},initialize:function(a){if(this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,"change:size",this._onChangeSize),a&&a.rxData&&a.rxData.recordDefinitionName){var b=a.rxData.recordInstanceOrId||"";this._lastRecordDefinitionName=a.rxData.recordDefinitionName,this._lastMode=a.rxData.mode,this.prop("rxData/recordInstanceOrId",b),this.prop("rxData/mode",this._lastMode)}this._updateCls()},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new p(this),this._expressionConfigurator},_onChangeRxData:function(a,c,d){var e=this;e._lastRecordDefinitionName!==c.recordDefinitionName&&(e._lastRecordDefinitionName?b.confirm("Warning!","Input Map, Output Map, Record ID, and Completion Criteria fields will be cleared. Do you want to continue?").result.then(function(){e._setRecordDefinitionName(c.recordDefinitionName)},function(){e.prop("rxData/recordDefinitionName",e._lastRecordDefinitionName)}):e._setRecordDefinitionName(c.recordDefinitionName)),e._lastMode!==c.mode&&(e._lastMode&&e.prop("rxData/recordInstanceOrId")?b.confirm("Warning!","Record ID field will be cleared. Do you want to continue?").result.then(function(){e.prop("rxData/recordInstanceOrId",""),e._lastMode=c.mode},function(){e.prop("rxData/mode",e._lastMode)}):(e.prop("rxData/recordInstanceOrId",""),e._lastMode=c.mode),e.prop("rxInspector/inputs/rxData/inputMap/attributes/enforceRequiredFields",c.mode===i.mode.createRecord),e.trigger("rx:change:inputs",this)),/^(rxData\/outputMap\/)[0-9]+(\/assignTarget)$/g.test(d.propertyPath)&&e._rebuildOutputMap(d.propertyValue),e._updateCls()},_onChangeSize:function(){_.each(this.getEmbeddedCells(),function(a){a._snapToParentBorder&&a._snapToParentBorder()})},_setRecordDefinitionName:function(a){var b=this;this._lastRecordDefinitionName=a,l.getRecordDefinition(a).then(function(a){b.prop("rxData/recordInstanceOrId","",{silent:!0}),b.prop("rxData/completeTaskCondition","",{silent:!0}),b.prop("rxData/outputMap",null,{silent:!0}),b.prop("rxData/outputMap",[],{silent:!0}),b._rebuildInputMaps(a),b._updateMultiInstanceInfo().then(function(){j.$broadcast(g.events.refreshInspector,b)})})},_rebuildInputMaps:function(a){var b=angular.copy(this.get("rxInspector")),c=angular.copy(this.get("rxData"));a?(b.inputs.rxData.taskCancellationInputMap=this._buildInspectorMap(a,"taskCancellationInputMap",!1),c.inputMap=this._buildDataMap(a),c.taskCancellationInputMap=this._buildDataMap(a)):(c.inputMap={},delete b.inputs.rxData.taskCancellationInputMap,c.taskCancellationInputMap={}),this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0}),this.unset("rxData",{silent:!0}),this.prop("rxData",c,{ignoreCommandManager:!0})},_buildInspector:function(a){var b=angular.copy(this.get("rxInspector"));b.inputs.rxData.taskCancellationInputMap=this._buildInspectorMap(a,"taskCancellationInputMap",!1),this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0}),this.trigger("rx:change:inputs",this)},_buildInspectorMap:function(a,b,c){var d={},e=this._getFieldDefinitions(a);return c&&(e=_.sortBy(e,function(a){return!u(a)})),e.forEach(function(a){var e={label:a.name,type:"rx-inspector-expression-node-field",group:b};a.resourceType===f.dataTypes.selection.resourceType&&(e.type="rx-inspector-expression-input-select",e.options=_.map(a.optionNamesById,function(a,b){return{content:a,value:b}})),c&&u(a)&&(e.attrs={label:{"class":"required"}}),d[a.name]=e}),d},_buildDataMap:function(a){var b={};return this._getFieldDefinitions(a).forEach(function(a){b[a.name]=""}),b},_getFieldDefinitions:function(a){return _(a.fieldDefinitions).filter(function(a){return"SYSTEM"!=a.fieldOption}).sort(function(a,b){return a.name.localeCompare(b.name)}).value()},getCurrentRecordDefinition:function(){return l.getRecordDefinition(this._lastRecordDefinitionName)},getRecordDefinitionName:function(){return this._lastRecordDefinitionName},updateInspectorConfig:function(b){var c=this,d=[],e=angular.copy(this.get("rxInspector"));if(!e.readonly){if(e.inputs.rxData.outputMap){var f=t.getProcessVariables(b);e.inputs.rxData.outputMap.item.properties.assignTarget.options=f,c.unset("rxInspector",{silent:!0}),c.prop("rxInspector",e,{silent:!0}),c.trigger("rx:change:inputs",c)}c._lastRecordDefinitionName&&d.push(l.getRecordDefinition(c._lastRecordDefinitionName).then(function(a){c._buildInspector(a),d.push(c._updateMultiInstanceInfo())}))}return a.all(d)},getAutoCompleteList:function(b){return b.fieldPath&&this.prop("rxData/recordDefinitionName")?l.getRecordDefinition(this._lastRecordDefinitionName).then(function(c){var d=_.find(c.fieldDefinitions,function(a){return a.id===Number(b.fieldPath)||a.name===b.fieldPath});return d&&d.resourceType===f.dataTypes.selection.resourceType?_(d.optionNamesById).values().map(function(a){return{id:a,label:a}}).value():a.when([])}):a.when([])},_showMultiInstanceInfo:function(){return this.prop("rxInspector/readonly")?this.prop("rxData/multiInstanceLoopDefinition"):this._lastRecordDefinitionName},supportDynamicQualification:function(a){return"rxData/completeTaskCondition"===a||joint.shapes.rx.MultiInstanceInterface.supportDynamicQualification.apply(this,arguments)},changeRequiredFieldsToOptional:function(){return this._lastMode===i.mode.updateRecord},canEmbedElement:function(a){return"rx.TimerEvent"===_.get(a,"model.attributes.type")&&!this.get("inCallActivity")}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxWaitForApprovalReviewElement",["$q","$injector","$filter","RX_PROCESS_DESIGNER","rxDesignerCache","rxProcessDesignerCache","rxExpandableProcessShapeInterface","rxExpandableProcessShapeViewInterface","rxDefaultExpressionConfigurator","rxProcessShapeInterface","rxProcessShapeViewInterface","actionTypeNameFilter","approvalCompletionCriteriaFilter","rxProcessShape","rxString",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.WaitForApprovalReviewView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.ExpandableProcessShapeViewInterface).extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),!this.model.get("parent")&&this.model.get("expanded")&&_.isUndefined(this.model.get("embeds"))&&!this.model._expanding&&this.expand()},getPaperScale:function(){return new V(this.paper.viewport).scale()}}),joint.shapes.rx.WaitForApprovalReview=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.ExpandableProcessShapeInterface).extend({_expanding:!1,defaults:joint.util.deepSupplement({type:"rx.WaitForApprovalReview",activityType:"call-activity",content:"Wait For Approval Review",subProcess:!0,expanded:!1,collapsedSize:{width:70,height:60},size:{width:70,height:60},attrs:{path:{transform:"scale(0.3, 0.3)","ref-dy":-15},rect:{rx:2,ry:2}}},joint.shapes.bpmn.Activity.prototype.defaults),elementCanvasSize:{width:90,height:60},persist:function(a){var b=joint.shapes.rx.ProcessShapeInterface.persist.apply(this,arguments);if(b){b.inputMap&&b.inputMap.complexInputMap&&(b.inputMap=_.omit(b.inputMap,"complexInputMap")),b.recordDefinitionName&&(b=_.omit(b,"recordDefinitionName"));var c=[];for(var d in b.inputMap){var e=b.inputMap[d];e&&("Application Record Instance"===d?c.push({assignTarget:d,expression:e}):/^\"|\"$/g.test(e)?c.push({assignTarget:d,expression:e}):c.push({assignTarget:d,expression:'"'+e+'"'}))}b.calledProcessDefinitionName=b.calledProcessDefinitionName.trim(),b.inputMap=c}return b},initialize:function(a){joint.shapes.bpmn.Activity.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,"change:size",this._onChangeSize),this.listenTo(this,"change:expanded",this._updateGeometryGroup)},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new i(this),this._expressionConfigurator},_onChangeSize:function(a,b){this.get("expanded")||this.set("collapsedSize",b)},_onChangeRxData:function(a,b,c){var d=this;/^(rxData\/outputMap\/)[0-9]+(\/assignTarget)$/g.test(c.propertyPath)&&d._rebuildOutputMap(c.propertyValue),b.inputMap.complexInputMap&&"rxData/inputMap/complexInputMap"==c.propertyPath&&(a.trigger("batch:start"),a.prop("rxData/inputMap/Approval Process Name",b.inputMap.complexInputMap.processName),a.prop("rxData/inputMap/Approver List",b.inputMap.complexInputMap.approversList),a.prop("rxData/inputMap/Approval Completion Criteria",b.inputMap.complexInputMap.multipleApprovers),a.trigger("batch:stop"))},updateInspectorConfig:function(b){var c=this,d=angular.copy(this.get("rxInspector"));if(this._updateGeometryGroup(),d.inputs.rxData.outputMap){var e=n.getProcessVariables(b);d.inputs.rxData.outputMap.item.properties.assignTarget.options=e,c.unset("rxInspector",{silent:!0}),c.prop("rxInspector",d,{silent:!0}),c.trigger("rx:change:inputs",c)}return b.inputParams&&1==b.inputParams.length&&!angular.equals(b.inputParams[0].recordDefinitionName,c.prop("rxData/inputMap/Application Record Instance"))&&57e3==b.inputParams[0].id&&(c.prop("rxData/inputMap/Application Record Instance","${processContext."+b.inputParams[0].name+"}"),c.recordDefinitionName=b.inputParams[0].recordDefinitionName),a.when()},_updateGeometryGroup:function(){var a=this,b=this.get("rxInspector");if(!b.readonly){var c={input:{readonly:!0,disabled:!0}},d=this.get("expanded")?c:{};b.inputs.position.x.attrs=b.inputs.position.y.attrs=d,b.inputs.size.width.attrs=b.inputs.size.height.attrs=d,this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0}),a.trigger("rx:change:inputs",a)}},getCalledProcessDefinition:function(){return e.getProcessDefinition(this.prop("rxData/calledProcessDefinitionName"))},_prepareForExpand:function(){var c=this,d=a.defer();return this.getCalledProcessDefinition().then(function(a){f.loadFlowElementDependencies(a).then(function(){var g=c.prop("rxData/calledProcessDefinitionName")+":"+c.get("id"),h=f.getProcessClone(g);if(!h){var i=b.get("rxProcessDesignerElementManager"),j=i.cloneProcessDefinition(a);h={definition:j,graph:i.getGraph(j,{readonly:!0})},f.setProcessClone(g,h),e.setProcessDefinition(j)}d.resolve(h)})},function(){d.reject()}),d.promise},_afterExecuteExpand:function(){this.attr({".body":{fill:"#f2f2f2"},".sub-process":{visibility:"hidden"}})},_prepareCellModel:function(a){this.constructor.__super__._prepareCellModel.apply(this,arguments),a.set({inCallActivity:!0},{silent:!0})},_executeCollapse:function(){this.unembedElements(),this.set("parentCallActivity",null,{silent:!0}),this.attr({".body":{fill:"#ffffff"},".sub-process":{visibility:"visible"}})}}),{getRxData:function(a){var b={resourceType:d.processElementResourceTypes.callActivity,name:"Wait For Approval Review",calledProcessDefinitionName:"com.bmc.arsys.rx.approval:Wait for Approval Review",description:"",outputMap:[],multiInstanceLoopDefinition:null};if(a){_.assign(b,a),b.inputMap={};var e={};a.inputMap.forEach(function(a){var d=a.expression.replace(/^\"|\"$/g,"");b.inputMap[a.assignTarget]=d,"Approval Process Name"===a.assignTarget&&(e.processName=d),"Approver List"===a.assignTarget&&(e.approversList=d),"Approval Completion Criteria"===a.assignTarget&&(e.multipleApprovers=c("approvalCompletionCriteria")(d))}),b.inputMap.complexInputMap=e}return b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},description:{label:"Description",type:"textarea",group:"properties",index:2,attrs:c,when:a?{notEmpty:{"rxData/description":""}}:void 0},inputMap:{"Application Record Instance":{label:"Record Instance",type:"text",group:"inputMap",attrs:{label:{"class":"required"},input:{readonly:!0}}},complexInputMap:{type:"rx-inspector-wait-for-approval-field",group:"inputMap"},"Approval Process Name":{label:"WFAD Name",type:"text",group:"inputMap",attrs:{label:{"class":"required"},input:{readonly:!0}}},"Approver List":{label:"Approvers",type:"textarea",group:"inputMap",attrs:{label:{"class":"required"},textarea:{readonly:!0}}},"Approval Completion Criteria":{label:"Completion Criteria",type:"rx-inspector-read-only-text",filter:"approvalCompletionCriteria",group:"inputMap",attrs:{label:{"class":"required"},input:{readonly:!0}}}},outputMap:{type:"list",group:"outputMap",index:4,item:{type:"object",properties:{assignTarget:{type:"rx-inspector-input-select",label:"Name",options:[],attrs:b({label:{"class":"required"}})},expression:{type:"rx-inspector-expression-node-field",label:"Source",attrs:b({label:{"class":"required"}})}}}}},position:{x:{type:"number",group:"geometry",label:"X",attrs:c},y:{type:"number",group:"geometry",label:"Y",attrs:c}},size:{width:{type:"number",group:"geometry",label:"Width",attrs:c},height:{type:"number",group:"geometry",label:"Height",attrs:c}}},groups:{properties:{label:"General",index:1},inputMap:{label:"Input Map",index:2},outputMap:{label:"Output Map",index:3},multiInstance:{label:"Multi Instance Loop",index:4},geometry:{label:"Geometry",index:5,closed:!0}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0,e=this.getRxData(a),f=this.getRxInspector(d);return a&&d&&(delete f.inputs.position,delete f.inputs.size,delete f.groups.geometry,delete f.groups.inputMap,delete f.inputs.rxData.inputMap,delete f.groups.outputMap,delete f.inputs.rxData.outputMap),{rxData:e,rxInspector:f}},getShape:function(a){var b=this.getRxConfig(a);return new joint.shapes.rx.WaitForApprovalReview(b)},validate:function(b,c){var d=[],e=b.outputMap||[],f=b.label;_.isEmpty(_.trim(b.label))&&b.hasOwnProperty("label")&&d.push({elementId:b.guid,elementName:"Wait For Approval Review",propertyName:"label",type:"error",message:"Label cannot be blank."});var g=_.where(c.flowElements,{targetNode:b.guid}).length,h=_.where(c.flowElements,{sourceNode:b.guid}).length;0!==g&&1===h||d.push({elementId:b.guid,elementName:f,type:"warning",message:"One outbound and at least one inbound sequence flow is required."}),_.each(e,function(a,c){_.isEmpty(_.trim(a.assignTarget))&&d.push({elementId:b.guid,elementName:f,propertyName:"outputMap/"+c+"/assignTarget",type:"error",message:"Output Map Parameter Name cannot be blank."}),_.isEmpty(_.trim(a.expression))&&d.push({elementId:b.guid,elementName:f,propertyName:"outputMap/"+c+"/expression",type:"error",message:"Output Map Parameter Source cannot be blank."})});var i=_.uniq(e,"assignTarget");i.length!==e.length&&d.push({elementId:b.guid,elementName:f,type:"error",message:"Output Map parameter names must be unique."});var j=_.find(b.inputMap,{assignTarget:"Application Record Instance"});j&&!o.isEmptySafe(j.expression)||d.push({elementId:b.guid,elementName:f,propertyName:"inputMap/Application Record Instance",type:"warning",message:"Application Record Instance should not be blank."});var k=_.find(b.inputMap,{assignTarget:"Approval Process Name"});k&&!o.isEmptySafe(k.expression)||d.push({elementId:b.guid,elementName:f,propertyName:"inputMap/Approval Process Name",type:"warning",message:"Approval Process Name should not be blank."});var l=_.find(b.inputMap,{assignTarget:"Approver List"});l&&!o.isEmptySafe(l.expression)||d.push({elementId:b.guid,elementName:f,propertyName:"inputMap/Approver List",type:"warning",message:"Approver List should not be blank."});var m=_.find(b.inputMap,{assignTarget:"Approval Completion Criteria"});return m&&!o.isEmptySafe(m.expression)||d.push({elementId:b.guid,elementName:f,propertyName:"inputMap/Approval Completion Criteria",type:"warning",message:"Approval Completion Criteria should not be blank."}),a.when(d)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessAutoComplete",["RxAutoComplete",function(a){function b(a){var b,c=a.match(/\${activityResults\.rx-([\d\w-]+)\.(.*)}$/);return c&&c[1]&&(b={id:c[1],fieldPath:c[2],type:"activity"}),b}function c(a){var b,c=a.match(/\${queryExpression\.(.*)}$/);return c&&c[1]&&(b={fieldPath:c[1],type:"getRecordsByQuery"}),b}function d(a){var b,c=a.match(/\${userTask\.(.*)}$/);return c&&(b={fieldPath:c[1],type:"userTask"}),b}function e(a){var b,c=a.match(/\${processContext\.(.*)}$/);return c&&c[1]&&(b={fieldPath:c[1],type:"process"}),b}function f(a){return new h(a)}var g=[b,d,e,c],h=a.extend({initialize:function(a){rx.assert.assertDefinedAndNotNull(a),this.graph=a},extractData:function(a,b){for(var c,d={component:null,fieldPath:null},e=0;!c&&e<g.length;)c=g[e](a),e++;if(c)switch(c.type){case"activity":d.component=this.graph.getCell(c.id),d.fieldPath=c.fieldPath;break;case"process":var f=_.find(this.graph.getCells(),function(a){return"rx.ProcessModel"==a.get("type")});f&&(d.component=f,d.fieldPath=c.fieldPath);break;case"userTask":d.component=b.cell,d.fieldPath=c.fieldPath;break;case"getRecordsByQuery":d.component=b.cell,d.fieldPath=c.fieldPath}return d}});return{getInstance:f}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessDataDictionary",["$q","RX_PROCESS_DESIGNER","RX_RECORD_DEFINITION","rxDesignerCache","rxExpressionEditorUtils","rxString","rxProcessElementSearch","bundlePathFilter","definitionNameFilter",function(a,b,c,d,e,f,g,h,i){function j(){m={plainProcessDefinition:{},currentDataDictionary:{}}}function k(b,c){return angular.equals(b,m.plainProcessDefinition)?a.when(m.currentDataDictionary):(m.plainProcessDefinition=angular.copy(b),m.currentDataDictionary=o(b,c).then(function(a){return m.currentDataDictionary=a,m.currentDataDictionary}),m.currentDataDictionary)}var l={processInput:{label:"Process Input Parameter",type:"1. Process Input Parameter",icon:"d-icon-arrow_right_square_input"},processOutput:{label:"Process Output Parameter",type:"2. Process Output Parameter",icon:"d-icon-arrow_right_square_o"},outputMapEntry:{label:"Local Process Variable",type:"3. Output Map Entry",icon:"d-icon-arrows_right"},activityOutput:{label:"Activity Result",type:"Activity Result",icon:"d-icon-arrow_chart"},keyword:{label:"Keyword",type:"Keyword",icon:"d-icon-dollar"},processInputOutput:{label:"Process Input And Output Parameter",type:"Process Input And Output Parameter",icon:"d-icon-right-arrow_right_brackets"}},m={plainProcessDefinition:{},currentDataDictionary:{}},n=function(){return _.values(l)},o=function(h,j,k){function m(a){return _(a).sortBy("type").uniq("value").value()}var n=function(a,b){return a.label.localeCompare(b.label)},o=[],p=g.flattenElements(h),q=function(a,b){return _(b).map(function(b){var c={label:f.prettify(b.name),value:"${activityResults."+a+"."+b.name+"}",type:l.activityOutput.type,icon:l.activityOutput.icon};return 0===_.size(b.dataTypeDetail)?c.icon=l.activityOutput.icon:c.children=q(a+"."+b.name,b.dataTypeDetail),c}).sort(n).value()},r=_(p).filter(function(a){return a.resourceType===b.processElementResourceTypes.processAction&&!_.includes(["createRecord","getRecord","getRecordsByQuery"],a.actionTypeName)}).transform(function(a,b){var c=_.find(j,{actionTypeName:b.actionTypeName});c&&c.outputParams&&c.outputParams.length&&a.push({label:b.label,guid:b.guid,children:q(b.guid,c.outputParams)})}).value(),s=_(p).filter(function(a){return a.resourceType===b.processElementResourceTypes.receiveTask&&!_.isEmpty(a.signalParams)}).map(function(a){return{label:a.label,children:_.map(a.signalParams,function(a){return{label:a,value:"${processContext."+a+"}",type:l.outputMapEntry.type,icon:l.outputMapEntry.icon}}).sort(n)}}).sort(n).value(),t=_(p).filter(function(a){return a.resourceType===b.processElementResourceTypes.receiveTask&&!_.isEmpty(a.signalParams)}).map(function(a){return{label:a.label,children:_.map(a.signalParams,function(b){return{label:b,value:"${activityResults."+a.guid+"."+b+"}",type:l.activityOutput.type,icon:l.activityOutput.icon}}).sort(n)}}).sort(n).value();_.forEach(h.inputParams,function(a){_.forEach(h.outputParams,function(b){a.name===b.name&&(a.isInputAndOutputParam=!0,b.isInputAndOutputParam=!0)})});var u=_(h.inputParams).filter(function(a){return _.find(c.dataTypes,{resourceType:a.resourceType})&&a.resourceType!=c.dataTypes.recordInstance.resourceType}).compact().map(function(a){return a.isInputAndOutputParam?(delete a.isInputAndOutputParam,{label:a.name,type:l.processInputOutput.type,icon:l.processInputOutput.icon,value:"${processContext."+a.name+"}"}):{label:a.name,type:l.processInput.type,icon:l.processInput.icon,value:"${processContext."+a.name+"}"}}).value(),v=_(h.outputParams).filter(function(a){return a.resourceType!==c.dataTypes.recordInstance.resourceType}).uniq().compact().map(function(a){return a.isInputAndOutputParam?(delete a.isInputAndOutputParam,{label:a.name,type:l.processInputOutput.type,icon:l.processInputOutput.icon,value:"${processContext."+a.name+"}"}):{label:a.name,type:l.processOutput.type,icon:l.processOutput.icon,value:"${processContext."+a.name+"}"}}).value(),w=_(h.localVariables).filter(function(a){return _.find(c.dataTypes,{resourceType:a.resourceType})&&!_.includes([c.dataTypes.recordInstance.resourceType,c.localVariableProcessCharacter],a.resourceType)}).pluck("name").compact().map(function(a){return{label:a,type:l.outputMapEntry.type,icon:l.outputMapEntry.icon,value:"${processContext."+a+"}"}}).value(),x=_(p).pluck("outputMap").flatten().compact().pluck("assignTarget").uniq().compact().map(function(a){return{label:a,type:l.outputMapEntry.type,icon:l.outputMapEntry.icon,value:"${processContext."+a+"}"}}).value(),y={label:"Process Variables",children:[]},z={label:"General",children:[{label:"Current User",type:l.keyword.type,icon:l.keyword.icon,value:"$USER$"},{label:"Current Date",type:l.keyword.type,icon:l.keyword.icon,value:"$DATE$"},{label:"Current Time",type:l.keyword.type,icon:l.keyword.icon,value:"$TIME$"},{label:"Current Date and Time",type:l.keyword.type,icon:l.keyword.icon,value:"$TIMESTAMP$"},{label:"Process Correlation ID",type:l.keyword.type,icon:l.keyword.icon,value:"$PROCESSCORRELATIONID$"},{label:"Current Week Day",type:l.keyword.type,icon:l.keyword.icon,value:"$WEEKDAY$"},{label:"Current Groups",type:l.keyword.type,icon:l.keyword.icon,value:"$GROUPS$"},{label:"Current Group IDs",type:l.keyword.type,icon:l.keyword.icon,value:"$GROUPIDS$"},{label:"Current Roles",type:l.keyword.type,icon:l.keyword.icon,value:"$ROLES$"},{label:"Current User Locale",type:l.keyword.type,icon:l.keyword.icon,value:"$LOCALE$"},{label:"NULL",type:l.keyword.type,icon:l.keyword.icon,value:"$NULL$"}]};z.children=z.children.sort(n);var A={label:"Activities",children:[]},B=function(){var a=_.filter(p,function(a){return a.resourceType==b.processElementResourceTypes.callActivity&&a.calledProcessDefinitionName}),c=_.map(a,function(a){return e.isValidDynamicExpression(a.calledProcessDefinitionName)?a.sampleProcessDefinitionName:a.calledProcessDefinitionName});return d.getProcessDefinitions(c).then(function(b){return _(a).map(function(a){var c=e.isValidDynamicExpression(a.calledProcessDefinitionName)?a.sampleProcessDefinitionName:a.calledProcessDefinitionName,d=_.find(b,{name:c});if(d&&d.outputParams.length)return{label:a.label,children:_(d.outputParams).pluck("name").uniq().map(function(b){return{label:b,type:l.activityOutput.type,icon:l.activityOutput.icon,value:"${activityResults."+a.guid+"."+b+"}"}}).sort(n).value()}}).compact().value()})},C=function(a){var b=_.find(a.recordDefinitions,{name:a.element.recordDefinitionName}),c=a.actionOutputPrefix||"",d=_(b.fieldDefinitions).map(function(b){var d;return d=a.association?"${"+a.groupPrefix+"."+a.element.guid+(a.parentAssociation||"")+"._associations."+a.association.value.associationDefintionGuid+"."+a.association.value.nodeSide+"[0]."+b.id+"}":["${"+a.groupPrefix+"."+a.element.guid+c+"."+b.id+"}","${"+a.groupPrefix+"."+a.element.guid+c+"."+b.name+"}"],{label:b.name,type:a.legendType.type,icon:a.legendType.icon,value:d}}).sort(n).value();if(a.associations&&a.associations[b.name]){var e=D(a,a.associations[b.name].data);e.length&&d.unshift({label:"Associations",type:a.legendType.type,children:e})}if(!_.isEmpty(c)){var f=_.clone(d);d=[{label:"Output",type:a.legendType.type,icon:a.legendType.icon,value:"${"+a.groupPrefix+"."+a.element.guid+c+"}",children:f}]}return{icon:a.legendType.icon,type:a.legendType.type,label:a.element.label,guid:a.element.guid,children:d}},D=function(a,b){var c=[];return b.length&&_.each(b,function(b){var d={},e="";a.association&&(e="._associations."+a.association.value.associationDefintionGuid+"."+a.association.value.nodeSide+"[0]");var f=_.find(a.associations[a.element.recordDefinitionName].data,function(a){return a.value.recordDefinitionName===b.value.recordDefinitionName});f&&(d[b.value.recordDefinitionName]={data:f.children});var g=C({recordDefinitions:a.recordDefinitions,element:{recordDefinitionName:b.value.recordDefinitionName,guid:a.element.guid,label:a.element.label},groupPrefix:a.groupPrefix,legendType:a.legendType,associations:d,association:b,parentAssociation:e});c.push({label:i(b.value.nodeName),type:a.legendType.type,icon:a.legendType.icon,children:g.children,value:"${"+a.groupPrefix+"."+a.element.guid+e+"._associations."+b.value.associationDefintionGuid+"."+b.value.nodeSide+"[0]}"})}),c},E=function(a){return C(_.assign(a,{groupPrefix:"activityResults",legendType:l.activityOutput}))},F=function(){var c=_.filter(p,function(a){return a.resourceType==b.processElementResourceTypes.userTask&&a.recordDefinitionName}),e=_.map(c,function(a){return d.getRecordDefinition(a.recordDefinitionName)});return a.all(e).then(function(a){return _.map(c,function(b){return E({recordDefinitions:a,element:b})})})},G=function(){var b=_([]).concat(h.outputParams,h.inputParams,h.localVariables||[]).filter(function(a){return a.resourceType===c.dataTypes.recordInstance.resourceType&&a.recordDefinitionName;
}).map(function(a){return{label:a.name,guid:a.name,recordDefinitionName:a.recordDefinitionName.replace(/^\"|\"$/g,"")}}).value(),e={},f=_.pluck(b,"recordDefinitionName");return e.recordDefinitions=d.getRecordDefinitions(f),e.associations=d.getRecordAssociationsTree(f),a.all(e).then(function(c){var e=_.keys(c.associations);if(e.length){var f=function(a){return _(a).values().transform(function(a,b){b.value&&a.push(b.value),(b.data||b.children)&&a.push(f(b.data||b.children))}).flatten().value()},g=_(f(c.associations)).pluck("recordDefinitionName").uniq().value();return a.when(d.getRecordDefinitions(g)).then(function(a){var d=c.recordDefinitions;return a&&(d=_.union(d,a)),_.map(b,function(a){var b=C({recordDefinitions:d,element:a,groupPrefix:"processContext",legendType:l.processInput,associations:c.associations});return b.value="${processContext."+a.guid+"}",b})})}return _.map(b,function(a){var b=C({recordDefinitions:c.recordDefinitions,element:a,groupPrefix:"processContext",legendType:l.processInput});return b.value="${processContext."+a.guid+"}",b})})},H=function(){var c=_.filter(p,function(a){return a.resourceType===b.processElementResourceTypes.processAction&&_.includes(["createRecord","getRecord","getRecordsByQuery"],a.actionTypeName)&&_.find(a.inputMap,{assignTarget:"recordDefinitionName"})}),e=_(c).pluck("inputMap").flatten().filter({assignTarget:"recordDefinitionName"}).pluck("expression").map(function(a){return d.getRecordDefinition(a.replace(/^\"|\"$/g,""))}).value();return a.all(e).then(function(a){return _.map(c,function(b){var c=a,d=_(b.inputMap).filter({assignTarget:"recordDefinitionName"}).pluck("expression").value()[0].replace(/^\"|\"$/g,""),e=_(b.inputMap).filter({assignTarget:"fieldIDs"}).pluck("expression").value();if("getRecordsByQuery"===b.actionTypeName&&e.length){var f=_(e).replace(/^\"|\"$/g,"").split(",");c=_(a).filter({name:d}).cloneDeep(),c[0].fieldDefinitions=_(c[0].fieldDefinitions).filter(function(a){return _.includes(f,String(a.id))})}return E({recordDefinitions:c,element:{guid:b.guid,label:b.label,recordDefinitionName:d},actionOutputPrefix:"getRecordsByQuery"===b.actionTypeName?".output[0]":".output"})})})},I={callActivities:B(),userTasks:F(),recordActions:H(),recordInstanceProcessParams:G()};return a.all(I).then(function(a){return A.children=A.children.concat(r,t,a.callActivities,a.userTasks,a.recordActions).sort(n),y.children=_(y.children).concat(a.recordInstanceProcessParams,x,v,u,w,_(s).pluck("children").flatten().value()).uniq().sort(n).value(),y.children.length&&(y.children=m(y.children),o.push(y)),o.push(z),A.children.length&&o.push(A),o})};return{clear:j,getCommonDataDictionary:k,getLegend:n}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessDesignerCache",["$q","RX_PROCESS_DESIGNER","rxDesignerCache","rxProcessElementSearch",function(a,b,c,d){function e(b){_.isArray(b)||(b=[b]),b=_.compact(b);var f=_(b).map(function(a){return _.pluck(d.filter(a,"calledProcessDefinitionName"),"calledProcessDefinitionName")}).flatten().unique().value();return f.length?c.getProcessDefinitions(f).then(function(a){return e(a)}):a.when()}function f(a){return i.processClones[a]}function g(a,b){i.processClones[a]=b}function h(){i={processClones:{}}}var i={processClones:{}};return{clear:h,getProcessClone:f,setProcessClone:g,loadFlowElementDependencies:e}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessDesignerConfiguration",["$q","i18n","rxProcessDesignerElementManager","rxDesignerUserPreferences","rxDesignerCache","rxBundleCache","actionTypeNameFilter","bundlePathFilter","serviceNameFilter","RX_PROCESS_DESIGNER",function(a,b,c,d,e,f,g,h,i,j){var k=[{group:"Annotations",resourceType:j.processElementResourceTypes.textAnnotation,"default":!0,favorite:!1,timestamp:null},{group:"Events",resourceType:j.processElementResourceTypes.startEvent,"default":!0,favorite:!1,timestamp:null},{group:"Events",resourceType:j.processElementResourceTypes.endEvent,"default":!0,favorite:!1,timestamp:null},{group:"Events",resourceType:j.processElementResourceTypes.timerEvent,"default":!0,favorite:!1,timestamp:null},{group:"Activities",resourceType:j.processElementResourceTypes.callActivity,"default":!0,favorite:!1,timestamp:null},{group:"Activities",resourceType:j.processElementResourceTypes.receiveTask,"default":!0,favorite:!1,timestamp:null},{group:"Activities",resourceType:j.processElementResourceTypes.subProcess,"default":!0,favorite:!1,timestamp:null},{group:"Activities",resourceType:j.processElementResourceTypes.userTask,"default":!0,favorite:!1,timestamp:null},{group:"Gateways",resourceType:j.processElementResourceTypes.parallelGateway,"default":!0,favorite:!1,timestamp:null},{group:"Gateways",resourceType:j.processElementResourceTypes.exclusiveGateway,"default":!0,favorite:!1,timestamp:null}],l=d.getInstance(j.userPreferences.componentId,j.userPreferences.version,{stencilSettings:k}),m=function(a,b,c){var d=null;d=b.calledProcessDefinitionName?_.find(a,function(a){return a.calledProcessDefinitionName==b.calledProcessDefinitionName}):b.actionTypeName?_.find(a,function(a){return a.actionTypeName==b.actionTypeName}):_.find(a,{resourceType:b.resourceType}),d[c]=b[c]},n=function(a){return"Activities"===a?1:"Annotations"===a?2:"Events"===a?3:"Gateways"===a?4:void 0};return{updateStencilConfiguration:function(b){return a.all({stencilSettings:l.getStencilSettings(),bundleDependencies:f.getBundleDependencies()}).then(function(a){var c=a.stencilSettings,d=_.remove(c,{resourceType:j.processElementResourceTypes.processAction}),e="com.bmc.arsys.rx.approval",g="com.bmc.arsys.rx.assignment",h=f.getBundleId(),k=_.remove(c,function(a){return _.include(j.approvalElementResourceTypes,a.resourceType)||_.include(j.assignmentElementResourceTypes,a.resourceType)});return _.forEach(b,function(a){var b=_.find(d,{resourceType:j.processElementResourceTypes.processAction,actionTypeName:a.actionTypeName})||{};c.push({group:i(a.serviceName),resourceType:j.processElementResourceTypes.processAction,actionTypeName:a.actionTypeName,"default":!_.isBoolean(b["default"])||b["default"],favorite:!!_.isBoolean(b.favorite)&&b.favorite,timestamp:b.timestamp||null})}),(h===e||_.find(a.bundleDependencies,{id:e}))&&_.forEach(j.approvalElementResourceTypes,function(a){var b=_.find(k,{resourceType:j.processElementResourceTypes.callActivity,calledProcessDefinitionName:a})||{};c.push({group:"Approvals",resourceType:a,"default":!_.isBoolean(b["default"])||b["default"],favorite:!!_.isBoolean(b.favorite)&&b.favorite,timestamp:b.timestamp||null})}),(h===g||_.find(a.bundleDependencies,{id:g}))&&_.forEach(j.assignmentElementResourceTypes,function(a){var b=_.find(k,{resourceType:j.processElementResourceTypes.callActivity,calledProcessDefinitionName:a})||{};c.push({group:"Assignment",resourceType:a,"default":!_.isBoolean(b["default"])||b["default"],favorite:!!_.isBoolean(b.favorite)&&b.favorite,timestamp:b.timestamp||null})}),_.find(c,{resourceType:j.processElementResourceTypes.timerEvent})||c.push({group:"Events",resourceType:j.processElementResourceTypes.timerEvent,"default":!0,favorite:!1,timestamp:null}),l.setStencilSettings(c),c})},get:function(a,b){var c=this;return l.getStencilSettings().then(function(d){return"recent"===a&&(a="timestamp"),d=_.filter(d,a),c._buildGroupsAndShapes(d,b)})},addToRecent:function(a){l.getStencilSettings().then(function(b){var c=null;c=a.calledProcessDefinitionName?_.find(b,{calledProcessDefinitionName:a.calledProcessDefinitionName}):a.actionTypeName?_.find(b,{actionTypeName:a.actionTypeName}):_.find(b,{resourceType:a.resourceType}),c&&(c.timestamp=_.now());var d=_.filter(b,"timestamp");if(d.length>20){var e=_.min(d,"timestamp");e.timestamp=null}l.setStencilSettings(b)})},removeRecents:function(){l.getStencilSettings().then(function(a){_.forEach(a,function(a){a.timestamp=null}),l.setStencilSettings(a)})},getSettings:function(){return l.getStencilSettings().then(function(a){return _(a).groupBy("group").map(function(a,c){return a=_(a).each(function(a){a.actionTypeName?a.label=g(a.actionTypeName):a.calledProcessDefinitionName?a.label=g(a.calledProcessDefinitionName):a.label=b(a.resourceType)}).sortBy("label").value(),{label:c,children:a}}).sortBy("label").sortBy(function(a){return n(a.label)}).value()})},setField:function(a,b){l.getStencilSettings().then(function(c){m(c,a,b),l.setStencilSettings(c)})},setGroup:function(a,b){l.getStencilSettings().then(function(c){_.forEach(a,function(a){m(c,a,b)}),l.setStencilSettings(c)})},_buildGroupsAndShapes:function(a,b){var d={},e={};return _(a).pluck("group").uniq().sortBy().sortBy(n).forEach(function(f,h){d[f]={label:f,index:h},e[f]=_(a).filter({group:f}).sortBy(function(a){return a.actionTypeName?g(a.actionTypeName):null}).map(function(a){var d=null;return a.actionTypeName&&(d=_.find(b,{actionTypeName:a.actionTypeName})),c.getShape(a.resourceType,d)}).value()}).value(),{groups:d,shapes:e}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").factory("rxProcessDesignerElementManager",["$q","rxId","rxProcessElementSearch","RX_PROCESS_DESIGNER","rxProcessDefinitionElement","rxStartEventElement","rxEndEventElement","rxUserTaskElement","rxCallActivityElement","rxProcessActionElement","rxParallelGatewayElement","rxExclusiveGatewayElement","rxSequenceFlowElement","rxTextAnnotationElement","rxTextAnnotationAssociationElement","rxSubProcessElement","rxReceiveTaskElement","rxApprovalProcessElement","rxWaitForApprovalReviewElement","rxTimerEventElement","rxAssignmentProcessElement","rxARApprovalProcessElement",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){function w(a){function c(a){return _([]).concat(a.artifacts,a.flowElements).forEach(function(f){var g=new RegExp('("id":"|"parent":")('+b.getBase(f.guid)+')"',"g");e[f.guid]=e[f.guid]||b.generate(),f.originalGuid=f.guid,f.guid=e[f.guid],delete f.lastUpdateTime,delete f.lastChangedBy,delete f.owner,a.layout&&(a.layout=a.layout.replace(g,"$1"+b.getBase(f.guid)+'"')),f.attachedToNode&&(e[f.attachedToNode]=e[f.attachedToNode]||b.generate(),f.attachedToNode=e[f.attachedToNode]),f.sourceNode&&(e[f.sourceNode]=e[f.sourceNode]||b.generate(),e[f.targetNode]=e[f.targetNode]||b.generate(),f.sourceNode=e[f.sourceNode],f.targetNode=e[f.targetNode]),f.resourceType==d.processElementResourceTypes.subProcess&&c(f)}).value(),a}var e={};_([]).concat(a.inputParams,a.outputParams).forEach(function(a){delete a.lastUpdateTime,delete a.lastChangedBy,delete a.owner}).value();var f=JSON.stringify(c(a));return _.each(e,function(a,b){var c=new RegExp("(activityResults\\.)("+b+")([\\.\\}]+)","g");f=f.replace(c,"$1"+a+"$3")}),JSON.parse(f)}function x(a,c){var d=b.get(c),e=_.remove(a.flowElements,{guid:d})[0];return e||(e=_.remove(a.artifacts,{guid:d})[0]),e}var y={};return y[d.processElementResourceTypes.startEvent]=f,y[d.processElementResourceTypes.endEvent]=g,y[d.processElementResourceTypes.userTask]=h,y[d.processElementResourceTypes.callActivity]=i,y[d.processElementResourceTypes.processAction]=j,y[d.processElementResourceTypes.subProcess]=p,y[d.processElementResourceTypes.parallelGateway]=k,y[d.processElementResourceTypes.exclusiveGateway]=l,y[d.processElementResourceTypes.sequenceFlow]=m,y[d.processElementResourceTypes.receiveTask]=q,y[d.processElementResourceTypes.textAnnotation]=n,y[d.processElementResourceTypes.textAnnotationAssociation]=o,y[d.processElementResourceTypes.timerEvent]=t,y[d.approvalElementResourceTypes.approvalProcess]=r,y[d.approvalElementResourceTypes.waitForApprovalReview]=s,y[d.approvalElementResourceTypes.arApprovalPorcess]=v,y[d.assignmentElementResourceTypes.assignmentProcess]=u,{getShape:function(a){var b=y[a];return b.getShape.apply(b,_.drop(arguments))},setActionTypes:function(a){j.setActionTypes(a)},getProcessModel:function(a){return e.getModel(a)},registerValidators:function(a){_.each(y,function(b){_.isFunction(b.registerValidators)&&b.registerValidators(a)})},removeElementByGuid:function(a,b){var d,e=c.findOwner(a,b);return e&&(d=x(e,b)),d},validateProcess:function(b){var c=a.defer(),d=this,f=_([]).concat(b.flowElements||[],b.artifacts||[]).map(function(a){return d.validateElement(a,b)}).value();return f.push(e.validate(b)),a.all(f).then(function(a){c.resolve(_.compact(_.flatten(a)))}),c.promise},validateElement:function(a,b){var e=y[a.resourceType];if(a.calledProcessDefinitionName===d.approvalElementResourceTypes.approvalProcess&&(e=y[d.approvalElementResourceTypes.approvalProcess]),a.calledProcessDefinitionName===d.approvalElementResourceTypes.waitForApprovalReview&&(e=y[d.approvalElementResourceTypes.waitForApprovalReview]),_.isFunction(e.validate)){var f=c.findOwner(b,a.guid);return e.validate(a,f)}},getGraph:function(a,e){var f=angular.fromJson(a.layout)||{cells:[]};return e=e||{},f.cells.forEach(function(g){var h=c.findByGuid(a,b.get(g.id)),i=y[h.resourceType];if(_.includes(["rx.ReceiveTask","rx.UserTask"],g.type)){var j=_.filter(f.cells,{parent:g.id});j&&j.length&&(g.embeds=j)}"rx.ApprovalProcess"===g.type&&(i=y[d.approvalElementResourceTypes.approvalProcess]),"rx.WaitForApprovalReview"===g.type&&(i=y[d.approvalElementResourceTypes.waitForApprovalReview]),"rx.AssignmentProcess"===g.type&&(i=y[d.assignmentElementResourceTypes.assignmentProcess]),"rx.ARApprovalProcess"===g.type&&(i=y[d.approvalElementResourceTypes.arApprovalPorcess]),e.ownerProcessDefinitionName?g.ownerProcessDefinitionName=e.ownerProcessDefinitionName:g.ownerProcessDefinitionName=a.lastUpdateTime?a.name:a.guid,_.extend(g,i.getRxConfig(h,a,e))}),f},fillLabels:function(a,d){a.layout&&c.each(a,function(a){var c=d.getCell(b.getBase(a.guid));c&&c.labelPath&&(a.label=c.prop(c.labelPath))})},cloneProcessDefinition:function(a){var c=_.cloneDeep(a);return c.id=b.generate(),w(c)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.instance").factory("rxProcessInstanceCommands",["rxCommandResource",function(a){var b=a.withType("com.bmc.arsys.rx.application.process.command.StartProcessInstanceCommand"),c=a.withType("com.bmc.arsys.rx.application.process.command.SuspendProcessInstanceCommand"),d=a.withType("com.bmc.arsys.rx.application.process.command.ActivateProcessInstanceCommand"),e=a.withType("com.bmc.arsys.rx.application.process.command.CancelProcessInstanceCommand");return{start:function(a,c){return rx.assert.assertStringWithLength(a),rx.assert.assertObject(c),b.execute({processDefinitionName:a,processInputValues:c})},suspend:function(a,b){return rx.assert.assertStringWithLength(a),rx.assert.assertStringWithLength(b),c.execute({processDefinitionName:a,processInstanceId:b})},resume:function(a,b){return rx.assert.assertStringWithLength(a),rx.assert.assertStringWithLength(b),d.execute({processDefinitionName:a,processInstanceId:b})},cancel:function(a,b,c){return rx.assert.assertStringWithLength(a),rx.assert.assertStringWithLength(b),e.execute({processDefinitionName:a,processInstanceId:b,cancelReason:c||null})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.management").factory("rxProcessInstanceGridFilter",function(){return{generateTextFilterQuery:function(a,b){if(a)return"('instanceId' LIKE \"%"+a.replace(/(\")/g,'""')+'%")'}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.management").factory("rxProcessManagementUtils",function(){function a(a){return!_.includes(["$LASTHOUR$","$LASTDAY$","$LASTWEEK$","$LASTMONTH$","$LASTTHREEMONTHS$"],a)}return{isCustomTimeFrame:a}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").factory("rxRecordDefinitionUtils",["RX_RECORD_DEFINITION",function(a){function b(b){return _.reduce(b.fieldDefinitions,function(b,c){return c.resourceType===a.dataTypes.selection.resourceType&&(c.optionsById=_.reduce(c.optionNamesById,function(a,b,c){return a[c]={id:c,label:b},a},{})),b[c.id]=c,b},{})}return{buildFieldDefinitionsByIdMap:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxJoinRecordDefinitionDataDictionary",["$q",function(a){function b(){_.assign(d,{joinRecordDefinition:{},currentDataDictionary:{}})}function c(b,c){return angular.equals(b,d.joinRecordDefinition)?a.when(d.currentDataDictionary):(d.joinRecordDefinition=angular.copy(b),f(b,c).then(function(a){return d.currentDataDictionary=a,d.currentDataDictionary}))}var d={},e={fields:{label:"Field Name",type:"Field Name",icon:"d-icon-arrow_right_square_input"}},f=function(a,b){return b.getDataDictionary(a,e)},g=function(){return _.values(e)};return{clear:b,getCommonDataDictionary:c,getLegend:g}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxAttachmentFieldDefinition",["$q","RX_RECORD_DEFINITION","RX_DEFINITION_PICKER","rxFieldDefinition","rxFieldDefinitionModel",function(a,b,c,d,e){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.AttachmentFieldDefinition=e.extend({defaults:{type:"rx.AttachmentFieldDefinition",icon:"field_attachment"},getRxData:function(a){var b=joint.shapes.rx.AttachmentFieldDefinition.__super__.getRxData.call(this,a);return delete b.defaultValue,b.maxSize=b.maxSize||null,b},getRxInspector:function(a){var b=d.isReadOnly(a);return joint.shapes.rx.AttachmentFieldDefinition.__super__.getRxInspector.call(this,a,{maxSize:{label:"Max File Size",type:"number",group:"details",attrs:{input:{readonly:b}}},searchable:{label:"Enable Full Text Search",type:"toggle",group:"details",attrs:{input:{readonly:b}}}})},persist:function(a){joint.shapes.rx.AttachmentFieldDefinition.__super__.persist.call(this,a);var b=_.find(a.fieldDefinitions,{id:this.get("id")});b&&(b.searchable=b.searchable||!1,b.maxSize=b.maxSize||1e6)}}),{getModel:function(a){return new joint.shapes.rx.AttachmentFieldDefinition(a)},getNewFieldDefinition:function(a){return d.getNewFieldDefinition(_.assign({resourceType:b.dataTypes.attachment.resourceType},a))},validate:function(a){return d.validate(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxBooleanFieldDefinition",["rxFieldDefinition","rxFieldDefinitionModel","RX_RECORD_DEFINITION",function(a,b,c){var d=c.dataTypes["boolean"].resourceType;return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.BooleanFieldDefinition=b.extend({defaults:{type:"rx.BooleanFieldDefinition"},getRxInspector:function(b){return joint.shapes.rx.BooleanFieldDefinition.__super__.getRxInspector.call(this,b,{defaultValue:{label:"Default Value",type:"rx-inspector-boolean-field",trueValue:"1",falseValue:"0",group:"details",attrs:{select:{disabled:a.isReadOnly(b)||!a.isPropertiesCustomizationEnabled(b)}}}})}}),{getModel:function(a){return new joint.shapes.rx.BooleanFieldDefinition(a)},getNewFieldDefinition:function(b){return a.getNewFieldDefinition(_.assign({resourceType:d},b))},validate:function(b){return a.validate(b)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxCharacterFieldDefinition",["$q","RX_RECORD_DEFINITION","RX_DEFINITION_PICKER","rxFieldDefinition","rxFieldDefinitionModel","definitionNameFilter","rxDesignerCache",function(a,b,c,d,e,f,g){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.CharacterFieldDefinition=e.extend({defaults:{type:"rx.CharacterFieldDefinition",icon:"field_text"},initialize:function(a){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData)},_onChangeRxData:function(a,c,d){this._parent._onChangeRxData.apply(this,arguments),"rxData/customId"===d.propertyPath&&_.includes(b.AR_PASSWORD_FIELD_IDS,d.propertyValue)&&this.prop("rxData/namedListDefinition",null)},getRxData:function(a){var b=joint.shapes.rx.CharacterFieldDefinition.__super__.getRxData.call(this,a);return b.maxLength=b.maxLength||null,b},getRxInspector:function(a){var e=d.isReadOnly(a),f=!d.isPropertiesCustomizationEnabled(a),g=d.isJoinFormField(a),h={and:_(b.AR_PASSWORD_FIELD_IDS).map(function(a){return[{ne:{"rxData/id":a}},{ne:{"rxData/customId":a}}]}).flatten().value()};return joint.shapes.rx.CharacterFieldDefinition.__super__.getRxInspector.call(this,a,{shouldPersistEncrypted:{label:"Encrypted",type:"toggle",group:"details",attrs:{input:{readonly:e||f||g}}},namedListDefinition:{label:"Named List",type:"rx-inspector-definition-picker",definitionType:c.definitionTypes.namedList.type,group:"details",options:[],attrs:{input:{readonly:e||f||g}},when:h},maxLength:{label:"Length",type:"number",group:"details",attrs:{input:{readonly:e||_.includes(b.AR_CORE_FIELD_IDS,a.id)||f||g}}},defaultValue:{label:"Default Value",type:"text",group:"details",attrs:{input:{readonly:e||f||g}}},searchDefinition:{label:"Enable Full Text Search",type:"toggle",group:"details",attrs:{input:{readonly:e||f}}}})},persist:function(a){joint.shapes.rx.CharacterFieldDefinition.__super__.persist.call(this,a);var b=_.find(a.fieldDefinitions,{id:this.get("id")});b&&(b.shouldPersistEncrypted=b.shouldPersistEncrypted||!1,b.maxLength=b.maxLength||0,b.namedListDefinition=b.namedListDefinition||null,b.searchDefinition=b.searchDefinition?{stripTagsForSearch:!1,enableLiteralSearch:!1,searchCategoryName:null}:null)},updateInspectorConfig:function(){var b=a.defer(),c=this;return this.prop("rxInspector/inputs/rxData/namedListDefinition/options").length?b.resolve():g.getNamedListDefinitionNameDataPage().then(function(a){a=_.map(_.clone(a),function(a){return{value:a,content:f(a)}}),a.unshift({value:"",content:""}),c.prop("rxInspector/inputs/rxData/namedListDefinition/options",a,{ignoreCommandManager:!0,silent:!0}),b.resolve()}),b.promise}}),{getModel:function(a){return new joint.shapes.rx.CharacterFieldDefinition(a)},getNewFieldDefinition:function(a){return d.getNewFieldDefinition(_.assign({resourceType:b.dataTypes.character.resourceType,maxLength:254},a))},validate:function(a){return d.validate(a).then(function(b){return(!_.isFinite(a.maxLength)||a.maxLength<0)&&b.push({elementId:a.id,elementName:a.name,propertyName:"maxLength",type:"error",message:"Length must be a valid number greater than 0, or blank."}),b})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxDateOnlyFieldDefinition",["RX_RECORD_DEFINITION","rxFieldDefinition","rxFieldDefinitionModel",function(a,b,c){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.DateOnlyFieldDefinition=c.extend({defaults:{type:"rx.DateOnlyFieldDefinition",icon:"calendar"},getRxInspector:function(a){var c=b.isReadOnly(a);return joint.shapes.rx.DateOnlyFieldDefinition.__super__.getRxInspector.call(this,a,{defaultValue:{label:"Default Value",type:"rx-inspector-datepicker",group:"details",attrs:{input:{readonly:c},button:{disabled:c}}}})}}),{getModel:function(a){return new joint.shapes.rx.DateOnlyFieldDefinition(a)},getNewFieldDefinition:function(c){return b.getNewFieldDefinition(_.assign({resourceType:a.dataTypes.dateOnly.resourceType},c))},validate:function(a){return b.validate(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxDateTimeFieldDefinition",["RX_RECORD_DEFINITION","rxFieldDefinition","rxFieldDefinitionModel",function(a,b,c){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.DateTimeFieldDefinition=c.extend({defaults:{type:"rx.DateTimeFieldDefinition",icon:"calendar_clock_o"},getRxInspector:function(a){var c=b.isReadOnly(a),d=!b.isPropertiesCustomizationEnabled(a);return joint.shapes.rx.DateTimeFieldDefinition.__super__.getRxInspector.call(this,a,{defaultValue:{label:"Default Value",type:"rx-inspector-datetimepicker",group:"details",attrs:{input:{readonly:c||d},button:{disabled:c||d},timepicker:{disabled:c||d}}}})}}),{getModel:function(a){return new joint.shapes.rx.DateTimeFieldDefinition(a)},getNewFieldDefinition:function(c){return b.getNewFieldDefinition(_.assign({resourceType:a.dataTypes.dateTime.resourceType},c))},validate:function(a){return b.validate(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxDecimalFieldDefinition",["$q","RX_RECORD_DEFINITION","rxFieldDefinition","rxFieldDefinitionModel",function(a,b,c,d){var e=1e26,f=-1e26;return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.DecimalFieldDefinition=d.extend({defaults:{type:"rx.DecimalFieldDefinition",icon:"field_integer_number"},getRxInspector:function(a){var b=c.isReadOnly(a);return joint.shapes.rx.DecimalFieldDefinition.__super__.getRxInspector.call(this,a,{precision:{label:"Precision",type:"rx-inspector-number-input",group:"details",attrs:{label:{"class":"required"},input:{readonly:b,min:1,max:9}}},minValue:{label:"Minimum Value",type:"rx-inspector-number-input",step:"any",group:"details",attrs:{label:{"class":"required"},input:{readonly:b,min:f,max:e}}},maxValue:{label:"Maximum Value",type:"rx-inspector-number-input",step:"any",group:"details",attrs:{label:{"class":"required"},input:{readonly:b,min:f,max:e}}},defaultValue:{label:"Default Value",type:"rx-inspector-number-input",step:"any",group:"details",attrs:{input:{readonly:b,min:f,max:e}}}})}}),{getModel:function(a){return new joint.shapes.rx.DecimalFieldDefinition(a)},getNewFieldDefinition:function(a){return c.getNewFieldDefinition(_.assign({resourceType:b.dataTypes.decimal.resourceType,precision:2,minValue:f,maxValue:e},a))},validate:function(a){return c.validate(a).then(function(b){var c=a.name;return _.isFinite(a.minValue)||b.push({elementId:a.id,elementName:c,propertyName:"minValue",type:"error",message:"Minimum Value cannot be blank."}),_.isFinite(a.maxValue)||b.push({elementId:a.id,elementName:c,propertyName:"maxValue",type:"error",message:"Maximum Value cannot be blank."}),a.precision>0&&a.precision<10||b.push({elementId:a.id,elementName:a.name,propertyName:"precision",type:"error",message:"Precision must be a valid number between 1 and 9."}),b})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxJoinRecordDefinitionModel",["$q","$filter","rxOverlay","rxDesignerCache","rxRecordDefinitionModel","rxRecordDefinitionResource","rxExpressionConfigurationInterface","rxDefaultExpressionConfigurator","RX_DESIGNER","RX_OVERLAY","RX_EXPRESSION_EDITOR","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a,c,d){var e=b("definitionName")(c.name);return{label:[e,a.label].join(" "),children:_(c.fieldDefinitions).map(function(b){if(b.resourceType!==l.dataTypes.attachment.resourceType)return{label:[e,b.name].join("."),type:d.fields.type,icon:d.fields.icon,value:["${",e,".",a.type,".",b.name,"}"].join("")}}).compact().sortBy("label").value()}}function n(a,b,c){var d=new RegExp("\\${"+b+"\\."+l.sourceTypes.primary+"\\.([^}]+)}","g"),e=new RegExp("\\${"+c+"\\."+l.sourceTypes.secondary+"\\.([^}]+)}","g");return(a||"").replace(d,"#$1#").replace(/#/g,"$").replace(e,"'$1'")}function o(a,b,c){var d=new RegExp("\\$([^$]+)\\$","g"),e=new RegExp("'([^']+)'","g");return(a||"").replace(d,"${"+b+"."+l.sourceTypes.primary+".$1}").replace(e,"${"+c+"."+l.sourceTypes.secondary+".$1}")}return e.extend({defaults:{type:l.recordDefinitionTypes.join.recordDefinitionType},initialize:function(){this.constructor.__super__.initialize.apply(this,arguments),this._expressionConfigurator=new h(this),this._expressionConfigurator.setDefaultDictionaryConfig({operators:_.cloneDeep(k.operators.all)})},persist:function(a){this.constructor.__super__.persist.apply(this,arguments);var b=this.getRxData(a),c=this.prop("rxData/joinCriteria");a.joinCriteria=n(c,b.primaryRecord,b.secondaryRecord)},getExpressionConfigurator:function(){return this._expressionConfigurator},getRecordDefinitionFields:function(b){var c=a.defer(),e=l.sourceTypes[b];return d.getRecordDefinition(this.prop("rxData/"+b+"RecordDefinitionName")).then(function(a){var b=_.cloneDeep((a||{}).fieldDefinitions||[]);_.each(b,function(a){a.fieldMapping={resourceType:l.joinFieldMapping,sourceFieldId:a.id,source:e}}),c.resolve(b)})["catch"](function(){c.reject()}),c.promise},getRecordDefinitionSecurityLabels:function(b){var c=a.defer(),e=l.sourceTypes[b];return d.getRecordDefinition(this.prop("rxData/"+b+"RecordDefinitionName")).then(function(a){var b=_.cloneDeep((a||{}).securityLabels||[]);_.each(b,function(a){a.securityLabelMapping={resourceType:l.joinSecurityLabelMapping,sourceId:a.id,source:e}}),c.resolve(b)})["catch"](function(){c.reject()}),c.promise},getRecordDefinitionLabel:function(a){return b("definitionName")(this.prop("rxData/"+l.sourceTypesInvertedMap[a]+"RecordDefinitionName"))},getDataDictionary:function(b,c){var e=[{label:"(Primary)",type:l.sourceTypes.primary,name:b.primaryRecordDefinitionName},{label:"(Secondary)",type:l.sourceTypes.secondary,name:b.secondaryRecordDefinitionName}];return a.all(e.map(function(a){return d.getRecordDefinition(a.name).then(function(b){return m(a,b||{},c)})}))},getRxData:function(a){var c=this.constructor.__super__.getRxData.apply(this,arguments);return c.primaryRecordDefinitionName=a.primaryRecordDefinitionName,c.secondaryRecordDefinitionName=a.secondaryRecordDefinitionName,c.primaryRecord=b("definitionName")(a.primaryRecordDefinitionName),c.secondaryRecord=b("definitionName")(a.secondaryRecordDefinitionName),c.joinType=b("recordDefinitionJoinType")(a.joinType),c.joinCriteria=this.prop("rxData/joinCriteria")||a.joinCriteria,a.lastUpdateTime&&(c.joinCriteria=o(c.joinCriteria,c.primaryRecord,c.secondaryRecord)),c},getRxInspector:function(a){var b=_.omit(a,"fieldDefinitions"),d=_.find(_.values(l.joinTypes),{value:a.joinType})||{},e=!b.lastUpdateTime,g=!0,h=!0,k=!0,m=!1;if(!e){var n=c.getOverlayOperation(a.overlayGroupId,a.overlayDescriptor?a.overlayDescriptor.parentOverlayGroupId:null);m=n!==j.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP,h=this._isCustomizationAllowed("allowOtherPropertiesOverlay",a),k=this._isCustomizationAllowed("allowPermissionsOverlay",a)}return{inputs:{rxData:{name:{label:"Name",type:"text",group:"general",attrs:{label:{"class":"required"},input:{readonly:!e,maxlength:254}}},description:{label:"Description",type:"textarea",group:"general",attrs:{textarea:{disabled:!h}}},primaryRecord:{label:"Primary Record",type:"text",group:"general",attrs:{label:{"class":"required"},input:{disabled:!0}}},secondaryRecord:{label:"Secondary Record",type:"text",group:"general",attrs:{label:{"class":"required"},input:{disabled:!0}}},joinType:{label:"Join Type",type:"select",group:"general",options:[{value:d.value,content:d.displayName}],attrs:{label:{"class":"required"},select:{disabled:!0}}},joinCriteria:{label:"ON Statement",type:"rx-inspector-expression-node-field",group:"general"},overlayDescriptor:{label:"",type:"rx-customization-perspective",group:"general",customizationOptionsDirective:"rx-record-customization-options",definitionName:a.name,revertPrompt:"Are you sure you want to revert customization for selected record definition?",revertCommand:f.revertCustomization,revertCompleteEventName:i.events.refreshDesigner},owner:{label:"Owner",type:"text",group:"general",when:{ne:{"rxData/lastUpdateTime":void 0}},attrs:{input:{disabled:g}}},lastUpdateTime:{label:"Modified Date",type:"text",group:"general",when:{ne:{"rxData/lastUpdateTime":void 0}},attrs:{input:{disabled:g}}},lastChangedBy:{label:"Modified By",type:"text",group:"general",when:{ne:{"rxData/lastUpdateTime":void 0}},attrs:{input:{disabled:g}}},permissions:{label:"Permissions",type:"rx-permission-editor",group:"general",isReadOnly:!k},shouldExportData:m?{}:{label:"Should Export Data",type:"rx-inspector-toggle-field",group:"general",tooltip:"Select this option to automatically export the record data when the application or library is packaged for deployment.",attrs:{toggle:{disabled:!h}}},searchTitleField:{label:"Global Search Title Field",type:"rx-search-title-editor",tooltip:"Save the Record Definition to obtain a complete list of available fields.",
group:"general",attrs:{select:{disabled:!h}}},securityLabels:{type:"rx-inspector-join-definition-security-label-editor",group:"securityLabels",isReadOnly:!h}}},groups:{general:{label:"General",index:1},securityLabels:{label:"Security Labels",index:2}}}}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxRecordDefinitionModel",["$q","$filter","rxOverlay","rxBundleCache","rxDesignerCache","rxString","rxFieldDefinitionManager","rxFieldDefinitionModel","rxRecordDefinitionResource","RX_DESIGNER","RX_OVERLAY","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h,i,j,k,l){return h.extend({defaults:{type:l.recordDefinitionTypes.regular.recordDefinitionType},persist:function(a){var c=this.get("rxData");if(!a.lastUpdateTime){var e=d.getBundleId(),f=e?e+":":"";a.name=f+b("definitionName")(c.name,"encode")}_.assign(a,_.pick(c,["allowNonAdminToDeleteRecordInstances","description","indexDefinitions","inheritanceDescriptor","isAbstract","isFinal","isSharedInstanceStorage","overlayDescriptor","permissions","securityLabels","shouldExportData","weightedRelevancyFields"]))},_onPermissionsChanged:function(a){var b=angular.copy(this.get("rxData"));b.lastUpdateTime&&a.permissions?(b.permissions=a.permissions,b.overlayDescriptor||(b.overlayDescriptor={}),b.overlayDescriptor.permissionsOverlayType=a.permissionsOverlayType):b.permissions=a,this.set("rxData",b)},_isCustomizationAllowed:function(a,b){return c.isCustomizationEnabled(a,b)},getRxData:function(a){var c=_.cloneDeep(_.pick(a,["name","description","owner","lastUpdateTime","lastChangedBy","permissions","overlayDescriptor","overlayGroupId","inheritanceDescriptor","isAbstract","isFinal","isSharedInstanceStorage","shouldExportData","weightedRelevancyFields","securityLabels","indexDefinitions","fieldDefinitions","allowPermissionsOverlay","allowOtherPropertiesOverlay","allowIndexesOverlay","allowFieldsOverlay","allowNonAdminToDeleteRecordInstances","resourceType"]));return c.name=b("definitionName")(c.name,"decode"),c.lastUpdateTime=b("date")(c.lastUpdateTime,"medium"),c},updateInspectorConfig:function(a){var b=this.get("rxData").fieldDefinitions;angular.equals(b,a)||this.prop("rxData/fieldDefinitions",a,{ignoreCommandManager:!0,silent:!0}),this.trigger("rx:change:inputs",this)},getRxInspector:function(a){var b=_.omit(a,"fieldDefinitions"),d=!b.lastUpdateTime,e=!0,f=!0,g=!0,h=!0,l=!1;if(!d){var m=c.getOverlayOperation(a.overlayGroupId,a.overlayDescriptor?a.overlayDescriptor.parentOverlayGroupId:null);l=m!==k.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP,f=this._isCustomizationAllowed("allowOtherPropertiesOverlay",a),g=this._isCustomizationAllowed("allowPermissionsOverlay",a),h=this._isCustomizationAllowed("allowIndexesOverlay",a)}return{inputs:{rxData:{name:{label:"Name",type:"text",group:"general",attrs:{label:{"class":"required"},input:{readonly:!d,maxlength:254}}},description:{label:"Description",type:"textarea",group:"general",attrs:{textarea:{disabled:!f}}},overlayDescriptor:{label:"",type:"rx-customization-perspective",group:"general",customizationOptionsDirective:"rx-record-customization-options",definitionName:a.name,revertPrompt:"Are you sure you want to revert customization for selected record definition?",revertCommand:i.revertCustomization,revertCompleteEventName:j.events.refreshDesigner},allowNonAdminToDeleteRecordInstances:{label:"Allow Non-Admin Users to Delete Records",type:"toggle",group:"general"},owner:{label:"Owner",type:"text",group:"general",when:{ne:{"rxData/lastUpdateTime":void 0}},attrs:{input:{disabled:e}}},lastUpdateTime:{label:"Modified Date",type:"text",group:"general",when:{ne:{"rxData/lastUpdateTime":void 0}},attrs:{input:{disabled:e}}},lastChangedBy:{label:"Modified By",type:"text",group:"general",when:{ne:{"rxData/lastUpdateTime":void 0}},attrs:{input:{disabled:e}}},permissions:{label:"Permissions",type:"rx-permission-editor",group:"general",isReadOnly:!g},shouldExportData:l?{}:{label:"Should Export Data",type:"rx-inspector-toggle-field",group:"general",tooltip:"Select this option to automatically export the record data when the application or library is packaged for deployment.",attrs:{toggle:{disabled:!f}}},searchTitleField:{label:"Global Search Title Field",type:"rx-search-title-editor",tooltip:"Save the Record Definition to obtain a complete list of available fields.",group:"general",attrs:{select:{disabled:!f}}},inheritance:{label:"",type:"rx-inheritance-selector",group:"inheritance",isReadOnly:!f},securityLabels:{type:"rx-inspector-security-label-editor",group:"securityLabels",isReadOnly:!f},indexDefinitions:{type:"rx-inspector-record-index-editor",group:"indexes",isReadOnly:!h}}},groups:{general:{label:"General",index:1},inheritance:{label:"Record Inheritance",index:2},securityLabels:{label:"Security Labels",index:3},indexes:{label:"Indexes",index:4}}}},validate:function(c){var h,i=a.defer(),k=[],m=c.fieldDefinitions||[],n=!c.lastUpdateTime,o=b("definitionName")(c.name,"decode");_.isEmpty(_.trim(o))?(o="Record Definition",k.push({elementId:c.id,elementName:o,propertyName:"name",type:"error",message:"Record Name cannot be blank."})):n&&(h=e.getRecordDefinitionDescriptors().then(function(a){var b=d.getBundleId(),e=b?b+":":"",g=_.find(a,function(a){return f.caseInsensitiveEqual(a.name,e+o)});g&&k.push({elementId:c.id,elementName:o,propertyName:"name",type:"error",message:"Record Definition with this Name already exists."})})),j.validDefinitionNameRegex.test(o)||k.push({elementId:c.id,elementName:o,propertyName:"name",type:"error",message:"Record Name can only contain alphanumeric characters, spaces, hyphen and underscore."});var p=_.filter(m,function(a){return!_.isEmpty(_.trim(a.name))}),q=_.filter(m,function(a){return!_.isEmpty(_.trim(a.customId))||!(_.isString(a.id)&&a.id.match(/^rx-/))}),r=_.uniq(p,"name");if(p.length!==r.length){var s=_.difference(p,r);_.each(s,function(a){k.push({elementId:a.id,elementName:a.name,propertyName:"name",type:"error",message:"Field name must be unique."})})}var t=_.uniq(q,function(a){return a.customId||a.id});if(q.length!==t.length&&_(q).difference(t).each(function(a){k.push({elementId:a.id,elementName:a.name,propertyName:"customId",type:"error",message:"Field ID must be unique."})}).value(),_(q).filter(function(a){var b=a.customId;return _.isFinite(b)&&!(b>0&&b%1===0&&b<l.AR_MAX_FIELD_ID)}).each(function(a){k.push({elementId:a.id,elementName:a.name,propertyName:"customId",type:"error",message:"Field ID must be in the range of 1 to "+l.AR_MAX_FIELD_ID+"."})}).value(),_(q).filter(function(a){var b=a.customId;return _.isNumber(b)&&_.includes(l.AR_CORE_FIELD_IDS,b)}).each(function(a){k.push({elementId:a.id,elementName:a.name,propertyName:"customId",type:"error",message:"Field ID <%%> cannot be assigned to custom fields.".replace("%%",a.customId)})}).value(),c.weightedRelevancyFields){var u=_.find(c.fieldDefinitions,{id:c.weightedRelevancyFields.TITLE});u&&!u.searchDefinition&&k.push({elementId:c.id,elementName:o,propertyName:"searchTitleField",type:"error",message:"You need to specify a Full Text Search enabled field as the Global Search Title Field"})}var v=_.map(c.fieldDefinitions,function(a){return g.validate(a)}),w=h?v.concat([h]):v;return a.all(w).then(function(a){i.resolve(_.compact(_.flatten(_.union(k,a))))}),i.promise}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxFieldDefinitionManager",["RX_RECORD_DEFINITION","rxCharacterFieldDefinition","rxDateTimeFieldDefinition","rxDateOnlyFieldDefinition","rxTimeOnlyFieldDefinition","rxIntegerFieldDefinition","rxDecimalFieldDefinition","rxRealFieldDefinition","rxSelectionFieldDefinition","rxAttachmentFieldDefinition","rxBooleanFieldDefinition",function(a,b,c,d,e,f,g,h,i,j,k){var l={};return l[a.dataTypes.character.resourceType]=b,l[a.dataTypes.dateTime.resourceType]=c,l[a.dataTypes.dateOnly.resourceType]=d,l[a.dataTypes.timeOnly.resourceType]=e,l[a.dataTypes.integer.resourceType]=f,l[a.dataTypes.decimal.resourceType]=g,l[a.dataTypes.real.resourceType]=h,l[a.dataTypes.selection.resourceType]=i,l[a.dataTypes.attachment.resourceType]=j,l[a.dataTypes["boolean"].resourceType]=k,{getModel:function(a){var b=l[a.resourceType];return b.getModel.apply(b,arguments)},getNewFieldDefinition:function(a,b){var c=l[a];return c.getNewFieldDefinition.call(c,b)},validate:function(a){var b=l[a.resourceType];return b.validate.apply(b,arguments)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxFieldDefinitionModel",["rxFieldDefinition","RX_DESIGNER","RX_OVERLAY","RX_RECORD_DESIGNER","RX_RECORD_DEFINITION",function(a,b,c,d,e){return Backbone.Model.extend({prop:joint.dia.Cell.prototype.prop,constructor:function(a,b){if(a.rxData)Backbone.Model.apply(this,arguments);else{var c=this.getRxData(a),d=this.getRxInspector(a);Backbone.Model.call(this,{rxData:c,rxInspector:d})}},initialize:function(){this.listenTo(this,b.events.permissionsChanged,this._onPermissionsChanged),this.listenTo(this,"change:rxData",this._onChangeRxData)},_isOverlayCustomizationChange:function(a,b,d){var e=a.get("overlayOperation");return e!==c.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP&&d.propertyPath&&!_.includes(["rxData/permissions","rxData/overlayDescriptor"],d.propertyPath)&&b.lastUpdateTime},_onChangeRxData:function(a,b,d){this._isOverlayCustomizationChange.apply(this,arguments)&&(b.overlayDescriptor||(b.overlayDescriptor={}),this.get("isReverted")&&this.set("isReverted",!1),b.overlayDescriptor.otherPropertiesOverlayType=c.overlayTypes.overwrite,this.set("rxData",b,{ignoreCommandManager:!0}))},_onPermissionsChanged:function(a){var b=angular.copy(this.get("rxData"));this.get("isReverted")&&this.set("isReverted",!1),b.lastUpdateTime&&a.permissions?(b.permissions=a.permissions,b.explicitPermissions=a.permissions,b.overlayDescriptor||(b.overlayDescriptor={}),b.overlayDescriptor.permissionsOverlayType=a.permissionsOverlayType):b.permissions=a,this.set("rxData",b)},isLink:function(){return!1},persist:function(b){var c=_.find(b.fieldDefinitions,{id:this.get("id")});c?_.assign(c,this.get("rxData")):(c=_.clone(this.get("rxData")),b.fieldDefinitions.push(c)),a.isSystemField(c)||(c.fieldOption=c.required?"REQUIRED":"OPTIONAL"),a.isJoinFormField(c)&&delete c.fieldMappingId,delete c.required,c.hasOwnProperty("defaultValue")&&_.isEmpty(_.trim(c.defaultValue))&&(c.defaultValue=null),_.isEmpty(_.trim(c.description))&&(c.description=null)},removeInheritanceFlag:function(a){this.prop("rxData/isInherited",!1),a.isInherited=!1},remove:function(a){this.collection.remove(this.cid,a)},getRxData:function(b){var c=_.cloneDeep(b);return c.required="OPTIONAL"!==c.fieldOption,a.isJoinFormField(b)&&(c.fieldMappingId=b.fieldMapping.sourceFieldId),_.isBoolean(c.anyUserAllowedToSubmit)||(c.anyUserAllowedToSubmit=2===b.id||8===b.id),c},getRxInspector:function(b,c){var f=_.find(_.values(e.dataTypes),{resourceType:b.resourceType}),g=a.isReadOnly(b),h=a.isInheritedField(b),i=!!b.lastUpdateTime,j=a.isJoinFormField(b),k=i&&a.isOverlayMode(b),l=!a.isPropertiesCustomizationEnabled(b),m=!a.isPermissionsCustomizationEnabled(b),n={inputs:{rxData:{name:{label:"Name",type:"text",group:"general",attrs:{label:{"class":"required"},input:{readonly:h||l||k}}},description:{label:"Description",type:"textarea",group:"general",attrs:{textarea:{readonly:g||l}}},fieldMappingId:{label:"Join Field Mapping ID",type:"text",group:"general",attrs:{input:{readonly:!0}},when:j?{and:[{ne:{"rxData/fieldMappingId":e.coreFieldIds.id}},{ne:{"rxData/fieldMappingId":e.coreFieldIds.displayId}}]}:{gt:{"rxData/fieldMappingId":0}}},overlayDescriptor:{label:"",context:"field",type:"rx-customization-perspective",group:"general",revertPrompt:"Are you sure you want to revert customization for selected field definition?",revertCompleteEventName:d.events.fieldOverlayReverted},resourceType:{label:"Data Type",type:"select",options:[{value:f.resourceType,content:f.displayName}],group:"details",attrs:{label:{"class":"required"},select:{disabled:!0}}},required:{type:"toggle",label:"Required",group:"details",attrs:{input:{disabled:g||l||j}}},anyUserAllowedToSubmit:{type:"toggle",label:"Allow anyone to submit",group:"details",attrs:{input:{disabled:g||l||j}}},permissions:{label:"Permissions",type:"rx-permission-editor",group:"details",isReadOnly:m||j&&e.joinRecordDefinitionCoreFieldIds.indexOf(b.id)<0}}},groups:{general:{label:"General",index:1},details:{label:"Details",index:2}}};return i||!j&&a.isCoreField(b)||h?n.inputs.rxData.id={label:"Field ID",type:"number",group:"details",attrs:{input:{readonly:!0}}}:n.inputs.rxData.customId={label:"Field ID",type:"rx-inspector-number-input",group:"details",attrs:{input:{min:1,pattern:"\\d+"}}},_.assign(n.inputs.rxData,c),n}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxFieldDefinition",["$q","rxGUID","$filter","rxOverlay","RX_DESIGNER","RX_OVERLAY","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g){function h(a){return"SYSTEM"===a.fieldOption}function i(a){return a.id<=g.AR_MAX_RESERVED_FIELD_ID}function j(a){return a.hasOwnProperty("isInherited")&&a.isInherited}function k(a){return h(a)||j(a)}function l(a){var b=a.overlayGroupId,c=a.overlayDescriptor||{parentOverlayGroupId:null};return d.getOverlayOperation(b,c.parentOverlayGroupId)!==f.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP}function m(a){return o(a)||d.isCustomizationEnabled("allowOtherPropertiesOverlay",a)}function n(a){return o(a)||d.isCustomizationEnabled("allowPermissionsOverlay",a)}function o(a){return _.isUndefined(a.lastUpdateTime)}function p(a){return!!a.fieldMapping}return{getNewFieldDefinition:function(a){return _.assign({id:b.generate("rx-"),name:"New Field",description:null,fieldOption:"OPTIONAL",defaultValue:null,allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0},a)},validate:function(b){var c=[],d=b.name;return _.isEmpty(_.trim(d))&&(d="Field Definition",c.push({elementId:b.id,elementName:d,propertyName:"name",type:"error",message:"Field Name cannot be blank."})),e.validDefinitionNameRegex.test(d)||c.push({elementId:b.id,elementName:d,propertyName:"name",type:"error",message:"Field Name can only contain alphanumeric characters, spaces, hyphen and underscore."}),_.isFinite(b.maxValue)&&_.isFinite(b.minValue)&&b.minValue>b.maxValue&&c.push({elementId:b.id,elementName:d,propertyName:"minValue",type:"error",message:"Minimum Value cannot be greater than Maximum Value."}),_.isFinite(b.defaultValue)&&(_.isFinite(b.minValue)&&b.defaultValue<b.minValue&&c.push({elementId:b.id,elementName:d,propertyName:"defaultValue",type:"error",message:"Default Value cannot be less than Minimum Value."}),_.isFinite(b.maxValue)&&b.defaultValue>b.maxValue&&c.push({elementId:b.id,elementName:d,propertyName:"defaultValue",type:"error",message:"Default Value cannot be greater than Maximum Value."})),_.isNumber(b.customId)&&b.customId>0&&b.customId<g.AR_MAX_RESERVED_FIELD_ID&&!_.includes(g.AR_CORE_FIELD_IDS,b.customId)&&c.push({elementId:b.id,elementName:b.name,propertyName:"customId",type:"info",message:"Creation of a field in the BMC reserved range may cause a failure in a future application upgrade if the field conflicts with a similar field introduced in the upgrade."}),a.when(c)},isJoinFormField:p,isTransient:o,isSystemField:h,isCoreField:i,isInheritedField:j,isReadOnly:k,isOverlayMode:l,isPropertiesCustomizationEnabled:m,isPermissionsCustomizationEnabled:n}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxIntegerFieldDefinition",["RX_RECORD_DEFINITION","rxFieldDefinition","rxFieldDefinitionModel",function(a,b,c){var d=2147483647,e=-2147483648;return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.IntegerFieldDefinition=c.extend({defaults:{type:"rx.IntegerFieldDefinition",icon:"field_integer_number"},getRxInspector:function(a){var c=b.isReadOnly(a),f=!b.isPropertiesCustomizationEnabled(a);return joint.shapes.rx.IntegerFieldDefinition.__super__.getRxInspector.call(this,a,{minValue:{type:"rx-inspector-number-input",label:"Minimum Value",group:"details",attrs:{label:{"class":"required"},input:{readonly:c||f,min:e,max:d,pattern:"-?\\d+"}}},maxValue:{type:"rx-inspector-number-input",label:"Maximum Value",group:"details",attrs:{label:{"class":"required"},input:{readonly:c||f,min:e,max:d,pattern:"-?\\d+"}}},defaultValue:{label:"Default Value",type:"rx-inspector-number-input",group:"details",attrs:{input:{readonly:c||f,min:e,max:d,pattern:"-?\\d+"}}}})}}),{getModel:function(a){return new joint.shapes.rx.IntegerFieldDefinition(a)},getNewFieldDefinition:function(c){return b.getNewFieldDefinition(_.assign({resourceType:a.dataTypes.integer.resourceType,minValue:e,maxValue:d},c))},validate:function(a){return b.validate(a).then(function(b){var c=a.name;return _.isFinite(a.minValue)||b.push({elementId:a.id,elementName:c,propertyName:"minValue",type:"error",message:"Minimum Value cannot be blank."}),_.isFinite(a.maxValue)||b.push({elementId:a.id,elementName:c,propertyName:"maxValue",type:"error",message:"Maximum Value cannot be blank."}),b})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxRealFieldDefinition",["RX_RECORD_DEFINITION","rxFieldDefinition","rxFieldDefinitionModel",function(a,b,c){var d=-1,e=1845e16,f=-1845e16;return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.RealFieldDefinition=c.extend({defaults:{type:"rx.RealFieldDefinition",icon:"field_floating_number"},getRxInspector:function(a){var c=b.isReadOnly(a);return joint.shapes.rx.RealFieldDefinition.__super__.getRxInspector.call(this,a,{precision:{label:"Precision",type:"rx-inspector-number-input",group:"details",attrs:{label:{"class":"required"},input:{readonly:c}}},minValue:{label:"Minimum Value",type:"rx-inspector-number-input",step:"any",group:"details",attrs:{label:{"class":"required"},input:{readonly:c,min:f,max:e}}},maxValue:{label:"Maximum Value",type:"rx-inspector-number-input",step:"any",group:"details",attrs:{label:{"class":"required"},input:{readonly:c,min:f,max:e}}},defaultValue:{label:"Default Value",type:"rx-inspector-number-input",step:"any",group:"details",attrs:{input:{readonly:c,min:f,max:e}}}})}}),{getModel:function(a){return new joint.shapes.rx.RealFieldDefinition(a)},getNewFieldDefinition:function(c){return b.getNewFieldDefinition(_.assign({resourceType:a.dataTypes.real.resourceType,precision:6,minValue:f,maxValue:e},c))},validate:function(a){return b.validate(a).then(function(b){var c=a.name;return _.isFinite(a.minValue)||b.push({elementId:a.id,elementName:c,propertyName:"minValue",type:"error",message:"Minimum Value cannot be blank."}),_.isFinite(a.maxValue)||b.push({elementId:a.id,elementName:c,propertyName:"maxValue",type:"error",message:"Maximum Value cannot be blank."}),(!_.isFinite(a.precision)||a.precision<1&&a.precision!=d)&&b.push({elementId:a.id,elementName:a.name,propertyName:"precision",type:"error",message:"Precision must be a valid number greater than 0, or equal to -1."}),b})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxSelectionFieldDefinition",["RX_RECORD_DEFINITION","rxFieldDefinition","rxFieldDefinitionModel",function(a,b,c){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.SelectionFieldDefinition=c.extend({defaults:{type:"rx.SelectionFieldDefinition",icon:"field_dropdown"},initialize:function(){c.prototype.initialize.apply(this),this.listenTo(this,"change:rxData",this._onChangeRxData)},_onChangeRxData:function(a,b,d){if(c.prototype._onChangeRxData.apply(this,arguments),"rxData/optionNamesById"===d.propertyPath){var e=this.get("rxInspector");e.inputs.rxData.defaultValue.options=_.map(b.optionNamesById,function(a,b){return{content:a,value:b}})||[],this.set("rxInspector",e,{ignoreCommandManager:!0})}},getRxInspector:function(a){var c=b.isReadOnly(a),d=!b.isPropertiesCustomizationEnabled(a),e=_.map(a.optionNamesById,function(a,b){return{content:a,value:b}})||[];return joint.shapes.rx.SelectionFieldDefinition.__super__.getRxInspector.call(this,a,{optionNamesById:{label:"Options",type:"rx-inspector-selection-field-editor",group:"details",attrs:{label:{"class":"rx-inspector-selection-field-editor"},input:{disabled:d},textarea:{readonly:c||d,"class":"textarea rx-inspector-select-options"}}},defaultValue:{label:"Default Value",type:"select",group:"details",options:e,attrs:{div:{"class":"hidden"}}}})}}),{getModel:function(a){return new joint.shapes.rx.SelectionFieldDefinition(a)},getNewFieldDefinition:function(c){return b.getNewFieldDefinition(_.assign({resourceType:a.dataTypes.selection.resourceType,optionNamesById:{}},c))},validate:function(a){return b.validate(a).then(function(b){return _.isEmpty(a.optionNamesById)&&b.push({elementId:a.id,elementName:a.name,propertyName:"options",type:"error",message:'Property "Options" cannot be blank.'}),b})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").factory("rxTimeOnlyFieldDefinition",["RX_RECORD_DEFINITION","rxFieldDefinition","rxFieldDefinitionModel",function(a,b,c){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.TimeOnlyFieldDefinition=c.extend({defaults:{type:"rx.TimeOnlyFieldDefinition",icon:"clock_o"},getRxInspector:function(a){var c=b.isReadOnly(a),d=!b.isPropertiesCustomizationEnabled(a);return joint.shapes.rx.TimeOnlyFieldDefinition.__super__.getRxInspector.call(this,a,{defaultValue:{label:"Default Value",type:"rx-inspector-timepicker",group:"details",attrs:{input:{readonly:c||d},timepicker:{disabled:c||d}}}})}}),{getModel:function(a){return new joint.shapes.rx.TimeOnlyFieldDefinition(a)},getNewFieldDefinition:function(c){return b.getNewFieldDefinition(_.assign({resourceType:a.dataTypes.timeOnly.resourceType},c))},validate:function(a){return b.validate(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.instance").service("rxRecordInstanceUpdate",["dialogs","$translate","$q",function(a,b,c){function d(d){var e=c.defer();return d.put(!1).then(function(a){e.resolve(a)},function(c){if(412===c.status){var f=b.instant("com.bmc.arsys.rx.standardlib.common.dialog.warning.label"),g=b.instant("com.bmc.arsys.rx.standardlib.common.dialog.continue.message");a.confirm(f,c.data[0].messageText+" "+g).result.then(function(){d.put(!0).then(function(a){e.resolve(a)},function(a){e.reject(a)})},function(){e.reject(c)})}else e.reject(c)}),e.promise}return{execute:d}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.resources").factory("rxResource",["Restangular","RX_RESOURCE_URLS","rxUtils",function(a,b,c){var d={},e=function(a){var b=Array.prototype.slice.call(arguments,0);return rx.assert.assertArrayWithLength(b),b.join("/").replace("//","/")},f=function(a,d){rx.assert.assertStringWithLength(a,"Sub URL must be a valid string.");var f=a.split("/"),g=null,h=null;1==f.length?(g=null,h=f[0]):f.length>1&&(g=f.slice(0,f.length-1).join("/"),h=f[f.length-1]);var i=null;if(c.isNonEmptyString(g)){var j=this.configuration.baseUrl||b.api,k=e(j,g);i=this.withUrlConfiguration(k,d)}else i=this.withConfig(d||angular.noop);return i.get=function(a,b,d,e){return rx.assert.assertString(a),rx.assert.assert(c.isNullOrUndefined(b)||_.isObject(b)),rx.assert.assert(c.isNullOrUndefined(d)||_.isObject(d)),rx.assert.assert(c.isNullOrUndefined(e)||_.isObject(e)),i.all(h).withHttpConfig(e).get(a,b,d)},i.getList=function(a,b){return rx.assert.assert(c.isNullOrUndefined(a)||_.isObject(a)),rx.assert.assert(c.isNullOrUndefined(b)||_.isObject(b)),i.all(h).getList(a,b)},i.post=function(a,b,d,e){return rx.assert.assertObject(a),rx.assert.assert(c.isNullOrUndefined(b)||_.isObject(b)),rx.assert.assert(c.isNullOrUndefined(d)||_.isObject(d)),rx.assert.assert(c.isNullOrUndefined(e)||_.isObject(e)),i.all(h).withHttpConfig(e).post(a,b,d)},i.create=i.post,i.remove=function(a,b,d){return rx.assert.assert(c.isNullOrUndefined(b)||_.isObject(b)),rx.assert.assert(c.isNullOrUndefined(d)||_.isObject(d)),i.one(h,a).remove(b,d)},i["delete"]=i.remove,i},g=function(a,b){rx.assert.assertStringWithLength(a),rx.assert.assert(c.isNullOrUndefined(b)||_.isFunction(b));var d=this.withConfig(function(c){_.isFunction(b)&&b(c),c.setBaseUrl(a)});return d.withUrlConfiguration=_.bind(g,d),d.withSubUrlConfiguration=_.bind(f,d),d};return g.call(a,b.api,function(a){a.addResponseInterceptor(function(a,b,e,f,g,h){if("getList"===b&&c.isNonEmptyArray(d[f])){var i=[];return _.forEach(a,function(a){var b=!0;_.forEach(d[f],function(c){b&&!c(a)&&(b=!1)}),b&&i.push(a)}),i}return a})})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleActionElementExpressionConfigurator",["$q","RX_EXPRESSION_EDITOR","$rootScope","RX_RECORD_DEFINITION","rxActionElementInterface","rxDefaultExpressionConfigurator","definitionNameFilter","rxRuleDesignerCache","rxDesignerCache","rxString",function(a,b,c,d,e,f,g,h,i,j){return f.extend({initialize:function(f){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments);var k=e.isGetRecordsByQueryAction(f.prop("rxData/actionTypeName")),l=this;c.$on(b.events.refreshInspector,function(a,b){b===l.model&&(l.shouldRebuild=!0)});var m={regExp:/^(rxData\/outputMap\/)[0-9]+(\/expression)$/g,updateDataDictionary:function(b,c){var d=a.defer(),e=_.find(h.getActionTypes(),{actionTypeName:f.prop("rxData/actionTypeName")});_.remove(b,function(a){return"Record Definition Field"===a.type});var g=[];if(e&&e.outputParams){var k=function(a,b){return _(b).map(function(b){var c=a+"."+b.name,d={icon:"d-icon-arrow_chart",type:"Output Map Entry",label:j.prettify(b.name),value:c+"}"};return b.dataTypeDetail&&(d.children=k(c,b.dataTypeDetail)),d}).sort(function(a,b){return a.label.localeCompare(b.label)}).value()},l=function(){g=_(e.outputParams).map(function(a){var b="${actionResult."+a.name,c={icon:"d-icon-arrow_chart",type:"Output Map Entry",label:j.prettify(a.name),value:b+"}"};return a.dataTypeDetail&&(c.children=k(b,a.dataTypeDetail)),c}).sort(function(a,b){return a.label.localeCompare(b.label)}).value(),b.unshift({label:f.get("content"),children:g}),d.resolve(b)},m=f.prop("rxData/inputMap/recordDefinitionName");if(_.isUndefined(m))l();else{var n=".output.",o={label:"Output",type:"Output Map Entry",icon:"d-icon-arrow_chart",value:"${actionResult.output}",children:[]};if("getRecordsByQuery"==e.actionTypeName){n=".output[0].",o.value="${actionResult.output[0]}";var p=f.prop("rxData/inputMap/fieldIDs"),q=p?_(p).replace(/^\"|\"$/g,"").split(","):[]}i.getRecordDefinition(f.getRecordDefinitionName()).then(function(a){a?(_.isEmpty(q)||"getRecordsByQuery"!=e.actionTypeName?_.each(a.fieldDefinitions,function(a){g.push({icon:"d-icon-arrow_chart",type:"Output Map Entry",label:a.name,value:["${actionResult"+n+a.id+"}","${actionResult"+n+a.name+"}"]})}):_(a.fieldDefinitions).filter(function(a){return _.includes(q,String(a.id))}).each(function(a){g.push({icon:"d-icon-arrow_chart",type:"Output Map Entry",label:a.name,value:["${actionResult"+n+a.id+"}","${actionResult"+n+a.name+"}"]})}).value(),o.children=_(g).sort(function(a,b){return a.label.localeCompare(b.label)}).value(),b.unshift({label:f.get("content"),children:[o]}),d.resolve(b)):d.resolve(b)},function(){d.resolve(b)})}}return d.promise},operators:b.operators.math};this.registerExpressionConfig(m);var n={updateDataDictionary:function(b,c){return f.prop("rxData/inputMap/recordDefinitionName")?i.getRecordDefinition(f.getRecordDefinitionName()).then(function(a){if(k){var e=_(a.fieldDefinitions).map(function(a){return{label:a.name,type:"Record Definition Field",icon:"d-icon-field_text",value:["${queryExpression."+a.id+"}","${queryExpression."+a.name+"}"],id:a.id}}).value();b.unshift({label:g(f.prop("rxData/inputMap/recordDefinitionName"))+" Fields",children:e})}if(c){var h=_(a.fieldDefinitions).find({name:_(c).split("/").last()});if(h)switch(h.resourceType){case d.dataTypes.selection.resourceType:var i=_(h.optionNamesById).map(function(a,b){return{label:a,value:'"'+a+'"',showRawValue:!0}}).value();b.unshift({label:"Options",children:i});break;case d.dataTypes["boolean"].resourceType:b.unshift({label:"Options",children:[{label:"True",value:'"true"',showRawValue:!0},{label:"False",value:'"false"',showRawValue:!0}]})}}return b},function(){return b}):a.when(b)},operators:"getRecordsByQuery"===f.prop("rxData/actionTypeName")?b.operators.all:b.operators.math};this.setDefaultDictionaryConfig(n)},shouldRebuildCellDataDictionary:function(a){var b=!angular.equals(a,this.commonDataDictionary)||this.shouldRebuild;return this.shouldRebuild=_.isBoolean(this.shouldRebuild)?!this.shouldRebuild:this.shouldRebuild,b}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleActionElement",["$q","i18n","ruleActionTypeNameFilter","rxDesignerCache","rxRuleDesignerCache","rxActionElementInterface","rxRuleExpressionValidation","rxRuleShapeViewInterface","rxRuleActionElementModel","rxRuleShapeInterface","rxString","RX_RULE_DEFINITION","RX_DEFINITION_PICKER",function(a,b,c,d,e,f,g,h,i,j,k,l,m){return{getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=(b(),{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},inputMap:{},outputMap:{type:"list",group:"outputMap",index:3,item:{type:"object",properties:{assignTarget:{type:"select",label:"Name",options:[],attrs:b({label:{"class":"required"}})},expression:{type:"rx-inspector-expression-node-field",label:"Source",attrs:b({label:{"class":"required"}})}}}}}},groups:{properties:{label:"General",index:1},inputMap:{label:"Input Map",index:2},outputMap:{label:"Output Map",index:3}}});return c},getRxData:function(a,b){var d=c(b.actionTypeName);return{resourceType:l.ruleElementResourceTypes.ruleAction,name:d,label:d,actionTypeName:b.actionTypeName,inputMap:{},outputMap:[]}},getRxConfig:function(a,c,d){d=d||{};var g,h=d.readonly===!0,i=_.find(e.getActionTypes(),{actionTypeName:a.actionTypeName||a}),j={rxData:this.getRxData(a,i||{}),rxInspector:this.getRxInspector(h)};if(i){var k=f.isAssociationAction(i.actionTypeName),l=f.isGetRecordsByQueryAction(i.actionTypeName),n=f.isRecordAction(i.actionTypeName),o=f.isSecurityLabelAction(i.actionTypeName),p=f.isBusinessTimeAction(i.actionTypeName),q="showAlert"===i.actionTypeName;g=f.isUpdateRecordAction(i.actionTypeName),!o&&!g||_.find(i.inputParams,{name:"recordSource"})||i.inputParams.unshift({dataType:"String",dataTypeDetail:null,name:"recordSource",required:!1});var r=o?i.inputParams:_.sortBy(i.inputParams,function(a){return!a.required});r.forEach(function(a,c){var d,e=(n||o)&&"recordDefinitionName"===a.name||k&&"associationDefinitionName"===a.name,r="securityLabel"===a.name,s="recordSource"===a.name,t=(o||g)&&"recordDefinitionName"===a.name,u=(o||g)&&"recordID"===a.name,v=(o||g)&&"record"===a.name,w=l&&"retrieve"===a.name,x=l&&"fieldIDs"===a.name,y=p&&"unit"===a.name,z=f.isSetSecurityLabelAction(i.actionTypeName)&&"appendExistingValues"===a.name;d=e?"rx-inspector-definition-picker":r||s||q&&"RequestMessageType"===a.dataType||y?"select":q&&"int"===a.dataType?"number":z?"toggle":"rx-inspector-expression-node-field";var A={group:"inputMap",label:b(a.name),type:d,index:c,attrs:{}};if(n&&"values"===a.name)return!1;if(e&&k?A.definitionType=m.definitionTypes.association.type:e?A.definitionType=m.definitionTypes.record.type:r?A.options=[]:x?A.when=!0:s?A.options=[{value:"false",content:"Current Record"},{value:"true",content:"Database"}]:q&&"RequestMessageType"===a.dataType?(A.options=[{value:'"INFO"',content:"INFO"},{value:'"WARNING"',content:"WARNING"},{value:'"ERROR"',content:"ERROR"}],a.defaultValue='"INFO"'):q&&"alertCode"===a.name?a.defaultValue=1e4:y?A.options=[{value:"",content:""
},{value:"1",content:"seconds"},{value:"2",content:"minutes"},{value:"3",content:"hours"},{value:"4",content:"days"}]:z&&(a.defaultValue=!0),t||u?A.when={eq:{"rxData/inputMap/recordSource":"true"}}:(v||w)&&(A.when=!0),a.required||t||u||v)A.attrs.label={"class":"required"};else if(h){var B={},C={};B["rxData/inputMap/"+a.name]=void 0,C["rxData/inputMap/"+a.name]="",A.when={and:[{ne:B},{ne:C}]}}h&&(A.attrs.input=A.attrs.select={readonly:!0,disabled:!0}),j.rxInspector.inputs.rxData.inputMap[a.name]=A,_.isUndefined(a.defaultValue)?j.rxData.inputMap[a.name]="":j.rxData.inputMap[a.name]=a.defaultValue}),0===i.outputParams.length&&(delete j.rxInspector.groups.outputMap,delete j.rxInspector.inputs.rxData.outputMap,delete j.rxData.outputMap)}if(a.resourceType){var s,t;i&&(t=f.isCreateOrUpdateRecordAction(i.actionTypeName)),g&&(s=_.clone(j.rxData.inputMap)),_.assign(j.rxData,_.pick(a,_.keys(j.rxData))),j.rxData.label=a.name,j.rxData.inputMap={},a.inputMap.forEach(function(a){var b=a.assignTarget;if(t){var c=/values\[\"(.*)\"\]/.exec(b);c&&(b=c[1])}j.rxData.inputMap[b]="recordDefinitionName"===b||"associationDefinitionName"===b?a.expression.replace(/^\"|\"$/g,""):a.expression}),g&&(j.rxData.inputMap=_.assign(s,j.rxData.inputMap),"$\\ENTRY$"===j.rxData.inputMap.record&&(j.rxData.inputMap.recordSource="false")),a.outputMap.forEach(function(a){j.rxData.outputMap[a.assignTarget]=a.expression})}return j},getShape:function(a){var b=this.getRxConfig(a);b.content=b.rxData.label;var c=!!_.isObject(a);return new joint.shapes.rx.RuleAction(b,c)},registerValidators:function(a){a.validate("add",function(b,c,d){var e=a.attributes.commandManager.graph,f=e.getCell(c.data.id);if(f instanceof joint.shapes.bpmn.Activity&&"showAlert"===f.get("rxData").actionTypeName){var g=_.find(e.getCells(),function(a){return"rx.RuleTrigger"===a.get("type")});if(g.get("rxData").resourceType===l.ruleElementResourceTypes.triggerTimeElement)return void d("Show Alert action cannot be used in a rule with Timer Event trigger type.")}})},validate:function(b,h){var i,j,m=[],n=a.defer(),o=[],p=b.outputMap||[];_.isEmpty(_.trim(b.name))&&b.hasOwnProperty("name")&&m.push({elementId:b.id,elementName:c(b.actionTypeName),propertyName:"label",type:"error",message:"Label cannot be blank."}),b.inputMap&&!_.isEmpty(h.recordDefinitionNames)&&o.push(d.getRecordDefinition(h.recordDefinitionNames[0]).then(function(a){_.each(b.inputMap,function(c){var d=g.validateExpression(c.expression,a);if(!_.isEmpty(d)){var e=c.assignTarget;e=e.replace(/values\[\"(.*)(\"\])$/g,"$1"),m.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/"+e,type:"error",message:k.prettify(e)+" expression uses fields that are not in the primary record definition. Field IDs: "+d.join()+"."})}})}));var q=_.find(e.getActionTypes(),{actionTypeName:b.actionTypeName});if(_.each(p,function(a,c){_.isEmpty(_.trim(a.assignTarget))&&m.push({elementId:b.id,elementName:b.name,propertyName:"outputMap/"+c+"/assignTarget",type:"error",message:'Output Map Parameter\'s "Name" cannot be blank.'}),_.isEmpty(_.trim(a.expression))&&m.push({elementId:b.id,elementName:b.name,propertyName:"outputMap/"+c+"/expression",type:"error",message:'Output Map Parameter\'s "Source" cannot be blank.'})}),q)if("createRecord"===b.actionTypeName){var r=_.find(b.inputMap,{assignTarget:"recordDefinitionName"}),s=_.filter(b.inputMap,function(a){var b=a.assignTarget;return 0===b.indexOf('values["')&&b.indexOf('"]')===b.length-2});if(r){var t=r.expression.replace(/^\"|\"$/g,"");o.push(d.getRecordDefinition(t).then(function(a){var c=_(a.fieldDefinitions).filter(f.isFieldRequired).pluck("name").value();_.each(c,function(a){var c=_.find(s,{assignTarget:'values["'+a+'"]'});c&&!_.isEmpty(_.trim(c))||m.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/"+a,type:"error",message:k.prettify(a)+" cannot be blank."})})}))}else m.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/recordDefinitionName",type:"error",message:"Record Definition Name cannot be blank."})}else if("updateRecord"===b.actionTypeName){var u=_.some(b.inputMap,{assignTarget:"record"});u||(i=["recordDefinitionName","recordID"],j=_.filter(i,function(a){return _.find(b.inputMap,{assignTarget:a})}),_.isEmpty(j)?m.push({elementId:b.id,elementName:b.name,propertyName:"inputMap",type:"error",message:"Record Definition Name, Record ID and Record cannot be blank."}):_.includes(j,"recordDefinitionName")?_.includes(j,"recordID")||m.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/recordID",type:"error",message:"Record ID cannot be blank."}):m.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/recordDefinitionName",type:"error",message:"Record Definition Name cannot be blank."}))}else if(f.isSecurityLabelAction(b.actionTypeName)){i=["recordDefinitionName","record","recordID"];var v=_(q.inputParams).filter("required").map("name").value();j=_.filter(i,function(a){return _.find(b.inputMap,{assignTarget:a})}),_.isEmpty(j)?m.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/"+name,type:"error",message:"Record Definition Name, Record ID and Record cannot be blank."}):_.includes(j,"record")||_.includes(j,"recordDefinitionName")?_.includes(j,"record")||_.includes(j,"recordID")||m.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/recordID",type:"error",message:"Record ID cannot be blank."}):m.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/recordDefinitionName",type:"error",message:"Record Definition Name cannot be blank."}),_.each(v,function(a){var c=_.find(b.inputMap,{assignTarget:a});c&&!_.isEmpty(_.trim(c.expression))||m.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/"+a,type:"error",message:k.prettify(a)+" cannot be blank."})})}else if("showAlert"===b.actionTypeName){var w=b.name||"Show Alert",x=_.transform(b.inputMap,function(a,b){a[b.assignTarget]=b.expression},{});h.triggerEvent.resourceType===l.ruleElementResourceTypes.triggerTimeElement&&m.push({elementId:b.id,elementName:w,type:"error",message:"Show Alert action cannot be used in a rule with Timer Event trigger type."}),_.isEmpty(x.alertText)&&m.push({elementId:b.id,elementName:w||"Show Alert",propertyName:"alertText",type:"error",message:"Alert Text cannot be blank."}),x.alertCode<1e4&&m.push({elementId:b.id,elementName:w,propertyName:"alertCode",type:"error",message:"Alert Code must be greater or equal to 10000."})}else{var y=_(q.inputParams).filter("required").map("name").value();_.each(y,function(a){var c=_.find(b.inputMap,{assignTarget:a});c&&!_.isEmpty(_.trim(c.expression))||m.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/"+a,type:"error",message:k.prettify(a)+" cannot be blank."})})}else m.push({elementId:b.id,elementName:b.name,type:"warning",message:b.actionTypeName+" is not a registered action type."});return _.isEmpty(o)?n.resolve(m):a.all(o)["finally"](function(){n.resolve(m)}),n.promise}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleActionElementModel",["$q","i18n","dialogs","definitionNameFilter","rxUtils","rxDesignerCache","rxActionElementInterface","rxRuleActionElementExpressionConfigurator","rxRuleShapeViewInterface","rxRuleShapeInterface",function(a,b,c,d,e,f,g,h,i,j){var k=null;return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.RuleActionView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.RuleShapeViewInterface).extend({className:function(){var a=joint.shapes.bpmn.ActivityView.prototype.className.apply(this,arguments);return a+" "+this.model.get("rxData").actionTypeName}}),joint.shapes.rx.RuleAction=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.RuleShapeInterface).extend(joint.shapes.rx.ActionElementInterface).extend({defaults:joint.util.deepSupplement({type:"rx.RuleAction",size:{width:70,height:60},attrs:{image:{width:10,height:10,x:-2,y:-2},rect:{rx:4,ry:4},".body":{filter:{name:"dropShadow",args:{dx:0,dy:1.5,blur:1,color:"rgba(0, 0, 0, 0.25)"}}}},icon:"action"},joint.shapes.bpmn.Activity.prototype.defaults),_lastRecordSource:"true",elementCanvasSize:{width:90,height:60},initialize:function(a){var b=a.rxData.actionTypeName;joint.shapes.bpmn.Activity.prototype.initialize.apply(this,arguments),a&&a.rxData&&(this.listenTo(this,"change:rxData",this._onChangeRxData),this._expressionConfigurator=new h(this),(g.isRecordAction(b)||g.isSecurityLabelAction(b))&&a.rxData.inputMap.recordDefinitionName?this._lastRecordDefinitionName=this.getRecordDefinitionName():g.isSecurityLabelAction(b)&&a.rxData.inputMap.record&&(this._lastRecordSource="false"))},getExpressionConfigurator:function(){return this._expressionConfigurator},persist:function(a){var b=joint.shapes.rx.RuleShapeInterface.persist.apply(this,arguments);if(b.name=this.prop("rxData/label"),b){var c=[],d=this.prop("rxData/actionTypeName"),f=g.isCreateOrUpdateRecordAction(d),h=g.isSecurityLabelAction(d),i=g.isSetSecurityLabelAction(d);for(var j in b.inputMap){var k=b.inputMap[j];k&&f&&!_.includes(["recordDefinitionName","recordID","record","recordSource"],j)?c.push({assignTarget:'values["'+j+'"]',expression:k}):k&&_.includes(["recordDefinitionName","associationDefinitionName","securityLabel"],j)&&!/^\"|\"$/g.test(k)?c.push({assignTarget:j,expression:'"'+k+'"'}):k&&g.isGetRecordsByQueryAction(d)&&"queryExpression"===j?c.push({assignTarget:j,expression:g.getExpressionInArFormat(k)}):"fieldIDs"===j&&this.getFieldIds()?c.push({assignTarget:j,expression:'"'+this.getFieldIds()+'"'}):i&&"appendExistingValues"===j?c.push({assignTarget:j,expression:'"'+k+'"'||"false"}):k&&"recordSource"!==j&&c.push({assignTarget:j,expression:k})}!_.find(c,{assignTarget:"record"})&&(!e.tryParseJson(this.prop("rxData/inputMap/recordSource"),!1)&&h||!e.tryParseJson(this.prop("rxData/inputMap/recordSource"),!1)&&"updateRecord"===d)&&c.push({assignTarget:"record",expression:"$ENTRY$"}),b.inputMap=c}return b},getFieldIds:function(){var a=_(this.inputMapFields).values().first();return _(a).map("id").join()},isRecordSource:function(){return"false"===this.prop("rxData/inputMap/recordSource")&&k},getFieldIdList:function(){return this.prop("rxData/inputMap/fieldIDs")?this.prop("rxData/inputMap/fieldIDs").replace(/^\"|\"$/g,"").split(","):[]},convertSelectionToString:function(){g.isGetRecordsByQueryAction(this.prop("rxData/actionTypeName"))&&this.prop("rxData/inputMap/fieldIDs",this.getFieldIds())},updateInspectorConfig:function(b){var c=this,d=[],h=c.prop("rxData/actionTypeName"),i=c.prop("rxData");if((g.isSecurityLabelAction(h)||g.isUpdateRecordAction(h))&&(c.prop("rxData/inputMap/recordDefinitionName")?c.prop("rxData/inputMap/recordSource","true",{silent:!0}):(_.isUndefined(c.prop("rxData/inputMap/recordSource"))||""===c.prop("rxData/inputMap/recordSource")||"false"===c.prop("rxData/inputMap/recordSource"))&&(c.prop("rxData/inputMap/recordSource","false",{silent:!0}),c._lastRecordSource="false",c._lastRecordDefinitionName=k)),g.isSecurityLabelAction(h)){var j=c.prop("rxInspector/inputs/rxData/inputMap/securityLabel/options");c.prop("rxData/inputMap/recordDefinitionName")&&_.isEmpty(j)?d.push(f.getRecordDefinition(c.getRecordDefinitionName()).then(function(a){a&&(c.prop("rxInspector/inputs/rxData/inputMap/securityLabel/options",c.getSecurityLabels(a.securityLabels)),c.prop("rxData/inputMap/securityLabel",i.inputMap.securityLabel.replace(/^\"|\"$/g,"")))})):!e.tryParseJson(this.prop("rxData/inputMap/recordSource"),!1)&&_.isEmpty(j)&&d.push(f.getRecordDefinition(k).then(function(a){a&&(c.prop("rxInspector/inputs/rxData/inputMap/securityLabel/options",c.getSecurityLabels(a.securityLabels)),c.prop("rxData/inputMap/securityLabel",i.inputMap.securityLabel.replace(/^\"|\"$/g,"")))})),!g.isSetSecurityLabelAction(h)||_.isUndefined(i.inputMap.appendExistingValues)||_.isBoolean(i.inputMap.appendExistingValues)||c.prop("rxData/inputMap/appendExistingValues",JSON.parse(i.inputMap.appendExistingValues.replace(/^\"|\"$/g,"")),{silent:!0})}(g.isGetRecordsByQueryAction(h)||g.isCreateOrUpdateRecordAction(h))&&c._lastRecordDefinitionName&&_.isEmpty(this.inputMapFields)&&d.push(f.getRecordDefinition(c._lastRecordDefinitionName.replace(/^\"|\"$/g,"")).then(function(a){c._buildInspector(a)}));var l=c.prop("rxData/inputMap/queryExpression"),m=/\'([^']+)\'/g;return l&&!_.isEmpty(l.match(m))&&c.prop("rxData/inputMap/queryExpression",l.replace(m,"${queryExpression.$1}")),a.all(d)},setPrimaryRecordDefinition:function(a){var b=this;if(k=a,b.prop("rxData/outputMap")&&(k?f.getRecordDefinition(k).then(function(a){b.prop("rxInspector/inputs/rxData/outputMap/item/properties/assignTarget/options",null);var c=_.map(b._getFieldDefinitions(a),"name");c.unshift(""),b.prop("rxInspector/inputs/rxData/outputMap/item/properties/assignTarget/options",c)}):b.prop("rxInspector/inputs/rxData/outputMap/item/properties/assignTarget/options",[])),g.isSecurityLabelAction(b.prop("rxData/actionTypeName"))){var c=!e.tryParseJson(this.prop("rxData/inputMap/recordSource"),!0);c&&b._setSecurityLabel()}},_setRecordDefinitionName:function(a){var b=this,c=b.prop("rxData/actionTypeName");if(joint.shapes.rx.ActionElementInterface._setRecordDefinitionName.apply(this,arguments),g.isCreateOrUpdateRecordAction(c)||g.isGetRecordsByQueryAction(c)){var d=a?a.replace(/^\"|\"$/g,""):"";f.getRecordDefinition(d).then(function(c){var d=b.prop("rxData/inputMap"),e=b.inputMapFields?b.inputMapFields[_.keys(b.inputMapFields)[0]]:null;d=e?_.omit(d,function(a,b){return _.find(e,{name:b})}):d,d=_.assign(d,b._buildDataInputMap(c)),b.prop("rxData/inputMap",null,{silent:!0}),b.prop("rxData/inputMap",d),b._lastRecordDefinitionName=a,b._buildInspector(c)})}g.isSecurityLabelAction(c)&&b._setSecurityLabel(a)},_setSecurityLabel:function(a){var b=this.prop("rxData/inputMap/recordSource")?JSON.parse(this.prop("rxData/inputMap/recordSource")):null,c=b?a:k,d=this;d.prop("rxData/inputMap/securityLabel",""),d.prop("rxInspector/inputs/rxData/inputMap/securityLabel/options",null),c?f.getRecordDefinition(c.replace(/^\"|\"$/g,"")).then(function(a){d.prop("rxInspector/inputs/rxData/inputMap/securityLabel/options",d.getSecurityLabels(a.securityLabels)),d.trigger("rx:change:inputs",d)}):d.trigger("rx:change:inputs",d)},getSecurityLabels:function(a){return _(a).map(function(a){return{content:d(a.name),value:a.name}}).sort(function(a,b){return a.content.localeCompare(b.content)}).unshift({content:"",value:""}).value()},updateRecordDefinition:function(){this._lastRecordDefinitionName=k,this._setRecordDefinitionName(k)},getCurrentRecordDefinition:function(){return"false"===this.prop("rxData/inputMap/recordSource")?f.getRecordDefinition(k):joint.shapes.rx.ActionElementInterface.getCurrentRecordDefinition.apply(this,arguments)},getRecordDefinitionName:function(){return"false"===this.prop("rxData/inputMap/recordSource")?k:joint.shapes.rx.ActionElementInterface.getRecordDefinitionName.apply(this,arguments)},getCustomRecordSources:function(){return{currentRecord:"Current Record"}},supportDynamicQualification:function(a){return"rxData/inputMap/queryExpression"===a}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleCancelProcessElement",["$q","i18n","dialogs","RX_RULE_DEFINITION","RX_DEFINITION_PICKER","RX_INSPECTOR_SELECT_EXPRESSION_DROPDOWN","rxString","rxDesignerCache","rxDefaultExpressionConfigurator","rxRuleExpressionValidation",function(a,b,c,d,e,f,g,h,i,j){var k=/\$\{.*\}/,l=function(a){return a&&a.match(k)};return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.RuleCancelProcessView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.RuleShapeViewInterface),joint.shapes.rx.RuleCancelProcess=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.RuleShapeInterface).extend({_lastProcessDefinitionName:"",_lastSelectExpressionDropdownValue:"",defaults:joint.util.deepSupplement({type:"rx.RuleCancelProcess",content:"Cancel Process",size:{width:70,height:60},attrs:{path:{transform:"scale(0.3, 0.3)","ref-dy":-15},rect:{rx:4,ry:4},".body":{filter:{name:"dropShadow",args:{dx:0,dy:1.5,blur:1,color:"rgba(0, 0, 0, 0.25)"}}}}},joint.shapes.bpmn.Activity.prototype.defaults),elementCanvasSize:{width:90,height:60},initialize:function(a){joint.shapes.bpmn.Activity.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.prop("rxData/label",this.prop("rxData/name")),a&&a.rxData&&a.rxData.processDefinitionName&&(this._lastProcessDefinitionName=a.rxData.processDefinitionName,l(this._lastProcessDefinitionName)&&(this._lastSelectExpressionDropdownValue=f.dropDownOptionsValue.expression)),this._expressionConfigurator=new i(this)},getExpressionConfigurator:function(){return this._expressionConfigurator},_onChangeRxData:function(a,b,d){var e=this;b.processDefinitionName!==e._lastProcessDefinitionName&&(e._lastProcessDefinitionName?e._lastProcessDefinitionName&&!b.processDefinitionName&&c.confirm("Warning!","Process To Cancel and Input Map parameters will be cleared. Do you want to continue?").result.then(function(){e._lastProcessDefinitionName=b.processDefinitionName,e.prop("rxData/processContextKey","",{silent:!0}),e.prop("rxData/cancelReason","",{silent:!0}),e._lastSelectExpressionDropdownValue=e.selectExpressionDropdownValue,e.trigger("rx:change:inputs",e)},function(){e.prop("rxData/processDefinitionName",e._lastProcessDefinitionName),e.selectExpressionDropdownValue=e._lastSelectExpressionDropdownValue}):(e._lastProcessDefinitionName=b.processDefinitionName,e._lastSelectExpressionDropdownValue=e.selectExpressionDropdownValue,e.trigger("rx:change:inputs",e)))},updateInspectorConfig:function(){return l(this.prop("rxData/processDefinitionName"))&&(this.selectExpressionDropdownValue=f.dropDownOptionsValue.expression),a.when()},persist:function(a){var b=joint.shapes.rx.RuleShapeInterface.persist.apply(this,arguments);return b.name=this.prop("rxData/label"),b&&(b.processDefinitionName=b.processDefinitionName.trim()),b}}),{getRxData:function(a){var b={resourceType:d.ruleElementResourceTypes.cancelProcessAction,name:"Cancel Process",processDefinitionName:""};return a&&_.assign(b,a),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)};return{inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},processDefinitionName:{label:"Process To Cancel",type:"rx-inspector-select-expression-dropdown",group:"properties",index:2,definitionType:e.definitionTypes.process.type,attrs:b({label:{"class":"required"}})},processContextKey:{label:"Context Key",type:"rx-inspector-expression-node-field",group:"inputMap",index:1,attrs:b({label:{"class":"required"}}),when:{ne:{"rxData/processDefinitionName":""}}},cancelReason:{label:"Cancellation Reason",type:"rx-inspector-expression-node-field",group:"inputMap",index:2,attrs:b(),when:{ne:{"rxData/processDefinitionName":""}}}}},groups:{properties:{label:"General",index:1},inputMap:{label:"Input Map",index:2}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0;return{rxData:this.getRxData(a),rxInspector:this.getRxInspector(d)}},getShape:function(a){var b=!!a;return new joint.shapes.rx.RuleCancelProcess(this.getRxConfig(a),b)},validate:function(b,c){var d=[],e=a.defer(),f=[],i=b.name||"Cancel Process";if(g.isEmptySafe(b.name)&&d.push({elementId:b.id,elementName:i,propertyName:"label",type:"error",message:"Label cannot be blank."}),g.isEmptySafe(b.processDefinitionName))d.push({elementId:b.id,elementName:i,propertyName:"processDefinitionName",type:"error",message:"Process To Cancel cannot be blank."});else{if(_.includes(b.processDefinitionName,"${ruleContext.")&&!_.isEmpty(c.recordDefinitionNames)){var k=h.getRecordDefinition(c.recordDefinitionNames[0]);f.push(k),k.then(function(a){var c=j.validateExpression(b.processDefinitionName,a);_.isEmpty(c)||d.push({elementId:b.id,elementName:i,propertyName:"processDefinitionName",type:"error",message:"Process To Cancel expression uses fields that are not in the primary record definition. Field IDs: "+c.join()+"."})})}if(g.isEmptySafe(b.processContextKey))d.push({elementId:b.id,elementName:i,propertyName:"processContextKey",type:"error",message:"Context Key cannot be blank."});else if(_.includes(b.processContextKey,"${ruleContext.")&&!_.isEmpty(c.recordDefinitionNames)){var l=h.getRecordDefinition(c.recordDefinitionNames[0]);f.push(l),l.then(function(a){var c=j.validateExpression(b.processContextKey,a);_.isEmpty(c)||d.push({elementId:b.id,elementName:i,propertyName:"processContextKey",type:"error",message:"Context Key expression uses fields that are not in the primary record definition. Field IDs: "+c.join()+"."})})}if(_.includes(b.cancelReason,"${ruleContext.")&&!_.isEmpty(c.recordDefinitionNames)){var m=h.getRecordDefinition(c.recordDefinitionNames[0]);f.push(m),m.then(function(a){var c=j.validateExpression(b.cancelReason,a);_.isEmpty(c)||d.push({elementId:b.id,elementName:i,propertyName:"cancelReason",type:"error",message:"Cancel Reason expression uses fields that are not in the primary record definition. Field IDs: "+c.join()+"."})})}}return _.isEmpty(f)?e.resolve(d):a.all(f)["finally"](function(){e.resolve(d)}),e.promise}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleDefinitionElement",["$q","$filter","rxGUID","rxBundleCache","rxDesignerCache","definitionNameFilter","rxRuleDefinitionResource","RX_RULE_DESIGNER","RX_RECORD_DEFINITION","RX_DESIGNER",function(a,b,c,d,e,f,g,h,i,j){function k(a){var c=_.cloneDeep(_.pick(a,["name","description","isEnabled","recordDefinitionNames","overlayDescriptor","overlayGroupId","allowOverlay"]));return c.name=b("definitionName")(c.name,"decode"),c}return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.RuleModelView=joint.dia.ElementView.extend({}),joint.shapes.rx.RuleModel=joint.dia.Element.extend({markup:"<g></g>",defaults:{type:"rx.RuleModel",position:{x:0,y:0},size:{width:1,height:1}},isRemovable:!1,initialize:function(a){a&&a.id||this.set("id",c.generate(),{silent:!0})},setPrimaryRecordDefinition:angular.noop,getParentId:function(){return!1},isLink:function(){return!1},setRxData:function(a){this.set("rxData",k(a),{silent:!0})},persist:function(a){var c=_.cloneDeep(this.get("rxData"));if(a.lastUpdateTime)c.name=a.name;else{var e=d.getBundleId(),f=e?e+":":"";c.name=f+b("definitionName")(c.name,"encode")}return _.assign(a,c),null},canPersist:function(){return!1},getAutoCompleteList:function(b){var c=this.prop("rxData/recordDefinitionNames/0");return b.fieldPath&&c?e.getRecordDefinition(c).then(function(c){var d=_.find(c.fieldDefinitions,function(a){return a.id===Number(b.fieldPath)});return d&&d.resourceType===i.dataTypes.selection.resourceType?_(d.optionNamesById).values().map(function(a){return{id:a,label:a}}).value():a.when([])}):a.when([])},getBBox:function(){return joint.g.rect(0,0,0,0)}}),{getModel:function(a){var b=k(a.plainRuleDefinition),c=a.readonly===!0,d=function(a){var b=c?{input:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},b,a)},e=function(){return d({label:{"class":"required"}})},f={inputs:{rxData:{name:{label:"Name",type:"text",group:"properties",attrs:_.assign({maxlength:254,input:{readonly:!!a.plainRuleDefinition.lastUpdateTime}},e())},description:{label:"Description",type:"textarea",group:"properties",attrs:d(),when:c?{ne:{"rxData/description":""}}:void 0},overlayDescriptor:{label:"",type:"rx-customization-perspective",group:"properties",definitionName:a.plainRuleDefinition.name,customizationOptionsDirective:"rx-rule-customization-options",revertPrompt:"Are you sure you want to revert customization for selected rule definition?",revertCommand:g.revertCustomization,revertCompleteEventName:j.events.refreshDesigner},isEnabled:{label:"Enabled",type:"toggle",group:"properties",defaultValue:!0,attrs:d()},recordDefinitionNames:{type:"rx-inspector-rule-record-definitions-field",group:"recordDefinitions",attrs:e()}}},groups:{properties:{label:"General",index:1},recordDefinitions:{label:"Record Definitions",index:2}}};return new joint.shapes.rx.RuleModel({rxData:b,rxInspector:f})},validate:function(c){var d=[],e=b("definitionName")(c.name,"decode");return _.isEmpty(_.trim(e))&&(e="Rule Definition",d.push({elementId:c.id,elementName:e,propertyName:"name",type:"error",message:"Rule Name cannot be blank."})),j.validDefinitionNameRegex.test(e)||d.push({elementId:c.id,elementName:e,propertyName:"name",type:"error",message:"Rule Name can only contain alphanumeric characters, spaces, hyphen and underscore."}),_.isEmpty(c.recordDefinitionNames)&&(e="Rule Definition",d.push({elementId:c.id,elementName:e,propertyName:"recordDefinitionNames",type:"error",message:"A Record Definition must be selected."})),_.isEmpty(c.actions)&&(e="Rule Definition",d.push({elementId:c.id,elementName:e,propertyName:null,type:"error",message:"Rule must have at least one action."})),_.some(c.recordDefinitionNames,function(a){return _.isEmpty(_.trim(a))})&&d.push({elementId:c.id,elementName:e,propertyName:"recordDefinitionNames",type:"error",message:"Record Definition cannot be blank."}),a.when(d)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleLinkElement",function(){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.RuleLinkView=joint.dia.LinkView,joint.shapes.rx.RuleLink=joint.dia.Link.extend({defaults:joint.util.deepSupplement({attrs:{".marker-source":{style:"display:none;"},".marker-target":{style:"display:none;"},".connection-wrap":{style:"display:none;"},".link-tools":{style:"display:none;"},".marker-arrowheads":{style:"display:none;"}}},joint.dia.Link.prototype.defaults)}),{getShape:function(){return new joint.shapes.rx.RuleLink}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleQualificationElementExpressionConfigurator",["$q","RX_EXPRESSION_EDITOR","rxDefaultExpressionConfigurator",function(a,b,c){return c.extend({initialize:function(a){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments);var c=_.cloneDeep(b.operators.all);c.unshift([{displayValue:"NEWVALUE()",contentValue:"NEWVALUE()",buttonStyle:"function",showTooltip:"true",tooltipTitle:"NEWVALUE(Field)",tooltipContent:"Returns the transaction(TR) value for a field.\nInsert Field name as the function parameter."},{displayValue:"OLDVALUE()",contentValue:"OLDVALUE()",buttonStyle:"function",showTooltip:"true",tooltipTitle:"OLDVALUE(Field)",tooltipContent:"Returns the database(DB) value for a field.\nInsert Field name as the function parameter."}]);var d={regExp:/^rxData\/expression$/g,operators:c};this.registerExpressionConfig(d)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleQualificationElement",["$q","i18n","rxRuleExpressionValidation","rxDesignerCache","RX_RULE_DEFINITION","rxRuleQualificationElementModel",function(a,b,c,d,e,f){return{getRxData:function(a){var b=a||{},c={resourceType:e.ruleElementResourceTypes.qualification,expression:b.expression||"",name:b.name||void 0};return c},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},textarea:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)};b();return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b()},expression:{label:"Expression",type:"rx-inspector-expression-node-field",group:"properties",index:2,when:{regex:{"rxData/recordDefinitionName":/^(?=\s*\S).*$/}},attrs:b({label:{"class":"required"}})}}},groups:{properties:{label:"General",index:1}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0;return{rxData:this.getRxData(a),rxInspector:this.getRxInspector(d)}},getShape:function(a){var b=this.getRxConfig(a);return new joint.shapes.rx.RuleQualification(b)},registerValidators:function(a){a.validate("add",function(b,c,d){var e=a.attributes.commandManager.graph,f=e.getCell(c.data.id);if("rx.RuleQualification"==f.get("type")){var g=_.filter(e.get("cells").models,function(a){return"rx.RuleQualification"===a.get("type")});if(g.length>1)return void d("Rule must have a single Qualification element.")}})},validate:function(a,b){var e=[];return d.getRecordDefinition(b.recordDefinitionNames[0]).then(function(d){if(_.isEmpty(_.trim(a.expression)))e.push({elementId:a.id,elementName:a.name||"Qualification",propertyName:"expression",type:"error",message:"Expression cannot be blank."});else if(_.includes(a.expression,"${ruleContext.")&&!_.isEmpty(b.recordDefinitionNames)){var f=c.validateExpression(a.expression,d);_.isEmpty(f)||e.push({elementId:a.id,elementName:a.name||"Qualification",propertyName:"expression",type:"error",message:"Expression uses fields that are not in the primary record definition. Field IDs: "+f.join()+"."})}return e})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleQualificationElementModel",["$q","i18n","rxRuleExpressionValidation","rxDesignerCache","RX_RULE_DESIGNER","RX_EXPRESSION_EDITOR","rxRuleShapeInterface","rxRuleQualificationElementExpressionConfigurator","rxRuleShapeViewInterface",function(a,b,c,d,e,f,g,h,i){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.RuleQualificationView=joint.dia.ElementView.extend(joint.shapes.rx.RuleShapeViewInterface),joint.shapes.rx.RuleQualification=joint.shapes.bpmn.Gateway.extend(joint.shapes.rx.RuleShapeInterface).extend({defaults:joint.util.deepSupplement({type:"rx.RuleQualification",icon:"qualification",breadcrumbLabel:"Qualification",size:{width:60,height:60},attrs:{".label":{fill:"gray",text:void 0,style:{"font-weight":"bold"}},image:{height:32,width:32,transform:"translate(24,24)"},".body":{filter:{name:"dropShadow",args:{dx:0,dy:1.5,blur:1,color:"rgba(0, 0, 0, 0.25)"}}}}},joint.shapes.bpmn.Gateway.prototype.defaults),labelPath:"attrs/.label/text",clearLabel:!0,initialize:function(a){joint.shapes.bpmn.Gateway.prototype.initialize.apply(this,arguments),this._expressionConfigurator=new h(this),this.prop("rxData/label",this.prop("rxData/name"))},getExpressionConfigurator:function(){return this._expressionConfigurator},persist:function(a){var b=_.omit(this.prop("rxData"),"label","resourceType");return b.id=this.get("id"),a.qualification=b,a.qualification.name=this.prop("rxData/label"),a.qualification},supportDynamicQualification:function(a){return"rxData/expression"===a}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleShapeViewInterface",function(){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.RuleShapeViewInterface={initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments)}},{}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleShapeInterface",function(){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.RuleShapeInterface={labelPath:"content",initialize:function(a,b){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.on("change:position",this._onChangePosition),this.on("change:rxData",this._onCellChanged),this.get("rxData").label=this.prop(this.labelPath),b&&this.set("size",this.elementCanvasSize)},_onCellChanged:function(a){a.labelPath&&a.changedAttributes().rxData&&a.prop(a.labelPath,a.changedAttributes().rxData.label)},setPrimaryRecordDefinition:angular.noop,canBeEmbedded:_.constant(!1),updateContent:function(){var a=this.get("content"),b=this.id?a:_.trunc(a,{length:20}),c=b===a?"":a;joint.env.test("svgforeignobject")?this.attr({".content":{html:b,title:c}}):this.attr({".content":{text:b,title:c}})},persist:function(a){var b=_.omit(this.prop("rxData"),"label"),c=this.get("id"),d=_.find(a.actions,{id:c});return d?_.assign(d,b):(b.id=c,d=b,a.actions.push(d)),d;
},canPersist:function(){return!0}},{}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleSignalProcessElement",["$q","i18n","dialogs","RX_RULE_DESIGNER","RX_RULE_DEFINITION","RX_EXPRESSION_EDITOR","RX_RECORD_DEFINITION","RX_DEFINITION_PICKER","rxDesignerCache","rxRuleExpressionValidation","rxDefaultExpressionConfigurator","definitionNameFilter","rxRuleShapeInterface","rxRuleShapeViewInterface","rxProcessElementSearch",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=function(a){var b=o.filter(a,{resourceType:d.processElementResourceTypes.receiveTask});return _(b).map(function(a){return{content:l(a.name),value:a.name}}).sort(function(a,b){return a.content.localeCompare(b.content)}).unshift({content:"",value:""}).value()},q=function(a,b){var c=o.filter(a,{resourceType:d.processElementResourceTypes.receiveTask}),e=b?_.find(c,{name:b}):null;return e?e.signalParams:[]};return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.RuleSignalProcessView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.RuleShapeViewInterface),joint.shapes.rx.RuleSignalProcess=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.RuleShapeInterface).extend({_lastProcessDefinitionName:"",_lastReceiveTaskName:"",defaults:joint.util.deepSupplement({type:"rx.RuleSignalProcess",content:"Signal Process",size:{width:70,height:60},attrs:{path:{transform:"scale(0.3, 0.3)","ref-dy":-15},rect:{rx:4,ry:4},".body":{filter:{name:"dropShadow",args:{dx:0,dy:1.5,blur:1,color:"rgba(0, 0, 0, 0.25)"}}}}},joint.shapes.bpmn.Activity.prototype.defaults),elementCanvasSize:{width:90,height:60},initialize:function(a){joint.shapes.bpmn.Activity.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),a&&a.rxData&&a.rxData.processDefinitionName&&(this._lastProcessDefinitionName=a.rxData.processDefinitionName,this._lastReceiveTaskName=a.rxData.receiveTaskName,this.prop("rxData/label",this.prop("rxData/name"))),this._expressionConfigurator=new k(this)},getExpressionConfigurator:function(){return this._expressionConfigurator},_onChangeRxData:function(a,b,d){var e=this;b.processDefinitionName!==e._lastProcessDefinitionName&&(e._lastProcessDefinitionName?e._lastProcessDefinitionName!==b.processDefinitionName&&c.confirm("Warning!","Receive Task Name and Input Map parameters will be cleared. Do you want to continue?").result.then(function(){e._setProcess(b.processDefinitionName)},function(){e.prop("rxData/processDefinitionName",e._lastProcessDefinitionName)}):e._setProcess(b.processDefinitionName)),b.receiveTaskName!==e._lastReceiveTaskName&&(b.receiveTaskName||e._lastReceiveTaskName)&&(e._lastReceiveTaskName?e._lastReceiveTaskName!=b.receiveTaskName&&c.confirm("Warning!","Input Map parameters will be cleared. Do you want to continue?").result.then(function(){e._setReceiveTaskName(b.receiveTaskName)},function(){e.prop("rxData/receiveTaskName",e._lastReceiveTaskName)}):e._setReceiveTaskName(b.receiveTaskName))},_setReceiveTaskName:function(a){var b=this;b._lastReceiveTaskName=a,a?i.getProcessDefinition(b.prop("rxData/processDefinitionName")).then(function(a){b._rebuildInputMap(a),b.trigger("rx:change:inputs",b)}):(b._rebuildInputMap(),b.trigger("rx:change:inputs",b))},_setProcess:function(a){var b=this;b._lastProcessDefinitionName=a,a?i.getProcessDefinition(a).then(function(a){b._lastReceiveTaskName="",b.prop("rxData/receiveTaskName","",{silent:!0}),b.prop("rxInspector/inputs/rxData/receiveTaskName/options",null),b.prop("rxInspector/inputs/rxData/receiveTaskName/options",p(a)),b._rebuildInputMap(),b.trigger("rx:change:inputs",b)}):(b._lastReceiveTaskName="",b.prop("rxData/receiveTaskName","",{silent:!0}),b.prop("rxInspector/inputs/rxData/receiveTaskName/options",null),b._rebuildInputMap(),b.trigger("rx:change:inputs",b))},_initInputMap:function(a){var b=angular.copy(this.get("rxInspector"));b.inputs.rxData.inputMap=this._buildInspectorInputMap(a),this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0})},_rebuildInputMap:function(a){var b=angular.copy(this.get("rxInspector")),c=angular.copy(this.get("rxData"));a?(b.inputs.rxData.inputMap=this._buildInspectorInputMap(a),c.inputMap=this._buildDataInputMap(a)):(delete b.inputs.rxData.inputMap,c.inputMap=[]),this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0}),this.unset("rxData",{silent:!0}),this.prop("rxData",c,{ignoreCommandManager:!0})},_buildDataInputMap:function(a){var b={},c=this.prop("rxData/receiveTaskName"),d=q(a,c);return d.forEach(function(a){b[a]=""}),b},_buildInspectorInputMap:function(a){var b={},c=this.prop("rxData/receiveTaskName"),d=q(a,c);return d&&d.forEach(function(a){var c={label:a,type:"rx-inspector-expression-node-field",group:"inputMap"};b[a]=c}),b},persist:function(a){var b=joint.shapes.rx.RuleShapeInterface.persist.apply(this,arguments);if(b.name=this.prop("rxData/label"),b){var c=[],d=angular.copy(b.correlationId);for(var f in b.inputMap){var g=b.inputMap[f];g&&c.push({assignTarget:f,expression:g})}b.processDefinitionName=b.processDefinitionName.trim(),b.inputMap=c,delete b.correlationId,b.correlation={resourceType:e.ruleElementResourceTypes.signalProcessAutomaticCorrelation,processCorrelationId:d}}return b},updateInspectorConfig:function(){var b=this,c=a.defer(),d=this.prop("rxData/correlation");return b._lastProcessDefinitionName?i.getProcessDefinition(b._lastProcessDefinitionName).then(function(a){b.prop("rxInspector/inputs/rxData/receiveTaskName/options",p(a)),b._initInputMap(a),c.resolve()}):c.resolve(),this.prop("rxData/correlationId")||_.isUndefined(d)||this.prop("rxData/correlationId",d.processCorrelationId),c.promise}}),{getRxData:function(a){var b={resourceType:e.ruleElementResourceTypes.signalProcessInstanceAction,name:"Signal Process",processDefinitionName:"",receiveTaskName:"",inputMap:[]};return a&&(_.assign(b,a),b.inputMap={},a.inputMap.forEach(function(a){b.inputMap[a.assignTarget]=a.expression})),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)};return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},processDefinitionName:{label:"Process",type:"rx-inspector-definition-picker",definitionType:h.definitionTypes.process.type,group:"properties",index:3,attrs:b({label:{"class":"required"}})},receiveTaskName:{label:"Receive Task",type:"select",options:[],group:"properties",index:3,attrs:b(),when:{ne:{"rxData/processDefinitionName":""}}},correlationId:{label:"Correlation ID",type:"rx-inspector-expression-node-field",group:"messageCorrelation",index:5,attrs:b({label:{"class":"required"}})}}},groups:{properties:{label:"General",index:1},inputMap:{label:"Input Map",index:2},messageCorrelation:{label:"Message Correlation",index:3}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0;return{rxData:this.getRxData(a),rxInspector:this.getRxInspector(d)}},getShape:function(a){var b=!!a;return new joint.shapes.rx.RuleSignalProcess(this.getRxConfig(a),b)},validate:function(b,c){var d=[],e=a.defer(),f=[],g=b.label||"Signal Process";if(_.isEmpty(_.trim(b.name))&&d.push({elementId:b.id,elementName:g,propertyName:"label",type:"error",message:"Label cannot be blank."}),_.isEmpty(_.trim(b.processDefinitionName))?d.push({elementId:b.id,elementName:g,propertyName:"processDefinitionName",type:"error",message:"Process Definition cannot be blank."}):b.receiveTaskName&&!_.isEmpty(b.inputMap)&&_.each(b.inputMap,function(a){if(_.includes(a.expression,"${ruleContext.")&&!_.isEmpty(c.recordDefinitionNames)){var e=i.getRecordDefinition(c.recordDefinitionNames[0]);f.push(e),e.then(function(c){var e=j.validateExpression(a.expression,c);_.isEmpty(e)||d.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/"+a.assignTarget,type:"error",message:a.assignTarget+" expression uses fields that are not in the primary record definition. Field IDs: "+e.join()+"."})})}}),_.isUndefined(b.correlation.processCorrelationId)||!b.correlation.processCorrelationId)d.push({elementId:b.id,elementName:g,propertyName:"correlationId",type:"error",message:"Correlation ID cannot be blank."});else if(_.includes(b.correlation.processCorrelationId,"${ruleContext.")&&!_.isEmpty(c.recordDefinitionNames)){var h=i.getRecordDefinition(c.recordDefinitionNames[0]);f.push(h),h.then(function(a){var c=j.validateExpression(b.correlation.processCorrelationId,a);_.isEmpty(c)||d.push({elementId:b.id,elementName:b.name,propertyName:"Correlation ID",type:"error",message:"Correlation ID expression uses fields that are not in the primary record definition. Field IDs: "+c.join()+"."})})}return _.isEmpty(f)?e.resolve(d):a.all(f)["finally"](function(){e.resolve(d)}),e.promise}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleStartProcessElementExpressionConfigurator",["$q","rxDesignerCache","RX_EXPRESSION_EDITOR","rxDefaultExpressionConfigurator",function(a,b,c,d){var e=function(a){return a&&a.match(f)},f=/\$\{.*\}/;return d.extend({initialize:function(d){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments);var f={regExp:/^(rxData\/outputMap\/)[0-9]+(\/expression)$/g,updateDataDictionary:function(c,f){var g=a.defer();_.remove(c,function(a){return!("General"===a.label||"Record Definition Field"===a.type)});var h=d.prop("rxData/processDefinitionName");return e(h)&&(d.prop("rxData/sampleProcessDefinitionName")?h=d.prop("rxData/sampleProcessDefinitionName"):g.resolve(c)),h?b.getProcessDefinition(h).then(function(a){if(a&&!_.isEmpty(a.outputParams)){var b=[];_.each(a.outputParams,function(a){b.push({icon:"d-icon-arrow_chart",type:"Output Map Entry",label:a.name,value:"${actionResult."+a.name+"}"})}),c.unshift({label:d.get("content"),children:b})}g.resolve(c)}):g.resolve(c),g.promise},operators:c.operators.math};this.registerExpressionConfig(f)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleStartProcessElement",["$q","i18n","dialogs","RX_RULE_DEFINITION","RX_EXPRESSION_EDITOR","RX_RECORD_DEFINITION","rxDesignerCache","rxRuleExpressionValidation","RX_DEFINITION_PICKER","rxRuleStartProcessElementModel","rxString",function(a,b,c,d,e,f,g,h,i,j,k){function l(a){return"REQUIRED"===a.fieldOption&&(null===a.defaultValue||_.isUndefined(a.defaultValue))}var m=/\$\{.*\}/,n=function(a){return a&&a.match(m)};return{getRxData:function(a){var b={resourceType:d.ruleElementResourceTypes.startProcessAction,name:"Start Process",processDefinitionName:"",inputMap:[],sampleProcessDefinitionName:""};return a&&(_.assign(b,a),b.inputMap={},a.inputMap.forEach(function(a){b.inputMap[a.assignTarget]=a.expression})),b},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)};return{readonly:a,inputs:{rxData:{label:{label:"Label",type:"text",group:"properties",index:1,attrs:b({label:{"class":"required"}})},processDefinitionName:{label:"Process To Start",type:"rx-inspector-select-expression-dropdown",group:"properties",index:2,definitionType:i.definitionTypes.process.type,attrs:b({label:{"class":"required"}})},sampleProcessDefinitionName:{label:"Sample Process",type:"rx-inspector-definition-picker",definitionType:i.definitionTypes.process.type,group:"properties",index:3,attrs:b(),when:{regex:{"rxData/processDefinitionName":m}}},outputMap:{type:"list",group:"outputMap",index:4,item:{type:"object",properties:{assignTarget:{type:"select",label:"Name",options:[],attrs:b({label:{"class":"required"}})},expression:{type:"rx-inspector-expression-node-field",label:"Source",attrs:b({label:{"class":"required"}})}}},when:{eq:{_calledProcessHasOutputMap:!0}}}}},groups:{properties:{label:"General",index:1},inputMap:{label:"Input Map",index:2},outputMap:{label:"Output Map",index:3}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0;return{rxData:this.getRxData(a),rxInspector:this.getRxInspector(d)}},getShape:function(a){var b=!!a;return new joint.shapes.rx.RuleStartProcess(this.getRxConfig(a),b)},validate:function(b,c){var d=[],e=a.defer(),f=b.outputMap||[],i=[];if(_.isEmpty(_.trim(b.name))&&d.push({elementId:b.id,elementName:"Start Process",propertyName:"label",type:"error",message:"Label cannot be blank."}),_.each(f,function(a,c){_.isEmpty(_.trim(a.assignTarget))&&d.push({elementId:b.id,elementName:b.name,propertyName:"outputMap/"+c+"/assignTarget",type:"error",message:'Output Map Parameter\'s "Name" cannot be blank.'}),_.isEmpty(_.trim(a.expression))&&d.push({elementId:b.id,elementName:b.name,propertyName:"outputMap/"+c+"/expression",type:"error",message:'Output Map Parameter\'s "Source" cannot be blank.'})}),_.isEmpty(_.trim(b.processDefinitionName)))d.push({elementId:b.id,elementName:b.name,propertyName:"processDefinitionName",type:"error",message:"Process To Start cannot be blank."});else{var j=b.processDefinitionName;if(n(b.processDefinitionName)&&(j=b.sampleProcessDefinitionName?b.sampleProcessDefinitionName:null,_.includes(b.processDefinitionName,"${ruleContext.")&&!_.isEmpty(c.recordDefinitionNames))){var m=g.getRecordDefinition(c.recordDefinitionNames[0]);i.push(m),m.then(function(a){var c=h.validateExpression(b.processDefinitionName,a);_.isEmpty(c)||d.push({elementId:b.id,elementName:b.name,propertyName:"processDefinitionName",type:"error",message:"Process To Start expression uses fields that are not in the primary record definition. Field IDs: "+c.join()+"."})})}if(j){var o=g.getProcessDefinition(j);i.push(o),o.then(function(a){_(a.inputParams).filter(l).pluck("name").each(function(a){var c=_(b.inputMap).find({assignTarget:a});c&&!_.isEmpty(_.trim(c.expression))||d.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/"+a,type:"error",message:'Input Map Property "'+a+'" cannot be blank.'})}).value()}),b.inputMap&&_.each(b.inputMap,function(a){if(_.includes(a.expression,"${ruleContext.")&&!_.isEmpty(c.recordDefinitionNames)){var e=g.getRecordDefinition(c.recordDefinitionNames[0]);i.push(e),e.then(function(c){var e=h.validateExpression(a.expression,c);_.isEmpty(e)||d.push({elementId:b.id,elementName:b.name,propertyName:"inputMap/"+a.assignTarget,type:"error",message:k.prettify(a.assignTarget)+" expression uses fields that are not in the primary record definition. Field IDs: "+e.join()+"."})})}})}}return _.isEmpty(i)?e.resolve(d):a.all(i)["finally"](function(){e.resolve(d)}),e.promise}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleStartProcessElementModel",["$q","i18n","dialogs","RX_RULE_DESIGNER","RX_EXPRESSION_EDITOR","RX_RECORD_DEFINITION","RX_INSPECTOR_SELECT_EXPRESSION_DROPDOWN","rxDesignerCache","rxRuleExpressionValidation","rxExpressionEditorUtils","definitionNameFilter","rxRuleShapeInterface","rxRuleShapeViewInterface","rxRuleStartProcessElementExpressionConfigurator",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(a,b){return a.name.localeCompare(b.name)}function p(a){return"REQUIRED"===a.fieldOption&&(null===a.defaultValue||_.isUndefined(a.defaultValue))}var q=null;return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.RuleStartProcessView=joint.shapes.bpmn.ActivityView.extend(joint.shapes.rx.RuleShapeViewInterface),joint.shapes.rx.RuleStartProcess=joint.shapes.bpmn.Activity.extend(joint.shapes.rx.RuleShapeInterface).extend({_lastProcessDefinitionName:"",_lastSelectExpressionDropdownValue:"",_lastSampleProcessDefinition:null,defaults:joint.util.deepSupplement({type:"rx.RuleStartProcess",content:"Start Process",size:{width:70,height:60},attrs:{path:{transform:"scale(0.3, 0.3)","ref-dy":-15},rect:{rx:4,ry:4},".body":{filter:{name:"dropShadow",args:{dx:0,dy:1.5,blur:1,color:"rgba(0, 0, 0, 0.25)"}}}}},joint.shapes.bpmn.Activity.prototype.defaults),elementCanvasSize:{width:90,height:60},initialize:function(a){var b=this;if(joint.shapes.bpmn.Activity.prototype.initialize.apply(b,arguments),b.prop("rxData/label",b.prop("rxData/name")),b.listenTo(b,"change:rxData",b._onChangeRxData),b._expressionConfigurator=new n(b),a&&a.rxData){var c;a.rxData.processDefinitionName&&(b._lastProcessDefinitionName=a.rxData.processDefinitionName,j.isValidDynamicExpression(b._lastProcessDefinitionName)?(b._lastSelectExpressionDropdownValue=g.dropDownOptionsValue.expression,c=a.rxData.sampleProcessDefinitionName):c=a.rxData.processDefinitionName,h.getProcessDefinition(c).then(function(a){b.set("_calledProcessHasOutputMap",a&&!_.isEmpty(a.outputParams),{ignoreCommandManager:!0})})),a.rxData.sampleProcessDefinitionName&&(b._lastSampleProcessDefinition=a.rxData.sampleProcessDefinitionName)}},getExpressionConfigurator:function(){return this._expressionConfigurator},_onChangeRxData:function(a,b){var d=this,e=j.isValidDynamicExpression(b.processDefinitionName);b.processDefinitionName?d._lastProcessDefinitionName?d._lastProcessDefinitionName==b.processDefinitionName||e||(d._lastCalledProcessHasInputOrOutputParameter?c.confirm("Warning!","Input Map and Output Map parameters will be cleared. Do you want to continue?").result.then(function(){d._setProcess(b.processDefinitionName),d._lastSelectExpressionDropdownValue=d.selectExpressionDropdownValue},function(){d.prop("rxData/processDefinitionName",d._lastProcessDefinitionName)}):d._setProcess(b.processDefinitionName)):(d._setProcess(b.processDefinitionName),d._lastSelectExpressionDropdownValue=d.selectExpressionDropdownValue):d._lastProcessDefinitionName&&!b.processDefinitionName&&c.confirm("Warning!","Process To Start, Input Map and Output Map parameters will be cleared. Do you want to continue?").result.then(function(){d._setProcess(b.processDefinitionName),d._lastSelectExpressionDropdownValue=d.selectExpressionDropdownValue},function(){d.prop("rxData/processDefinitionName",d._lastProcessDefinitionName),d.selectExpressionDropdownValue=d._lastSelectExpressionDropdownValue}),e&&b.sampleProcessDefinitionName?d._lastSampleProcessDefinition?b.sampleProcessDefinitionName!=d._lastSampleProcessDefinition&&(d._lastSampleProcessHasInputOrOutputParameter?c.confirm("Warning!","Input Map and Output Map parameters will be cleared. Do you want to continue?").result.then(function(){d._setSampleProcess(b.sampleProcessDefinitionName)},function(){d.prop("rxData/sampleProcessDefinitionName",d._lastSampleProcessDefinition)}):d._setSampleProcess(b.sampleProcessDefinitionName)):d._setSampleProcess(b.sampleProcessDefinitionName):e&&d._lastSampleProcessDefinition&&c.confirm("Warning!","Input Map and Output Map parameters will be cleared. Do you want to continue?").result.then(function(){d._setSampleProcess(b.sampleProcessDefinitionName)},function(){d.prop("rxData/sampleProcessDefinitionName",d._lastSampleProcessDefinition)})},_setSampleProcess:function(a){var b=this;b._lastSampleProcessDefinition=a,h.getProcessDefinition(a).then(function(a){b.prop("rxData/outputMap",null,{silent:!0}),b.prop("rxData/outputMap",[],{silent:!0}),b.set("_calledProcessHasOutputMap",a&&!_.isEmpty(a.outputParams),{ignoreCommandManager:!0}),b._rebuildInputMap(a),b._lastSampleProcessHasInputOrOutputParameter=a&&!_.isEmpty(a.outputParams)||a&&!_.isEmpty(a.inputParams),b.trigger("rx:change:inputs",b)})},_setProcess:function(a){var b=this;b._lastProcessDefinitionName=a,h.getProcessDefinition(a).then(function(a){b.prop("rxData/outputMap",null,{silent:!0}),b.prop("rxData/outputMap",[],{silent:!0}),b.set("_calledProcessHasOutputMap",a&&!_.isEmpty(a.outputParams),{ignoreCommandManager:!0}),b._rebuildInputMap(a),b._lastCalledProcessHasInputOrOutputParameter=a&&!_.isEmpty(a.inputParams)||a&&!_.isEmpty(a.outputParams),b.trigger("rx:change:inputs",b)})},_initInputMap:function(a){var b=angular.copy(this.get("rxInspector"));b.inputs.rxData.inputMap=this._buildInspectorInputMap(a),this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0})},_rebuildInputMap:function(a){var b=angular.copy(this.get("rxInspector")),c=angular.copy(this.get("rxData"));a?(b.inputs.rxData.inputMap=this._buildInspectorInputMap(a),c.inputMap=this._buildDataInputMap(a)):(delete b.inputs.rxData.inputMap,c.inputMap=[]),this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",b,{silent:!0}),this.unset("rxData",{silent:!0}),this.prop("rxData",c,{ignoreCommandManager:!0})},_buildDataInputMap:function(a){var b={};return a.inputParams.forEach(function(a){b[a.name]=""}),b},_buildInspectorInputMap:function(a){var b={},c=_.sortBy(a.inputParams,function(a){return!p(a)});return c.forEach(function(a){var c={label:a.name,type:"rx-inspector-expression-node-field",group:"inputMap"};a.resourceType===f.dataTypes.selection.resourceType&&(c.type="rx-inspector-expression-input-select",c.options=_.map(a.optionNamesById,function(a,b){return{content:a,value:b}})),p(a)&&(c.attrs={label:{"class":"required"}}),b[a.name]=c}),b},updateInspectorConfig:function(){var b=this,c=[];return b._lastProcessDefinitionName&&(j.isValidDynamicExpression(b._lastProcessDefinitionName)?b._lastSampleProcessDefinition&&c.push(h.getProcessDefinition(b._lastSampleProcessDefinition).then(function(a){b._initInputMap(a)})):c.push(h.getProcessDefinition(b._lastProcessDefinitionName).then(function(a){b._initInputMap(a)}))),j.isValidDynamicExpression(this.prop("rxData/processDefinitionName"))&&(this.selectExpressionDropdownValue=g.dropDownOptionsValue.expression),a.all(c)},persist:function(a){var b=joint.shapes.rx.RuleShapeInterface.persist.apply(this,arguments);if(b.name=this.prop("rxData/label"),b){var c=[];for(var d in b.inputMap){var e=b.inputMap[d];e&&c.push({assignTarget:d,expression:e})}b.processDefinitionName=b.processDefinitionName.trim(),b.inputMap=c,b.sampleProcessDefinitionName=this.prop("rxData/sampleProcessDefinitionName")}return b},setPrimaryRecordDefinition:function(a){var b=this;q=a,q?h.getRecordDefinition(q).then(function(a){b.prop("rxInspector/inputs/rxData/outputMap/item/properties/assignTarget/options",null);var c=_.map(b._getFieldDefinitions(a),"name");c.unshift(""),b.prop("rxInspector/inputs/rxData/outputMap/item/properties/assignTarget/options",c)}):b.prop("rxInspector/inputs/rxData/outputMap/item/properties/assignTarget/options",[])},_getFieldDefinitions:function(a){return _(a.fieldDefinitions).filter(function(a){return"SYSTEM"!=a.fieldOption}).sort(o).value()}}),{}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleTriggerElement",["$q","$sce","i18n","dialogs","ruleIntervalTimerFilter","ruleIntervalDurationIsoFilter","scheduleTimerJsonFilter","scheduleTimerExpressionBuilderFilter","RX_RULE_DESIGNER","RX_RULE_DEFINITION","rxRuleShapeInterface","rxRuleShapeViewInterface",function(a,b,c,d,e,f,g,h,i,j,k,l){return joint.shapes.rx=joint.shapes.rx||{},joint.shapes.rx.RuleTriggerView=joint.dia.ElementView.extend(joint.shapes.rx.RuleShapeViewInterface),joint.shapes.rx.RuleTrigger=joint.shapes.bpmn.Event.extend(joint.shapes.rx.RuleShapeInterface).extend({defaults:joint.util.deepSupplement({type:"rx.RuleTrigger",content:"Trigger",size:{width:50,height:50},attrs:{".label":{fill:"gray",text:"Trigger",y:"-30"}}},joint.shapes.bpmn.Event.prototype.defaults),labelPath:"attrs/.label/text",clearLabel:!0,isRemovable:!1,lastTriggerType:null,lastTimerType:null,initialize:function(a){joint.shapes.bpmn.Event.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),a&&a.rxData.triggerType&&(this.lastTriggerType=a.rxData.triggerType),a&&a.rxData.timerType&&(this.lastTimerType=a.rxData.timerType),_.isEmpty(a.rxData.timeCriteria)||this.prop("rxData/scheduleDefinition")||this.prop("rxData/scheduleDefinition",h(g(angular.copy(this.prop("rxData/timeCriteria")),"json")))},_onChangeRxData:function(a,b){var c=this,f=a.prop("rxData/triggerType");if(f!==c.lastTriggerType&&(_.isEmpty(b.eventTypes)&&!c.hasTimeCriteria()&&_.isEmpty(b.poolNumber)?c._setTriggerType(f):d.confirm("Warning!","If you change Trigger type, the previously entered data will be deleted. Do you want to continue?").result.then(function(){c._setTriggerType(f)},function(){c.prop("rxData/triggerType",c.lastTriggerType)})),a.prop("rxData/resourceType")===j.ruleElementResourceTypes.triggerTimeElement)if(c.lastTimerType!==b.timerType)c.hasTimeCriteria()?d.confirm("Warning!","If you change from one Timer Type to another, the previously entered timer definition will be deleted. Do you want to continue?").result.then(function(){c._setTimerType(b.timerType)},function(){c.prop("rxData/timerType",c.lastTimerType)}):c._setTimerType(b.timerType);else{var g={resourceType:j.ruleElementResourceTypes.intervalTime};"Interval"===b.timerType&&b.intervalDefinition?g=_.assign(g,e(b.intervalDefinition,"json")):"Schedule"===b.timerType&&(g=b.timeCriteria||{},g.resourceType=j.ruleElementResourceTypes.scheduleTime),_.eq(g,a.prop("rxData/timeCriteria"))||(a.prop("rxData/timeCriteria",null,{silent:!0}),a.prop("rxData/timeCriteria",g))}},persist:function(a){var b=a.triggerEvent,c=this.get("rxData");return c.poolNumber=parseInt(c.poolNumber),b.id=this.get("id"),b.resourceType=c.resourceType,c.resourceType===j.ruleElementResourceTypes.triggerTimeElement?(delete b.eventTypes,delete b.executionOrder,b.poolNumber=c.poolNumber,b.timeCriteria=c.timeCriteria):c.resourceType===j.ruleElementResourceTypes.triggerElement&&(delete b.timeCriteria,delete b.poolNumber,b.eventTypes=this.get("rxData").eventTypes,b.executionOrder=this.get("rxData").executionOrder),b},_setTriggerType:function(a){this.lastTriggerType=a,"Timer Event"===a?(this.trigger("batch:start"),this.prop("rxData/resourceType",j.ruleElementResourceTypes.triggerTimeElement),this.prop("rxData/eventTypes",null),this.prop("rxData/executionOrder",null),this.prop("rxData/intervalDefinition",""),this.prop("rxData/scheduleDefinition",""),this.prop("rxData/timeCriteria",{resourceType:j.ruleElementResourceTypes.intervalTime}),this.prop("rxData/poolNumber",null),this.trigger("batch:stop")):"Record Event"===a&&(this.trigger("batch:start"),this.prop("rxData/resourceType",j.ruleElementResourceTypes.triggerElement),this.prop("rxData/timeCriteria",null),this.prop("rxData/intervalDefinition",null),this.prop("rxData/scheduleDefinition",""),this.prop("rxData/poolNumber",null),this.prop("rxData/timerType","Interval"),this.lastTimerType="Interval",this.prop("rxData/eventTypes",[]),this.prop("rxData/executionOrder",500),this.trigger("batch:stop"))},_setTimerType:function(a){this.lastTimerType=a,"Interval"===a?(this.prop("rxData/timeCriteria",null,{silent:!0}),this.prop("rxData/timeCriteria",{resourceType:j.ruleElementResourceTypes.intervalTime}),this.prop("rxData/scheduleDefinition",""),this.prop("rxData/intervalDefinition","")):"Schedule"===a&&(this.prop("rxData/timeCriteria",null,{silent:!0}),this.prop("rxData/timeCriteria",{resourceType:j.ruleElementResourceTypes.scheduleTime}),this.prop("rxData/intervalDefinition",null),this.prop("rxData/scheduleDefinition",""))},hasTimeCriteria:function(){return _.size(this.prop("rxData/timeCriteria"))>1}}),{getRxData:function(a){var b={resourceType:j.ruleElementResourceTypes.triggerElement,eventTypes:[],executionOrder:500,triggerType:"Record Event",timerType:"Interval",poolNumber:null};return a&&(_.assign(b,a),a.resourceType===j.ruleElementResourceTypes.triggerTimeElement&&(b.triggerType="Timer Event",a.timeCriteria.resourceType===j.ruleElementResourceTypes.scheduleTime?b.timerType="Schedule":b.intervalDefinition=f(b.timeCriteria))),b},getRxInspector:function(a){var c=function(b){var c=a?{input:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)};c();return{readonly:a,inputs:{rxData:{triggerType:{label:"Trigger Type",type:"select",options:["Record Event","Timer Event"],index:1,group:"properties",attrs:c()},eventTypes:{label:"Record Event",type:"rx-inspector-checkbox-multiselect-field",index:2,options:[i.eventTypes],group:"properties",attrs:c(),when:{eq:{"rxData/triggerType":"Record Event"}}},timerType:{label:"Timer Type",type:"select",options:["Interval","Schedule"],index:2,group:"properties",attrs:c(),when:{eq:{"rxData/triggerType":"Timer Event"}}},intervalDefinition:{label:"Interval Definition",type:"rx-inspector-interval-timer-field",index:2,group:"properties",inputType:"textarea",attrs:c({label:{"class":"required"}}),when:{and:[{eq:{"rxData/triggerType":"Timer Event"}},{eq:{"rxData/timerType":"Interval"}}]}},scheduleDefinition:{label:"Schedule Definition",type:"rx-inspector-schedule-timer-field",index:2,group:"properties",inputType:"textarea",attrs:c({label:{"class":"required"}}),when:{and:[{eq:{"rxData/triggerType":"Timer Event"}},{eq:{"rxData/timerType":"Schedule"}}]}},poolNumber:{label:"Pool Number",type:"rx-inspector-tooltip-field",tooltip:"To distribute the load, use escalation pools. The Pool Number should be between 1 and the number of threads configured for the escalation queue. If the Pool Number is blank or outside the valid range, the escalation is assigned to pool number 1 and is run by the first escalation thread.",inputType:"number",group:"options",index:3,attrs:c(),when:{eq:{"rxData/triggerType":"Timer Event"}}},executionOrder:{label:"Execution Order (1 - 1000)",type:"rx-inspector-tooltip-field",tooltip:{text:b.trustAsHtml("Execution Order determines the order in which rules will fire when there are two or more rules associated with the same Record Definition and Record Event.<br> <br> A rule with a smaller Execution Order number will fire before a rule with a larger Execution Order number.")},inputType:"number",group:"options",index:3,attrs:c({label:{"class":"required"}}),when:{eq:{"rxData/triggerType":"Record Event"}}}}},groups:{properties:{label:"General",index:1},options:{label:"Options",index:2}}}},getRxConfig:function(a,b,c){c=c||{};var d=c.readonly===!0;return{rxData:this.getRxData(a),rxInspector:this.getRxInspector(d)}},getShape:function(a){var b=this.getRxConfig(a);return new joint.shapes.rx.RuleTrigger(b)},validate:function(b,c){var d=[];if(b.resourceType===j.ruleElementResourceTypes.triggerTimeElement){var e=_.size(b.timeCriteria)>1;e||b.timeCriteria.resourceType!==j.ruleElementResourceTypes.scheduleTime?e||b.timeCriteria.resourceType!==j.ruleElementResourceTypes.intervalTime||d.push({elementId:b.id,elementName:"Trigger Event",propertyName:"timerType",type:"error",message:"Interval Time Definition cannot be blank."}):d.push({elementId:b.id,elementName:"Trigger Event",propertyName:"timerType",type:"error",message:"Schedule Time Definition cannot be blank."}),_.isNumber(b.poolNumber)&&b.poolNumber<=0&&d.push({elementId:b.id,elementName:"Trigger Event",propertyName:"poolNumber",type:"error",message:"Pool Number should be greater than 1."})}else b.resourceType===j.ruleElementResourceTypes.triggerElement&&(b.executionOrder<1||b.executionOrder>1e3)&&d.push({elementId:b.id,elementName:"Trigger Event",propertyName:"executionOrder",type:"error",message:"Execution order must be between 1 and 1000."});return a.when(d)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleAutoComplete",["RxAutoComplete",function(a){function b(a){return new c(a)}var c=a.extend({initialize:function(a){rx.assert.assertDefinedAndNotNull(a),this.graph=a},extractData:function(a){var b={cell:null,fieldPath:null},c=a.match(/\${ruleContext\.(.*)}$/);if(c){var d=_.find(this.graph.getCells(),function(a){return"rx.RuleModel"==a.get("type")});d&&(b.component=d,b.fieldPath=c[1])}return b}});return{getInstance:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleDataDictionary",["$q","rxDesignerCache","definitionNameFilter",function(a,b,c){function d(){g={plainRuleDefinition:{},currentDataDictionary:{}}}function e(b){return angular.equals(b,g.plainRuleDefinition)?a.when(g.currentDataDictionary):(g.plainRuleDefinition=angular.copy(b),i(b).then(function(a){return g.currentDataDictionary=a,g.currentDataDictionary;
}))}var f={keyword:{label:"Keyword",type:"Keyword",icon:"d-icon-dollar"},recordDefinitionField:{label:"Record Definition Field",type:"Record Definition Field",icon:"d-icon-field_text"}},g={plainRuleDefinition:{},currentDataDictionary:{}},h=function(){return _.values(f)},i=function(d){var e=_.cloneDeep(d),g=function(a,b){return a.label.localeCompare(b.label)},h=[],i={label:"General",children:[{label:"Current User",type:f.keyword.type,icon:f.keyword.icon,value:"$USER$"},{label:"Current Date",type:f.keyword.type,icon:f.keyword.icon,value:"$DATE$"},{label:"Current Time",type:f.keyword.type,icon:f.keyword.icon,value:"$TIME$"},{label:"Current Date and Time",type:f.keyword.type,icon:f.keyword.icon,value:"$TIMESTAMP$"},{label:"Current Week Day",type:f.keyword.type,icon:f.keyword.icon,value:"$WEEKDAY$"},{label:"Current Record",type:f.keyword.type,icon:f.keyword.icon,value:"$ENTRY$"},{label:"Current Operation",type:f.keyword.type,icon:f.keyword.icon,value:"$OPERATION$"},{label:"Current Record Definition Name",type:f.keyword.type,icon:f.keyword.icon,value:"$SCHEMA$"},{label:"Current Groups",type:f.keyword.type,icon:f.keyword.icon,value:"$GROUPS$"},{label:"Current Group IDs",type:f.keyword.type,icon:f.keyword.icon,value:"$GROUPIDS$"},{label:"Current Roles",type:f.keyword.type,icon:f.keyword.icon,value:"$ROLES$"},{label:"Current User Locale",type:f.keyword.type,icon:f.keyword.icon,value:"$LOCALE$"},{label:"NULL",type:f.keyword.type,icon:f.keyword.icon,value:"$NULL$"}]};i.children=i.children.sort(g);var j=function(a){var b=_.find(a.recordDefinitions,{name:a.element.recordDefinitionName}),c=_(b.fieldDefinitions).map(function(b){return{label:b.name,type:a.legendType.type,icon:a.legendType.icon,value:["${ruleContext."+b.id+"}","${ruleContext."+b.name+"}"],id:b.id}}).sort(g).value();return{type:a.legendType.type,label:a.element.label,id:a.element.id,children:c}},k=function(){if(e.recordDefinitionNames&&e.recordDefinitionNames[0]){var d={label:c(e.recordDefinitionNames[0])+" Fields",id:e.recordDefinitionNames[0],recordDefinitionName:e.recordDefinitionNames[0].replace(/^\"|\"$/g,"")};return b.getRecordDefinitions(d.recordDefinitionName).then(function(a){return j({recordDefinitions:a,element:d,legendType:f.recordDefinitionField})})}return a.when(!1)};return k().then(function(a){return a&&h.push(a),h.push(i),h})};return{clear:d,getCommonDataDictionary:e,getLegend:h}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleDesignerConfiguration",["i18n","rxRuleDesignerElementManager","ruleActionTypeNameFilter","ruleServiceNameFilter","RX_RULE_DESIGNER","RX_RULE_DEFINITION","rxDesignerUserPreferences",function(a,b,c,d,e,f,g){var h=[{group:"Platform Actions",resourceType:f.ruleElementResourceTypes.startProcessAction,"default":!0,favorite:!1,timestamp:null},{group:"Platform Actions",resourceType:f.ruleElementResourceTypes.cancelProcessAction,"default":!0,favorite:!1,timestamp:null},{group:"Platform Actions",resourceType:f.ruleElementResourceTypes.signalProcessInstanceAction,"default":!0,favorite:!1,timestamp:null},{group:"Qualification",resourceType:f.ruleElementResourceTypes.qualification,"default":!0,favorite:!1,timestamp:null}],i=function(a,b,c){var d=null;d=b.actionTypeName?_.find(a,function(a){return a.actionTypeName==b.actionTypeName}):_.find(a,{resourceType:b.resourceType}),d[c]=b[c]},j=g.getInstance(e.userPreferences.componentId,e.userPreferences.version,{stencilSettings:h});return{updateStencilConfiguration:function(a){return j.getStencilSettings().then(function(b){var c=_.remove(b,{resourceType:f.ruleElementResourceTypes.ruleAction});return _.each(a,function(a){var e=a.actionTypeName,g=_.find(c,{resourceType:f.ruleElementResourceTypes.ruleAction,actionTypeName:e})||{};b.push({group:d(a.serviceName),resourceType:f.ruleElementResourceTypes.ruleAction,actionTypeName:e,"default":!_.isBoolean(g["default"])||g["default"],favorite:!!_.isBoolean(g.favorite)&&g.favorite,timestamp:g.timestamp||null})}),j.setStencilSettings(b),b})},get:function(a,b){var c=this;return j.getStencilSettings().then(function(d){return"recent"===a&&(a="timestamp"),d=_.filter(d,a),c._buildGroupsAndShapes(d,b)})},addToRecent:function(a){j.getStencilSettings().then(function(b){var c=null;c=a.actionTypeName?_.find(b,function(b){return b.actionTypeName==a.actionTypeName}):a.resourceType?_.find(b,function(b){return b.resourceType==a.resourceType}):_.find(b,function(b){return b.resourceType==a.prop("rxData/resourceType")}),c&&(c.timestamp=_.now());var d=_.filter(b,"timestamp");if(d.length>20){var e=_.min(d,"timestamp");e.timestamp=null}j.setStencilSettings(b)})},removeRecents:function(){j.getStencilSettings().then(function(a){_.forEach(a,function(a){a.timestamp=null}),j.setStencilSettings(a)})},getSettings:function(){return j.getStencilSettings().then(function(b){return _(b).groupBy("group").map(function(b,d){return b=_(b).each(function(b){b.actionTypeName?b.label=c(b.actionTypeName):b.label=a(b.resourceType)}).sortBy("label").value(),{label:d,children:b}}).sortBy("label").sortBy(function(a){return"Qualification"===a.label?1:"Platform Actions"===a.label?2:3}).value()})},setField:function(a,b){j.getStencilSettings().then(function(c){i(c,a,b),j.setStencilSettings(c)})},setGroup:function(a,b){j.getStencilSettings().then(function(c){_.forEach(a,function(a){i(c,a,b)}),j.setStencilSettings(c)})},_buildGroupsAndShapes:function(a,d){var e={},f={};return _(a).pluck("group").uniq().sortBy().sortBy(function(a){return"Qualification"===a?1:"Platform Actions"===a?2:3}).forEach(function(d,g){e[d]={label:d,index:g},f[d]=_(a).filter({group:d}).sortBy(function(a){return a.actionTypeName?c(a.actionTypeName):null}).map(function(a){var c=null;return a.actionTypeName&&(c=a.actionTypeName),b.getShape(a.resourceType,c)}).value()}).value(),{groups:e,shapes:f}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleDesignerElementManager",["$q","rxId","RX_RULE_DESIGNER","RX_RULE_DEFINITION","rxRuleDefinitionElement","rxRuleActionElement","rxRuleQualificationElement","rxRuleTriggerElement","rxRuleStartProcessElement","rxRuleCancelProcessElement","rxRuleSignalProcessElement","rxRuleLinkElement",function(a,b,c,d,e,f,g,h,i,j,k,l){var m={};return m[d.ruleElementResourceTypes.ruleAction]=f,m[d.ruleElementResourceTypes.qualification]=g,m[d.ruleElementResourceTypes.triggerElement]=h,m[d.ruleElementResourceTypes.triggerTimeElement]=h,m[d.ruleElementResourceTypes.startProcessAction]=i,m[d.ruleElementResourceTypes.cancelProcessAction]=j,m[d.ruleElementResourceTypes.signalProcessInstanceAction]=k,m[d.ruleElementResourceTypes.link]=l,{getShape:function(a){var b=m[a];return b.getShape.apply(b,_.drop(arguments))},getRuleModel:function(a){return e.getModel(a)},validateRule:function(b){var c=a.defer(),d=this,f=_.map(b.actions,function(a){return d.validateElement(a,b)});return f.push(h.validate(b.triggerEvent,b)),b.qualification&&f.push(g.validate(b.qualification,b)),f.push(e.validate(b)),a.all(f).then(function(a){c.resolve(_.compact(_.flatten(a)))}),c.promise},validateElement:function(a,b){var c=a.resourceType?m[a.resourceType]:g;if(_.isFunction(c.validate))return c.validate(a,b)},registerValidators:function(a){_.each(m,function(b){_.isFunction(b.registerValidators)&&b.registerValidators(a)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleMovementManager",["rxRuleDesignerElementManager","RX_RULE_DEFINITION",function(a,b){function c(a){rx.assert.assertDefinedAndNotNull(a),this.paper=a,this.paperInitialWidth=this.paper.options.width,this.lastDefinitionElement=null,this.spaceBetweenElements=60}function d(a){return new c(a)}return c.prototype={getRuleElements:function(){return _.filter(this.paper.model.getElements(),function(a){var b=a.get("type");return"basic.Text"!==b&&"rx.RuleModel"!==b})},getLastElement:function(){return this.lastDefinitionElement},isLastElement:function(a){return a.get("elementIndex")===this.getRuleElements().length-1},isFirstActionElement:function(a){var b=this.getRuleElements(),c=a.get("elementIndex");if(c>2)return!1;var d=_.find(b,function(a){return"rx.RuleQualification"===a.get("type")});return d?2===c:1===c},addElement:function(c){var d,e;if("rx.RuleQualification"===c.get("type")&&0!==this.lastDefinitionElement.get("elementIndex")){var f=this.getRuleElements();d=c.get("size");var g=_.find(f,function(a){return 1===a.get("elementIndex")}),h=_.find(this.paper.model.getLinks(),function(a){return a.get("target").id===g.get("id")});h.remove(),e=a.getShape(b.ruleElementResourceTypes.link),e.set("source",{id:c.get("id")}),e.set("target",{id:g.get("id")}),this.paper.model.addCell(e),e=a.getShape(b.ruleElementResourceTypes.link),e.set("source",{id:f[0].get("id")}),e.set("target",{id:c.get("id")}),this.paper.model.addCell(e),c.prop("position",{x:(this.paperInitialWidth-d.width)/2,y:g.get("position").y}),c.set("elementIndex",1);for(var i=g.get("elementIndex"),j=function(a){return a.get("elementIndex")===i+1};g;){i=g.get("elementIndex");var k=_.find(f,j);g.set("elementIndex",i+1);var l=g.get("position");g.prop("position",{x:l.x,y:l.y+g.get("size").height+this.spaceBetweenElements}),g=k}}else c.set("elementIndex",this.lastDefinitionElement.get("elementIndex")+1),d=c.get("size"),c.prop("position",{x:(this.paperInitialWidth-d.width)/2,y:this.lastDefinitionElement.get("position").y+this.lastDefinitionElement.get("size").height+this.spaceBetweenElements}),e=a.getShape(b.ruleElementResourceTypes.link),e.set("source",{id:this.lastDefinitionElement.get("id")}),e.set("target",{id:c.get("id")}),this.paper.model.addCell(e),this.lastDefinitionElement=c},reorderElementsAfterDeletion:function(c){var d=c.get("elementIndex"),e=this.getRuleElements();if(e.length>1)if(d===this.lastDefinitionElement.get("elementIndex"))this.lastDefinitionElement=_.find(e,function(a){return a.get("elementIndex")===d-1});else{var f=d,g=c.get("position"),h=a.getShape(b.ruleElementResourceTypes.link);h.set("source",{id:_.find(e,function(a){return a.get("elementIndex")===f-1}).get("id")}),h.set("target",{id:_.find(e,function(a){return a.get("elementIndex")===f+1}).get("id")}),this.paper.model.addCell(h);var i=function(a){return a.get("elementIndex")===f+1};do{var j=_.find(e,i);j.set("elementIndex",f),f++;var k=j.get("position");j.set("position",{x:k.x,y:g.y}),g=k}while(f<=this.lastDefinitionElement.get("elementIndex"))}else this.lastDefinitionElement=e[0]},moveElementUp:function(c){var d=c.get("elementIndex"),e=this.paper.model.getElements(),f=_.find(e,function(a){return a.get("elementIndex")===d-1});f.set("elementIndex",d,{silent:!0}),c.set("elementIndex",d-1,{silent:!0});var g=f.get("position");f.set("position",c.get("position")),c.set("position",g),_.find(this.paper.model.getLinks(),function(a){return a.get("target").id===f.get("id")}).remove();var h=a.getShape(b.ruleElementResourceTypes.link);h.set("source",{id:_.find(e,function(a){return a.get("elementIndex")===d-2}).get("id")}),h.set("target",{id:c.get("id")}),this.paper.model.addCell(h),this.isLastElement(f)?this.lastDefinitionElement=f:(_.find(this.paper.model.getLinks(),function(a){return a.get("source").id===c.get("id")}).remove(),h=a.getShape(b.ruleElementResourceTypes.link),h.set("source",{id:f.get("id")}),h.set("target",{id:_.find(e,function(a){return a.get("elementIndex")===d+1}).get("id")}),this.paper.model.addCell(h));var i=_.find(this.paper.model.getLinks(),function(a){return a.get("source").id===f.get("id")&&a.get("target").id===c.get("id")}),j=i.get("source");return i.set("source",i.get("target")),i.set("target",j),[f.get("id"),c.get("id")]},moveElementDown:function(c){var d=c.get("elementIndex"),e=this.paper.model.getElements(),f=_.find(e,function(a){return a.get("elementIndex")===d+1});f.set("elementIndex",d,{silent:!0}),c.set("elementIndex",d+1,{silent:!0});var g=f.get("position");f.set("position",c.get("position")),c.set("position",g),_.find(this.paper.model.getLinks(),function(a){return a.get("target").id===c.get("id")}).remove();var h=a.getShape(b.ruleElementResourceTypes.link);h.set("source",{id:_.find(e,function(a){return a.get("elementIndex")===d-1}).get("id")}),h.set("target",{id:f.get("id")}),this.paper.model.addCell(h),this.isLastElement(c)?this.lastDefinitionElement=c:(_.find(this.paper.model.getLinks(),function(a){return a.get("source").id===f.get("id")}).remove(),h=a.getShape(b.ruleElementResourceTypes.link),h.set("source",{id:c.get("id")}),h.set("target",{id:_.find(e,function(a){return a.get("elementIndex")===d+2}).get("id")}),this.paper.model.addCell(h));var i=_.find(this.paper.model.getLinks(),function(a){return a.get("source").id===c.get("id")&&a.get("target").id===f.get("id")}),j=i.get("source");return i.set("source",i.get("target")),i.set("target",j),[c.get("id"),f.get("id")]},setLastElement:function(a){this.lastDefinitionElement=a}},{getInstance:d}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleDesignerCache",function(){function a(a){e.ruleDefinitions[a.id]=a}function b(){e={ruleDefinitions:{},actionTypes:[]}}function c(a){e.actionTypes=a}function d(){return e.actionTypes}var e={ruleDefinitions:{},actionTypes:[]};return{setRuleDefinition:a,setActionTypes:c,getActionTypes:d,clear:b}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").factory("rxRuleExpressionValidation",function(){function a(a,c){var d=[],e=_.isString(a)?a.match(b):[];return _.each(e,function(a){var b=a.match(/\d+(?=})/)[0];_.find(c.fieldDefinitions,{id:parseInt(b)})||d.push(b)}),d}var b=/\${ruleContext\.\d+}/g;return{validateExpression:a}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.search").provider("rxSearchResultsState",function(){function a(a){return rx.assert.assertStringWithLength(a),b=a}var b=null;return{searchResultsState:a,$get:function(){return{get:function(){return b}}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").provider("rxAuthentication",function(){function a(a,b){return arguments.length&&(rx.assert.assertStringWithLength(a,"Invalid login state name."),c={name:a,params:b}),c}function b(a,b){return arguments.length&&(_.isString(a)?d={name:a,params:b}:_.isFunction(a)?d=a:_.isObject(a)&&_.isString(a.name)?d=a:rx.assert.fail("Invalid appState.")),d}var c=null,d=null;return{loginState:a,appState:b,$get:["$state","$rootScope","$q","$window","rxAuthUserResource","rxUserResource","rxSession","RX_AUTH_EVENTS","RX_APP_STATES","RX_SESSION","rxNavigationGuard",function(e,f,g,h,i,j,k,l,m,n,o){function p(a){return i.login(a)}function q(){return i.logout().then(function(a){return f.$broadcast(l.logoutSuccess),a})["catch"](function(a){return f.$broadcast(l.logoutFailed),g.reject(a)})["finally"](function(){k.destroy(),w()})}function r(){var a=g.defer();return k.isAlive()?a.resolve():j.getCurrentUser().then(function(b){k.create(b.plain()),a.resolve()}),a.promise}function s(){x&&x.name!==m.home?(t(x),x=d):v()}function t(a,b){var c;c=_.isFunction(a)?a():_.cloneDeep(a),_.isString(c)&&(c={name:c}),e.go(c.name,c.params,b)}function u(){o.clearGuardians(),k.getSsoProviderType()===n.ssoProviderTypes.rsso?i.ssoLogout():e.current.name&&c.name!==e.current.name?(t(c,{notify:!1}),h.location.reload()):t(c)}function v(){d?t(d):k.isAlive()&&t(m.home)}function w(){x=d,u()}if(!c||!c.name)throw new Error("rxAuthentication service has not been configured properly.");var x={name:m.home};return d&&(x=d),f.$on("$stateChangeStart",function(a,b,d){b&&b.name!==c.name&&(x={name:b.name,params:d})}),f.$on(l.notAuthenticated,function(){k.destroy(),u()}),f.$on(l.loginSuccess,s),{login:p,logout:q,initSession:r,loginState:a,appState:b,redirectToAppState:v}}]}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").factory("rxAuthorization",["$state","rxCurrentUser","RX_USER_GROUPS",function(a,b,c){function d(a){var c=b.get();return _.contains(c.groups,a)||_.contains(c.computedGroups,a)}function e(b){var e=a.get(b.name||b);if(!e)return!1;var f,g=e.access;return f=!(g&&!d(c.administrator))||_.some(g.permittedGroups||[],function(a){return d(a)})}return{isUserInGroup:d,isStateAuthorized:e}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").factory("rxSessionExpirationInterceptor",["RX_SESSION","rxSession","RX_RESOURCE_URLS",function(a,b,c){function d(d){if(0===d.config.url.indexOf(c.api)){var e={idle:d.headers(a.expirationHeaders.idle),absolute:d.headers(a.expirationHeaders.absolute)};b.setSessionTimeouts(e)}return d}return{response:d}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").factory("rxSessionExpirationService",["$uibModal","$rootScope","RX_AUTH_EVENTS","RX_SESSION","$timeout","rxSession","$window","rxCommandResource",function(a,b,c,d,e,f,g,h){function i(){r=h.withType(d.keepAliveCommand),angular.element(g).on(d.userInteractionEvents,v)}function j(a,b){var c=k(a,b);c&&(s[a].timeout=e(t[a],c))}function k(a,b){return s[a].warnAfter=u(b).subtract(d.minutesBeforeLogout,"minutes").diff(),n(a),s[a].warnAfter>0?s[a].warnAfter:null}function l(){f.isAlive()&&o({mode:d.expirationModes.absolute}),s.absolute.warnAfter=null,n("absolute")}function m(){f.isAlive()&&!s.lastUserInteraction?o({mode:d.expirationModes.idle}):p(),s.idle.warnAfter=null,n("idle")}function n(a){s[a]&&s[a].timeout&&(e.cancel(s[a].timeout),s[a].timeout=null)}function o(b){return b=b||{},a.open({templateUrl:"scripts/security/session-expiration-modal.view.html",controller:"SessionExpirationModalController",windowClass:"rx-session-expiration-dialog",backdrop:"static",resolve:{options:b}})}function p(){var a={"AR-JWT-Refresh-From":s.lastUserInteraction?new Date(s.lastUserInteraction).toUTCString():(new Date).toUTCString()};return r.execute({},null,a).then(function(a){return s.lastUserInteraction=null,a})}function q(){s.lastUserInteraction=Date.now()}var r,s={idle:{},absolute:{}},t={idle:m,absolute:l},u=g.moment,v=_.throttle(q,d.userInteractionThrottleTimeMs);return i(),{keepSessionAlive:p,updateTimeoutHandler:j}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").factory("rxSession",["$window","$rootScope","$injector","rxCurrentUser","rxLog","rxUtils",function(a,b,c,d,e,f){function g(a){d.set(a),m(a),q(a.ssoProviderType)}function h(){t=null,localStorage.removeItem("rx-overlay-group-id"),d.set(null)}function i(){return null!==d.get()}function j(){return v.absoluteTimeout}function k(){return v.idleTimeout}function l(b){s||(s=c.get("rxSessionExpirationService")),_.forEach(b,function(b,c){if(b){var d=a.moment(new Date(b)),e=i()&&d.isValid()&&d.isAfter(a.moment()),f=d.toDate();e&&"idle"===c&&!d.isSame(v.idleTimeout)?(v.idleTimeout=f,s.updateTimeoutHandler("idle",f)):e&&"absolute"===c&&!d.isSame(v.absoluteTimeout)&&(v.absoluteTimeout=f,s.updateTimeoutHandler("absolute",f))}})}function m(a){var b=a.userOverlayGroupDescriptors,c=a.defaultOverlayGroupId;if(n(b)){var d,g=localStorage.getItem("rx-overlay-group-id"),h=f.flattenTree(b[0],"userOverlayGroupDescriptorChildren");g?(d=_.find(h,{overlayGroupId:g}),d||(d=_.find(h,{overlayGroupId:c}),e.debug("Invalid Overlay Group ID: "+g+". The Overlay Group ID has been set to the default value: "+c))):d=_.find(h,{overlayGroupId:c}),t=d}}function n(a){return a&&_.isArray(a)&&a[0].userOverlayGroupDescriptorChildren&&a[0].userOverlayGroupDescriptorChildren.length>=1}function o(a){t=_.clone(a),localStorage.setItem("rx-overlay-group-id",a.overlayGroupId)}function p(){return t}function q(a){u=a}function r(){return u}var s,t=null,u=null,v={absoluteTimeout:null,idleTimeout:null};return{create:g,destroy:h,isAlive:i,getAbsoluteSessionTimeout:j,getIdleSessionTimeout:k,setSessionTimeouts:_.throttle(l,1e3),setCurrentOverlayContext:o,getCurrentOverlayContext:p,getSsoProviderType:r}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.user-preferences").factory("rxUserPreferences",["$rootScope","$q","rxCurrentUser","rxUtils","RX_USER_PREFERENCES","RX_AUTH_EVENTS","rxUserPreferenceResource","rxAdministrationSettingsResource",function(a,b,c,d,e,f,g,h){function i(){return q||(q=h.getGridComponentData(e.settingName,s).then(function(a){q=a.plain().rows})),b.when(q)}function j(a,b){b[e.fields.loginName]=c.getName(),b[e.fields.componentId]=a;var d=m(b);return g.createUserPreferenceComponentData(e.settingName,d,s).then(function(a){var c=a.data.split("/");return b[e.fields.ownerKeyValue]=c[c.length-1],q.push(b),b})}function k(a,b){var c=n(a)[e.fields.ownerKeyValue];return l(c).then(function(a){var d=m(b,a,c);return g.updateUserPreferenceComponentData(e.settingName+"/"+c,d,s)})}function l(a){return r[a]||(r[a]=g.getUserPreferenceComponentData(e.settingName+"/"+a,s).then(function(b){return r[a]=_.reduce(b.values,function(a,b){return a[b[e.fields.settingName]]=b[e.fields.settingId],a},{}),r[a]})),b.when(r[a])}function m(a,b,c){return _.map(a,function(a,d){_.isUndefined(a)&&(a=""),_.isObject(a)&&(a=JSON.stringify(a));var f={componentName:e.settingName,settingName:d,settingValue:a,assigneeGroupPermission:""};return c&&(f[e.fields.ownerKeyValue]=c),b&&(f[e.fields.settingId]=b[d]),f})}function n(a){return _.find(q,function(b){return b[e.fields.componentId]===a&&b[e.fields.loginName]===c.getName()})}function o(a,b){return h.setContext(!1),i().then(function(){var c=n(a);return b=_.cloneDeep(b),c?_.isFunction(c.then)?void c.then(function(){return k(a,b)}):k(a,b):j(a,b)})}function p(a){return h.setContext(!1),i().then(function(){var b=n(a);return b&&_.isString(b[e.fields.preferences])&&(b[e.fields.preferences]=d.tryParseJson(b[e.fields.preferences])),_.get(b,e.fields.preferences)})}var q,r={},s={"default-bundle-scope":void 0};return a.$on(f.logoutSuccess,function(){q=null,r={}}),{setUiComponentPreferences:o,getUiComponentPreferences:p}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.user").factory("rxOverlayRequestsInterceptor",["rxSession",function(a){var b={request:function(b){var c=a.getCurrentOverlayContext();return c&&c.overlayGroupId&&!b.headers["request-overlay-group"]&&(b.headers["request-overlay-group"]=c.overlayGroupId),b}};return b}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").factory("rxBrowserLanguage",["$window",function(a){return function(){var b,c;return b=a.navigator.userAgent&&(c=a.navigator.userAgent.match(/android.*\W(\w\w)-(\w\w)\W/i))?c[1]+"-"+c[2]:a.navigator.languages&&a.navigator.languages.length?a.navigator.languages[0]:a.navigator.userLanguage||a.navigator.language,b&&b.toLowerCase().match(/^([a-z]*)/)[1]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").factory("rxCurrentUser",["rxUtils",function(a){function b(a){g=a}function c(){return g}function d(){return g&&g.loginName}function e(){return _.contains(g.groups,"Administrator")}function f(){var b=g.userOverlayGroupDescriptors,c=a.flattenTree(b[0],"userOverlayGroupDescriptorChildren"),d=_.find(c,{overlayGroupId:g.defaultOverlayGroupId});return e()&&"0"!=d.tenantId}var g=null;return{set:b,get:c,getName:d,isAdministrator:e,isTenantAdmin:f}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").factory("rxDateUtils",function(){function a(a){return _.includes(_.values(j),a)}function b(a){var b=new Date(a.getTime()-6e4*a.getTimezoneOffset()).toISOString();return b.substr(0,10)}function c(a){var b=moment(a);return b.hours()+":"+b.minutes()+":"+b.seconds()}function d(a){return a.toISOString()}function e(a,e){var f=null;switch(e){case j.dateOnly:f=b(a);break;case j.timeOnly:f=c(a);break;case j.dateTime:f=d(a)}return f}function f(a){return moment().startOf("day").add(moment.duration(a))}function g(a){return new Date(a)}function h(a){return moment(a).toDate()}function i(a,b){var c=null;switch(b){case j.dateOnly:c=h(a);break;case j.timeOnly:c=f(a);break;case j.dateTime:c=g(a)}return c}var j={dateOnly:"com.bmc.arsys.rx.standardlib.record.DateOnlyFieldDefinition",timeOnly:"com.bmc.arsys.rx.standardlib.record.TimeOnlyFieldDefinition",dateTime:"com.bmc.arsys.rx.standardlib.record.DateTimeFieldDefinition"};return{isDateLike:a,toIsoDateString:b,toTimeString:c,toIsoDateTimeString:d,toIsoString:e,fromTimeString:f,fromIsoDateTimeString:g,fromIsoString:i}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").factory("rxGUID",function(){return{generate:function(a){var b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)});return a&&(b=a+b),b}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").factory("rxHttpLogInterceptor",["$q","rxUtils","rxLog",function(a,b,c){function d(a){var b=a.paramSerializer(a.params);return _.startsWith(a.url,"/")?location.origin+a.url+(b?"?"+b:""):a.url}return{request:function(a){return c.debug(a.method+" "+d(a)),a},response:function(a){var e=a.headers()["x-ar-messages"];if(e){var f=b.tryParseJson(e,[]);_.each(f,function(a){_.has(a,"messageText")&&c.log(a.messageText)})}return c.debug(a.config.method+" "+d(a.config)+" "+a.status+" ("+a.statusText+")"),a},responseError:function(b){return c.warning(b.config.method+" "+d(b.config)+" "+b.status+" ("+b.statusText+")"),a.reject(b)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").service("rxId",["rxGUID",function(a){function b(a){return a?a.slice(0,e.length)==e?a:e+a:a}function c(a){return a.slice(e.length)}function d(){return a.generate(e)}var e="rx-";return{get:b,getBase:c,generate:d}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").factory("rxLog",["$interpolate","$log","rxCurrentUser",function(a,b,c){function d(a){return b.log(a)}function e(a){return b.debug(i(a,"D"))}function f(a){return b.info(i(a,"I"))}function g(a){return b.warn(i(a,"W"))}function h(a){return b.error(i(a,"E"))}function i(b,d){var e={},f=c.get(),g="<CLI{{type}}> <TID: 0000000000> <RPC ID: 0000000000> <Queue:           > <USER: {{loginName}}                                         > <Tenant-ID:                                             > <Overlay-Group: {{overlayGroupId}}         > /* {{time}} */ {{message}}";return e.time=moment().format("ddd MMM DD YYYY HH:mm:ss.SSSS"),e.message=b,e.type=d,f&&(e.loginName=f.loginName,e.overlayGroupId=f.defaultOverlayGroupId),a(g)(e)}return{log:d,debug:e,info:f,warning:g,error:h}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").factory("rxNotificationMessage",["rxLog","rxGrowl",function(a,b){var c={ttl:3e3},d={ttl:3e3},e={ttl:6e3},f={ttl:6e3};return{success:function(d,e){e=e||{},b.addSuccessMessage(d,_.defaults(e,c)),a.debug(d)},info:function(c,e){e=e||{},b.addInfoMessage(c,_.defaults(e,d)),a.info(c)},warning:function(c,d){d=d||{},b.addWarningMessage(c,_.defaults(d,e)),a.warning(c)},error:function(c,d){d=d||{},b.addErrorMessage(c,_.defaults(d,f)),d.suppressLog!==!0&&a.warning(c)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").factory("rxString",["rxUtils",function(a){function b(a){return _.isString(a)&&a.length?a.charAt(0).toUpperCase()+a.replace(/([A-Z]+)/g," $1").trim().slice(1).replace(/(\s+)/g," "):a}function c(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return _.isString(a)&&_.isString(b)&&c===d}function d(a){return _.isEmpty(_.trim(a))}function e(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&c.length>1;)d+=c.shift()+e.shift();return d+c.join("%s")}function f(c,d){if(rx.assert.assertStringWithLength(d),rx.assert.assertOptionalString(c),a.isNonEmptyString(c)){var e=c.split(d);c=b(_.last(e))}return c}return{prettify:b,caseInsensitiveEqual:c,isEmptySafe:d,format:e,extractAndPrettifyName:f}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").factory("rxUtils",function(){function a(a){function b(a){return Object.keys(a).map(function(b){return[b,a[b]]})}function c(a){return b(a).reduce(function(a,d){var e=d[0],f=d[1];return _.isObject(f)?b(c(f)).forEach(function(b){var c=b[0],d=b[1];a[e+"."+c]=d}):a[e]=f,a},{})}return c(a)}function b(a){var b={};return _.forOwn(a,function(a,c){c.indexOf(".")===-1?b[c]=a:_.merge(b,c.split(".").reduceRight(function(a,b){var c={};return c[b]=a,c},a))}),b}function c(a){return Boolean(_.isString(a)&&a.length)}function d(a){return Boolean(_.isArray(a)&&a.length)}function e(a){var b,c=[a],d=0,e=["children"];for(arguments.length>1&&(e=_.rest(arguments));d<c.length;)b=c[d++],b&&_.each(e,function(a){_.size(b[a])>0&&(c=c.concat(b[a]))});return c}function f(a,b,c){var d,e={},f=[];return b||(b="id"),c||(c="parentId"),_.forEach(a,function(a){e[a[b]]=a}),_.forEach(a,function(a){d=e[a[c]],d?(d.hasOwnProperty("children")||(d.children=[]),d.children.push(a)):f.push(a)}),f}function g(a){return _.isNull(a)||_.isUndefined(a)}function h(a,b){try{return JSON.parse(a)}catch(c){return b}}return{isNonEmptyString:c,isNonEmptyArray:d,buildTreeList:f,flattenTree:e,serializeObject:a,deserializeObject:b,isNullOrUndefined:g,tryParseJson:h}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-component").factory("rxViewComponentActionManager",["$q",function(a){function b(b){return _.reduce(b,function(b,c){return b.then(function(){var b=c.execute();switch(!0){case _.isUndefined(b):b=a.when();break;case!b.then:b=Boolean(b)?a.when():a.reject()}return b})},a.when())}return{executeActions:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-component").factory("rxViewComponentEventManager",["$rootScope","RX_VIEW_COMPONENT",function(a,b){function c(b){rx.assert.assert(b instanceof a.constructor,"$scope should be an instance of Scope class."),rx.assert.assertObject(b.rxConfiguration,"$scope should have rxConfiguration property."),this.$scope=b}function d(a){return new c(a)}return c.prototype={canCallAction:function(){return _.isObject(this.$scope.rxConfiguration.on)&&(_.isObject(this.$scope.rxConfiguration.on.action)||_.isFunction(this.$scope.rxConfiguration.on.action))},canCallPropertyChanged:function(){return _.isObject(this.$scope.rxConfiguration.on)&&_.isFunction(this.$scope.rxConfiguration.on.propertyChanged)},action:function(a,c){rx.assert.assertStringWithLength(a);var d={componentDefinitionId:this.$scope.rxConfiguration.guid,actionName:a,data:c||{}};this.canCallAction()&&(_.isFunction(this.$scope.rxConfiguration.on.action)?this.$scope.rxConfiguration.on.action(d):_.isFunction(this.$scope.rxConfiguration.on.action[a])&&this.$scope.rxConfiguration.on.action[a](d)),this.$scope.$emit(b.events.action,d)},propertyChanged:function(a){rx.assert.assertObject(a),rx.assert.assertStringWithLength(a.property),a.componentDefinitionId=this.$scope.rxConfiguration.guid,this.canCallPropertyChanged()&&this.$scope.rxConfiguration.on.propertyChanged(a),this.$scope.$emit(b.events.propertyChanged,a)}},{getInstance:d}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-component").factory("rxViewComponentExpressionConfigurator",["$q","RX_EXPRESSION_EDITOR","rxDefaultExpressionConfigurator",function(a,b,c){return c.extend({initialize:function(c){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments);var d=_.cloneDeep(b.operators.all),e=_(d).flatten().find({contentValue:"$NULL$"});e.contentValue="NULL";var f={operators:d,getExpandedNodes:function(b){var c=_.cloneDeep(b),d=_.first(c);return d&&_.isArray(d.children)?a.when(_.flatten([d,d.children])):a.when(c)}};this.setDefaultDictionaryConfig(f)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-component").factory("rxViewComponentManager",["rxGUID","rxString","rxViewComponentModel",function(a,b,c){return{getModel:function(a,b){return new c(this.getRxConfig(a,b))},getRxConfig:function(b,c){return{id:b.guid||a.generate(),type:b.type,rxData:this.getRxData(b,c),
rxInspector:this.getRxInspector(!1,b,c)}},getRxData:function(a,b){return _.reduce(b.propertiesByName,function(b,c){return c.isConfig&&(b[c.name]=a.propertiesByName[c.name]||c.defaultValue||null),b},{})},getRxInspector:function(a,c,d){var e=function(b){var c=a?{input:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},f=e(),g={};return _.forEach(d.propertiesByName,function(a,c){a.isConfig&&(g[a.name]={label:b.prettify(a.name),type:"rx-inspector-expression-node-field",group:"properties",index:c,localizable:!!a.localizable,attrs:a.isRequired===!0?e({label:{"class":"required"}}):f})}),{readonly:!1,inputs:{rxData:g},groups:{properties:{label:"General",index:1}}}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-component").factory("rxViewComponentModel",["$q","rxString","rxViewComponent","RX_EXPRESSION_EDITOR","rxViewComponentExpressionConfigurator","RX_VIEW_DEFINITION",function(a,b,c,d,e,f){return Backbone.Model.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._expressionConfigurator=this.createExpressionConfigurator()},createExpressionConfigurator:function(){return new e(this)},getExpressionConfigurator:function(){return this._expressionConfigurator},isLink:function(){return!1},prop:joint.dia.Cell.prototype.prop,persist:function(a){var b=a.componentDefinitions,c=_.find(b,{guid:this.get("id")}),d=this.describeViewComponent(),e=f.events.childUpdate,g=this.get("parentModel");c?_.assign(c.propertiesByName,d.propertiesByName):(b.push(d),e=f.events.childAdd),g&&g.trigger(e,d)},describeViewComponent:function(){return{resourceType:f.resourceTypes.viewComponent,guid:this.get("id"),type:this.get("type"),propertiesByName:_.cloneDeep(this.get("rxData"))}},validate:function(){var d=[],e=this.get("rxData"),f=this.get("id"),g=this.get("type"),h=c.findDescriptor(g);return _.each(h.propertiesByName,function(a){a.isRequired&&_.isEmpty(_.trim(e[a.name]))&&d.push({elementId:f,elementName:h.name,propertyName:a.name,componentProperty:!0,type:"error",message:b.prettify(a.name)+" cannot be blank."})}),a.when(d)},remove:function(){var a=this.get("parentModel");a&&a.trigger(f.events.childRemove,this.get("id")),this.collection.remove(this.cid)},updateInspectorConfig:function(){return a.when({})}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-component").provider("rxViewComponent",function(){function a(a){a.runTimeDirective&&(a.type=a.type||a.runTimeDirective,console.warn(a.type+': "runTimeDirective" option has been deprecated, use "type" instead.')),a.designTimeDirective&&(a.designType=a.designType||a.designTimeDirective,console.warn(a.designType+': "designTimeDirective" option has been deprecated, use "designType" instead.')),rx.assert.assertStringWithLength(a.name),rx.assert.assertStringWithLength(a.type),_.isString(a.bundleId)&&a.bundleId.length||console.warn(a.designType+': "bundleId" must be specified. Otherwise, this view component will not be available in View Designer.'),a.designType=a.designType||c;var f=_.find(b,{type:a.type});f?console.warn('The component of type "'+a.type+'" has already been registered!'):(a.icon=a.icon||e,a.group=a.group||d,b.push(a))}var b=[],c="rx-view-component-placeholder",d="Other Components",e="wall";return{registerComponent:function(b){_.isArray(b)?_.forEach(b,a):a(b)},$get:["rxGlobalCache",function(a){function c(){return b}function d(){return a.getBundleDescriptors().then(function(a){return _.filter(b,function(b){return _.find(a,{id:b.bundleId})})})}function e(){return _.pluck(b,"type")}function f(a){return _.find(b,{type:a})||{}}return{getRegisteredComponents:c,getRegisteredComponentTypes:e,findDescriptor:f,getLicencedComponents:d}}]}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").factory("rxActionButtonDesignManager",["$q","rxActionButtonDesignModel","rxGUID","rxString","rxAction","RX_ACTION_BUTTON",function(a,b,c,d,e,f){function g(a){return{id:a.guid||c.generate(),type:a.type,rxData:h(a),rxInspector:i()}}function h(a){var b={},c=void 0===a.componentDefinitions;return c&&(a.componentDefinitions=[]),_.forEach(a.propertiesByName,function(a,c){b[c]=a}),b.label=b.label||(a.lastUpdateTime?"":"New Button"),b.style=b.style||(_.first(f.styles)||{}).value,b.disabled=b.disabled||"0",b.hidden=b.hidden||"0",b.actions=_.map(e.deserializeActions(a.componentDefinitions),function(b,c){return b.id=a.componentDefinitions[c].guid,b}),b}function i(){return{inputs:{rxData:{label:{label:"Label",type:"text",group:"general",index:1,localizable:!0},style:{label:"Style",type:"select",group:"general",index:2,options:_.map(f.styles,function(a,b){return{value:a.value,content:a.name}}),attrs:{label:{"class":"required"}}},size:{label:"Size",type:"select",group:"general",index:3,options:_.map(f.sizes,function(a,b){return{value:a.value,content:a.name}})},icon:{label:"Icon",type:"select",group:"general",index:3,localizable:!0,options:_(f.icons).map(function(a,b){return{value:a.name,content:a.label}}).unshift({}).value()},disabled:{label:"Disabled",type:"rx-inspector-optional-expression",group:"general",index:5},hidden:{label:"Hidden",type:"rx-inspector-optional-expression",group:"general",index:6},actions:{type:"rx-action-list",group:"actions",index:5}}},groups:{general:{label:"General",index:1},actions:{label:"Actions",index:2}}}}return{getModel:function(a){return new b(g(a))},getSettableProperties:function(b,c){return a.when({label:d.prettify(c.propertiesByName.label),children:[{label:"Hidden",value:"${view.components."+c.guid+".hidden}"},{label:"Disabled",value:"${view.components."+c.guid+".disabled}"}]})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").factory("rxActionButtonDesignModel",["$q","rxExpressionEngine","rxAction","rxString","rxUtils","rxDesignerCache","rxViewComponentModel","rxActionDesignManager","RX_VIEW_DEFINITION","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h,i,j){return g.extend({initialize:function(){this.constructor.__super__.initialize.apply(this,arguments),this.requiredProperties=[]},persist:function(a){var b=this.describeViewComponent(),d=_.find(a.componentDefinitions,{guid:this.get("id")});d&&(d.componentDefinitions=c.serializeActions(b.componentDefinitions)),this.constructor.__super__.persist.apply(this,arguments)},getActionsAsComponentDefinitions:function(){var a=_.cloneDeep(this.prop("rxData/actions"));return a.map(function(a){var b=a.id;return delete a.id,{resourceType:i.resourceTypes.viewComponent,guid:b,type:"rx-action",propertiesByName:a}})},describeViewComponent:function(){var a=_.omit(this.get("rxData"),["actions"]);return{resourceType:i.resourceTypes.containerViewComponent,guid:this.get("id"),type:this.get("type"),layout:null,propertiesByName:a,componentDefinitions:this.getActionsAsComponentDefinitions()}},validate:function(c){var g=[],i=this.get("rxData"),k=this.get("id"),l=this.prop("rxData/label")||"Action Button";_.each(this.requiredProperties,function(a){_.isEmpty(_.trim(i[a.name]))&&g.push({elementId:k,elementName:l,componentProperty:!0,propertyName:a.name,type:"error",message:(a.label||d.prettify(a.name))+" cannot be blank."})}),b.isValid(i.disabled)||g.push({elementId:k,elementName:l,componentProperty:!0,propertyName:"disabled",type:"error",message:"Disabled must be a valid expression."}),b.isValid(i.hidden)||g.push({elementId:k,elementName:l,componentProperty:!0,propertyName:"hidden",type:"error",message:"Hidden must be a valid expression."});var m=_.find(e.flattenTree(c,"componentDefinitions"),{guid:this.prop("id")});_.each(h.validateActionSequence(m.componentDefinitions),function(a){g.push({elementId:k,elementName:l,componentProperty:!0,propertyName:"actions",type:a.type,message:a.message})});var n=_(m.componentDefinitions).filter(function(a){return"rxDeleteRecordsAction"===a.propertiesByName.name&&a.propertiesByName.recordDefinitionName}).map(function(a){return f.getRecordDefinition(a.propertiesByName.recordDefinitionName).then(function(a){var b=[];return a&&a.resourceType===j.recordDefinitionTypes.join.recordDefinitionType&&b.push({propertyName:"",type:"warning",message:"You have configured an Action Button to delete Join Records. Please ensure that one or more Processes or Rules have been defined to perform the deletion of the selected Join Record instance."}),b})}).value(),o=_.map(m.componentDefinitions,function(a){return h.validate(a)});return _.size(n)>0&&(o=o.concat(n)),a.all(o).then(function(a){return _.each(a,function(a){_.each(a,function(a){g.push({elementId:k,elementName:l,componentProperty:!0,propertyName:_.isUndefined(a.propertyName)?"actions":a.propertyName,type:a.type,message:a.message})})}),g})},getBreadcrumbName:function(){return this.get("rxData").label||""},buildChildDataDictionary:function(b){var c=_.cloneDeep(this.getExpressionConfigurator().commonDataDictionary);if(b&&b.get("index")>0){var d={label:"Actions",children:[]},e=_.cloneDeep(this.prop("rxData/actions"));e=e.splice(0,b.get("index"));var f=_.map(e,function(a){return h.getActionDataDictionary(a)});return a.all(f).then(function(a){return _.each(a,function(a){a.children.length&&d.children.push(a)}),d.children.length&&c.push(d),c})}return a.when(c)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action").factory("rxActionDesignManager",["$q","$injector","rxAction","rxActionEditorModel","rxUtils","rxString",function(a,b,c,d,e,f){return{getModel:function(a){return new d(a)},getActionDataDictionary:function(d){var e=c.findDescriptor(d.name);rx.assert.assertObject(e);var g={label:e.label,children:[]},h=b.get(d.name);return _.isFunction(h.getOutputParams)?h.getOutputParams(d).then(function(b){return _.each(b,function(a){g.children.push({label:f.prettify(a.name),value:"${view.components."+d.id+".output."+a.name+"}"})}),a.when(g)}):a.when(g)},validate:function(b){var d=c.findDescriptor(b.propertiesByName.name),e=[];return d&&(e=_(d.parameters).filter("isRequired").map(function(a){if(f.isEmptySafe(b.propertiesByName[a.name]))return{propertyName:a.name,type:"error",message:d.label+": "+a.label+" cannot be blank."}}).compact().value()),a.when(e)},validateActionSequence:function(a){var b=[],d=_.map(a,"id");return _.each(a,function(a,f){_.each(a.propertiesByName,function(g,h){if(e.isNonEmptyString(g)){var i=g.match(/\${view\.components\.([0-9a-z-]+)\..+}/);if(i&&i[1]){var j=d.indexOf(i[1]);if(j!==-1&&j>f){var k=c.findDescriptor(a.propertiesByName.name);k&&b.push({type:"error",message:k.label+": invalid expression for "+h})}}}})}),b}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action").factory("rxActionEditorModel",["rxActionExpressionConfigurator",function(a){return Backbone.Model.extend({defaults:{rxData:{},index:-1,id:null},_viewComponentModel:null,prop:joint.dia.Cell.prototype.prop,initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this._viewComponentModel=this._viewComponentModel||this.get("viewComponentModel"),this.unset("viewComponentModel",{silent:!0}),this.updateActionDataDictionary()},getActionDataDictionary:function(){return this._viewComponentModel.buildChildDataDictionary(this)},updateActionDataDictionary:function(){var a=this.getExpressionConfigurator();this.getActionDataDictionary().then(function(b){a.buildDataDictionary(b)})},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new a(this),this._expressionConfigurator},up:function(){this.collection.move({model:this,direction:"up"})},down:function(){this.collection.move({model:this,direction:"down"})},remove:function(){var a=this.collection;Backbone.Collection.prototype.remove.call(a,this),a.recalculateIndexes()}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action").factory("rxActionExpressionConfigurator",["rxDefaultExpressionConfigurator","rxActionPropertyNavigator",function(a,b){return a.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.setDefaultDictionaryConfig({updateDataDictionary:function(a){return this._model.getActionDataDictionary(a)}})},setCurrentExpressionField:function(a){this._currentExpressionField=a,this._availableExpressionFields=b.getExpressionFields(this._model.id)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action").factory("rxActionManager",["rxAction",function(a){function b(b,c){var d=!1,e=a.findDescriptor(c.propertiesByName.name);if(e){var f=_.find(e.parameters,{name:b.split(".")[0]});d=!!f&&f.enableExpressionEvaluation}return d}return{isExpressionEvaluationEnabled:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action").factory("rxActionPropertyNavigator",function(){function a(a){d[a.id]=a.expressionFields}function b(a){return d[a]}function c(){d={}}var d={};return{getExpressionFields:b,addExpressionFields:a,clear:c}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.button-bar").factory("rxButtonBarDesignManager",["$q","rxButtonBarDesignModel","rxGUID","rxContainerDesignManager","rxString","RX_BUTTON_BAR",function(a,b,c,d,e,f){function g(a){return{id:a.guid||c.generate(),type:a.type,rxData:h(a),rxInspector:i(),layout:a.layout||d.getDefaultLayoutJSONString(),componentDefinitions:a.componentDefinitions||[]}}function h(a){return{alignment:a.propertiesByName.alignment||"left",hidden:a.propertiesByName.hidden||"0"}}function i(){return{inputs:{rxData:{alignment:{label:"Alignment",type:"select",group:"general",index:1,options:f.styles.map(function(a){return{value:a.value,content:a.name}})},hidden:{label:"Hidden",type:"rx-inspector-optional-expression",group:"general",index:2}}},groups:{general:{label:"General",index:1}}}}return{getModel:function(a){return new b(g(a))},getSettableProperties:function(b,c){var d={label:e.prettify(b.name),children:[]};return _.isEmpty(c.componentDefinitions)||(d.children=d.children.concat(_(c.componentDefinitions).map(function(a){return{label:e.prettify(a.propertiesByName.label),children:[{label:"Hidden",value:"${view.components."+a.guid+".hidden}"},{label:"Disabled",value:"${view.components."+a.guid+".disabled}"}]}}).value())),a.when(d)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.button-bar").factory("rxButtonBarDesignModel",["rxViewComponentModel","RX_VIEW_DEFINITION",function(a,b){return a.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,b.events.childAdd,this._onChildAdd),this.listenTo(this,b.events.childRemove,this._onChildRemove),this.listenTo(this,b.events.childUpdate,this._onChildUpdate)},describeViewComponent:function(){return{resourceType:b.resourceTypes.containerViewComponent,guid:this.get("id"),type:this.get("type"),layout:this.get("layout"),propertiesByName:this.get("rxData"),componentDefinitions:this.get("componentDefinitions")}},getBreadcrumbName:function(){var a=this.get("rxData");return a.label||""},_onChildAdd:function(a){this.get("componentDefinitions").push(a)},_onChildRemove:function(a){var b=this.get("componentDefinitions");_.pull(b,_.find(b,{guid:a}))},_onChildUpdate:function(a){var b=_.find(this.get("componentDefinitions"),{guid:a.id});b&&_.assign(b.propertiesByName,a.propertiesByName)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.container").factory("rxContainerDesignManager",["rxGUID","rxViewComponent","rxContainerModel","rxUtils","RX_VIEW_DEFINITION",function(a,b,c,d,e){function f(){return JSON.stringify({componentDefinitionId:a.generate(),columns:[{children:[]}]})}function g(b){return{id:b.guid||a.generate(),type:b.type,rxData:h(b),rxInspector:i(),layout:b.layout||f(),componentDefinitions:b.componentDefinitions||[],allowedTypes:b.allowedTypes||null}}function h(a){return{columnCount:a.propertiesByName.columnCount||e.columnCountOptions[0].value,autoFill:d.tryParseJson(a.propertiesByName.autoFill,!1),hidden:a.propertiesByName.hidden||"0",styles:(a.propertiesByName.styles||"").replace(/^"(.*)"$/,"$1")}}function i(){return{inputs:{rxData:{columnCount:{label:"Number of Columns",type:"select",group:"general",index:1,options:e.columnCountOptions,attrs:{label:{"class":"required"}}},columnSpan:{label:"Column Span",type:"rx-inspector-column-span",group:"general",index:2},hidden:{label:"Hidden",type:"rx-inspector-optional-expression",group:"general",index:3},styles:{label:"Styles",options:e.styles,placeholderText:"Add style",type:"rx-inspector-tag-input",tooltip:"Select the margins or borders for a container view component.",live:!1,group:"general",index:4}}},groups:{general:{label:"General",index:1}}}}return{getModel:function(a){return new c(g(a))},initContainerLayoutProperties:function(a){a.columns=a.columns||[{children:[]}]},getDefaultLayoutJSONString:f}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.container").factory("rxContainerModel",["rxGUID","rxViewComponentModel","rxExpressionEngine","$q","RX_VIEW_DEFINITION",function(a,b,c,d,e){function f(a){var b=a.columns.length,c=Math.floor(g/b);_.each(a.columns,function(a){a.span=c}),_.last(a.columns).span=g%b+c}var g=12;return b.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,e.events.childAdd,this._onChildAdd),this.listenTo(this,e.events.childRemove,this._onChildRemove),this.listenTo(this,e.events.childUpdate,this._onChildUpdate)},describeViewComponent:function(){return{resourceType:e.resourceTypes.containerViewComponent,guid:this.get("id"),type:this.get("type"),layout:this.get("layout"),componentDefinitions:this.get("componentDefinitions"),propertiesByName:_.omit(this.get("rxData"),"columnSpan")}},_onChildAdd:function(a){this.get("componentDefinitions").push(a)},_onChildRemove:function(a){var b=this.get("componentDefinitions");_.pull(b,_.find(b,{guid:a}))},_onChildUpdate:function(a){var b=_.find(this.get("componentDefinitions"),{guid:a.guid});b&&_.assign(b.propertiesByName,a.propertiesByName)},_onChangeRxData:function(a,b,c){if(c&&"rxData/columnCount"===c.propertyPath||c.commandManager&&a._previousAttributes.rxData.columnCount!==a.get("rxData").columnCount){var d=+b.columnCount-a._previousAttributes.rxData.columnCount,e=a.layoutTree;d>0?_.times(d,function(){e.columns.push({children:[]})}):e.columns.splice(d,Math.abs(d)),f(e),this.trigger("layout:columnSpan")}},validate:function(){var a=[];return c.isValid(this.prop("rxData/hidden"))||a.push({elementId:this.get("id"),elementName:"Container",componentProperty:!0,propertyName:"hidden",type:"error",message:"Hidden must be a valid expression."}),d.when(a)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.design-utils").factory("rxAssociationComponentDesignUtils",["definitionNameFilter","RX_ASSOCIATED_RECORD_NODE_SIDES","rxDesignerCache",function(a,b,c){function d(a){return[{value:"",content:""},{value:b.nodeA.value,content:a.nodeAName||b.nodeA.defaultName},{value:b.nodeB.value,content:a.nodeBName||b.nodeB.defaultName}]}function e(b,d){return c.getRecordAssociations([b,d]).then(function(c){var e,f=_.map(c[b],"associationDefinitionName");if(d){var g=_.map(c[d],"associationDefinitionName");e=_.intersection(f,g)}else e=f;return _(e).map(function(b){return{value:b,content:a(b)}}).unshift({value:"",content:""}).value()})}return{getAssociatedRecordNodeSideOptions:d,getAssociationDefinitionsOptions:e}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxAssociationHelper",["RX_RECORD_DEFINITION","rxUtils","rxGUID",function(a,b,c){function d(b){return{id:b[a.coreFieldIds.id],fieldInstances:_.transform(b,function(a,b,c){a[c]={id:c,value:b}},{})}}function e(e){var g=[];if(_.isFunction(e.getSelectedRows))g=_.map(e.getSelectedRows(),d);else if(_.isObject(e)&&b.isNonEmptyString(e[f]))g.push(d(e));else if(_.isArray(e)&&_.some(e,_.isObject))g=_.map(e,d);else if(_.isObject(e)&&_.isObject(e.fieldInstances)&&e.id)g.push(e);else if(_.isObject(e)&&_.isObject(e.fieldInstances)&&!e.id){_.isFunction(e.plain)&&(e=e.plain());var h=c.generate();e.id=h,e.fieldInstances[a.coreFieldIds.id].value=h,e.isNewInstance=!0,g.push(e)}return g}var f="$ID$";return{convertToRecordInstance:d,extractRecordInstance:e}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxAssociationManager",["$q","RX_RECORD_DEFINITION","RX_ASSOCIATED_RECORD_NODE_SIDES","RX_ASSOCIATION_DEFINITION","rxRecordEditorCache","rxAssociationHelper","rxAssociationDefinitionResource","rxAssociationInstanceDataPageResource",function(a,b,c,d,e,f,g,h){function i(a){rx.assert.assertStringWithLength(a.associationDefinitionName),rx.assert.assertStringWithLength(a.associatedRecordNodeSide),rx.assert.assertStringWithLength(a.recordDefinitionName),this.options=a,_.assign(this.options,{canLoadAssociations:Boolean(this.options.associatedRecordInstanceId),pageSize:10,currentPageIndex:0}),this.existing=this.options.associationInstances.existing,this.pending=this.options.associationInstances.pending,this.deleted=this.options.associationInstances.deleted,this.totalExistingCount=0,this.associationDefinition=null,this.cardinalityType=null,this.loadPromise=null,this.initializePromise=null,this.mergeFieldIds([b.coreFieldIds.id])}var j={one:"ONE",many:"MANY"};return i.prototype={initialize:function(){var b=this;return this.initializePromise||(this.initializePromise=a.all({recordDefinition:this._getRecordDefinition(),associationDefinition:this._getAssociationDefinition()}).then(function(a){b.recordDefinition=a.recordDefinition,b.associationDefinition=a.associationDefinition,b.cardinalityType=b._getCardinalityType(b.associationDefinition.cardinality,b.options.associatedRecordNodeSide)})),this.initializePromise},loadExistingAssociations:function(){if(this.options.canLoadAssociations){if(!this.loadPromise){var b=this;this.loadPromise=this._getExistingAssociationInstances().then(function(a){_.each(a.data,function(a){b.addToExisting(f.convertToRecordInstance(a))}),b.totalExistingCount=a.totalSize,b.options.currentPageIndex+=b.options.pageSize})["finally"](function(){b.loadPromise=!1})}return this.loadPromise}return a.when()},addToExisting:function(a){this.existing.push(a)},addToPending:function(a){var b=this;if(!_.isEmpty(a)&&this.associationDefinition)if(this.cardinalityType===j.many){var c=_.filter(a,function(a){return!b._isInExisting(a.id)&&!b._isInDeleted(a.id)&&!b._isInPending(a.id)});Array.prototype.push.apply(this.pending,c);var d=_.remove(b.deleted,function(b){return _.find(a,{id:b.id})});_.each(d,function(a){b.addToExisting(a)})}else if(this.cardinalityType===j.one){var e=a[0];switch(!0){case _.isEmpty(this.existing)&&_.isEmpty(this.deleted):this.pending.length=0,this.pending.push(e);break;case _.isEmpty(this.existing):var f=this.deleted[0];f.id===e.id?this.addToExisting(this.deleted.splice(0,1)):(this.pending.length=0,this.pending.push(e));break;case _.isEmpty(this.deleted):var g=this.existing[0];g.id!==e.id&&(this._deleteFromExisting(g.id),this.pending.length=0,this.pending.push(e))}}},restore:function(){var a=this;_.each(this.deleted,function(b){a.addToExisting(b)}),this.deleted.splice(0,this.deleted.length),this.deleteAllPending()},reset:function(){this.existing.splice(0,this.existing.length),this.pending.splice(0,this.pending.length),this.deleted.splice(0,this.deleted.length),this.totalExistingCount=0,this.options.currentPageIndex=0},"delete":function(a){this._isInExisting(a)?this._deleteFromExisting(a):this._isInPending(a)&&this._deleteFromPending(a)},deleteAllExisting:function(){var a=this,b=_.map(this.existing,"id");_.each(b,function(b){a._deleteFromExisting(b)})},deleteAllPending:function(){this.pending.splice(0,this.pending.length)},mergeFieldIds:function(a){this.options.fieldIds=_.uniq(this.options.fieldIds.concat(a))},_getRecordDefinition:function(){return e.getRecordDefinition(this.options.recordDefinitionName)},_getAssociationDefinition:function(){return g.get(this.options.associationDefinitionName)},_getCardinalityType:function(a,b){var e;switch(!0){case a===d.cardinalityTypes.ONE_TO_ONE:e=j.one;break;case a===d.cardinalityTypes.ONE_TO_MANY:e=b===c.nodeB.value?j.many:j.one;break;case a===d.cardinalityTypes.MANY_TO_MANY:e=j.many}return e},_getExistingAssociationInstances:function(){return h.get(this.options.pageSize,this.options.currentPageIndex,{associationDefinition:this.options.associationDefinitionName,nodeToQuery:this.options.associatedRecordNodeSide,associatedRecordInstanceId:this.options.associatedRecordInstanceId,propertySelection:this.options.fieldIds.join(",")})},_isInExisting:function(a){return _.find(this.existing,{id:a})},_isInPending:function(a){return _.find(this.pending,{id:a})},_isInDeleted:function(a){return _.find(this.deleted,{id:a})},_deleteFromExisting:function(a){var b=_.remove(this.existing,{id:a})[0];this.deleted.push(b)},_deleteFromPending:function(a){_.remove(this.pending,{id:a})}},i}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxDefaultRecordEditorInputType",["RX_RECORD_EDITOR","RX_RECORD_DEFINITION",function(a,b){function c(a){return _.isFunction(d[a.resourceType])?d[a.resourceType](a):d[a.resourceType]}var d={};return d[b.dataTypes.dateTime.resourceType]=a.fields.dateTime,d[b.dataTypes.selection.resourceType]=a.fields.selection,d[b.dataTypes.dateOnly.resourceType]=a.fields.date,d[b.dataTypes.timeOnly.resourceType]=a.fields.time,d[b.dataTypes.integer.resourceType]=a.fields.integer,d[b.dataTypes.real.resourceType]=a.fields.floating,d[b.dataTypes.decimal.resourceType]=a.fields.decimal,d[b.dataTypes["boolean"].resourceType]=a.fields["boolean"],d[b.dataTypes.attachment.resourceType]=a.fields.attachment,d[b.dataTypes.character.resourceType]=function(b){return b.maxLength>254?a.fields.textarea:a.fields.character},{get:c}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxAssociationDesignManager",["rxAssociationDesignModel","rxAssociationDesignHelper","rxGUID","RX_RECORD_EDITOR","RX_DEFINITION_PICKER",function(a,b,c,d,e){function f(a){return _(a).filter({type:d.association.componentTypes.associatedRecordField}).map(function(a){return{fieldId:a.propertiesByName.fieldId,label:a.propertiesByName.label,index:a.propertiesByName.index}}).sortBy("index").value()}function g(a){var b=_.filter(a,{type:d.association.componentTypes.actionButton});return _.reduce(b,function(a,b){if(!_.isEmpty(b.componentDefinitions)){var c=b.componentDefinitions[0].propertiesByName;switch(!0){case b.propertiesByName.action===d.association.actions.createAndAssociate:a.viewDefinitionNameForCreate=c.viewDefinitionName;break;case b.propertiesByName.action===d.association.actions.associate:a.viewDefinitionNameForSelect=c.viewDefinitionName}}return a},{})}function h(a){return _.assign({recordDefinitionName:a.propertiesByName.recordDefinitionName,associationDefinitionName:a.propertiesByName.associationDefinitionName,associatedRecordNodeSide:a.propertiesByName.associatedRecordNodeSide,displayedFields:f(a.componentDefinitions),disabled:a.propertiesByName.disabled||"0",hidden:a.propertiesByName.hidden||"0",label:a.propertiesByName.label||""},g(a.componentDefinitions))}function i(a){return{id:a.guid||c.generate(),type:a.type,rxData:h(a),rxInspector:b.getRxInspector(),componentDefinitions:a.componentDefinitions||[]}}return{getModel:function(b){return new a(i(b))}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxAssociationDesignModel",["$q","rxGUID","definitionNameFilter","rxAssociationDesignHelper","rxAssociationDefinitionResource","rxAssociationComponentDesignUtils","rxDesignerCache","rxRecordEditorCache","rxRecordEditorUtils","rxViewComponent","rxViewComponentModel","rxViewDesignerCommandManager","RX_ASSOCIATED_RECORD_NODE_SIDES","RX_VIEW_DEFINITION","RX_ASSOCIATION_DEFINITION","RX_RECORD_EDITOR",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return k.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this.onChangeRxData),this.listenTo(this,"change:parentModel",this.onChangeParentModel)},describeViewComponent:function(){var a=this.get("rxData"),b=this.getRecordEditorModel().get("id");return{resourceType:n.resourceTypes.containerViewComponent,guid:this.get("id"),type:this.get("type"),propertiesByName:{recordInstance:"${view.components."+b+".recordInstance}",recordDefinition:"${view.components."+b+".recordDefinition}",recordDefinitionName:a.recordDefinitionName,associationDefinitionName:a.associationDefinitionName,associatedRecordNodeSide:a.associatedRecordNodeSide,label:this.get("rxData").label||"",disabled:this.get("rxData").disabled||"0",hidden:this.get("rxData").hidden||"0"}}},persist:function(a){var b=_.find(a.componentDefinitions,{guid:this.get("id")}),c=this.describeViewComponent(),d=n.events.childUpdate,e=this.get("parentModel");b?(_.assign(b.propertiesByName,c.propertiesByName),b.componentDefinitions=this.buildComponentDefinitions()):(d=n.events.childAdd,a.componentDefinitions.push(c)),e&&e.trigger(d,c)},buildComponentDefinitions:function(){var a=this.get("rxData"),b=this.get("id"),c=this.buildComponentRecordFields(a.displayedFields);return a.viewDefinitionNameForSelect&&(c=c.concat(this.buildActionButtonDefinition(b,a.viewDefinitionNameForSelect,"Associate","rxAvcAssociate",p.association.actions.associate))),a.viewDefinitionNameForCreate&&(c=c.concat(this.buildActionButtonDefinition(b,a.viewDefinitionNameForCreate,"Create New","rxAvcAssociate",p.association.actions.createAndAssociate))),c},buildActionButtonDefinition:function(a,c,d,e,f){return{resourceType:n.resourceTypes.containerViewComponent,guid:b.generate(),type:p.association.componentTypes.actionButton,propertiesByName:{label:d,style:"secondary",action:f},componentDefinitions:[{resourceType:n.resourceTypes.viewComponent,guid:b.generate(),type:"rx-action",propertiesByName:{name:e,associationViewComponent:"${view.components."+a+".api}",viewDefinitionName:c}}]}},buildComponentRecordFields:function(a){return _.map(a,function(a){return{resourceType:n.resourceTypes.viewComponent,guid:b.generate(),type:p.association.componentTypes.associatedRecordField,propertiesByName:{fieldId:a.fieldId,label:a.label||"",index:a.index}}})},updateInspectorConfig:function(){var b=this,c=this.get("rxInspector"),e=this.getRecordEditorModel(),f=[];return e.prop("rxData/recordDefinitionName")?(_.get(c,"inputs.rxData.associationDefinitionName")||(this.unset("rxInspector"),this.set("rxInspector",d.getRxInspector(),{silent:!0})),f.push(b.updateAssociationDefinitionsEditor()),b.prop("rxData/associatedRecordNodeSide")&&f.push(b.updateAssociationNodeSideEditor())):(c=d.getRxInspectorWithValidationIssues([{elementId:e.get("id"),elementName:"",componentProperty:!0,propertyName:"recordDefinitionName",type:"error",message:"You must select a Record Definition before editing Associate component."}]),this.unset("rxInspector"),this.set("rxInspector",c,{silent:!0})),a.all(f)},onChangeRxData:function(b,c,d){var e=this,f=this.get("rxData");switch(!0){case"rxData/recordDefinitionName"===d.propertyPath:l.initBatchCommand(),f.displayedFields=[],f.associationDefinitionName=null,f.associatedRecordNodeSide=null,this.prop("rxData/recordDefinitionName")?this.initFieldDefinition():this.recordDefinition=null,this.set("rxData",f),l.storeBatchCommand(),a.all([this.updateAssociationDefinitionsEditor(),this.updateAssociationNodeSideEditor()]).then(function(){
e.trigger("rx:change:inputs",e)});break;case"rxData/associationDefinitionName"===d.propertyPath:f.associationDefinitionName&&this.getCurrentAssociationDefinition().then(function(a){var b=a.nodeAId===f.recordDefinitionName?m.nodeA.value:m.nodeB.value;e.prop("rxData/associatedRecordNodeSide",b),e.updateAssociationNodeSideEditor().then(function(){e.trigger("rx:change:inputs",e)})})}},updateAssociationNodeSideEditor:function(){var b=this.get("rxInspector"),c=this.prop("rxData/associationDefinitionName");return c?this.getCurrentAssociationDefinition().then(function(a){var c;a.nodeAId===a.nodeBId&&(c=f.getAssociatedRecordNodeSideOptions(a)),c?b.inputs.rxData.associatedRecordNodeSide.options=c:delete b.inputs.rxData.associatedRecordNodeSide.options}):(delete b.inputs.rxData.associatedRecordNodeSide.options,a.when())},updateAssociationDefinitionsEditor:function(){var b=this.get("rxInspector");return this.prop("rxData/recordDefinitionName")?this.getAssociationDefinitions().then(function(a){b.inputs.rxData.associationDefinitionName.options=a}):(b.inputs.rxData.associationDefinitionName.options=[],a.when())},getAssociationDefinitions:function(){var a=this.getRecordEditorModel().prop("rxData/recordDefinitionName");return f.getAssociationDefinitionsOptions(this.prop("rxData/recordDefinitionName"),a)},onChangeParentModel:function(){this.prop("rxData/recordDefinitionName")&&this.initFieldDefinition()},getRecordEditorModel:function(){return i.getParentRecordEditorModel(this)},getRecordEditorId:function(){return this.getRecordEditorModel().get("id")},getCurrentAssociationDefinition:function(){return g.getAssociationDefinition(this.prop("rxData/associationDefinitionName"))},getAssociationRecordDefinition:function(){return h.getRecordDefinition(this.prop("rxData/recordDefinitionName"))},initFieldDefinition:function(){var a=this;this.getAssociationRecordDefinition().then(function(b){var c=a.get("rxData");a.recordDefinition=b,_.each(c.displayedFields,function(a){a.name=_.find(b.fieldDefinitions,{id:Number(a.fieldId)}).name}),a.unset("rxData",{silent:!0}),a.set("rxData",c)})},validate:function(){var b=this,c=this.getRecordEditorModel(),d=[];if(c.get("rxData").recordDefinitionName){var f=[];if(b.prop("rxData/recordDefinitionName")||d.push({elementId:b.get("id"),elementName:"Association",componentProperty:!0,propertyName:"recordDefinitionName",type:"error",message:"Record Definition to Associate cannot be blank."}),b.prop("rxData/recordDefinitionName")&&!b.prop("rxData/associationDefinitionName")&&d.push({elementId:b.get("id"),elementName:"Association",componentProperty:!0,propertyName:"associationDefinitionName",type:"error",message:"Association to Use cannot be blank."}),b.prop("rxData/viewDefinitionNameForSelect")||d.push({elementId:b.get("id"),elementName:"Association",componentProperty:!0,propertyName:"viewDefinitionNameForSelect",type:"error",message:"View for Selecting Associated Records cannot be blank."}),b.prop("rxData/associationDefinitionName")){var g=e.get(b.prop("rxData/associationDefinitionName"));g.then(function(a){a.nodeAId!==a.nodeBId||b.prop("rxData/associatedRecordNodeSide")||d.push({elementId:b.get("id"),elementName:"Association",componentProperty:!0,propertyName:"fieldId",type:"error",message:"Associated Record Role cannot be blank."})}),f.push(g)}return b.prop("rxData/recordDefinitionName")&&!b.prop("rxData/displayedFields").length&&d.push({elementId:b.get("id"),elementName:"Association",componentProperty:!0,propertyName:"displayedFields",type:"error",message:"Preview Fields cannot be empty."}),a.all(f).then(function(){return d})}return a.when([])}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxAssociationDesignHelper",["RX_DEFINITION_PICKER",function(a){function b(){return{inputs:{rxData:{recordDefinitionName:{label:"Record Definition to Associate",type:"rx-inspector-definition-picker",definitionType:a.definitionTypes.regularRecord.type,group:"general",index:1,attrs:{label:{"class":"required"}}},associationDefinitionName:{label:"Association to Use",type:"select",options:[],group:"general",index:2,attrs:{label:{"class":"required"}},when:{and:[{ne:{"rxData/recordDefinitionName":void 0}},{ne:{"rxData/recordDefinitionName":""}}]}},associatedRecordNodeSide:{label:"Associated Record Node Side",type:"select",group:"general",index:3,attrs:{label:{"class":"required"}},when:{and:[{ne:{"rxInspector/inputs/rxData/associatedRecordNodeSide/options":void 0}}]}},label:{label:"Display Label",type:"text",group:"general",index:4},viewDefinitionNameForSelect:{label:"View for Selecting Associated Records",type:"rx-inspector-definition-picker",group:"general",index:5,definitionType:a.definitionTypes.view.type,attrs:{label:{"class":"required"}}},viewDefinitionNameForCreate:{label:"View for Creating Associated Records",type:"rx-inspector-definition-picker",group:"general",index:6,definitionType:a.definitionTypes.view.type},displayedFields:{type:"rx-inspector-associated-record-field-selector",group:"general",index:7,attrs:{label:{"class":"required"}},when:{and:[{ne:{"rxData/recordDefinitionName":void 0}},{ne:{"rxData/recordDefinitionName":""}}]}},disabled:{label:"Disabled",type:"rx-inspector-optional-expression",group:"general",index:8},hidden:{label:"Hidden",type:"rx-inspector-optional-expression",group:"general",index:9}}},groups:{general:{label:"General",index:1}}}}function c(a){return{inputs:{issues:{type:"rx-inspector-validation-issues",group:"general",validationIssues:a}},groups:{general:{label:"General",index:1}}}}return{getRxInspector:b,getRxInspectorWithValidationIssues:c}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").service("rxAvcAssociate",["rxAssociationHelper","rxOpenViewAction","RX_OPEN_VIEW",function(a,b,c){this.execute=function(d,e){return rx.assert.assertObject(e),rx.assert.assertFunction(e.associate),b.execute(d,null,{modalSize:c.modalSize.large,type:c.type.dockedRightModal}).then(function(b){var c=_(b).map(a.extractRecordInstance).flatten().compact().uniq().value();return e.associate(c),c})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxAttachmentFieldDefinitionDesignManager",["rxRecordEditorFieldComponentDefaultDesignManager","RxAttachmentFieldModel",function(a,b){var c=a.extend({getModel:function(a){return new b(this.getRxConfig(a))}}),d=new c;return{getModel:function(a){return d.getModel(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("RxAttachmentFieldModel",["rxRecordEditorFieldComponentDesignModel",function(a){return a.extend({getRxInspector:function(b){return a.prototype.getRxInspector.apply(this,arguments).then(function(a){return delete a.inputs.rxData.value,a})}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxCharacterFieldDefinitionDesignManager",["rxRecordEditorFieldComponentDefaultDesignManager","rxCharacterFieldModel",function(a,b){var c=a.extend({getModel:function(a){return new b(this.getRxConfig(a))},getRxData:function(b){var c=a.prototype.getRxData(b);return c.enableMultiSelection="true"===c.enableMultiSelection,c}}),d=new c;return{getModel:function(a){return d.getModel(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxCharacterFieldModel",["rxRecordEditorFieldComponentDesignModel",function(a){return a.extend({describeViewComponent:function(){var b=a.prototype.describeViewComponent.apply(this,arguments);return this.isAttachedToNamedList()&&(b.propertiesByName.enableMultiSelection=this.get("rxData").enableMultiSelection),b},getRxInspector:function(){var b=this;return a.prototype.getRxInspector.apply(this,arguments).then(function(a){return b.getInspectorWithMultiSelection(a)})},onFieldDefinitionChanged:function(){var b=this;a.prototype.onFieldDefinitionChanged.apply(this,arguments).then(function(){var a=b.get("rxInspector");a.inputs.rxData&&(a=b.getInspectorWithMultiSelection(a),b.setInspector(a))})},getInspectorWithMultiSelection:function(a){var b=this.isAttachedToNamedList(),c=a.inputs.rxData.enableMultiSelection;return(b&&!c||!b&&c)&&(c?delete a.inputs.rxData.enableMultiSelection:a.inputs.rxData.enableMultiSelection={label:"Enable Multi-Selection",type:"rx-inspector-toggle-field",group:"general",index:6}),a},isAttachedToNamedList:function(){return _.get(this,"fieldDefinition.namedListDefinition")}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxSelectGroupComponentDesignManager",["$q","rxGUID","rxSelectGroupFieldModel","RX_DEFINITION_PICKER",function(a,b,c,d){return{getModel:function(a){return new c(this.getRxConfig(a))},getRxConfig:function(a){return{id:a.guid||b.generate(),type:a.type,rxData:this.getRxData(a),rxInspector:this.getRxInspector(),componentDefinitions:a.componentDefinitions||[]}},getRxData:function(a){return _.assign({fieldList:_(a.componentDefinitions||[]).map(function(a){return{guid:a.guid,index:a.propertiesByName.index,fieldId:+a.propertiesByName.fieldId,label:a.propertiesByName.label,namedListDefinitionName:a.propertiesByName.namedListDefinitionName}}).sortBy("index").value()},a.propertiesByName)},getRxInspector:function(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)},c=b();return{readonly:!1,inputs:{rxData:{disabled:{label:"Disabled",type:"rx-inspector-optional-expression",group:"properties",index:1,attrs:c},hidden:{label:"Hidden",type:"rx-inspector-optional-expression",group:"properties",index:2,attrs:c},fieldList:{type:"list",group:"fieldSet",index:1,item:{type:"object",properties:{label:{type:"rx-inspector-text",label:"Display Label",tooltip:"Enter the title of the label to be displayed for the drop-drop list.",attrs:b({label:{"class":"required"}})},namedListDefinitionName:{label:"Named List for Options",type:"rx-inspector-definition-picker",tooltip:"Select the Named list created for the record from the Named list designer.",definitionType:d.definitionTypes.namedList.type,attrs:b({label:{"class":"required"}})},fieldId:{type:"rx-inspector-select",label:"Record Field for Storing Value",tooltip:"Select the record field of the record definition that should appear in the Named list.",attrs:b({label:{"class":"required"}})}}}}}},groups:{properties:{label:"Properties",index:1},fieldSet:{label:"Field Set",index:2}}}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxSelectGroupFieldModel",["$q","rxGUID","definitionNameFilter","rxRecordEditorCache","rxExpressionEngine","rxRecordEditorFieldComponentDesignModel","RX_RECORD_DEFINITION","RX_RECORD_EDITOR","RX_VIEW_DEFINITION",function(a,b,c,d,e,f,g,h,i){var j=6;return f.extend({persist:function(a){var b=_.find(a.componentDefinitions,{guid:this.get("id")});b&&(this._updateFieldDefinitions(b),b.componentDefinitions=this.prop("componentDefinitions")),f.prototype.persist.call(this,a)},describeViewComponent:function(){var a=f.prototype.describeViewComponent.call(this);return a.resourceType=i.resourceTypes.containerViewComponent,a.componentDefinitions=this.prop("componentDefinitions"),a.propertiesByName.label=this.getSelectGroupLabel(),delete a.propertiesByName.fieldId,delete a.propertiesByName.fieldList,a},updateInspectorConfig:function(){var b=this.get("rxInspector").inputs.rxData.fieldList.item.properties;return a.all({fieldNameOptions:this.getFieldNameOptions(),namedListOptions:this.getNamedListOptions()}).then(function(a){a.fieldNameOptions.unshift(g.EMPTY_FIELD_NAME_OPTION),b.fieldId.options=a.fieldNameOptions,b.namedListDefinitionName.options=a.namedListOptions})},getNamedListOptions:function(){return d.getNamedListDefinitionNameDataPage().then(function(a){return _(a).map(function(a){return{value:a,content:c(a)}}).unshift(g.EMPTY_LIST_OPTION).value()})},getSelectGroupLabel:function(){return _(this.get("componentDefinitions")).map("propertiesByName.label").compact().join()},_updateFieldDefinitions:function(a){var c=this.prop("rxData/fieldList"),d=[];_.each(c,function(c,e){if(c.guid){var f=_.find(a.componentDefinitions,{guid:c.guid});f&&(_.assign(f.propertiesByName,_.omit(c,"guid")),f.propertiesByName.fieldId=+c.fieldId,f.propertiesByName.index=e,d.push(f))}else d.push({resourceType:i.resourceTypes.viewComponent,guid:c.guid||b.generate(),type:h.fields.selectGroupField,propertiesByName:{index:e,label:c.label,fieldId:+c.fieldId,namedListDefinitionName:c.namedListDefinitionName}})}),this.prop("componentDefinitions",d,{silent:!0})},validate:function(){var b=[],c=this.get("rxData").fieldList||[],d=[],f={elementId:this.get("id"),elementName:"Select Group",componentProperty:!0,type:"error"};return e.isValid(this.prop("rxData/disabled"))||b.push({propertyName:"disabled",message:"Disabled must be a valid expression."}),e.isValid(this.prop("rxData/hidden"))||b.push({propertyName:"hidden",message:"Hidden must be a valid expression."}),c.length?(_.each(c,function(a,c){_.isEmpty(_.trim(a.label))?b.push({propertyName:"fieldList/"+c+"/label",message:"Display Label cannot be blank."}):d.push(a.label),_.isEmpty(_.trim(a.namedListDefinitionName))&&b.push({propertyName:"fieldList/"+c+"/namedListDefinitionName",message:"Named List cannot be blank."}),_.isEmpty(_.trim(a.fieldId))&&b.push({propertyName:"fieldList/"+c+"/fieldId",message:"Field Name cannot be blank."})}),c.length>j&&b.push({message:"Field Set can have a maximum of "+j+" fields."}),d.length&&_.uniq(d).length!==c.length&&b.push({message:"Display Labels must be unique."})):b.push({message:"Field Set cannot be empty."}),a.when(_.map(b,function(a){return _.assign({},f,a)}))}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxRecordEditorCache",["$q","rxRecordDefinitionResource","rxNamedListDefinitionResource","rxNamedListDefinitionNameDataPageResource",function(a,b,c,d){function e(){k=_.cloneDeep(m)}function f(a){rx.assert.assertFunction(a.$on,"Should be scope instance"),a.$on("$destroy",function(){g(a)}),l.push(a)}function g(a){_.remove(l,a),_.isEmpty(l)&&e()}function h(c){return c&&!k.recordDefinitions[c]&&(k.recordDefinitions[c]=b.get(c).then(function(a){return k.recordDefinitions[c]=a,k.recordDefinitions[c]})),a.when(k.recordDefinitions[c])}function i(b){return b&&!k.namedListDefinitions[b]&&(k.namedListDefinitions[b]=c.get(b).then(function(a){return k.namedListDefinitions[b]=a,k.namedListDefinitions[b]})),a.when(k.namedListDefinitions[b])}function j(){return k.namedListDefinitionNameDataPage||(k.namedListDefinitionNameDataPage=d.get().then(function(a){return k.namedListDefinitionNameDataPage=a.data,k.namedListDefinitionNameDataPage})),a.when(k.namedListDefinitionNameDataPage)}var k,l=[],m={recordDefinitions:{},namedListDefinitions:{},namedListDefinitionNameDataPage:null};return e(),{clear:e,registerConsumer:f,getRecordDefinition:h,getNamedListDefinition:i,getNamedListDefinitionNameDataPage:j}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxRecordEditorDesignManager",["$q","rxRecordEditorDesignModel","rxContainerDesignManager","rxDesignerCache","rxViewComponent","rxViewDefinitionUtils","rxGUID","rxUtils","definitionNameFilter","rxString","RX_RECORD_EDITOR","RX_DEFINITION_PICKER","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){return{id:a.guid||g.generate(),type:a.type,rxData:o(a),rxInspector:p(),layout:a.layout||c.getDefaultLayoutJSONString(),componentDefinitions:a.componentDefinitions||[]}}function o(a){return{recordDefinitionName:a.propertiesByName.recordDefinitionName,recordInstanceId:a.propertiesByName.recordInstanceId,mode:a.propertiesByName.mode||k.modes.edit,showReadOnlyState:Boolean(a.propertiesByName.defaultState),defaultState:a.propertiesByName.defaultState||k.defaultState.read,autoFill:h.tryParseJson(a.propertiesByName.autoFill,!1)}}function p(a){var b=function(b){var c=a?{input:{readonly:!0,disabled:!0},select:{readonly:!0,disabled:!0}}:{};return _.assign({},c,b)};b({label:{"class":"required"}});return{readonly:!1,inputs:{rxData:{recordDefinitionName:{label:"Record Definition Name",type:"rx-inspector-definition-picker",definitionType:l.definitionTypes.record.type,group:"general",index:1,attrs:{label:{"class":"required"}}},mode:{label:"Mode",type:"rx-inspector-group-button",group:"general",index:2,tooltip:"Select Create mode to enable users to submit new records. Select Edit mode to enable users to update existing records.",options:[{value:k.modes.create,content:"Create"},{value:k.modes.edit,content:"Edit"}],attrs:{label:{"class":"required"}}},recordInstanceId:{label:"Record ID",type:"rx-inspector-expression-node-field",tooltip:"Enter the record ID of the record that the users need to edit.",group:"general",index:3,attrs:{label:{"class":"required"}},when:{eq:{"rxData/mode":k.modes.edit}}},showReadOnlyState:{type:"rx-inspector-checkbox-field",description:"Show a read-only state for this component",group:"general",index:4,when:{eq:{"rxData/mode":k.modes.edit}}},defaultState:{label:"Default State",type:"rx-inspector-group-button",group:"general",index:5,options:[{value:k.defaultState.read,content:"Read"},{value:k.defaultState.edit,content:"Edit"}],when:{and:[{eq:{"rxData/showReadOnlyState":!0}},{eq:{"rxData/mode":k.modes.edit}}]}},displayedFields:{label:"Displayed Fields",type:"rx-inspector-record-definition-fields",group:"formContents",index:6,when:{and:[{ne:{"rxData/recordDefinitionName":void 0}},{ne:{"rxData/recordDefinitionName":""}}]}}}},groups:{general:{label:"General",index:1},formContents:{label:"Form Contents",index:2}}}}var q=function(a,b){var c=j.prettify(a.name);return b.propertiesByName.recordDefinitionName&&(c+=" ("+i(b.propertiesByName.recordDefinitionName)+")"),c};return{getModel:function(a){return new b(n(a))},getSettableProperties:function(b,c){var g={label:q(b,c),children:[]},i=a.resolve();return c.propertiesByName.recordDefinitionName&&(i=d.getRecordDefinition(c.propertiesByName.recordDefinitionName)),i.then(function(a){_.isEmpty(c.componentDefinitions)||g.children.push({label:"Inputs",children:_(f.flattenContainers(c.componentDefinitions)).map(function(b){var c=b.propertiesByName.label;if(h.isNonEmptyString(c))c=j.prettify(c);else if(b.propertiesByName.fieldId&&a){var d=_.find(a.fieldDefinitions,{id:Number(b.propertiesByName.fieldId)});c=["[",d.name,"]"].join("")}else c=["[",e.findDescriptor(b.type).name,"]"].join("");return{label:c,children:[{label:"Hidden",value:"${view.components."+b.guid+".hidden}"},{label:"Disabled",value:"${view.components."+b.guid+".disabled}"}]}}).value()});var b={label:"Record Instance"};return b.children=a?_(a.fieldDefinitions).map(function(a){if(a.resourceType!==m.dataTypes.attachment.resourceType)return{label:a.name,value:"${view.components."+c.guid+".recordInstance.fieldInstances."+a.id+".value}"}}).compact().sortBy("label").value():[],g.children.push(b),g})},getDataDictionaryBranch:function(b,c,e){var f={label:q(b,c),value:"${view.components."+c.guid+".api}",children:[]};f.children=_(b.propertiesByName).filter({isProperty:!0}).map(function(a){return{name:a.name,label:j.prettify(a.name),type:e.componentsProperties.type,icon:e.componentsProperties.icon,value:"${view.components."+c.guid+"."+a.name+"}"}}).value();var g=_.find(f.children,{name:"recordInstance"});return c.propertiesByName.recordDefinitionName&&g?d.getRecordDefinition(c.propertiesByName.recordDefinitionName).then(function(a){return g.children=_(a.fieldDefinitions).reject({resourceType:m.dataTypes.attachment.resourceType}).map(function(a){var b={label:a.name,type:e.componentsProperties.type,icon:e.componentsProperties.icon,value:"${view.components."+c.guid+".recordInstance.fieldInstances."+a.id+".value}"};return a.resourceType===m.dataTypes.selection.resourceType&&(b.children=_.map(a.optionNamesById,function(b,d){return{label:b,type:e.componentsProperties.type,icon:e.componentsProperties.icon,value:"${view.components."+c.guid+".recordDefinition.fieldDefinitionsById["+a.id+"].optionsById["+d+"].id}"}})),b}).sortBy("label").value(),f}):a.when(f)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxRecordEditorDesignModel",["$q","dialogs","rxUtils","rxDesignerCache","rxRecordEditorUtils","rxViewComponent","rxViewComponentModel","rxViewDesignerCacheManager","rxViewDesignerCommandManager","rxViewDesignerComponentManager","rxDefaultRecordEditorInputType","RX_RECORD_DEFINITION","RX_VIEW_DEFINITION","RX_RECORD_EDITOR",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return g.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,m.events.childAdd,this._onChildAdd),this.listenTo(this,m.events.childRemove,this._onChildRemove),this.listenTo(this,m.events.childUpdate,this._onChildUpdate)},persist:function(a){var b=_.find(a.componentDefinitions,{guid:this.get("id")});if(b){var c={recordDefinitionName:this.get("rxData").recordDefinitionName,recordInstanceId:this.get("rxData").mode===n.modes.create?null:this.get("rxData").recordInstanceId,mode:this.get("rxData").mode,autoFill:this.get("rxData").autoFill};c.mode===n.modes.edit&&this.prop("rxData/showReadOnlyState")&&(c.defaultState=this.prop("rxData/defaultState")),_.assign(b,{propertiesByName:c})}else a.componentDefinitions.push(this.describeViewComponent())},describeViewComponent:function(){return{resourceType:m.resourceTypes.containerViewComponent,guid:this.get("id"),type:this.get("type"),layout:this.get("layout"),componentDefinitions:this.get("componentDefinitions"),propertiesByName:{recordDefinitionName:this.get("rxData").recordDefinitionName||"",recordInstanceId:this.get("rxData").recordInstanceId||"",mode:this.get("rxData").mode||n.modes.edit,autoFill:this.get("rxData").autoFill}}},getCurrentRecordDefinition:function(){return d.getRecordDefinition(this.get("rxData").recordDefinitionName)},getLayoutOrder:function(a){var b=this.layoutTree,c=0;if(b&&b.children){var d=_.find(b.children,{componentDefinitionId:a.guid});d&&(c=_.indexOf(b.children,d))}return c},canBeEmbeddedInRecordEditor:function(a){return f.findDescriptor(a.type).canBeEmbeddedInRecordEditor},shouldBeBoundToRecordField:function(a){var b=a.type&&f.findDescriptor(a.type);return b&&b.canBeEmbeddedInRecordEditor&&_.find(b.propertiesByName,{name:"fieldId"})},getDefinitionsForRecordFieldBindableComponents:function(){var a=this.get("componentDefinitions");return c.flattenTree({componentDefinitions:a},"componentDefinitions").filter(this.shouldBeBoundToRecordField)},updateInspectorConfig:function(){return this.updateFieldDefinitions()},updateFieldDefinitions:function(){var b=this,c=b.get("rxData").recordDefinitionName;return c?b.getCurrentRecordDefinition().then(function(a){return b.set("fieldDefinitions",a.fieldDefinitions,{silent:!0}),!0}):(b.set("fieldDefinitions",[],{silent:!0}),a.when())},validate:function(){var b=[],d=a.defer(),e=this,f=this.get("rxData"),g=this.get("id"),h="Record Editor",i=this.getDefinitionsForRecordFieldBindableComponents();_.isEmpty(_.trim(f.recordDefinitionName))&&b.push({elementId:g,elementName:h,propertyName:"recordDefinitionName",componentProperty:!0,type:"error",message:"Record Definition Name cannot be blank."}),f.mode!==n.modes.edit||f.recordInstanceId||b.push({elementId:g,elementName:h,propertyName:"recordInstanceId",componentProperty:!0,type:"error",message:"Record Instance ID cannot be blank."});var j=[];if(f.mode===n.modes.create&&f.recordDefinitionName){var k=a.defer();j.push(k.promise),this.getCurrentRecordDefinition().then(function(a){var b=[];a.resourceType===l.recordDefinitionTypes.join.recordDefinitionType&&b.push({elementId:g,elementName:h,type:"warning",message:"You have configured a Record Editor to create Join Record instances. Please ensure that one or more Processes or Rules have been defined to perform the creation of the Join Record instance."});var d=_(i).filter(function(a){return a.propertiesByName.fieldId}).map(function(b){var c=_.find(a.fieldDefinitions,{id:Number(b.propertiesByName.fieldId)});return e.isSystemLikeField(c)}).compact().value();d.length&&b.push({elementId:g,elementName:h,componentProperty:!0,type:"error",message:"System fields ("+d.join(", ")+") cannot be present when Record Editor is in Create Mode."});var f=_(a.fieldDefinitions).filter(function(a){return a&&"REQUIRED"===a.fieldOption&&(c.isNullOrUndefined(a.defaultValue)||""===a.defaultValue)}).value(),j=_(i).map("propertiesByName.fieldId").value(),m=_(f).filter(function(a){return!_.contains(j,String(a.id))}).map("name").value();m.length&&b.push({elementId:g,elementName:h,componentProperty:!0,propertyName:"displayedFields",type:"error",message:"Required fields are missing: "+m.join(", ")+"."}),k.resolve(b)})["catch"](function(a){k.reject(a)})}return a.all(j).then(function(a){var c=_.flatten(a);_.each(c,function(a){b.push(a)}),d.resolve(b)}),d.promise},addField:function(a){var b=_.find(this.get("fieldDefinitions"),{id:a}),c=k.get(b),d=_.clone(f.findDescriptor(c)),e=this.layoutTree,g=0;d.propertiesByName={fieldId:String(a),recordDefinition:"${view.components."+this.get("id")+".recordDefinition}",recordInstance:"${view.components."+this.get("id")+".recordInstance}",hidden:"0",disabled:"0"},j.addComponent({item:d,container:e,columnIndex:g,index:e.columns[g].children.length}),h.getModelById(d.componentDefinitionId).set("parentModel",this,{ignoreCommandManager:!0}).set("internalChange",!0,{ignoreCommandManager:!0})},removeField:function(a){var b=h.getModelById(a);b.set("internalChange",!0,{ignoreCommandManger:!0}),b.remove()},isSystemLikeField:e.isSystemLikeField,_onChildAdd:function(a){this.get("componentDefinitions").push(a)},_onChildRemove:function(a){var b=this.get("componentDefinitions");_.pull(b,_.find(b,{guid:a}))},_onChildUpdate:function(a){var b=_.find(this.get("componentDefinitions"),{guid:a.guid});b&&(_.assign(b.propertiesByName,a.propertiesByName),a.componentDefinitions&&(b.componentDefinitions=a.componentDefinitions))},_onChangeRxData:function(a,c,d){var e=this;if("rxData/recordDefinitionName"===d.propertyPath){var f=e._previousAttributes.rxData.recordDefinitionName;f&&f!==d.propertyValue&&_.size(a.get("componentDefinitions"))?b.confirm("Warning!","Displayed Fields will be cleared. Do you want to continue?").result.then(function(){var b=i.undoStack.pop();i.initBatchCommand(),i.addCommand(b[0].action,e);var c=_(a.get("componentDefinitions")).pluck("guid").map(h.getModelById).value();_.each(c,function(a){a.set("internalChange",!0),a.remove()}),i.storeBatchCommand(),e.updateFieldDefinitions()},function(){i.undo(),i.redoStack.pop()}):(this.updateFieldDefinitions(),this.prop(d.propertyPath)&&f||e.trigger("rx:change:inputs",e))}if("rxData/mode"===d.propertyPath&&(this.prop("rxData/mode")===n.modes.edit&&(this.prop("rxData/recordInstanceId","",{silent:!0}),e.trigger("rx:change:inputs",e)),this.prop("rxData/mode")===n.modes.create)){this.prop("rxData/showReadOnlyState",!1,{silent:!0}),this.prop("rxData/defaultState",n.defaultState.read,{silent:!0});var g=_.filter(this.getDefinitionsForRecordFieldBindableComponents(),function(a){return a.propertiesByName.fieldId});g.length&&this.getCurrentRecordDefinition().then(function(a){if(a){var c=_.filter(g,function(b){var c=_.find(a.fieldDefinitions,{id:Number(b.propertiesByName.fieldId)});return e.isSystemLikeField(c)});c.length&&b.confirm("Warning!","System fields will be removed. Do you want continue ?").result.then(function(){_.each(c,function(a){e.removeField(a.guid)})},function(){i.undo(),i.redoStack.pop()})}})}"rxData/showReadOnlyState"!==d.propertyPath||this.prop("rxData/showReadOnlyState")||this.prop("rxData/defaultState",n.defaultState.read,{rxSilent:!0})},getAutoCompleteList:function(b){var c=[],d=this;if(b.fieldPath){var e=b.fieldPath.match(/recordInstance\.fieldInstances\.([\d]+)\.value$/);if(e){var f=_.find(this.prop("fieldDefinitions"),{id:Number(e[1])});f&&f.resourceType===l.dataTypes.selection.resourceType&&(c=_.map(f.optionNamesById,function(a,b){return{label:a,id:"${view.components."+d.get("id")+".recordDefinition.fieldDefinitionsById["+f.id+"].optionsById["+b+"].id}"}}))}}return a.when(c)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxRecordEditorFieldComponentDefaultDesignManager",["rxRecordEditorFieldComponentDesignModel","rxRecordEditorFieldComponentInspectorConfigurator","rxGUID",function(a,b,c){function d(){}return d.extend=Backbone.Model.extend,_.assign(d.prototype,{getModel:function(b){return new a(this.getRxConfig(b))},getRxConfig:function(a){return{id:a.guid||c.generate(),type:a.type,rxData:this.getRxData(a),rxInspector:this.getRxInspector()}},getRxData:function(a){var b=_.assign({},a.propertiesByName);return b.fieldId&&(b.fieldId=Number(b.fieldId)),b},getRxInspector:function(){return b.getDefaultRxInspector()}}),d}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxRecordEditorFieldComponentDesignManager",["rxRecordEditorFieldComponentDefaultDesignManager",function(a){var b=new a;return{getModel:function(a){return b.getModel(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxRecordEditorFieldComponentDesignModel",["$q","definitionNameFilter","rxString","rxLog","rxExpressionEngine","rxViewComponent","rxViewComponentModel","rxRecordEditorUtils","rxRecordEditorFieldComponentInspectorConfigurator","RX_RECORD_EDITOR","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h,i,j,k){return g.extend({initialize:function(){g.prototype.initialize.apply(this,arguments),this.createListeners()},createListeners:function(){this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,"change:parentModel",this._onChangeParentModel)},describeViewComponent:function(){var a=g.prototype.describeViewComponent.call(this,arguments),b=this.getRecordEditorId(),c=this.prop("rxData/fieldId");return a.propertiesByName=_.assign(a.propertiesByName,{fieldId:c?String(c):null,recordDefinition:"${view.components."+b+".recordDefinition}",recordInstance:"${view.components."+b+".recordInstance}"}),a},updateInspectorConfig:function(){var b=this;return this._getFieldComponentValidationIssues().then(function(c){var d;return d=c?b._getRxInspectorWithValidationIssues(c):b.getRxInspector(),a.when(d).then(function(a){b.setInspector(a)})})},_getFieldComponentValidationIssues:function(){var b=this;return this.getRecordDefinitionName()?this.getFieldNameOptions().then(function(a){if(_.isEmpty(a))return b._getNoFieldsToBindErrorMessage()}):a.when("You must select a Record Definition before editing field component.")},getRxInspector:function(){var b=i.getDefaultRxInspector();return a.all([this._configureFieldNameSelector(b)]).then(function(){return b})},_getRxInspectorWithValidationIssues:function(b){return a.when({inputs:{issues:{type:"rx-inspector-validation-issues",group:"general",validationIssues:[{elementId:this.getRecordEditorId(),elementName:"",componentProperty:!0,propertyName:"recordDefinitionName",type:"error",message:b}]}},groups:{general:{label:"General",index:1}}})},_getNoFieldsToBindErrorMessage:function(){var a=this.getRecordDefinitionName(),d=f.findDescriptor(this.get("type")),e=_.find(k.dataTypes,function(a){return _.includes(d.supportedFieldResourceTypes,a.resourceType)});return c.format("%s does not have fields that can be bound to a %s field.",b(a),_.get(e,"displayName")||"")},_setFieldDefinition:function(){var a=this,b=a.fieldDefinition;a.getCurrentFieldDefinition().then(function(c){a.fieldDefinition=_.clone(c),
a.trigger(j._designEvents.fieldInit),a.onFieldDefinitionChanged(a.fieldDefinition,b)})},onFieldDefinitionChanged:function(b,c){if(b){var e=this.prop("rxData/label"),f=h.isSystemLikeField(b);f?this.prop("rxData/disabled","1",{ignoreCommandManager:!0}):_.isUndefined(c)||this.prop("rxData/disabled","0",{ignoreCommandManager:!0}),(_.isUndefined(e)||_.get(c,"name")===e)&&this.prop("rxData/label",b.name,{ignoreCommandManager:!0}),h.isSupportedResourceType(this.get("type"),b.resourceType)||(d.warning("View component "+this.prop("type")+" ("+this.prop("id")+") is bound to field "+b.id+" with unsupported data type ("+b.resourceType+"). The fieldId property of the view component has been cleared."),this.prop("rxData/fieldId",null,{silent:!0})),this.trigger("change",this)}return a.when()},_configureFieldNameSelector:function(a){return this.getFieldNameOptions().then(function(b){return b.unshift(k.EMPTY_FIELD_NAME_OPTION),a.inputs.rxData.fieldId.options=b,a})},getFieldNameOptions:function(){var a=this;return this.getRecordDefinition().then(function(b){var c=[],d=a.get("type"),e=f.findDescriptor(d);if(b){var g=j.modes.edit===a.getRecordEditorState();c=_(b.fieldDefinitions).filter(function(a){return _.includes(e.supportedFieldResourceTypes,a.resourceType)}).filter(function(a){var b=h.isSystemLikeField(a);return!b||b&&g}).map(function(a){return{content:a.name,value:Number(a.id)}}).compact().sortBy("content").value()}return c})},validate:function(){var b=[],c={elementId:this.get("id"),elementName:"Form Field",componentProperty:!0,type:"error"};return this.getRecordDefinitionName()&&(_.isEmpty(_.trim(this.get("rxData").fieldId))&&b.push({propertyName:"fieldId",message:"Field Name cannot be blank."}),e.isValid(this.prop("rxData/disabled"))||b.push({propertyName:"disabled",message:"Disabled must be a valid expression."}),e.isValid(this.prop("rxData/hidden"))||b.push({propertyName:"hidden",message:"Hidden must be a valid expression."})),a.when(_.map(b,function(a){return _.assign({},c,a)}))},getRecordDefinition:function(){return this._getRecordEditorModel().getCurrentRecordDefinition()},getRecordDefinitionName:function(){return this._getRecordEditorModel().get("rxData").recordDefinitionName},getCurrentFieldDefinition:function(){var a=this;return this.getRecordDefinition().then(function(b){var c=Number(a.get("rxData").fieldId);return _.find(b&&b.fieldDefinitions||[],{id:c})})},getRecordEditorId:function(){return this._getRecordEditorModel().get("id")},getRecordEditorState:function(){return this._getRecordEditorModel().prop("rxData/mode")},_getRecordEditorModel:function(){return h.getParentRecordEditorModel(this)},getBreadcrumbName:function(){return this.fieldDefinition&&this.fieldDefinition.name},setInspector:function(a){this.unset("rxInspector",{ignoreCommandManager:!0}),this.set("rxInspector",a,{ignoreCommandManager:!0}),this.trigger("rx:change:inputs",this)},_onChangeRxData:function(a,b,c){"rxData/fieldId"===c.propertyPath||c.commandManager&&a._previousAttributes.rxData.fieldId!==a.get("rxData").fieldId?this._setFieldDefinition():"rxData/label"===c.propertyPath&&a.fieldDefinition&&(a.fieldDefinition.label=c.propertyValue)},_onChangeParentModel:function(a,b){b&&this._setFieldDefinition()}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxRecordEditorFieldComponentInspectorConfigurator",["rxRecordEditorUtils",function(a){function b(){return{inputs:{rxData:{fieldId:{label:"Field Name",type:"rx-inspector-select-with-validation-messages",group:"general",index:1,attrs:{label:{"class":"required"}}},label:{label:"Display Label",type:"text",group:"general",index:2},value:{label:"Value",type:"rx-inspector-expression-node-field",group:"general",index:3},disabled:{label:"Disabled",type:"rx-inspector-optional-expression",group:"general",index:4,when:{isSystemLikeField:{"rxData/fieldId":""}}},hidden:{label:"Hidden",type:"rx-inspector-optional-expression",group:"general",index:5}}},groups:{general:{label:"General",index:1}},operators:{isSystemLikeField:function(b,c,d){return!a.isSystemLikeField(b.fieldDefinition)}}}}return{getDefaultRxInspector:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").factory("rxRecordEditorUtils",["RX_RECORD_DEFINITION","RX_RECORD_EDITOR","RX_VIEW_DEFINITION","rxViewComponent","rxLog",function(a,b,c,d,e){function f(a,b){return _.each(a,function(d,h){if(d.type===c.containerComponent){var i=f(d.componentDefinitions,b);_.isEmpty(i)?delete a[h].componentDefinitions:a[h].componentDefinitions=i}else if(_.get(d,"propertiesByName.fieldId")){var j=_.find(b.fieldDefinitions,{id:Number(d.propertiesByName.fieldId)});g(d.type,j.resourceType)||(e.warning("View component "+d.type+" ("+d.guid+") is bound to field "+j.id+" with unsupported data type ("+j.resourceType+"). This view component has been removed."),a[h]=null)}}),_.compact(a)}function g(a,b){var c=d.findDescriptor(a).supportedFieldResourceTypes;return!c||_.include(c,b)}return{isSystemLikeField:function(b){return b&&(b.fieldOption===a.fieldOptions.system||b.id==a.coreFieldIds.id||b.id==a.coreFieldIds.guid)},getParentRecordEditorModel:function(a){for(;a&&_.isFunction(a.get)&&a.get("type")!==b.recordEditorComponent;)a=a.get("parentModel");return a},stripInvalidFieldViewComponents:f,isSupportedResourceType:g}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").provider("rxRecordEditorFieldComponentConfigurator",function(){return{$get:function(){return{}},getFieldComponentDescriptorDefaults:function(){return{designManagerService:"rxRecordEditorFieldComponentDesignManager",group:"Record Editor Inputs",canBeEmbeddedInRecordEditor:!0,isStandalone:!1,propertiesByName:[{name:"recordDefinition",type:"object",isConfig:!0,isRequired:!0,enableExpressionEvaluation:!0},{name:"recordInstance",type:"object",isConfig:!0,isRequired:!0,enableExpressionEvaluation:!0},{name:"fieldId",type:"string",isConfig:!0,isRequired:!0,enableExpressionEvaluation:!0},{name:"disabled",type:"string",isConfig:!0,enableExpressionEvaluation:!0},{name:"hidden",type:"string",isConfig:!0,enableExpressionEvaluation:!0},{name:"value",type:"string",isConfig:!0,enableExpressionEvaluation:!0},{name:"label",type:"string",isConfig:!0,localizable:!0}]}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").factory("rxRecordGridDesignManager",["$q","RX_DEFINITION_PICKER","RX_RECORD_GRID","rxAction","definitionNameFilter","rxContainerDesignManager","RX_RECORD_DEFINITION","rxGUID","rxString","rxUtils","rxDesignerCache","rxRecordGridDesignModel",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){return{id:a.guid||h.generate(),type:a.type,rxData:n(a),rxInspector:o(),layout:a.layout||f.getDefaultLayoutJSONString(),componentDefinitions:a.componentDefinitions||[]}}function n(a){var b=_(_.cloneDeep(a.componentDefinitions)).filter({type:c.components.column}).map(function(a){var b=d.deserializeActions(a.componentDefinitions);return a.propertiesByName.actions=_.map(b,function(b,c){return b.id=a.componentDefinitions[c].guid,b}),a}).pluck("propertiesByName").sortBy(function(a){return _.isUndefined(a.index)?void 0:Number(a.index)}).map(function(a){return _.each(a,function(b,c){try{a[c]=JSON.parse(b)}catch(d){}a.fieldId=a.fieldId.toString()}),a}).value(),e=a.propertiesByName.filters,f=a.propertiesByName.associationDefinitionName;return _(a.componentDefinitions).filter({type:c.components.filter}).each(function(a){var b={};b[a.propertiesByName.fieldId]=a.propertiesByName.value,e=e.replace('"'+a.guid+'"',JSON.stringify(b))}).value(),{mode:f?c.modes.association:c.modes.record,recordDefinitionName:a.propertiesByName.recordDefinitionName||"",associationDefinitionName:f,associatedRecordNodeSide:a.propertiesByName.associatedRecordNodeSide,associatedRecordId:a.propertiesByName.associatedRecordId,filters:e||c.defaultFilter,filterExpression:a.propertiesByName.filterExpression||null,enableRowSelection:_.has(a.propertiesByName,"enableRowSelection")?a.propertiesByName.enableRowSelection:c.selectionTypes.multiple,enableFiltering:!_.has(a.propertiesByName,"enableFiltering")||a.propertiesByName.enableFiltering,columns:b||"",autoFill:j.tryParseJson(a.propertiesByName.autoFill,!1)}}function o(){return{readonly:!1,inputs:{rxData:{mode:{label:"Mode",type:"rx-inspector-group-button",group:"general",index:1,options:[{value:c.modes.record,content:"Record"},{value:c.modes.association,content:"Association"}]},recordDefinitionName:{type:"rx-inspector-definition-picker",definitionType:b.definitionTypes.record.type,group:"general",index:2,attrs:{label:{"class":"required"}}},associationDefinitionName:{label:"Association to Use",type:"select",group:"general",index:3,attrs:{label:{"class":"required"}},when:{and:[{eq:{"rxData/mode":c.modes.association}},{ne:{"rxData/recordDefinitionName":void 0}},{ne:{"rxData/recordDefinitionName":""}}]}},associatedRecordNodeSide:{label:"Associated Record Role",type:"select",group:"general",index:4,attrs:{label:{"class":"required"}},when:{ne:{"rxInspector/inputs/rxData/associatedRecordNodeSide/options":void 0}}},associatedRecordId:{label:"Associated Record ID",type:"rx-inspector-expression-node-field",group:"general",index:5,attrs:{label:{"class":"required"}},when:{eq:{"rxData/mode":c.modes.association}}},enableRowSelection:{label:"Enable Row Selection",type:"rx-inspector-optional-select",group:"general",index:6,options:[{value:c.selectionTypes.multiple,content:"Multiple rows"},{value:c.selectionTypes.single,content:"Single row"}]},enableFiltering:{label:"Enable Filtering",type:"toggle",group:"general",index:7},initialSortColumn:{label:"Initial Sort Column",type:"rx-inspector-record-grid-sort-editor",group:"general",index:8,when:{and:[{ne:{"rxData/recordDefinitionName":void 0}},{ne:{"rxData/recordDefinitionName":""}}]}},filters:{label:"com.bmc.arsys.rx.standardlib.components.designer.inspector.editors.filter-select.heading.label",type:"rx-inspector-filter-select",group:"general",index:9,tooltip:"Select the records that should be displayed on the deployed application UI. Application users can add filters in the deployed application.",options:[],when:{and:[{ne:{"rxData/recordDefinitionName":void 0}},{ne:{"rxData/recordDefinitionName":""}}]}},columns:{type:"rx-inspector-record-grid-column-editor",group:"general",tooltip:"Select this option to make a column visible by default  on the UI of the deployed application.",index:10,options:[],attrs:{label:{"class":"required"}},when:{and:[{ne:{"rxData/recordDefinitionName":void 0}},{ne:{"rxData/recordDefinitionName":""}}]}}}},groups:{general:{label:"General",index:1},columns:{label:"Columns",index:2}}}}var p=function(a,b){var c=i.prettify(a.name),d=_(["recordDefinitionName","associationDefinitionName"]).map(function(a){return e(b.propertiesByName[a])}).filter(Boolean).value();return d.length&&(c+=" ("+d.join(", ")+")"),c};return{getModel:function(a){return new l(m(a))},getSettableProperties:function(b,c,d){var e={label:p(b,c),children:[]};return _.isEmpty(c.componentDefinitions)||(e.children=e.children.concat(_(c.componentDefinitions).filter({type:"rx-action-button"}).map(function(a){return{label:i.prettify(a.propertiesByName.label),children:[{label:"Hidden",value:"${view.components."+a.id+".hidden}"},{label:"Disabled",value:"${view.components."+a.id+".disabled}"}]}}).value())),a.when(e)},getDataDictionaryBranch:function(b,d,e){var f={label:p(b,d),value:"${view.components."+d.guid+".api}",type:e.componentsProperties.type,componentType:b.type,componentId:d.guid,icon:e.componentsProperties.icon,children:[]};return d.propertiesByName.recordDefinitionName?k.getRecordDefinition(d.propertiesByName.recordDefinitionName).then(function(a){var h=function(b,c){var f={label:i.prettify(c.title),type:e.componentsProperties.type,icon:e.componentsProperties.icon,value:"${view.components."+d.guid+"."+b+"."+c.fieldId+"}"},h=_.find(a.fieldDefinitions,{id:Number(c.fieldId)});return h.resourceType===g.dataTypes.selection.resourceType&&(f.children=_.map(h.optionNamesById,function(a,b){return{label:a,type:e.componentsProperties.type,icon:e.componentsProperties.icon,value:"${view.components."+d.guid+".recordDefinition.fieldDefinitionsById["+h.id+"].optionsById["+b+"].id}"}})),f};return f.children=_(b.propertiesByName).filter({isProperty:!0}).map(function(a){var b,f={label:i.prettify(a.name),type:e.componentsProperties.type,icon:e.componentsProperties.icon,value:"${view.components."+d.guid+"."+a.name+"}"};return"clickableRow"===a.name?(b=_(d.componentDefinitions).filter({type:c.components.column}).pluck("propertiesByName").value(),_.some(b,"clickable")||(b=[]),f.children=_.map(b,_.partial(h,"clickableRow"))):f.value="${view.components."+d.guid+"."+a.name+"}","firstSelectedRow"===a.name&&(b=_(d.componentDefinitions).filter({type:c.components.column}).pluck("propertiesByName").value(),f.children=_.map(b,_.partial(h,"firstSelectedRow"))),f}).value(),f}):a.when(f)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").factory("rxRecordGridDesignModel",["$q","RX_RECORD_DEFINITION","RX_VIEW_DEFINITION","RX_RECORD_GRID","RX_ASSOCIATED_RECORD_NODE_SIDES","RX_DEFINITION_PICKER","rxAction","rxAssociationComponentDesignUtils","RxRecordGridExpressionConfigurator","rxDesignerCache","rxGUID","rxString","rxViewComponentModel",function(a,b,c,d,e,f,g,h,i,j,k,l,m){return m.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData)},createExpressionConfigurator:function(){return null},persist:function(a){var b=_.find(a.componentDefinitions,{guid:this.get("id")});if(b){var c=b.propertiesByName.filters;_.assign(b.propertiesByName,this.getPropertiesByName()),this.updateColumns(b),this.updateAssociationFields(b),c!==b.propertiesByName.filters&&this.updateFilters(b)}else a.componentDefinitions.push(this.describeViewComponent())},describeViewComponent:function(){return{resourceType:c.resourceTypes.containerViewComponent,guid:this.get("id"),type:this.get("type"),layout:this.get("layout"),componentDefinitions:this.get("componentDefinitions"),propertiesByName:this.getPropertiesByName()}},getCurrentRecordDefinition:function(){return j.getRecordDefinition(this.prop("rxData/recordDefinitionName"))},getCurrentAssociationDefinition:function(){return j.getAssociationDefinition(this.prop("rxData/associationDefinitionName"))},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new i(this),this._expressionConfigurator},updateInspectorConfig:function(){var b=this,c={},e=b.get("rxInspector"),g=angular.copy(this.get("rxData")),i=g.mode===d.modes.association;return g.recordDefinitionName&&(c.definition=b.getCurrentRecordDefinition(),i&&(c.associations=h.getAssociationDefinitionsOptions(this.prop("rxData/recordDefinitionName")))),i?(e.inputs.rxData.recordDefinitionName.label="Record Definition to Show",e.inputs.rxData.recordDefinitionName.definitionType=f.definitionTypes.regularRecord.type,g.associationDefinitionName&&(c.associationDefinition=b.getCurrentAssociationDefinition())):(e.inputs.rxData.recordDefinitionName.label="Record Definition Name",e.inputs.rxData.recordDefinitionName.definitionType=f.definitionTypes.record.type),a.all(c).then(function(a){var c;a.definition&&(e.inputs.rxData.filters.options=a.definition.fieldDefinitions,e.inputs.rxData.columns.options=_.map(a.definition.fieldDefinitions,function(a){return{value:a.id,content:a.name}})),a.associations&&(e.inputs.rxData.associationDefinitionName.options=_.cloneDeep(a.associations)),a.associationDefinition&&a.associationDefinition.nodeAId===a.associationDefinition.nodeBId&&(c=h.getAssociatedRecordNodeSideOptions(a.associationDefinition)),c?e.inputs.rxData.associatedRecordNodeSide.options=c:delete e.inputs.rxData.associatedRecordNodeSide.options,b.unset("rxInspector",{silent:!0}),b.set("rxInspector",e,{silent:!0}),b.trigger("rx:change:inputs",b)})},validate:function(){var c=this,e=c.get("rxData"),f=[],g=[a.when(1)],h={elementId:c.get("id"),elementName:"Record Grid",componentProperty:!0,type:"error"};return l.isEmptySafe(e.recordDefinitionName)&&f.push(_.assign({propertyName:"recordDefinitionName",message:"Record Definition Name cannot be blank."},h)),_.isObject(e.columns)||f.push(_.assign({propertyName:"columns",message:"Record Grid must have at least one column."},h)),e.mode===d.modes.association?(_.isString(e.associationDefinitionName)||f.push(_.assign({propertyName:"associationDefinitionName",message:"Association Definition Name cannot be blank."},h)),_.isString(e.associatedRecordNodeSide)||f.push(_.assign({propertyName:"associatedRecordNodeSide",message:"Associated Record Node Side cannot be blank."},h)),e.associatedRecordId||f.push(_.assign({propertyName:"associatedRecordId",message:"Associated Record ID cannot be blank."},h))):g=g.concat(_(this.componentDefinitions).map(function(a){if("rx-action-button"===a.type&&_.size(a.componentDefinitions)>0){var b=_.filter(a.componentDefinitions,function(a){return"rxDeleteRecordsAction"===a.propertiesByName.name&&a.propertiesByName.recordDefinitionName});if(_.size(b)>0)return b}}).compact().flatten().map(function(a){return j.getRecordDefinition(a.propertiesByName.recordDefinitionName).then(function(a){a&&a.resourceType===b.recordDefinitionTypes.join.recordDefinitionType&&f.push({elementId:c.get("id"),elementName:"Record Grid",type:"warning",message:"You have configured a Record Grid action to delete Join Records. Please ensure that one or more Processes or Rules have been defined to perform the deletion of the selected Join Record instances."})})}).value()),a.all(g).then(function(){return f})},_prepareDefaultColumns:function(){return this.getCurrentRecordDefinition().then(function(a){if(a){var c=_(d.columnProperties).map(function(a){return[a.name,a.defaultValue]}).zipObject().value(),e=[{title:_.find(a.fieldDefinitions,{id:b.coreFieldIds.displayId}).name||"Display ID",fieldId:b.coreFieldIds.displayId.toString()}];return a.resourceType===b.recordDefinitionTypes.regular.recordDefinitionType&&(e.push({title:_.find(a.fieldDefinitions,{id:b.coreFieldIds.modifiedDate}).name||"Modified Date",fieldId:b.coreFieldIds.modifiedDate.toString()}),e.push({title:_.find(a.fieldDefinitions,{id:b.coreFieldIds.description}).name||"Description",fieldId:b.coreFieldIds.description.toString()})),_.map(e,function(a){return _.assign(a,c)})}return""})},_onChangeRxData:function(a,b,c){var f=this;switch(c.propertyPath){case"rxData/recordDefinitionName":f._prepareDefaultColumns().then(function(a){b.columns=a,b.filters=d.defaultFilter,delete b.associationDefinitionName,f.setRxDataAndUpdateInspectorConfig(b)});break;case"rxData/associationDefinitionName":b.associationDefinitionName?f.getCurrentAssociationDefinition().then(function(a){b.associatedRecordNodeSide=a.nodeAId===b.recordDefinitionName?e.nodeA.value:e.nodeB.value,f.setRxDataAndUpdateInspectorConfig(b)}):(delete b.associatedRecordNodeSide,f.setRxDataAndUpdateInspectorConfig(b));break;case"rxData/mode":f.updateInspectorConfig()}},updateColumns:function(a){function b(a){return _.map(a,function(a){return{resourceType:c.resourceTypes.viewComponent,guid:a.id,type:"rx-action",propertiesByName:_.omit(a,"id")}})}var e=_.cloneDeep(this.prop("rxData/columns"));_(a.componentDefinitions).filter({type:d.components.column}).each(function(c){var d=_.find(e,{fieldId:c.propertiesByName.fieldId});d?(c.propertiesByName=d,_.remove(e,d),d.actions&&(c.componentDefinitions=g.serializeActions(b(d.actions)))):_.remove(a.componentDefinitions,c)}).value(),a.componentDefinitions=a.componentDefinitions.concat(_.map(e,function(a){return{resourceType:c.resourceTypes.containerViewComponent,guid:k.generate(),type:d.components.column,propertiesByName:a,componentDefinitions:g.serializeActions(b(a.actions))}})),_.each(a.componentDefinitions,function(a){a.propertiesByName=_.omit(a.propertiesByName,["actions"])});var f=_.remove(a.componentDefinitions,{type:d.components.column});_.each(this.prop("rxData/columns"),function(b,c){var d=_.find(f,{propertiesByName:{fieldId:b.fieldId}});d.propertiesByName.index=c,a.componentDefinitions.push(d)}),_.each(a.componentDefinitions,function(a){_.each(a.propertiesByName,function(b,c){_.isString(b)||(a.propertiesByName[c]=JSON.stringify(b))})})},updateFilters:function(a){var b=function(a){var c=_.values(a)[0];return _.isArray(c)?_(c).map(b).compact().flatten().value():c},e=this.get("rxData"),f=b(e.filters?JSON.parse(e.filters):null);_(a.componentDefinitions).filter({type:d.components.filter}).each(function(b){var c=_.find(f,function(a){return b.propertiesByName.fieldId==_.keys(a)[0]&&b.propertiesByName.value==_.values(a)[0]});c?_.remove(f,c):_.remove(a.componentDefinitions,b)}).value(),a.componentDefinitions=a.componentDefinitions.concat(_.map(f,function(a){return{resourceType:c.resourceTypes.viewComponent,guid:k.generate(),type:d.components.filter,propertiesByName:{fieldId:_.keys(a)[0],value:_.values(a)[0]}}})),_(a.componentDefinitions).filter({type:d.components.filter}).each(function(b){var c={};c[b.propertiesByName.fieldId]=b.propertiesByName.value,a.propertiesByName.filters=a.propertiesByName.filters.replace(JSON.stringify(c),'"'+b.guid+'"')}).value()},updateAssociationFields:function(a){var b=this.get("rxData"),c=["associationDefinitionName","associatedRecordNodeSide","associatedRecordId"],e=a.propertiesByName;b.mode===d.modes.association?_.each(c,function(a){_.isUndefined(b[a])?delete e[a]:e[a]=b[a]}):e=_.omit(e,c),a.propertiesByName=e},getPropertiesByName:function(){var a=this.get("rxData");return{recordDefinitionName:a.recordDefinitionName||null,enableRowSelection:a.enableRowSelection||null,enableFiltering:a.enableFiltering||null,filters:a.filters||d.defaultFilter,filterExpression:a.filterExpression||null,autoFill:a.autoFill.toString()}},getAutoCompleteList:function(c){if(c.fieldPath&&this.prop("rxData/recordDefinitionName")){var d=c.fieldPath.match(/(?:firstSelectedRow)|(?:clickableRow)\.([\d\w-]+)/),e=this;if(d)return this.getCurrentRecordDefinition().then(function(a){var c=_.find(a.fieldDefinitions,function(a){return a.id===Number(d[1])||a.name===d[1]}),f=[];return c&&c.resourceType===b.dataTypes.selection.resourceType&&(f=_.map(c.optionNamesById,function(a,b){return{label:a,id:"${view.components."+e.get("id")+".recordDefinition.fieldDefinitionsById["+c.id+"].optionsById["+b+"].id}"}})),f})}return a.when([])},setRxDataAndUpdateInspectorConfig:function(a){this.unset("rxData",{silent:!0}),this.set("rxData",a),this.updateInspectorConfig()}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").factory("RxRecordGridExpressionConfigurator",["$q","RX_EXPRESSION_EDITOR","rxViewComponentExpressionConfigurator","rxDesignerCache",function(a,b,c,d){return c.extend({initialize:function(a){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments);var c={regExp:/^rxData\/filterExpression/g,updateDataDictionary:function(b,c){return d.getRecordDefinition(a.get("rxData").recordDefinitionName).then(function(c){if(c){var d=_(b).find({label:"View"});if(d){var e=_(d.children[0].children).find({componentId:a.id});e&&e.children.push({label:"All Fields",type:"Component Property",icon:"d-icon-arrow_right_square_input",children:_.map(c.fieldDefinitions,function(a){return{label:a.name,type:"Component Property",icon:"d-icon-arrow_right_square_input",value:"'"+a.id+"'"}})})}}return b.push({label:"Keywords",children:[{label:"Current User",type:"keyword",icon:"d-icon-dollar",value:"$USER$"},{label:"NULL",type:"keyword",icon:"d-icon-dollar",value:"$NULL$"}]}),b})},operators:b.operators.all};this.registerExpressionConfig(c)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").factory("rxRecordGridFilter",["RX_DATA_TYPES",function(a){function b(a){var b=["$NULL$","$TIME$","$DATE$","$TIMESTAMP$","$USER$"],c='([^|^"])"('+b.join("|").replace(/\$/g,"\\$")+')"(?!")',d='([^|^"])"""('+b.join("|").replace(/\$/g,"\\$")+')"""(?!")',e=new RegExp(c,"g"),f=new RegExp(d,"g");return a.replace(e,"$1$2").replace(f,'$1"$2"')}function c(a){var b=_.keys(a),d=a;if(!_.isEmpty(b)){var e=b[0];switch(!0){case"or"===e||"and"===e:var f=_(a[e]).map(c).compact().value();_.isEmpty(f)?d=null:a[e]=f;break;case _.isString(a[e]):d=null}}return d}return{generateTextFilterQuery:function(b,c){if(b){var d=_(c).filter(function(b){return b.visible!==!1&&b.filterType===a.character}).map(function(a){return"'"+a.fieldId+"' LIKE \"%"+b.replace(/(\")/g,'""')+'%"'}).filter(Boolean).value().join(" OR ");return d?"("+d+")":""}},addQueries:function(){var a=_.filter(arguments,Boolean).join(" AND ");return a},replaceKeywords:b,clearFilterData:c}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").factory("rxRecordGridPreferences",["$q","$log","rxUserPreferences","RX_USER_PREFERENCES","RX_RECORD_GRID","debounce",function(a,b,c,d,e,f){function g(a){rx.assert.assertString(a,"View Component ID must be a string.");var b=this;this.gridId=a,this.uiComponentSettingData={},this.uiComponentSettingData[d.fields.version]=e.version,this.uiComponentSettingData[d.fields.preferences]={},this.uiComponentSettingData[d.fields.componentTypeName]=e.uiComponentName,this.savePreference=f(function(){c.setUiComponentPreferences(b.gridId,b.uiComponentSettingData)},300)}function h(a){return new g(a)}function i(a){return a[d.fields.preferences][e.userPreferences.columns]}return g.prototype={getPreferences:function(){var a=this,b={};return b[e.userPreferences.columns]=[],b[e.userPreferences.filters]={},c.getUiComponentPreferences(a.gridId).then(function(c){return c=_.defaults(c||{},b),a.uiComponentSettingData[d.fields.preferences]=c,c})["catch"](function(){return b})},setFilters:function(a){this._setPreference(e.userPreferences.filters,a)},setColumns:function(a){var b=this;_.each(a,function(a,c){a.index=c,delete a.name,b._isSortableColumn(a)||delete a.sort}),this._setPreference(e.userPreferences.columns,a)},mergeColumnPreferences:function(a){var b=this,c=i(this.uiComponentSettingData),d=_.find(c,function(a){return b._isSortableColumn(a)});return _.remove(c,function(b){return!_.find(a,{fieldId:b.fieldId})}),_.map(a,function(a){var b=_.find(c,{fieldId:a.fieldId});return d&&(_.isObject(a.sortable)&&(a.sortable=!0),_.isObject(a.sort)&&delete a.sort),_.assign(a,b)})},_setPreference:function(a,b){_.isEmpty(b)?delete this.uiComponentSettingData[d.fields.preferences][a]:this.uiComponentSettingData[d.fields.preferences][a]=b,this.savePreference()},_isSortableColumn:function(a){return _.get(a.sort,"direction")}},{getInstance:h}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.rich-text").factory("rxRichTextDesignManager",["rxRichTextDesignModel","rxString","rxUtils","$q","rxGUID",function(a,b,c,d,e){function f(a){return{id:a.guid||e.generate(),type:a.type,rxData:g(a),rxInspector:h()}}function g(a){return{hidden:a.propertiesByName.hidden||"0",html:a.propertiesByName.html||"",autoFill:c.tryParseJson(a.propertiesByName.autoFill,!1)}}function h(){return{readonly:!1,inputs:{rxData:{hidden:{label:"Hidden",type:"rx-inspector-optional-expression",group:"displayStates",index:0}}},groups:{displayStates:{label:"Display states",index:1}}}}return{getModel:function(b){return new a(f(b))},getSettableProperties:function(a,c){return d.when({label:b.prettify(a.name),children:[{label:"Hidden",value:"${view.components."+c.guid+".hidden}"}]})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.rich-text").factory("rxRichTextDesignModel",["$q","rxExpressionEngine","rxViewComponentModel",function(a,b,c){return c.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments)},validate:function(){var c=[];return b.isValid(this.prop("rxData/hidden"))||c.push({elementId:this.get("id"),elementName:"Rich Text",componentProperty:!0,propertyName:"hidden",type:"error",message:"Hidden must be a valid expression."}),a.when(c)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").factory("rxShellMenuGroupManager",["$q","rxGUID","rxViewComponentModel","RX_SHELL","RX_VIEW_DEFINITION","rxExpressionEngine",function(a,b,c,d,e,f){function g(){return JSON.stringify({componentDefinitionId:b.generate(),columns:[{children:[]}]})}var h={},i=c.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,"change:parentModel",this._onChangeParentModel),this.listenTo(this,e.events.childRemove,this._onChildRemove)},describeViewComponent:function(){return{resourceType:e.resourceTypes.containerViewComponent,guid:this.get("id"),type:this.get("type"),layout:this.get("layout"),componentDefinitions:this.get("componentDefinitions"),propertiesByName:this.get("rxData")}},_onChangeRxData:function(a,b,c){this.onMenuGroupUpdated()},_onChangeParentModel:function(){this.onMenuGroupUpdated()},onMenuGroupUpdated:function(){this.trigger(d.events.menuGroupUpdate)},_onChildRemove:function(a){var b=this.get("componentDefinitions");_.remove(b,{id:a})},validate:function(){var b=[],c=this.get("rxData"),d=this.get("id"),e=c.menuGroupName||"Menu Group";return _.isEmpty(_.trim(c.menuGroupName))&&b.push({elementId:d,elementName:e,componentProperty:!0,propertyName:"menuGroupName",type:"error",message:e+" cannot be blank."}),f.isValid(c.hidden)||b.push({elementId:d,elementName:e,componentProperty:!0,propertyName:"hidden",type:"error",message:"Hidden must be a valid expression."}),a.when(b)},renderInspector:function(){},getBreadcrumbName:function(){return this.get("rxData").menuGroupName}});return h={selectedMenuGroupId:0,getModel:function(a){var b=new i(this.getRxConfig(a));return b.renderInspector(),b},getRxConfig:function(a){return{id:a.guid||b.generate(),type:a.type,rxData:this.getRxData(a),rxInspector:this.getRxInspector(),layout:a.layout||g(),componentDefinitions:a.componentDefinitions||[],allowedTypes:a.allowedTypes||null}},getRxData:function(a){return _.assign({menuGroupName:d.strings.newMenuGroupName},a.propertiesByName)},getRxInspector:function(){return{inputs:{rxData:{menuGroupName:{label:"Label",type:"text",group:"properties",index:1,attrs:{label:{"class":"required"}}},hidden:{label:"Hidden",type:"toggle",group:"properties",index:2}}},groups:{properties:{label:"Properties",index:1}}}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").provider("rxShellMenuItemAction",function(){function a(a){rx.assert.assertStringWithLength(a.name),rx.assert.assertStringWithLength(a.label),b.push(a)}var b=[];return{registerAction:function(b){_.isArray(b)?_.forEach(b,a):a(b)},$get:function(){return{getRegisteredActions:function(){return b},findDescriptor:function(a){return rx.assert.assertStringWithLength(a),_.find(b,{name:a})}}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").factory("rxShellMenuItemManager",["$q","rxGUID","rxString","rxViewComponentModel","RX_SHELL","RX_ACTION_BUTTON","RX_VIEW_DEFINITION","rxAction","rxActionExpressionConfigurator","rxShellMenuItemAction","rxExpressionEngine",function(a,b,c,d,e,f,g,h,i,j,k){var l={},m=d.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this._expressionConfigurator=null,this.updateActionDataDictionary(),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,"change:parentModel",this._onChangeParentModel)},getActionDataDictionary:function(){return a.when({});
},updateActionDataDictionary:function(){var a=this.getExpressionConfigurator();this.getActionDataDictionary().then(function(b){a.buildDataDictionary(b)})},getExpressionConfigurator:function(){return this._expressionConfigurator=this._expressionConfigurator||new i(this),this._expressionConfigurator},persist:function(a){var b,c=this.describeViewComponent(),d=_.find(a.componentDefinitions,{guid:this.get("id")}),e=this.getParentShell(),f=this.prop("rxInspector").inputs.rxData;d?(_.assign(d.propertiesByName,l.getRxData(c)),_.forEach(d.propertiesByName,function(a,b){f[b]||delete d.propertiesByName[b]}),h.serializeAction(d.propertiesByName),b=g.events.childUpdate):(a.componentDefinitions.push(this.describeViewComponent()),b=g.events.childAdd),e&&e.trigger(b,c,this.get("parentModel"))},_onChangeRxData:function(a,b,c){"rxData/actionName"===c.propertyPath?this.renderInspector():this.onMenuItemUpdated()},_onChangeParentModel:function(){this.onMenuItemUpdated()},onMenuItemUpdated:function(){this.trigger(e.events.menuItemUpdate)},validate:function(){var b=[],d=this.get("rxData"),e=this.get("id"),f=this.prop("rxData/menuItemName")||"Menu Item";return _.each(this.requiredProperties,function(a){_.isEmpty(_.trim(d[a.name]))&&b.push({elementId:e,elementName:f,componentProperty:!0,propertyName:a.name,type:"error",message:(a.label||c.prettify(a.name))+" cannot be blank."})}),k.isValid(d.hidden)||b.push({elementId:e,elementName:f,componentProperty:!0,propertyName:"hidden",type:"error",message:"Hidden must be a valid expression."}),a.when(b)},renderInspector:function(){var a=this.get("rxData"),b=l.getRxInspector(),c=j.findDescriptor(a.actionName),d=this;this.requiredProperties=[];var e={inputs:{rxData:_(c.parameters).map(function(a,b){return a.group="inputParameters",a.index=b,a.type=a.type||"rx-inspector-expression-field",a.isRequired&&d.requiredProperties.push({label:a.label,name:a.name}),a}).mapKeys(function(a,b){return a.name}).value()}};this.unset("rxInspector",{silent:!0}),this.prop("rxInspector",_.merge(b,e),{silent:!0}),h.deserializeAction(a),_.forEach(a,function(c,d){b.inputs.rxData[d]||delete a[d]}),this.prop("rxData",a,{silent:!0}),this.trigger("rx:change:inputs",this),this.onMenuItemUpdated()},getBreadcrumbName:function(){return this.get("rxData").menuItemName},getParentShell:function(){for(var a=this.get("parentModel");a&&"rx-shell"!==a.get("type");)a=a.get("parentModel");return a}}),n=_(j.getRegisteredActions()).map(function(a){return{value:a.name,content:a.label}}).value();return l={getModel:function(a){var b=new m(this.getRxConfig(a));return b.renderInspector(),b},getRxConfig:function(a){return{id:a.guid||b.generate(),type:a.type,rxData:this.getRxData(a),rxInspector:this.getRxInspector()}},getRxData:function(a){return _.assign({menuItemName:e.strings.newMenuItemName,actionName:n[0].value},a.propertiesByName)},getRxInspector:function(){return{inputs:{rxData:{menuItemName:{label:"Label",type:"text",group:"properties",index:1},menuItemIcon:{label:"Icon",type:"select",group:"properties",index:2,options:_(f.icons).map(function(a){return{value:a.name,content:a.label}}).unshift({content:e.strings.noneIconLabel}).value()},actionName:{label:"Action to Trigger",type:"select",group:"properties",index:3,options:n,attrs:{label:{"class":"required"}}},hidden:{label:"Hidden",type:"toggle",group:"properties",index:4}}},groups:{properties:{label:"Properties",index:1},inputParameters:{label:"Input Parameters",index:2}}}},menuItemLinkFunction:function(a){function b(){_.assign(a.menuItemDefinition,c.model.get("rxData")||_.clone(d)),a.menuItemDefinition.iconCls=(_.find(f.icons,{name:a.menuItemDefinition.menuItemIcon})||{}).cls}var c=a.rxConfiguration,d={};a.menuItemDefinition=_.clone(d);var g=a.$watch("rxConfiguration.model",function(a){a&&(b(),a.on(e.events.menuItemUpdate,b),g())})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").service("rxShellDefinition",["rxViewDefinitionResource","rxShellManager","RX_VIEW_DEFINITION","RX_SHELL","rxBundleCache",function(a,b,c,d,e){this.getNew=function(){return{plain:function(){var f=a.getNew().plain();f.name=e.getBundleId()+":"+c.shellDefinitionName,f.type=c.viewType.shell;var g=b.getModel({type:d.shellRuntimeComponent}).describeViewComponent();f.componentDefinitions.push(g);var h=_.cloneDeep(_.find(c.viewLayoutTemplates,{id:c.defaultLayoutTemplateId}).layout);return h.componentDefinitionId=f.id,h.columns[0]&&h.columns[0].children&&h.columns[0].children.push({"static":!0,componentDefinitionId:g.id}),f.layout=JSON.stringify(h),f}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").factory("rxShellManager",["rxGUID","rxShellModel",function(a,b){function c(){return JSON.stringify({componentDefinitionId:a.generate(),columns:[{children:[]}]})}function d(b){return{id:b.guid||a.generate(),type:b.type,rxData:e(b),rxInspector:f(),layout:b.layout||c(),componentDefinitions:b.componentDefinitions||[],allowedTypes:b.allowedTypes||null}}function e(a){var b={allowAppSwitching:!_.has(a.propertiesByName,"allowAppSwitching")||JSON.parse(a.propertiesByName.allowAppSwitching),globalSearchUseDefault:!_.has(a.propertiesByName,"globalSearchUseDefault")||JSON.parse(a.propertiesByName.globalSearchUseDefault),globalSearchCustomSearchState:_.has(a.propertiesByName,"globalSearchCustomSearchState")?a.propertiesByName.globalSearchCustomSearchState:"",globalSearchDisabled:!_.has(a.propertiesByName,"globalSearchDisabled")||JSON.parse(a.propertiesByName.globalSearchDisabled),globalSearchRecords:a.propertiesByName&&a.propertiesByName.globalSearchRecords||"[]"};return!b.globalSearchDisabled&&(b.globalSearchUseDefault&&"[]"===b.globalSearchRecords||!b.globalSearchUseDefault&&0===b.globalSearchCustomSearchState.length)&&(b.globalSearchDisabled=!0),b}function f(){return{inputs:{rxData:{allowAppSwitching:{label:"Allow switching between apps",type:"toggle",group:"general",index:2},globalSearchDisabled:{label:"Disable Global Search",type:"toggle",group:"globalSearch",index:3},globalSearchUseDefault:{type:"rx-inspector-checkbox-field",description:"Use default search results view",group:"globalSearch",index:4,when:{eq:{"rxData/globalSearchDisabled":!1}}},globalSearchCustomSearchState:{label:"Custom Search State",type:"text",group:"globalSearch",index:5,attrs:{label:{"class":"required"}},when:{and:[{eq:{"rxData/globalSearchUseDefault":!1}},{eq:{"rxData/globalSearchDisabled":!1}}]}},globalSearchRecords:{type:"rx-inspector-global-search-editor",group:"globalSearch",index:6,options:[],when:{and:[{eq:{"rxData/globalSearchUseDefault":!0}},{eq:{"rxData/globalSearchDisabled":!1}}]}},navBarItems:{type:"rx-inspector-menu-item-editor",group:"menuitems",index:7}}},groups:{general:{label:"General",index:1},globalSearch:{label:"Global Search",index:2},menuitems:{label:"Menu Items",index:3}}}}return{getModel:function(a){return new b(d(a))},initContainerLayoutProperties:function(a){a.columns=a.columns||[{children:[]}]},getDefaultLayoutJSONString:c}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").factory("rxShellModel",["$q","rxGUID","rxUtils","rxViewComponentModel","RX_VIEW_DEFINITION","RX_SHELL",function(a,b,c,d,e,f){return d.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,"change:rxData",this._onChangeRxData),this.listenTo(this,e.events.childAdd,this._onChildAdd),this.listenTo(this,e.events.childRemove,this._onChildRemove),this.listenTo(this,e.events.childUpdate,this._onChildUpdate)},describeViewComponent:function(){return{resourceType:e.resourceTypes.containerViewComponent,guid:this.get("id"),type:this.get("type"),layout:this.get("layout"),componentDefinitions:this.get("componentDefinitions"),propertiesByName:this.get("rxData")}},validate:function(){var b=[],d=this.get("rxData");return!_.isEmpty(_.trim(d.globalSearchCustomSearchState))||d.globalSearchUseDefault||d.globalSearchDisabled||b.push({elementId:this.get("id"),elementName:"Navigation Bar",propertyName:"globalSearchCustomSearchState",componentProperty:!0,type:"error",message:"Custom Search State cannot be blank."}),_.isEmpty(JSON.parse(d.globalSearchRecords))&&d.globalSearchUseDefault&&!d.globalSearchDisabled&&b.push({elementId:this.get("id"),elementName:"Navigation Bar",propertyName:"globalSearchRecords",componentProperty:!0,type:"error",message:"Please include at lease one Record in Global Search Results View."}),_.find(c.flattenTree(this.attributes,"componentDefinitions"),{type:f.navBar.menuItem})||b.push({elementId:this.get("id"),elementName:"Navigation Bar",type:"error",message:"Please include at least one Menu Item"}),a.when(b)},_onChildAdd:function(a,b){if(a.type===f.navBar.menuItem&&b.get("type")===f.navBar.menuGroup){var c=_.find(this.get("componentDefinitions"),{guid:b.id});c&&c.componentDefinitions.push(a)}else this.get("componentDefinitions").push(a)},_onChildRemove:function(a){var b=this.get("componentDefinitions");_.remove(b,{id:a})},_onChildUpdate:function(a,b){if(a.type===f.navBar.menuItem&&b.get("type")===f.navBar.menuGroup){var c=_.find(this.get("componentDefinitions"),{guid:b.id});c&&c.componentDefinitions&&_.forEach(c.componentDefinitions,function(b){b.guid===a.guid&&_.assign(b,a)})}else{var d=_.find(this.get("componentDefinitions"),{guid:a.guid});d&&_.assign(d.propertiesByName,a.propertiesByName)}},_onChangeRxData:function(a,b,c){this.onNavBarUpdated(c)},onNavBarUpdated:function(a){"rxData/globalSearchUseDefault"===a.propertyPath&&(this.prop("rxData/globalSearchUseDefault")?this.prop("rxData/globalSearchCustomSearchState","",{rxSilent:!0}):this.prop("rxData/globalSearchRecords","[]",{rxSilent:!0})),this.trigger(f.events.navBarUpdate)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").factory("shellNotificationModel",["$interval","$rootScope","rxCurrentUser","rxCommandResource","rxDataPageResource","RX_SHELL","RX_AUTH_EVENTS","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h){function i(a){var b=_.remove(n.notifications.active.list,function(b){return b[h.coreFieldIds.id]===a[n.userMessageDef.fields.instanceId]});b.length>0&&(n.notifications.active.count-=b.length,n.notifications.dismissed.count+=b.length,n.notifications.dismissed.list=b.concat(n.notifications.dismissed.list)),0===n.notifications.active.list.length&&(k(),n.getNotifications(f.notificationTypes.active))}function j(){p&&a.cancel(p)}function k(){j(),p=a(function(){n.getNotifications()},6e4)}function l(){_.values(f.notificationTypes).forEach(function(a){_.assign(n.notifications[a],{count:0,list:[],loadingInProgress:!1})})}function m(){k(),n.getActiveNotifications(),b.$on(g.logoutSuccess,function(){j(),l()})}var n={userMessageDef:f.definitions.userMessage,chunkSize:30,notifications:{active:{type:f.notificationTypes.active,count:0,list:[],queryExpr:"'7'!=2",loadingInProgress:!1},dismissed:{type:f.notificationTypes.dismissed,count:0,list:[],queryExpr:"'7'=2",loadingInProgress:!1}}},o={20002:c.getName(),sortBy:"-6",queryExpression:"",propertySelection:[n.userMessageDef.fields.modifiedDate,n.userMessageDef.fields.instanceId,n.userMessageDef.fields.body].join(",")},p=null;return n.dismissNotification=function(a){var b={};b[a[n.userMessageDef.fields.instanceId]]=n.userMessageDef.status.dismissed,a.dismissInProgress=!0,d.withType(n.userMessageDef.updateCommand).execute({userMessageStateById:b}).then(function(){i(a)})["finally"](function(){a.dismissInProgress=!1})},n.getActiveNotifications=function(a){n.getNotifications(f.notificationTypes.active,a)},n.getNotifications=function(a,b){a=a||f.notificationTypes.active,n.notifications[a].loadingInProgress=b||0===n.notifications[a].list.length,o.queryExpression=n.notifications[a].queryExpr+(b?" AND '6'<\""+_.last(n.notifications[a].list)[n.userMessageDef.fields.modifiedDate]+'"':""),e.withType(n.userMessageDef.dataPageType).get(n.chunkSize,0,o).then(function(c){if(c&&c.totalSize&&c.data)if(b)n.notifications[a].list=n.notifications[a].list.concat(c.data);else{var d=n.userMessageDef.fields.body;n.notifications[a].count=c.totalSize,n.notifications[a].list=c.data,_.each(n.notifications[a].list,function(a){a[d]=a[d]?_.unescape(a[d]):""})}})["finally"](function(){n.notifications[a].loadingInProgress=!1})},m(),n}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer-utils").factory("rxCurrentViewDefinition",function(){var a=null;return{get:function(){return a},set:function(b){a=b}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer-utils").factory("rxViewDefinitionUtils",["RX_VIEW_DEFINITION",function(a){function b(c){return _(c).map(function(c){return c.type===a.containerComponent?b(c.componentDefinitions):c}).flatten().value()}return{flattenContainers:b}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").factory("rxViewAutoComplete",["RxAutoComplete","rxViewDesignerCacheManager",function(a,b){function c(){return new d}var d=a.extend({autoCompleteTriggers:["<",">","=","!=",">=","<="],extractData:function(a){var c={component:null,fieldPath:null},d=a.match(/\${view\.components\.([\d\w-]+)\.(.*)}$/);return d&&(c.component=b.getModelById(d[1]),c.fieldPath=d[2]),c}});return{getInstance:c}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").factory("rxViewComponentDefinitionManager",["rxViewComponent","$injector","rxViewComponentManager",function(a,b,c){return{getModel:function(d){var e=a.findDescriptor(d.type),f=c;if(e.designManagerService){var g=b.get(e.designManagerService);g.getModel&&(f=g)}return f.getModel(d,e)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").factory("rxViewDataDictionary",["rxViewComponent","$q","$injector","rxString","rxUtils",function(a,b,c,d,e){function f(){j={plainViewDefinition:{},currentDataDictionary:{}}}function g(a){return angular.equals(a,j.plainViewDefinition)?b.when(j.currentDataDictionary):(j.plainViewDefinition=angular.copy(a),k(a).then(function(a){return j.currentDataDictionary=a,j.currentDataDictionary}))}var h={inputParams:{label:"View Input Parameter",type:"View Input Parameter",icon:"d-icon-arrow_right_square_o"},componentsProperties:{label:"Component Property",type:"Component Property",icon:"d-icon-arrow_right_square_input"},keyword:{label:"Keyword",type:"Keyword",icon:"d-icon-dollar"}},i=function(){return _.values(h)},j={plainViewDefinition:{},currentDataDictionary:{}},k=function(f){var g=[],i=_(f.inputParams).map(function(a){return{label:a.name,type:h.inputParams.type,icon:h.inputParams.icon,value:"${view.inputParams."+a.name+"}"}}).value(),j=_(e.flattenTree(f,"componentDefinitions")).splice(1).map(function(b){var c=a.findDescriptor(b.type);if(c)return{descriptor:c,definition:b}}).reject(function(a){return!_.some(a.descriptor.propertiesByName,{isProperty:!0})}).compact().map(function(a){var e,f=_.get(a,"descriptor.designManagerService"),g=c.has(f)?c.get(f):null;return e=g&&_.isFunction(g.getDataDictionaryBranch)?g.getDataDictionaryBranch(a.descriptor,a.definition,h):b.when({label:d.prettify(a.descriptor.name),value:"${view.components."+a.definition.guid+".api}",type:h.componentsProperties.type,icon:h.componentsProperties.icon,children:_(a.descriptor.propertiesByName).filter({isProperty:!0}).map(function(b){return{label:d.prettify(b.name),type:h.componentsProperties.type,icon:h.componentsProperties.icon,value:"${view.components."+a.definition.guid+"."+b.name+"}"}}).value()})}).compact().value();return b.all(j).then(function(a){var b=[{label:"View Components",children:a||[]}];return i.length&&b.push({label:"Input Parameters",children:i}),b.push({label:"Properties",children:[{label:"Is Valid",type:h.inputParams.type,icon:h.inputParams.icon,value:"${view.isValid}"}]}),g.push({value:"${view.api}",type:h.componentsProperties.type,icon:h.componentsProperties.icon,label:"View",children:b}),g})};return{clear:f,getCommonDataDictionary:g,getLegend:i}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").factory("rxViewDefinitionDesignManager",["RX_VIEW_DEFINITION","RX_DESIGNER","rxOverlay","rxViewDefinitionModel","rxViewDefinitionResource","rxUtils","definitionNameFilter","$filter","rxGUID",function(a,b,c,d,e,f,g,h,i){function j(a){return c.isCustomizationEnabled("allowOverlay",a)}return _.each(a.viewLayoutTemplates,function(a){f.flattenTree(a.layout,"children","columns").forEach(function(a){a.columns&&(a.componentDefinitionId=i.generate())})}),{getModel:function(a){return new d(this.getRxConfig(a))},getRxConfig:function(a){return{id:a.guid,type:"viewDefinition",rxData:this.getRxData(a),rxInspector:this.getRxInspector(a),componentDefinitions:a.componentDefinitions||[]}},getRxData:function(b){var c=_.pick(b,["inputParams","outputParams","description","permissions","overlayDescriptor","overlayGroupId","allowOverlay"]);c.name=g(b.name);var d=JSON.parse(b.layout);return c.layoutTemplate=_.find(a.viewLayoutTemplates,{id:+d.layoutTemplate||a.defaultLayoutTemplateId}).label,_.cloneDeep(c)},getRxInspector:function(c){var d=_.isUndefined(c.lastUpdateTime),f=g(c.name)===a.shellDefinitionName,h={label:{"class":"required"}},i=!0;d||(i=j(c));var k={name:{label:"Name",type:"text",group:"general",index:1,attrs:_.assign({input:{disabled:!d||f,maxlength:254}},h)},overlayDescriptor:{label:"",index:3,type:"rx-customization-perspective",group:"general",customizationOptionsDirective:"rx-view-customization-options",definitionName:c.name,revertPrompt:"Are you sure you want to revert customization for selected view definition?",revertCommand:e.revertCustomization,revertCompleteEventName:b.events.refreshDesigner}};return f||(angular.merge(k,{description:{label:"Description",type:"textarea",group:"general",index:2,attrs:{textarea:{disabled:!i}}},layoutTemplate:{label:"Layout Template",type:"text",group:"general",index:3,attrs:_.assign({input:{disabled:!0}},h)},permissions:{label:"Permissions",type:"rx-permission-editor",group:"general",isReadOnly:!i}}),i&&angular.merge(k,{inputParams:{type:"list",group:"inputParameters",item:{type:"object",properties:{name:{type:"text",label:"Name"}}}},outputParams:{type:"list",group:"outputParameters",item:{type:"object",properties:{name:{type:"text",label:"Name"},source:{type:"rx-inspector-expression-node-field",label:"Source"}}}}})),{inputs:{rxData:k},groups:{general:{label:"General",index:1},inputParameters:{label:"Input Parameters",index:2},outputParameters:{label:"Output Parameters",index:3}}}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").factory("rxViewDefinitionModel",["$filter","rxBundleCache","$q","rxViewComponentModel","RX_DESIGNER",function(a,b,c,d,e){return d.extend({initialize:function(){this._parent=(this._parent||this).constructor.__super__,this._parent.initialize.apply(this,arguments),this.listenTo(this,e.events.permissionsChanged,this._onPermissionsChanged)},_onPermissionsChanged:function(a){var b=_.cloneDeep(this.get("rxData"));b.permissions=a,this.set("rxData",b)},persist:function(c){var d=_.cloneDeep(this.get("rxData")),e=b.getBundleId(),f=e?e+":":"";d.name=f+a("definitionName")(d.name,"encode"),delete d.layoutTemplate,_.assign(c,d)},validate:function(b){var d=[],f=b.inputParams||[],g=a("definitionName")(b.name,"decode");_.isEmpty(_.trim(g))&&(g="View Definition",d.push({elementId:b.guid,elementName:g,propertyName:"name",type:"error",message:"View Name cannot be blank."})),e.validDefinitionNameRegex.test(g)||d.push({elementId:b.guid,elementName:g,propertyName:"name",type:"error",message:"View Name can only contain alphanumeric characters, spaces, hyphen and underscore."}),_.each(f,function(a,c){_.isEmpty(_.trim(a))&&d.push({elementId:b.guid,elementName:g,propertyName:"inputParams/"+c,type:"error",message:"Parameter Name cannot be blank."})});var h=_(f).map("name").uniq().value();return h.length!==f.length&&d.push({elementId:b.guid,elementName:g,type:"error",message:"Parameter names must be unique."}),c.when(d)}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").factory("rxViewDesignerCacheManager",["$cacheFactory","RX_VIEW_DESIGNER",function(a,b){function c(){d.removeAll(),e.removeAll()}var d=a.get(b.layoutNodeCacheId)||a(b.layoutNodeCacheId),e=a.get(b.modelCacheId)||a(b.modelCacheId);return{putLayoutNode:d.put,getLayoutNodeById:d.get,getModelById:e.get,putModel:e.put,clear:c}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").factory("rxViewDesignerCommandManager",["rxViewDesignerCacheManager",function(a){var b=joint.dia.CommandManager.extend({resetGraph:function(){var a=this.get("graph");a.off("add"),a.off("remove"),a.off("change"),a.resetCells([])},revertCommand:function(b){this.stopListening();var c,d={commandManager:this.id||this.cid};c=_.isArray(b)?b:[b];for(var e=c.length-1;e>=0;e--){var f=c[e],g=this.graph.getCell(f.data.id);switch(f.action){case"add":g.remove();break;case"remove":this.graph.addCell(a.getModelById(f.data.id),d);break;default:var h=f.action.substr(this.PREFIX_LENGTH);g.set(h,f.data.previous[h],d)}}this.listen()},applyCommand:function(b){this.stopListening();var c,d={commandManager:this.id||this.cid};c=_.isArray(b)?b:[b];for(var e=0;e<c.length;e++){var f=c[e],g=this.graph.getCell(f.data.id);switch(f.action){case"add":this.graph.addCell(a.getModelById(f.data.id),d);break;case"remove":g.remove();break;default:var h=f.action.substr(this.PREFIX_LENGTH);g.set(h,f.data.next[h],d)}}this.listen()}});return new b({graph:new joint.dia.Graph,cmdBeforeAdd:function(a,b,c,d){return!(d||{}).ignoreCommandManager}})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").factory("rxViewDesignerComponentManager",["rxViewComponent","rxContainerDesignManager","rxViewComponentDefinitionManager","rxViewDesignerCommandManager","RX_VIEW_DEFINITION","rxViewDesignerCacheManager",function(a,b,c,d,e,f){function g(){return _(a.getRegisteredComponents()).filter(function(a){return a.isStandalone!==!1}).map("type").value()}function h(a){var d=a.item,h=c.getModel(d),j=a.container,k=a.columnIndex;if(h.set("layoutParentId",j.componentDefinitionId,{ignoreCommandManager:!0}),j.parentModelId){var l=f.getModelById(j.parentModelId);h.set("parentModel",l,{ignoreCommandManager:!0})}i.addCell(h),d.componentDefinitionId=h.get("id"),d.type===e.containerComponent&&(b.initContainerLayoutProperties(d),h.set("allowedTypes",d.allowedTypes||g(),{ignoreCommandManager:!0})),d.index=a.index,d.columnIndex=a.columnIndex,f.putLayoutNode(d.componentDefinitionId,d),j.columns[k].children.splice(a.index,0,d)}var i=d.get("graph");return{addComponent:h,getDefaultAllowedComponentTypes:g}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.runtime").provider("rxRuntimeViewState",function(){function a(a){return rx.assert.assertStringWithLength(a),b=a}var b=null;return{runtimeViewState:a,$get:function(){return{get:function(){return rx.assert.assertDefinedAndNotNull(b),b}}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.set-property").directive("rxActionSetPropertyApi",function(){return{restrict:"E",template:"",link:function(a){function b(){var b=a.cell.prop("rxData/propertyPath");if(b&&b.length){var c=b.match(/\${view\.components\.([0-9a-z-]+)\..+}/);c&&c[1]&&a.cell.prop("rxData/componentApi","${view.components."+c[1]+".api}",{rxSilent:!0})}}a.cell.listenTo(a.cell,"change:rxData",b)}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.utils").directive("rxActionAssociationPicker",["rxDesignerCache",function(a){return{restrict:"E",templateUrl:"scripts/actions/utils/action-association-picker.directive.html",link:function(b,c){function d(c){b.isAssociationPickerEnabled=Boolean(c),c&&(b.isLoading=!0,a.getRecordAssociations(c).then(function(a){b.associationDefinitionNames=_(a[c]).map("associationDefinitionName").uniq().value()})["finally"](function(){b.isLoading=!1}))}d(b.cell.prop("rxData/recordDefinitionName")),b.selectedAssociation=b.cell.prop(b.path),b.$watch(function(){return b.cell.prop("rxData/recordDefinitionName")},function(a,c){a!==c&&(b.selectAssociation(),d(a))}),b.selectAssociation=function(a){b.cell.prop(b.path,a||null,{rxSilent:!0})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.actions.utils").directive("rxActionAssociationRolePicker",["rxAssociationComponentDesignUtils","rxDesignerCache","RX_ASSOCIATED_RECORD_NODE_SIDES",function(a,b,c){return{restrict:"E",templateUrl:"scripts/actions/utils/action-association-role-picker.directive.html",link:function(d){function e(e){d.isAssociationSelected=Boolean(e),e?(d.isLoading=!0,b.getAssociationDefinition(e).then(function(b){d.associationDefinitionRoles=a.getAssociatedRecordNodeSideOptions(b),d.isSymmetricalAssociation=b.nodeAId===b.nodeBId;var e;e=d.isSymmetricalAssociation?d.cell.prop(d.path)||"":d.cell.prop("rxData/recordDefinitionName")===b.nodeAId?c.nodeA.value:c.nodeB.value,d.setAssociationRole(e),d.isLoading=!1})):d.associationDefinitionRoles=[]}e(d.cell.prop("rxData/associationDefinitionName")),d.$watch(function(){return d.cell.prop("rxData/associationDefinitionName")},function(a,b){a!==b&&(d.setAssociationRole(null),d.isSymmetricalAssociation=!0,e(a))}),d.setAssociationRole=function(a){d.cell.prop(d.path,a,{rxSilent:!0}),d.selectedAssociationRole=a}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").directive("rxAdministrationSettingAccordion",["$animate",function(a){return{restrict:"E",templateUrl:"scripts/administration/settings/administration-settings-accordion.directive.html",scope:{settingConfiguration:"="},controller:"AdministrationSettingAccordionController"}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").directive("rxAdministrationSettingsCustomView",["$compile",function(a){return{restrict:"E",scope:{rxConfiguration:"="},link:function(b,c){var d=b.rxConfiguration.viewDescriptor,e="";e=d?"<{type}></{type}>".replace("{type}",d.runTimeDirective).replace("{type}",d.runTimeDirective):"<h2>Runtime definition for Application not found.</h2>",c.append(a(e)(b.$new(!0)))}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").directive("rxAdministrationSettings",function(){return{restrict:"E",templateUrl:"scripts/administration/settings/administration-settings-list.view.html",scope:{rxConfiguration:"="},controller:"AdministrationSettingsListController"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings.attachment-panel").directive("rxAdministrationSettingsAttachmentPanel",["$window","$q",function(a,b){return{templateUrl:"scripts/administration/settings/attachment-panel/administration-settings-attachment-panel.directive.html",scope:{ngModel:"="},link:function(c,d,e){function f(){for(var c=i.length-1;c>=0;c--){var d=new a.FileReader,e=i[c],f={};f.filetype=e.type,f.filename=e.name,f.filesize=e.size,i[c].deferredObj=b.defer(),d.onload=g(d,e,f),d.readAsArrayBuffer(e)}}function g(a,d,f){return function(g){var l,m=g.target.result;f.settingValue=k(m),l=e.parser?b.when(c.parser()(d,f)):b.when(f),l.then(function(a){j.push(a),h(),d.deferredObj.resolve()}),e.onload&&scope.onload()(g,a,d,i,j,f)}}function h(){var a=e.multiple?j:j[0];c.attachment=a,c.ngModel=a}var i=[],j=[],k=function(b){for(var c="",d=new Uint8Array(b),e=d.byteLength,f=0;f<e;f++)c+=String.fromCharCode(d[f]);return a.btoa(c)};c.addAttachment=function(){d.find(".admin-settings-attachment-input").click()},c.removeAttachment=function(){c.attachment={},c.ngModel=c.attachment};var l=d.find("input");l.bind("change",function(a){a.target.files.length&&(j=[],j=angular.copy(j),i=a.target.files,f())}),c.$watch("ngModel",function(a){a&&(c.attachment=a)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").directive("rxUserPreference",function(){return{restrict:"E",templateUrl:"scripts/administration/user-preference/user-preference.directive.html",controller:"UserPreferenceController"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.association.designer").directive("rxAssociationDesigner",["$q","$timeout","$filter","definitionNameFilter","rxNotificationMessage","dialogs","Restangular","rxDesignerCache","rxBundleCache","rxRecordDefinitionResource","rxGUID","RX_DESIGNER","RX_ASSOCIATION_DEFINITION","RX_DEFINITION_PICKER","RX_RECORD_DEFINITION","RX_ASSOCIATION_DESIGNER","rxAssociationDefinitionResource",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return{templateUrl:"scripts/association/designer/association-designer.directive.html",require:["rxAssociationDesigner","ngModel"],scope:{rxConfiguration:"="},controller:["$scope",function(b){function c(){g=!0}function f(){g=!1}var g,i=this,j=b.fireEvent=function(a){if(b.rxConfiguration){var c=b.rxConfiguration.listeners;c&&_.filter(c,{name:a}).forEach(function(a){angular.isFunction(a.listener)&&a.listener.apply(this)})}},k=function(a){var b=a.nodeAName||d(a.nodeAId);return b.toUpperCase()+"_ID"};this.closeDesigner=function(){j(p.events.close)},this.getForeignKeyFieldId=function(a,b){var c=k(b);return(_.find(a.fieldDefinitions,{name:c})||{}).id},this.addForeignKeyField=function(b,c){return i.getForeignKeyFieldId(b,c)?a.when(b):(b.fieldDefinitions.push({resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",name:k(c),description:null,fieldOption:"OPTIONAL",maxLength:254,defaultValue:null}),b.put().then(function(){return h.getRecordDefinition(b.name,!0).then(function(b){return a.when(b)})}))},this.updateNodeBKeys=function(b,c){if(b&&!b.lastUpdateTime){if(b.nodeBKeys=[o.coreFieldIds.id],b.nodeBId&&b.shouldCascadeDelete)return h.getRecordDefinition(b.nodeBId,c).then(function(c){var d=i.getForeignKeyFieldId(c,b);return b.nodeBKeys=d?[d]:[],a.when(c)})}else if(b.lastUpdateTime&&b.shouldCascadeDelete)return h.getRecordDefinition(b.nodeBId,c).then(function(c){var d=_.reject(b.nodeBKeys,function(a){return _.some(c.fieldDefinitions,{id:a})});return d.length>0?(c.hasMissingForeignKeyField=!0,a.when(c)):a.when()});return a.when()},this.saveChanges=function(){c();var d=angular.copy(b.json);i.updateNodeBKeys(d,!0).then(function(b){return d.nodeBKeys.length&&!_.has(b,"hasMissingForeignKeyField")||!b?a.when():(_.has(b,"hasMissingForeignKeyField")&&delete b.hasMissingForeignKeyField,i.addForeignKeyField(b,d).then(function(a){return i.updateNodeBKeys(d)}))}).then(function(){if(b.exists){var a=b.ngModel.$viewValue.name,c=angular.extend(b.ngModel.$viewValue,d);return c.name=a,c.put()}return q.post(d)}).then(function(){e.success("Association Definition saved successfully."),b.rxAssociationDesignerForm.$setPristine(),b.ngModel.$setViewValue(d),j(p.events.afterSave)})["finally"](function(){f()})},this.canSave=function(){return!g&&b.rxAssociationDesignerForm.$dirty&&b.rxAssociationDesignerForm.$valid}}],link:function(d,e,g,j){var k=j[1],p=j[0],q=i.getBundleId();i.getBundleFriendlyName().then(function(a){d.bundleFriendlyName=a}),d.ngModel=k,d.cardinalities=m.cardinality,d.modality=m.modality,d.validDefinitionNameRegex=l.validDefinitionNameRegex,d.associationDefinition={},d.availableDefinitionPickerStates={definitionButtonsGroups:[n.definitionScopes.bundle,n.definitionScopes.rx],search:n.definitionScopes.rx},d.$on("$destroy",h.clear),d.closeDesigner=p.closeDesigner,d.saveChanges=p.saveChanges,d.canSave=p.canSave,d.isDesignMode=!0,d.toggleDesignMode=function(){d.isDesignMode=!d.isDesignMode},d.getCardinalityByValue=function(a){return _.find(d.cardinalities,{value:a})||{}};var r=a.defer();k.$render=function(){k.$viewValue&&(d.associationDefinition=k.$viewValue.plain(),d.exists=!!d.associationDefinition.lastUpdateTime,d.associationDefinition.name=c("definitionName")(d.associationDefinition.name),
d.exists||(d.associationDefinition.cardinality=d.cardinalities[0].value,d.associationDefinition.shouldCascadeDelete=!1,d.associationDefinition.nodeAModality=m.modality.optional,d.associationDefinition.isEnabled=!0),r.resolve(d.associationDefinition))},d.rxBusyIndicator={},d.rxBusyIndicator.promise=a.all({model:r.promise,records:h.getRecordDefinitionDescriptors()}).then(function(a){d.isLoaded=!0,d.records=_.map(a.records,"name"),b(function(){e.find('input[name="name"]:enabled, textarea[name="description"]').first().focus()})}),d.$watch("rxAssociationDesignerForm.$error",function(a){d.validationIssues=[],_.forEach(a,function(a,b){a.forEach(function(a){var c=m.validation[b][a.$name];d.validationIssues.push({elementName:d.exists?"Association":"New Association",elementId:null,model:a,type:"error",message:c})})})},!0),d.$watch("associationDefinition",function(a){a&&(d.json=angular.copy(a),q&&q.length&&(d.json.name=[q,c("definitionName")(d.json.name)].join(":")),d.exists||(d.json.nodeAKeys=[o.coreFieldIds.id]))},!0),d.$watch("associationDefinition.cardinality",function(a){d.getCardinalityByValue(a).noConstraint?(d.associationDefinition.shouldCascadeDelete=!1,d.canCascadeDelete=!1):d.canCascadeDelete=!0}),d.$watchGroup(["associationDefinition.nodeBId","associationDefinition.nodeAName","associationDefinition.shouldCascadeDelete","associationDefinition.nodeAModality"],function(a){p.updateNodeBKeys(d.associationDefinition)}),d.$watch("associationDefinition.shouldCascadeDelete",function(a,b){a!=b&&a===!1&&(d.associationDefinition.nodeAModality=m.modality.optional)}),d.$on(l.events.correctValidationIssue,function(a,b){var c=document.querySelector("[name=rxAssociationDesignerForm] [name="+b.validationIssue.model.$name+"]");c.focus()}),d.rightBladeConfiguration={title:"Properties",tabs:{validationIssues:{group:"test",name:"rx-blade-validation-issues-property-tab",iconClass:"d-icon-exclamation_triangle"}},dock:"right",expanded:!0},d.$on("beforeUnload",function(a,b){d.rxAssociationDesignerForm.$dirty&&b.push(f.confirm("Warning!","You have unsaved data. Do you want to continue?").result)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.blade").directive("rxBladeTabContent",function(){return{restrict:"A",require:"^rxBlade",link:function(a,b,c){var d=a.$eval(c.rxBladeTabContent);d.$transcludeFn(d.$parent,function(a){angular.forEach(a,function(a){b.append(a)})})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.blade").directive("rxBladeTab",["$animate",function(a){return{require:"^rxBlade",restrict:"E",replace:!0,templateUrl:"scripts/components/blade/blade-tab.directive.html",transclude:!0,scope:{active:"=?",iconClass:"=",tabName:"=",onActivate:"=?"},compile:function(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.activate(b)}),a.enabled(c,!1),b.activate=function(){f.handleTabClick(b)},f.addTab(b),b.$transcludeFn=d}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.blade").directive("rxBlade",function(){return{templateUrl:"scripts/components/blade/blade.directive.html",controller:"BladeController",transclude:!0,scope:{rxConfiguration:"="}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.boolean").directive("rxBoolean",["rxUtils",function(a){return{restrict:"E",templateUrl:"scripts/components/boolean/boolean.directive.html",require:"ngModel",scope:{rxBooleanTrue:"=",rxBooleanFalse:"="},link:function(b,c,d,e){b.trueValue=!!a.isNullOrUndefined(b.rxBooleanTrue)||b.rxBooleanTrue,b.falseValue=!a.isNullOrUndefined(b.rxBooleanFalse)&&b.rxBooleanFalse,e.$render=function(){b.booleanFieldValue=e.$viewValue},b.$watch("booleanFieldValue",function(){e.$setViewValue(b.booleanFieldValue)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.definition-picker").directive("rxDefinitionPicker",["$document","$timeout","$window","definitionNameFilter",function(a,b,c,d){return{restrict:"E",templateUrl:"scripts/components/definition-picker/definition-picker.directive.html",require:"?ngModel",controller:"rxDefinitionPickerController",scope:{rxSelectedDefinitionName:"=",rxAllowClear:"=",rxType:"@",rxAlign:"@",rxDisabled:"=",rxOnDefinitionSelected:"=",rxAvailablePickerStates:"="},link:function(e,f,g,h){function i(a){e.states.opened&&!$(a.target).closest(f).length&&e.closePopup()}function j(a){switch(a.keyCode){case 27:e.closePopup();break;case 13:a.preventDefault(),a.stopPropagation()}}var k=f.find(".rx-definition-picker__fake-input"),l=f.find(".rx-definition-picker__fake-input-value"),m=f.find(".rx-definition-picker__popup"),n=f.find('[type="search"]'),o=f.scrollParent(),p=angular.element(c);e.ngModelController=h,e.rxAllowClear=e.rxAllowClear!==!1,h&&(h.$render=function(){l.text(d(h.$viewValue))}),e.$watch("states.opened",function(a){a?b(function(){var a,c=0;e.popupWidth||(e.popupWidth=Math.max(m.outerWidth(),k.outerWidth())+1),a=-o.scrollTop(),"left"!==e.rxAlign&&(c=k.outerWidth()-e.popupWidth),k.offset().top>p.height()-k.offset().top-k.height()&&(a=a-k.outerHeight()-m.outerHeight()),e.popupTransform="translate("+c+"px, "+a+"px)",e.popupVisible=!0,n.one("input",e.openSearch),b(function(){n.focus()})}):e.popupVisible=!1}),e.$watch("states.searchOpened",function(a){a&&b(function(){n.focus()})}),o.on("scroll",e.closePopup),a.on("keydown",j),p.get(0).addEventListener("click",i,!0),e.$on("$destroy",function(){p.get(0).removeEventListener("click",i),o.off("scroll",e.closePopup),a.off("keydown",j)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxDesignerBreadcrumbBar",function(){return{restrict:"E",scope:{definitionName:"=",definitionIcon:"@",items:"=",onClick:"&"},templateUrl:"scripts/components/designer/breadcrumb-bar/breadcrumb-bar.directive.html"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxDesignerCanvasPreview",["$timeout",function(a){return{templateUrl:"scripts/components/designer/canvas-preview/designer-canvas-preview.directive.html",scope:{rxModel:"="},link:function(b,c){var d=new joint.dia.Graph,e=new joint.dia.Paper({width:c.width(),height:c.height(),model:d,interactive:!1}),f=new joint.ui.PaperScroller({autoResizePaper:!1,padding:32,paper:e});c.append(f.render().el),f.center(),f.el.scrollTop=0,e.on("blank:pointerdown",f.startPanning),b.rxModel&&(a(function(){f.zoomToFit({padding:30})}),e.model.fromJSON(b.rxModel)),b.onZoomIn=function(){f.zoom(.2,{max:4})},b.onZoomOut=function(){f.zoom(-.2,{min:.2})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxDesignerCanvas",["$rootScope","RX_DESIGNER","$timeout","debounce","dialogs",function(a,b,c,d,e){var f=joint.ui.Snaplines.extend({snapWhileMoving:function(a,b,c,d){var e=_.isFunction(this.options.paper.options.interactive)?this.options.paper.options.interactive(a):this.options.paper.options.interactive;e&&joint.ui.Snaplines.prototype.snapWhileMoving.apply(this,arguments)}});return{templateUrl:"scripts/components/designer/canvas/designer-canvas.directive.html",scope:{rxConfiguration:"="},link:function(g,h){function i(a,b){function c(b){e?e==b?f=arguments:(g.cancel(),e=b,a.apply(h,f),f=arguments):(e=b,f=arguments),g.apply(h,arguments)}var e,f,g=d(a,b),h=this;return c}function j(a){for(var b=";base64,",c=a.split(b),d=c[0].split(":")[1],e=window.atob(c[1]),f=e.length,g=new Uint8Array(f),h=0;h<f;++h)g[h]=e.charCodeAt(h);return new Blob([g],{type:d})}var k=g.rxConfiguration||{},l=new joint.dia.Graph,m=joint.ui.Halo.extend({initialize:function(){joint.ui.Halo.prototype.initialize.apply(this,arguments),this.removeHandle("rotate")},removeElement:function(){var d=this;c(function(){a.$broadcast(b.events.beforeCellRemoved,{cell:d.options.cellView.model,graph:l})}),joint.ui.Halo.prototype.removeElement.apply(this,arguments)},update:function(){joint.ui.Halo.prototype.update.apply(this,arguments),this.options.cellView.model.get("inCallActivity")||!k.interactive?this.$el.attr("halo-hidden","true"):this.$el.removeAttr("halo-hidden"),this.options.cellView.model.get("expanded")?this.$el.addClass("rx-cell-expanded"):this.$el.removeClass("rx-cell-expanded")},options:function(){var a=_.cloneDeep(joint.ui.Halo.prototype.options);return a.clone=function(a,b){var c=joint.ui.Halo.prototype.options.clone.apply(this,arguments),d=a.prop("position");return c.prop("position/x",d.x+10),c.prop("position/y",d.y+10),c},k.haloConfig&&_.forEach(k.haloConfig.customHandles,function(b){a.handles.push(b)}),a}()});g.interactive=k.interactive;var n=new joint.dia.CommandManager({graph:l,cmdNameRegex:/^(?:add|remove|change:(?!rxInspector)\w+)$/,cmdBeforeAdd:function(a,b,c,d){return d=d||{},this.enabled&&!d.ignoreCommandManager}}),o={width:1e3,height:800,model:l,gridSize:5,defaultLink:k.defaultLink||new joint.shapes.bpmn.Flow,embeddingMode:!0,validateEmbedding:function(a,b){return a.model.canBeEmbedded(b,p)&&b.model.canEmbedElement(a,p)}};_.isUndefined(k.interactive)?o.interactive=!0:o.interactive=k.interactive;var p=new joint.dia.Paper(o),q=new joint.ui.PaperScroller({autoResizePaper:!0,padding:32,paper:p});if(g.interactive&&(n.enabled=!0,n.enable=function(){this.enabled=!0},n.disable=function(){this.enabled=!1},l.on("add",function(d,e,f){c(function(){a.$broadcast(b.events.cellAdded,{cell:d,graph:l,options:f})})}),l.on("remove",function(d,e,f){c(function(){a.$broadcast(b.events.cellRemoved,{cell:d,graph:l,options:f})})}),l.on("change",function(d){(d.changed.rxData||d.isLink()&&(d.changed.source&&d.changed.source.id||d.changed.target&&d.changed.target.id))&&c(function(){a.$broadcast(b.events.cellChanged,{cell:d,graph:l})}),d.changed.hasOwnProperty("parent")&&c(function(){a.$broadcast(b.events.cellReparented,{cell:d,graph:l})})}),l.on("add remove change",i(function(d,e,f){c(function(){a.$broadcast(b.events.graphChanged,{graph:l,cell:d,options:f||{}})})},100)),new joint.ui.rx.MoveElements({paper:p})),h.append(q.render().el),q.center(),q.el.scrollTop=0,p.on("blank:pointerdown",q.startPanning),p.on("cell:pointerup",function(d){if(d){if(d.model instanceof joint.dia.Link)m.clear(p);else{var e=new m({graph:l,paper:p,cellView:d});k.haloConfig&&k.haloConfig.handleValidation&&k.haloConfig.handleValidation(e),e.render()}c(function(){a.$broadcast(b.events.cellPointerUp,{cellView:d})})}}),!k.multiSelectionDisabled){var r=new Backbone.Collection,s=new joint.ui.SelectionView({paper:p,graph:l,model:r,useModelGeometry:!0});s.removeHandle("rotate"),s.on("selection-box:pointerdown",function(a){if(a.ctrlKey||a.metaKey){var b=r.get($(a.target).data("model"));r.reset(r.without(b)),s.destroySelectionBox(p.findViewByModel(b))}})}if(g.interactive&&(p.on("cell:expand:begin cell:collapse:begin",function(){n.disable()}),p.on("cell:expand:done cell:collapse:done",function(a){a.model.get("inCallActivity")||n.enable()}),g.undo=function(){var a=_.first(_.last(n.undoStack));if(a&&_.isArray(a.options.propertyValue)){var b=joint.util.getByPath(a.data.previous,a.options.propertyPath,"/"),c=joint.util.getByPath(a.data.next,a.options.propertyPath,"/");if(c.length>b.length)return void e.confirm("Warning!","Are you sure you want to delete this item?").result.then(function(){n.undo()})}n.undo()},g.redo=function(){var a=_.first(_.last(n.redoStack));if(a&&_.isArray(a.options.propertyValue)){var b=joint.util.getByPath(a.data.previous,a.options.propertyPath,"/"),c=joint.util.getByPath(a.data.next,a.options.propertyPath,"/");if(b.length>c.length)return void e.confirm("Warning!","Are you sure you want to delete this item?").result.then(function(){n.redo()})}n.redo()},g.hasUndo=function(){return n.hasUndo()},g.hasRedo=function(){return n.hasRedo()},g.onIncreaseGridSize=function(){g.options.gridSize<20&&g.options.gridSize++},g.onDecreaseGridSize=function(){g.options.gridSize>1&&g.options.gridSize--},g.onClear=function(){e.confirm("Warning!","Are you sure you want to clear the canvas?").result.then(function(){var a=l.get("cells").models;l.trigger("batch:start");var b=_.filter(a,function(a){return a instanceof joint.dia.Cell&&a.isRemovable!==!1});_.forEach(b,function(a){a.remove()}),l.trigger("batch:stop")})},g.$watch("options.gridSize",function(){p.options.gridSize=g.options.gridSize;var a=$("<canvas/>",{width:g.options.gridSize,height:g.options.gridSize});a[0].width=g.options.gridSize,a[0].height=g.options.gridSize;var b=a[0].getContext("2d");b.beginPath(),b.rect(1,1,1,1),b.fillStyle="#AAAAAA",b.fill();var c=a[0].toDataURL("image/png");p.$el.css("background-image",'url("'+c+'")')}),g.options={gridSize:5,snaplinesEnabled:!0},!k.snapLinesDisabled)){var t=new f({paper:p});g.onSnaplinesChange=function(){g.options.snaplinesEnabled?t.startListening():t.stopListening()}}g.onZoomIn=function(){q.zoom(.2,{max:4})},g.onZoomOut=function(){q.zoom(-.2,{min:.2})},g.onPrint=function(){p.print()},g.dispatchActionEvent=function(b){a.$broadcast(b)},p.on("blank:pointerdown",function(a){k.multiSelectionDisabled||(a.shiftKey?s.startSelecting(a):s.cancelSelection())}),p.on("cell:pointerup",function(a,b){b&&!k.multiSelectionDisabled&&(!b.ctrlKey&&!b.metaKey||a.model instanceof joint.dia.Link||(r.add(a.model),s.createSelectionBox(a)))}),p.on("blank:pointerdown",function(){c(function(){a.$broadcast(b.events.blankPointerDown)})}),g.exportToPng=function(){p.toPNG(function(a){saveAs(j(a),_.isFunction(k.getModelName)?k.getModelName()+".png":"download.png")},{padding:10,width:p.el.clientWidth,height:p.el.clientHeight,quality:1})},c(function(){q.center(),q.el.scrollTop=0,a.$broadcast(b.events.canvasReady,{paper:p,paperScroller:q,commandManager:n})})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxDesignerInspector",["$compile","$injector","$rootScope","$timeout","RX_DESIGNER","rxUtils","rxLog","dialogs","rxPropertyNavigator",function(a,b,c,d,e,f,g,h,i){var j=joint.ui.Inspector.extend({initialize:function(){joint.ui.Inspector.prototype.initialize.apply(this,arguments),this._hasCustomEditors=!1,this._scope=this.options.$scope.$new()},renderFieldContent:function(c,d,f){if(_.includes(e.defaultInspectorControlTypes,c.type))return joint.ui.Inspector.prototype.renderFieldContent.apply(this,[c,d,f]);if(b.has(_.camelCase(c.type)+"Directive")){var h=this._scope.$new(!0);return h.path=d,h.value=f,h.options=c,h.cell=this.options.cell,this._hasCustomEditors=!0,a(document.createElement(c.type))(h)}g.error("Type parameter "+c.type+" should be Joint default type or name of registered directive.")},validateInput:function(a,b,c){switch(a){case"number":return _.isNaN(parseInt(b.value,10))&&f.isNonEmptyString(b.value)?(b.style.outline="1px solid red",!1):(b.style.outline="none",!0);default:return!b.validity||b.validity.valid}},onRemove:function(){joint.ui.Inspector.prototype.onRemove.apply(this,arguments),this._scope.$destroy()},renderTemplate:function(a,b,c,e){if("list"===b.type&&"properties"!==b.group&&a.addClass("rx-group-list"),"object"===b.type&&b.properties&&(b.flatAttributes=joint.util.flattenObject(b.properties,"/",function(a){return a.type})),joint.ui.Inspector.prototype.renderTemplate.apply(this,[a,b,c,e]),a.find("button").attr("type","button"),this._hasCustomEditors){var f=this;this._hasCustomEditors=!1,d(function(){f.trigger("render")})}},deleteListItem:function(a){var b=this;h.confirm("Warning!","Are you sure you want to delete this item?").result.then(function(){d(function(){joint.ui.Inspector.prototype.deleteListItem.apply(b,[a])})})},addListItem:function(a){var b=this;this.options.live=!1,joint.ui.Inspector.prototype.addListItem.apply(this,arguments),this.options.live=!0,d(function(){b.updateCell()})},renderOwnFieldContent:function(a){if(a.label&&(a.label+=":"),"select"===a.type){var b=$("<label/>").text(a.label),c=$("<select/>",{size:a.options.length}).prop("multiple",Boolean(a.multiple));_.each(a.options.items,function(b){var d=$("<option/>",{value:b.value}).text(b.content);b.value===a.value&&d.attr("selected","selected"),c.append(d)});var d=[b,c];return c&&c.addClass(a.type).attr({"data-type":a.type,"data-attribute":a.attribute}),$.fn.append.apply($("<div>"),d).children()}return joint.ui.Inspector.prototype.renderOwnFieldContent.apply(this,arguments)},onCellChange:function(a,b,c,d){d=d||{},"change"!==a&&(this.scrollPosition=this.$el.scrollTop()),d.rxSilent||joint.ui.Inspector.prototype.onCellChange.apply(this,arguments)}});return{templateUrl:"scripts/components/designer/inspector/designer-inspector.directive.html",scope:{target:"=",rxConfiguration:"="},link:function(a,b){function d(){a.inspector&&(a.inspector.options.cell.off("rx:change:inputs",g),a.inspector.remove(),a.inspector=null)}function f(b){var c=b.get("rxInspector"),d={notEmpty:function(a,b){return!_.isEmpty(b)}};return{$scope:a,inputs:c.inputs||{},groups:c.groups||{},operators:c.operators?_.assign(d,c.operators):d,cell:b}}function g(b,c){c=c||{},a.inspector&&b.get("id")===a.inspector.options.cell.get("id")&&(c.scrollPosition=a.inspector.$el.scrollTop()),d(),h(b,c)}function h(d,h){var k,l=f(d);a.inspector=new j(l),a.inspector.on("render",function(){var a=_.map(this.$el.find(".rx-expression-node-renderer"),function(a){return{label:a.getAttribute("for-expression-editor-label"),path:a.getAttribute("for-expression-editor-path")}});this.$el.scrollTop(this.scrollPosition),i.setExpressionFields(a),c.$broadcast(e.events.inspectorReady)}),k=a.inspector.render().el,$(k).find("button").attr("type","button"),b.find("> div").append(k),h.scrollPosition&&(k.scrollTop=h.scrollPosition),a.inspector.options.cell.on("rx:change:inputs",g)}a.inspector=null,a.$watch("target",function(a){a&&Boolean(a.get("rxInspector"))?g(a):d()})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorAddRemoveInputMapFields",["$uibModal","RX_RECORD_DEFINITION",function(a,b){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/add-remove-input-map-fields/inspector-add-remove-input-map-fields.directive.html",link:function(c){function d(a){return k&&"REQUIRED"===a.fieldOption&&(null===a.defaultValue||""===a.defaultValue||a.resourceType===b.dataTypes.integer.resourceType&&0===a.defaultValue)}function e(a){return d(a)||Boolean(_.find(c.inputMapFields,{id:a.id}))||Boolean(n[a.name])}function f(a){return"SYSTEM"===a.fieldOption||a.id===b.coreFieldIds.id||a.id===b.coreFieldIds.guid}function g(){return c.cell.getCurrentRecordDefinition().then(function(a){var b=_(a.fieldDefinitions).filter(function(a){return m||!f(a)}).each(function(a){a._required=d(a)}).cloneDeep(a.fieldDefinitions);return c.recordDefinitionFields=b,b})}function h(){return g().then(function(a){return _.each(a,function(a){a.selected=e(a)}),a})}function i(a){var b={},e=c.cell.prop("rxData/inputMap");c.inputMapFields=_(a).map(function(a){return a._path="rxData/inputMap/"+a.name,b[a.name]=e[a.name]||"",a}).sort(function(a){return d(a)?-1:1}).value(),c.cell.inputMapFields={},_.each(c.recordDefinitionFields,function(a){e[a.name]=b[a.name]||""}),c.cell.prop("rxData/inputMap",null,{silent:!0}),c.cell.prop("rxData/inputMap",e),c.cell.inputMapFields[l]=c.inputMapFields,_.isFunction(c.cell.convertSelectionToString)&&c.cell.convertSelectionToString(c.inputMapFields)}function j(){return c.options.label}var k=c.options.attributes.enforceRequiredFields||!1,l=c.cell._lastRecordDefinitionName,m=c.options.attributes.isAllFieldDisplay||!1,n=c.cell.prop("rxData/inputMap");l&&c.cell.inputMapFields?c.inputMapFields=c.cell.inputMapFields[l]:c.cell.inputMapFields={},_.isEmpty(c.inputMapFields)&&l&&g().then(function(a){var b=_.filter(a,e),d=_.isFunction(c.cell.getFieldIdList)?c.cell.getFieldIdList():null;_.isEmpty(b)?_.isEmpty(d)||(b=_.filter(a,function(a){return _.includes(d,String(a.id))}),i(b)):i(b)}),_.isFunction(c.cell.changeRequiredFieldsToOptional)&&(c.inputMapFields=c.cell.changeRequiredFieldsToOptional()?_.map(c.inputMapFields,function(a){return a._required=!1,a}):_.map(c.inputMapFields,function(a){return a._required=d(a),a})),c.removeField=function(a){c.inputMapFields=_.omit(c.inputMapFields,function(b,c){return b.id===a});var b={};b[l]=c.inputMapFields;var d=_(c.inputMapFields).map("id").join();c.cell.prop("rxData/inputMap/fieldIDs",null,{silent:!0}),c.cell.prop("rxData/inputMap/fieldIDs",d),c.cell.inputMapFields=b},c.openEditor=function(){a.open({templateUrl:"scripts/components/designer/inspector/editors/add-remove-input-map-fields/add-remove-input-map-fields-selector.html",controller:"AddRemoveInputMapFieldsController",windowClass:"rx-inspector-dialog rx-inspector-record-definition-fields-dialog",animation:!1,backdropClass:"backdrop-transparent",resolve:{fields:h,label:j}}).result.then(i)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorApprovalFlowSelectorField",["$uibModal",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/approval-flow-selector/inspector-approval-flow-selector-field.directive.html",link:function(b){b.openDialog=function(){a.open({templateUrl:"scripts/components/designer/inspector/editors/approval-flow-selector/approval-flow-selector-dialog.html",controller:"ApprovalFlowSelectorDialogController",backdrop:"static",resolve:{context:{cell:b.cell,path:b.path}},windowClass:"rx-approval-flow-selector-dialog"})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorColumnSpan",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/column-span/inspector-column-span.directive.html",link:function(b,c){function d(){var a=0,c=i.find("td");_.each(c,function(d,e){e===c.length-1?b.columns[e].span=k-a:(b.columns[e].span=Math.round($(d).width()/j),a+=b.columns[e].span)}),h.trigger("layout:columnSpan")}function e(){b.columns=h.layoutTree.columns,b.$watchCollection("columns",f)}function f(){g(),b.columns=h.layoutTree.columns,a(function(){i.colResizable({liveDrag:!0,draggingClass:"",onResize:function(){a(d)},minWidth:j})})}function g(){i.colResizable({disable:!0})}var h=b.cell,i=c.find("table"),j=20,k=12,l=b.$watch("cell.layoutTree",function(a){a&&(e(),l())});b.$on("$destroy",function(){g()})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxCustomizationPerspective",["$q","$rootScope","$compile","dialogs","RX_OVERLAY","rxOverlay",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/customization-perspective/customization-perspective.directive.html",link:function(a,b){function g(){var b=a.cell.get("isReverted");return b?e.operationTypes.NOT_CUSTOMIZED_IN_THIS_OVERLAY_GROUP:f.getOverlayOperation(j.overlayGroupId,j.overlayDescriptor?j.overlayDescriptor.parentOverlayGroupId:null)}function h(){return a.overlayOperation!==e.operationTypes.CUSTOMIZED_IN_THIS_OVERLAY_GROUP||(_.has(j,"allowFieldsOverlay")?!(j.allowFieldsOverlay&&j.allowPermissionsOverlay&&j.allowOtherPropertiesOverlay&&j.allowIndexesOverlay):_.has(j,"allowOtherPropertiesOverlay")?!(j.allowPermissionsOverlay&&j.allowOtherPropertiesOverlay):!!_.has(j,"allowOverlay")&&!j.allowOverlay)}function i(){j.overlayGroupId?(a.overlayOperation=g(),a.isOverlayOperationHidden=e.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP==a.overlayOperation,a.cell.set("overlayOperation",a.overlayOperation,{silent:!0,ignoreCommandManager:!0}),a.isRevertActionHidden=h()):(a.overlayOperation=e.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP,a.isOverlayOperationHidden=!0,a.isRevertActionHidden=!0)}var j=a.cell.get("rxData");if(i(),a.options.customizationOptionsDirective){var k=a.$new(!0),l=angular.element(document.createElement(a.options.customizationOptionsDirective));l.attr("rx-configuration","config"),_.assign(k,{config:{cell:a.cell,definitionName:a.options.definitionName}}),b.append(c(l)(k))}a.revertCustomization=function(){d.confirm("Warning!",a.options.revertPrompt).result.then(function(){return _.isFunction(a.options.revertCommand)?a.options.revertCommand(a.options.definitionName).then(function(){a.$emit(a.options.revertCompleteEventName,a.cell)}):void a.$emit(a.options.revertCompleteEventName,a.cell)})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorDefinitionPicker",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/definition-picker/inspector-definition-picker.directive.html",link:function(b,c){var d=c.find("[data-attribute]").eq(0);b.data={value:b.value},_.has(b.options.attrs,"label.class")&&(b.required=_.includes(b.options.attrs.label["class"],"required")),b.$watch("data.value",function(b,c){b!=c&&a(function(){d.change()})})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorExpressionFieldLabel",["$rootScope","RX_EXPRESSION_EDITOR",function(a,b){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/expression-field-label/inspector-expression-field-label.directive.html",scope:{path:"=",cell:"=",value:"=",label:"=",required:"="},link:function(c){c.openEditor=function(){a.$broadcast(b.events.openExpressionEditor,{cell:c.cell,path:c.path})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxExpressionNodeRenderer",["$compile","$rootScope","rxExpressionHelper","RX_EXPRESSION_EDITOR",function(a,b,c,d){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/expression-node-renderer/expression-node-renderer.directive.html",scope:{path:"=",cell:"=",value:"=",label:"="},link:function(a,e){function f(){m=a.cell.getExpressionConfigurator().getDataDictionary(a.path),k=_.flatten(a.cell.getExpressionConfigurator().getOperators(a.path)||d.operators.math),l=new RegExp("("+_(k).pluck("contentValue").compact().sortBy(function(a){return-a.length}).map(function(a){return"\\"+a.split("").join("\\")}).join("|")+")","g"),j()}function g(a){var b=_.find(m,function(b){return _.isArray(b.value)?_.includes(b.value,a.replace(/\\/g,"")):b.value==a.replace(/\\/g,"")});return n.test(a)?{id:_.uniqueId("expression"),"class":b?p:q,label:b?b.label:"Error",tooltip:b?b.tooltip:"Error"}:b&&b.showRawValue!==!0?{id:_.uniqueId("expression"),"class":p,label:b.label,tooltip:b.tooltip}:{id:_.uniqueId("expression"),"class":s,label:a}}function h(a){return{id:_.uniqueId("operator"),"class":r,label:i(a),tooltip:null}}function i(a){return _.find(k,{contentValue:a}).displayValue}function j(){var b="";if(a.value){b=a.value.toString();var d=c.extractTokens(o,"RX_EXPRESSION",b),e=_.map(d.matches,g),f=c.extractTokens(l,"RX_OPERATOR",d.expression),i=_.map(f.matches,h),j=0,k=0;a.nodes=f.expression.replace(/RX_(?:(EXPRESSION)|(OPERATOR))/g,function(a,b,c){return"$$"+(b?e[j++].id:i[k++].id)+"$$"}).split(/(\$\$)|(\s+)/g).filter(function(a){return!_.isEmpty(a)&&!/^(\$\$)|(\s+)$/g.test(a)}).map(function(a){return _.find(e.concat(i),{id:a})||a})}}var k,l,m,n=/^(\$[^{}\$]+\$)|(\${[^{}\$]+})$/g,o=/(\$[^{}\$]+\$)|(\${[^{}\$]+})|("[^"]+")|('[^']+')/g,p="rx-inspector-expression-tag",q="rx-inspector-invalid-tag",r="rx-inspector-operator-tag",s="rx-inspector-string-tag";a.$watch(function(){return a.cell.prop(a.path)},function(b){_.isUndefined(b)||(a.value=b,f())}),a.$on(d.events.refreshExpression,function(){f()}),a.openEditor=function(){b.$broadcast(d.events.openExpressionEditor,{cell:a.cell,path:a.path})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorBooleanField",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-boolean-field.directive.html",link:function(b,c){var d=c.find("[data-attribute]").eq(0);b.$watch("value",function(b,c){b!==c&&a(function(){d.change()})})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorCheckboxMultiselectField",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-checkbox-multiselect.directive.html",link:function(a,b){function c(){a.cell.prop(a.path,"",{silent:!0}),a.cell.prop(a.path,a.selectedOptions)}if(a.selectedOptions=a.cell.prop(a.path),a.groups=[],_.isArray(a.options.options)&&!_.isEmpty(a.options.options)){var d=_.isArray(a.options.options[0])?a.options.options:[a.options.options];a.groups=_.map(d,function(a){return _.map(a,function(a){return{value:a.value||a,isChecked:a.isChecked,content:a.content||a}})}),_.isEmpty(a.selectedOptions)||_.forEach(a.selectedOptions,function(b){_.forEach(a.groups,function(a){var c=_.find(a,{value:b});c&&(c.isChecked=!0)})})}a.updateSelection=function(b){_.includes(a.selectedOptions,b)?_.pull(a.selectedOptions,b):a.selectedOptions.push(b),c()}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorCheckboxField",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-checkbox.directive.html",link:function(a){a.data={value:a.value},a.$watch("data.value",function(){a.cell.prop(a.path,a.data.value)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorDatepicker",["$timeout","uibDateParser",function(a,b){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-datepicker.directive.html",controller:["$scope",function(a){var c=b.parse(a.value,"yyyy-MM-dd");_.isDate(c)&&(a.value=c),a.datepickerOptions={showWeeks:!1},a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0}}],link:function(b,c){var d=c.find("[data-attribute]").eq(0);b.$watch("value",function(b,c){b!==c&&a(function(){d.change()})})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorDatetimepicker",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-datetimepicker.directive.html",controller:["$scope",function(a){a.datepickerOptions={showWeeks:!1},a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0}}],link:function(b,c){var d=c.find("[data-attribute]").eq(0);if(b.value){var e=new Date;e.setTime(Date.parse(b.value)),b.datetime=e}b.$watch("datetime",function(c,e){c!==e&&(b.value=_.isDate(c)?c.toISOString():c,a(function(){d.change()}))})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorExpressionField",["RX_EXPRESSION_EDITOR","rxExpressionEditor","$rootScope",function(a,b,c){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-expression-field.directive.html",link:function(b){b.openEditor=function(){c.$broadcast(a.events.openExpressionEditor,b.path)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorExpressionInputSelect",["$timeout","rxExpressionEditor","$rootScope","RX_EXPRESSION_EDITOR",function(a,b,c,d){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-expression-input-select.directive.html",link:function(b,e){var f=e.find("[data-attribute]").eq(0),g=_.map(b.options&&b.options.options||[],function(a){return _.isString(a)?{content:a,value:a}:a});if(b.selectOptions=_.pluck(g,"content"),b.value=b.value||"",b.model={value:b.value},b.value){var h=_.find(g,{value:b.value});h&&(b.model.value=h.content)}_.contains(b.selectOptions,"")||b.selectOptions.unshift(""),b.onSelect=function(c){_.isUndefined(c)?(b.model.value="",b.value=""):(h=_.find(g,{content:c}),h?(b.model.value=h.content,b.value=h.value):(b.model.value=c,b.value=c)),
a(function(){f.change()})},b.openEditor=function(){c.$broadcast(d.events.openExpressionEditor,b.path)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorExpressionNodeField",["$sce","$rootScope","rxExpressionHelper","RX_EXPRESSION_EDITOR",function(a,b,c,d){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-expression-node-field.directive.html",link:function(a){a.openEditor=function(){b.$broadcast(d.events.openExpressionEditor,{path:a.path,cell:a.cell})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorExpressionSelect",["RX_EXPRESSION_EDITOR","$rootScope",function(a,b){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-expression-select.directive.html",link:function(c){var d=_.find(c.options.options,{content:"[Dynamic]"});c.$watch("value",function(b){b&&(b.match(/\$\{.*\}/)||" "===b)?(d.value=b," "===c.value&&producer.broadcast(a.events.openExpressionEditor,c.path)):d.value=" "}),c.openEditor=function(){b.$broadcast(a.events.openExpressionEditor,c.path)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorExpressionTextareaField",["RX_EXPRESSION_EDITOR","rxExpressionEditor","$rootScope",function(a,b,c){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-expression-textarea-field.directive.html",link:function(b){b.openEditor=function(){c.$broadcast(a.events.openExpressionEditor,b.path)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorFilterSelect",["rxDesignerCache","$timeout","$rootScope","dialogs","RX_EXPRESSION_EDITOR","translateFilter",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-filter-select.directive.html",link:function(c,e){function g(){return i.filterExpression?"expression":i.filterMode?i.filterMode:"basic"}var h=e.find("[data-attribute]"),i=c.cell.get("rxData");c.filterExpressionPath="rxData/filterExpression",c.filterData=c.value?JSON.parse(c.value):[],c.filterMode=g(),c.filterExpressionValue=i.filterExpression,c.filterTypes=[{label:"Basic",type:"basic"},{label:"Expression",type:"expression"}],a.getRecordDefinition(i.recordDefinitionName).then(function(a){if(a){var d=_.map(a.fieldDefinitions,function(a){var b=a.resourceType.split(".").pop().replace(/fieldDefinition/i,""),c={field:a.id.toString(),displayName:a.name,type:b,options:a.optionNamesById};return a.minValue&&(c.minValue=a.minValue),a.maxValue&&(c.maxValue=a.maxValue),c});c.filterConfiguration={fields:d,label:f("com.bmc.arsys.rx.standardlib.components.search-filter.button.filterTrigger.label"),showPills:!0},c.$watchCollection("filterData",function(){var a=JSON.stringify(c.filterData);c.value!==a&&(c.value=a,b(function(){h.trigger("change")}))})}}),c.changeFilterMode=function(a){function b(){d.confirm("Change filter type","Current filter will be cleared. Do you want to continue?").result.then(function(){c.value=null,c.cell.prop("rxData/filterMode",a),c.cell.prop(c.path,null),c.cell.prop(c.filterExpressionPath,null),c.filterMode=a})}"basic"===a&&c.filterExpressionValue||"expression"===a&&"{}"!==c.value?b():c.filterMode=a}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorGroupButton",["uibButtonConfig","$timeout",function(a,b){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-group-button.directive.html",link:function(c,d){function e(a,b,d){d.propertyPath==c.path&&(c.data.value=c.cell.prop(c.path))}c.data={value:c.value},a.activeClass="is-checked";var f=d.find("[data-attribute]");c.cell.listenTo(c.cell,"change:rxData",e),c.$on("$destroy",function(){c.cell.off("change:rxData",e)}),c.$watch("data.value",function(a,c){a!==c&&b(function(){f.change()})})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorInputSelect",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-input-select.directive.html",link:function(b,c){var d=c.find("[data-attribute]").eq(0);b.value=b.value||"",b.model={value:b.value},b.selectOptions=b.options&&b.options.options||[],b.onSelect=function(a){b.value=a},b.$watch("model.value",function(b,c){b!==c&&a(function(){d.change()})})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorMultiselectDropdown",function(){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-multiselect-dropdown.directive.html",controller:["$scope",function(a){a.selectOptions=[],a.search=""}],link:function(a,b){function c(){angular.element(event.target).closest(".d-dropdown-menu").length||angular.element(event.target).closest(".d-dropdown-trigger").length||(f.removeClass("open"),g.removeClass("__pressed"),d())}function d(){var b={};_(angular.copy(a.selectOptions)).filter({checked:!0}).each(function(a){b[a.value]={}}).value(),b.setValueBeforeDestroy=a.cell.prop(a.path+"/setValueBeforeDestroy"),!_.isEqual(b,a.cell.prop(a.path))&&_.keys(b).length>1&&(a.cell.prop(a.path,"",{silent:!0}),a.cell.prop(a.path,b))}function e(b){return b.length?_.map(b,function(b){var c=_.cloneDeep(b);return c.checked=_.isObject(a.cell.prop(a.path)[b.value]),c}):[]}var f=b.find(".d-dropdown"),g=b.find(".d-dropdown__trigger");a.dropdownToggle=function(){f.toggleClass("open"),g.toggleClass("__pressed")},a.$watch("options.options",function(){a.selectOptions=e(a.options.options||[])}),angular.element(document).on("click",c),a.$on("$destroy",function(){a.cell.prop(a.path+"/setValueBeforeDestroy")&&(d(),a.cell.prop(a.path+"/setValueBeforeDestroy",!0,{silent:!0})),angular.element(document).off("click",c)})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorNumberInput",function(){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-number-input.directive.html",link:function(a,b){function c(b){_.isUndefined(b)||(a.lastValidValue=b)}function d(b){_.isUndefined(b)&&(f.$setViewValue(a.lastValidValue),e.val(a.lastValidValue),e.trigger("change"),f.$render())}var e=b.find("input"),f=e.controller("ngModel");a.attrs={},a.lastValidValue=a.value||null,a.onChange=c,a.onBlur=d,_.isObject(a.options&&a.options.attrs)&&_.each(a.options.attrs,function(c,d){var e=b.find(d);e.length&&_.isObject(c)&&_.each(c,function(b,c){e.attr(c,b),a.attrs[c]=b})})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorOptionalExpression",["$rootScope","$timeout","RX_EXPRESSION_EDITOR",function(a,b,c){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-optional-expression.directive.html",link:function(d,e){function f(){d.value=_.isUndefined(d.value)?0:d.value,_.isNaN(Number(d.value))||(d.value=Number(d.value)),_.isString(d.value)?(d.state.checkbox=!0,d.state.select=d.SELECT_STATE.CONDITIONAL):1==d.value&&(d.state.checkbox=!0)}var g=e.find("[data-attribute]");d.SELECT_STATE={ALWAYS:"0",CONDITIONAL:"1"},d.selectConfig={options:[{value:d.SELECT_STATE.ALWAYS,content:"At all times"},{value:d.SELECT_STATE.CONDITIONAL,content:"When condition is true"}]},d.state={checkbox:!1,select:d.SELECT_STATE.ALWAYS},d.$watch("state.checkbox",function(a,b){a!==b&&(d.value=d.state.checkbox?1:0,d.state.select=d.SELECT_STATE.ALWAYS)}),d.$watch("state.select",function(a,b){a!==b&&d.state.checkbox&&(d.state.select==d.SELECT_STATE.ALWAYS?d.value=1:d.value="")}),d.$watch("value",function(a,c){a!=c&&b(function(){g.trigger("change")})}),d.openEditor=function(){a.$broadcast(c.events.openExpressionEditor,d.path)},f()}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorOptionalSelect",["$timeout","rxUtils",function(a,b){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-optional-select.directive.html",link:function(c,d){function e(){c.value=_.isUndefined(c.value)?"":c.value,b.isNonEmptyString(c.value)&&(c.state.checkbox=!0,c.state.select=c.value)}var f=d.find("[data-attribute]");c.state={checkbox:!1,select:""},e(),c.$watch("state.checkbox",function(a,b){a!==b&&(c.state.checkbox?c.state.select=c.options.options[0].value:(c.value="",c.state.select=null))}),c.$watch("state.select",function(a,b){a!==b&&c.state.checkbox&&(c.value=c.state.select)}),c.$watch("value",function(){a(function(){f.trigger("change")})})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxPermissionEditor",["$uibModal","$q","$stateParams","rxDesignerCache","rxBundleCache","rxGlobalCache","rxOverlay","RX_OVERLAY","RX_PERMISSION","RX_DESIGNER","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h,i,j,k){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-permission-editor.directive.html",link:function(l){function m(){var a,b=l.cell.get("type");return _.each(i.instancesWithPermissions,function(c){var d=new RegExp(c,"i");b.match(d)&&(a=c)}),a}function n(a,b){return a.inheritanceDescriptor&&a.inheritanceDescriptor.isInheritingFieldPermissions&&b.isInherited}function o(){var a=l.cell.get("isReverted");return a?h.operationTypes.NOT_CUSTOMIZED_IN_THIS_OVERLAY_GROUP:g.getOverlayOperation(v.overlayGroupId,w.parentOverlayGroupId)}function p(a,b,c){var d,e=c.ownerId.value;if(a){var f;f=e&&e>=k.SECURITY_LABEL_IDS.MIN&&e<=k.SECURITY_LABEL_IDS.MAX?{id:e}:{name:c.ownerId.name},d=_.find(a,f),!d&&e&&_.forEach(a,function(a){_.get(a,"securityLabelMapping.sourceId")==e&&(d=a)})}d||(d=_.find(b,function(a){return _.includes([a.roleID,a.groupId],c.ownerId.value)})),d&&(c.ownerName=d.groupName||d.roleName||d.name)}function q(a){a.permissions=_.map(_.cloneDeep(a.permissions),function(a){return _.omit(a,"ownerName")}),l.value=a.permissions,l.cell.trigger(j.events.permissionsChanged,u?a:a.permissions)}var r,s=m(),t=i.permissionDialogMetadata[s],u=!1,v=l.cell.get("rxData"),w=v.overlayDescriptor||{parentOverlayGroupId:null},x=[],y=[];if(s===i.editorContexts.field&&l.cell.collection._byId.recordDefinition){var z=l.cell.collection._byId.recordDefinition.get("rxData");l.isPermissionEditDisabled=n(z,v),y=z.securityLabels||[]}if(_.includes(i.haveOverlayLogic,s)&&v.lastUpdateTime){var A=o();A!==h.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP&&(u=!0)}b.all({groups:s===i.editorContexts.field?f.getFieldGroupDescriptors():f.getGroupDescriptors(),roles:e.getRoleDescriptors(),baseData:u?d.getRecordDefinitionFromOverlay(c.name,w.parentOverlayGroupId):b.when([])}).then(function(a){var b=a.groups,c=a.roles,d=_.union(b,c);if(r=_.cloneDeep(l.value),!t.defaultPermission||v.lastUpdateTime||v.permissions||(r=[{ownerId:t.defaultPermission,type:t.defaultPermittedAction}]),v.id){var e=_.find(a.baseData.fieldDefinitions,{id:v.id});x=e?_.cloneDeep(e.permissions):[]}else x=_.cloneDeep(a.baseData.permissions)||[];_.each(x,function(a){var b=_.find(d,function(b){return _.includes([b.roleID,b.groupId],a.ownerId.value)});b&&(a.ownerName=b.groupName||b.roleName)}),l.effectivePermissions=[],u&&(w.permissionsOverlayType&&!_.includes([h.overlayTypes.additive,h.overlayTypes.unmodified],w.permissionsOverlayType)||(l.effectivePermissions=x)),_.each(r,function(a){p(y,d,a)}),l.effectivePermissions=_.unique(_.union(l.effectivePermissions,r),function(a){return a.ownerName+a.type})}),l.openPermissionEditor=function(){a.open({templateUrl:"scripts/components/designer/editors/permission-editor-dialog.html",controller:"PermissionEditorDialogController",backdrop:"static",resolve:{assignedPermissions:function(){return angular.copy(r)},basePermissions:function(){return angular.copy(x)},securityLabels:function(){return angular.copy(y)},editorContext:function(){return{type:s,cell:l.cell}}},windowClass:"rx-permission-editor-dialog"}).result.then(q)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorReadOnlyText",["$parse",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-read-only-text.directive.html",link:function(b){var c=b.options.filter?"|"+b.options.filter:"";b.displayValue=a("value"+c)(b)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorRecordInstanceSampleData",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-record-instance-sample-data.directive.html",link:function(b,c){function d(){f.find("label").eq(0).text((b.value?"Sample ":"")+"Record Definition:")}var e=c.find("[data-attribute]").eq(0),f=c.closest(".object-properties").find("rx-inspector-definition-picker").eq(0);b.toggle=function(){b.value=!b.value,d(),a(function(){e.change()})},a(d)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorTagInput",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-tag-input.directive.html",controller:["$scope",function(a){a.tags=[]}],link:function(b,c){b.options.options=_.isUndefined(b.options.options)?[]:b.options.options;var d=_(b.value||"").split(" ").compact().value();_.forEach(d,function(a){var c=_.find(b.options.options,function(b){return b.id===a});b.tags.push(c?c:{name:a})});var e=c.find("[data-attribute]");b.loadOptions=function(a){return b.options.options.filter(function(b){return b.name.toLowerCase().indexOf(a.toLowerCase())!=-1})},b.$watchCollection("tags",function(b,c){if(b!==c){var d=[];_.each(b,function(a){a.id?d.push(a.id):d.push(a.name)}),e.val('"'+d.join(" ")+'"'),a(function(){e.trigger("change")})}})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorTextMessage",function(){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-text-message.directive.html"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorTimepicker",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-timepicker.directive.html",link:function(b,c){var d=c.find("[data-attribute]").eq(0);if(b.value){var e=b.value.split(":");b.date=moment().hours(e[0]).minutes(e[1]).toDate()}b.clearTime=function(){b.date=null},b.$watch("date",function(c,e){if(c!==e){if(_.isDate(c)){var f=moment(c);b.value=[f.hours(),f.minutes(),"00"].join(":")}else b.value=c;a(function(){d.change()})}})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorTimerField",["RX_EXPRESSION_EDITOR","RX_DESIGNER","$rootScope","dialogs",function(a,b,c,d){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/inspector-timer-field.directive.html",link:function(a){a.options.filter="intervalTimer",a.options.inputType="textarea",a.openIntervalTimerEditor=function(){c.$broadcast(b.events.openIntervalTimerEditor,a.path)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorProcessParameterEditor",["$uibModal","$timeout","RX_DESIGNER","RX_RECORD_DEFINITION","RX_PROCESS_DEFINITION","$rootScope","dialogs",function(a,b,c,d,e,f,g){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/process-parameters/inspector-process-parameter-editor.directive.html",link:function(b){var h=_.cloneDeep(b.cell.prop("rxData/localVariables")),i=_.remove(h,{resourceType:e.localVariableDataTypes.processCharacter.resourceType});b.inputParams=b.cell.prop("rxData/inputParams"),b.outputParams=b.cell.prop("rxData/outputParams"),b.localVariables=h,_.forEach(b.inputParams,function(a){_.forEach(b.outputParams,function(b){a.name===b.name&&(a.isInputAndOutputParam=!0,b.isInputAndOutputParam=!0)})}),b.contextKeyOptions=_.filter(b.inputParams,function(a){return a.required&&_.includes([d.dataTypes.character.resourceType,d.dataTypes.recordInstance.resourceType],a.resourceType)}),b.contextKeyOptions.length?b.contextKeyParam=b.cell.prop("rxData/contextKeyParam"):b.cell.prop("rxData/contextKeyParam",null,{silent:!0}),b.onContextKeyChange=function(a){b.cell.prop("rxData/contextKeyParam",a)},b.openParameterEditor=function(c){a.open({templateUrl:"scripts/components/designer/inspector/editors/process-parameters/process-parameter-editor.html",controller:"ProcessParameterEditorController",backdrop:"static",resolve:{processParameterContext:{inputParams:b.inputParams,outputParams:b.outputParams,localVariables:b.localVariables,inputDataTypes:b.options.inputDataTypes,editParameter:c}},windowClass:"rx-process-parameter-editor-dialog"}).result.then(function(a){_.forEach(a.inputParams,function(a){a.required||a.name!==b.contextKeyParam||b.cell.prop("rxData/contextKeyParam",null,{silent:!0})}),b.cell.prop("rxData/inputParams","",{silent:!0}),b.cell.prop("rxData/outputParams","",{silent:!0}),b.cell.prop("rxData/localVariables","",{silent:!0}),b.cell.prop("rxData/inputParams",a.inputParams,{silent:!0}),b.cell.prop("rxData/outputParams",a.outputParams,{silent:!0}),b.cell.prop("rxData/localVariables",[].concat(i,a.localVariables))})},b.removeParameter=function(a,d){g.confirm("Warning!","Are you sure you want to delete this item?").result.then(function(){var e=b[d],g=_.findIndex(e,{name:a.name});g!==-1&&(e.splice(g,1),b.contextKeyParam===a.name&&b.cell.prop("rxData/contextKeyParam",null,{silent:!0}),b.cell.prop("rxData/"+d,"",{silent:!0}),b.cell.prop("rxData/"+d,b[d]),f.$broadcast(c.events.refreshInspector,b.cell))})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorRadioButton",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/radio-button/inspector-radio-button.directive.html",link:function(b,c){var d=c.find("[data-attribute]").eq(0);b.model={},b.model.value=b.value||b.options.attrs.defaultValue,b.$watch("model.value",function(b,c){a(function(){d.change()})},!0)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorScheduleTimerField",["$uibModal",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/schedule-timer/inspector-schedule-timer-field.directive.html",link:function(b){b.inspectorTextareaText="",b.openDialog=function(){a.open({templateUrl:"scripts/components/designer/inspector/editors/schedule-timer/schedule-timer-dialog.html",controller:"ScheduleTimerDialogController",backdrop:"static",resolve:{context:{cell:b.cell,path:b.path}},windowClass:"rx-schedule-timer-dialog"})},b.$watch("value",function(a,c){a!==c&&(b.inspectorTextareaText=a)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorSelectExpressionDropdown",["$sce","$timeout","rxExpressionEditor","$rootScope","RX_EXPRESSION_EDITOR","RX_INSPECTOR_SELECT_EXPRESSION_DROPDOWN","dialogs",function(a,b,c,d,e,f,g){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/select-expression-dropdown/inspector-select-expression-dropdown.html",link:function(a,c){var g=a.path,h=a.cell.prop(g),i=/\$\{.*\}/,j=c.find("[data-attribute]").eq(0);a.cell.selectExpressionDropdownValue=a.cell.selectExpressionDropdownValue||f.dropDownOptionsValue.select,a.menuOptions=f.selectExpressionDropdownOptions;var k=function(){return h&&h.match(i)};a.$watch("value",function(a,c){a!==c&&b(function(){j.trigger("change")})}),a.openEditor=function(){d.$broadcast(e.events.openExpressionEditor,a.path)},a.getDisplayValue=function(a){return k(h)&&a==f.dropDownDisplayValue.buildExpression?f.dropDownDisplayValue.editExpression:a},a.validateSelection=function(b){k(h)&&b==f.dropDownOptionsValue.expression&&a.openEditor(),a.cell.selectExpressionDropdownValue!=b&&h?(a.cell.prop(g,""),a.cell.selectExpressionDropdownValue=b):a.cell.selectExpressionDropdownValue=b}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorSelect",function(){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/select-field/inspector-select.directive.html",link:function(a){a.defaultValue=_.find(a.options.options,function(b){return b.value==(a.value||"")}),a.$watch("defaultValue",function(b,c){b!==c&&(a.value=b.value)})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorSelectWithValidationMessages",["$rootScope","RX_DESIGNER","rxLog","rxString",function(a,b,c,d){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/select-with-validation-messages/inspector-select-with-validation-messages.template.html",link:function(e){function f(){if(e.value){var a=_.find(e.selectOptions,{value:+e.value});a||c.warning(d.format("Model value %s is not found in options list: %s.",+e.value,JSON.stringify(e.selectOptions))),e.model=a}else e.model=e.selectOptions[0]||{}}e.selectOptions=[],e.$watch("options.options",function(a){a&&(e.selectOptions=_.map(a,function(a){return _.isString(a)?{content:a,value:a}:a}),f())}),e.isDisabled=function(){return _.size(e.options.validationIssues)>0||0===_.size(e.selectOptions)},e.onSelect=function(){e.cell.prop("rxData/fieldId",e.model.value,{rxSilent:!0})},e.correctValidationIssue=function(c){a.$broadcast(b.events.correctValidationIssue,{validationIssue:c})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorSelectionFieldEditor",["$uibModal",function(a){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/selection-field/inspector-selection-field-editor.directive.html",link:function(b){b.defaultValuePath=b.path.replace(/optionNamesById/,"defaultValue"),b.defaultValue=b.cell.prop(b.defaultValuePath),b.stringKeysValuePath=b.path.replace(/optionNamesById/,"optionLabelsById"),b.selectionOptions=_(b.cell.prop(b.path)).map(function(a,b){return{content:a,value:b}}).unshift({content:"",value:null}).value(),b.optionsLabels=_(b.selectionOptions).pluck("content").rest().join(", "),b.openEditor=function(){a.open({templateUrl:"scripts/components/designer/inspector/editors/selection-field/selection-field-editor.html",controller:"SelectionFieldEditorController",backdrop:"static",resolve:{selectionFieldContext:{selectionFields:b.cell.prop(b.path),stringKeys:b.cell.prop(b.stringKeysValuePath)}},windowClass:"rx-selection-field-editor-dialog"}).result.then(function(a){b.path&&(b.cell.prop(b.path,"",{silent:!0}),b.cell.prop(b.path,a.options),b.cell.prop(b.stringKeysValuePath,"",{silent:!0}),b.cell.prop(b.stringKeysValuePath,a.keys))})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorText",function(){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/text-field/inspector-text.directive.html"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorTextTooltip",function(){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/text-tooltip/inspector-text-tooltip.directive.html"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorToggleField",function(){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/toggle-field/inspector-toggle-field.directive.html",link:function(a){a.data={value:a.value},a.$watch("data.value",function(b,c){b!==c&&a.cell.prop(a.path,a.data.value)})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorTooltipField",function(){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/tooltip-field/inspector-tooltip-field.directive.html"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorValidationIssues",["$rootScope","RX_DESIGNER",function(a,b){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/validation-issues/inspector-validation-issues.directive.html",link:function(c){c.correctValidationIssue=function(c){a.$broadcast(b.events.correctValidationIssue,{validationIssue:c})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorWaitForApprovalField",["$uibModal","rxResource",function(a,b){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/wait-for-approval/inspector-wait-for-approval-field.directive.html",link:function(c){c.openDialog=function(){a.open({templateUrl:"scripts/components/designer/inspector/editors/wait-for-approval/wait-for-approval-dialog.html",controller:"WaitForApprovalDialogController",backdrop:"static",resolve:{context:{cell:c.cell,path:c.path,isCreateNew:!0}},windowClass:"rx-wait-for-approval-dialog"})},c.openWaitForApprovalEditor=function(){b.withSubUrlConfiguration("com.bmc.arsys.rx.approval/rx/application/approval/configuration/approvalflowconfigurator/approvalprocess").get(c.cell.prop("rxData/inputMap/Approval Process Name")).then(function(b){var d=_.find(b.approvalFlowConfigurationInstanceList,{processName:c.cell.prop("rxData/inputMap/Approval Process Name")});a.open({templateUrl:"scripts/components/designer/inspector/editors/wait-for-approval/wait-for-approval-definition-dialog.html",controller:"WaitForApprovalDefinitionDialogController",backdrop:"static",resolve:{context:{cell:c.cell,path:c.path,isCreateNew:!1,selectedWFADName:d}},windowClass:"rx-wait-for-approval-definition-dialog"})})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxDesignerStencilSettings",["RX_DESIGNER",function(a){return{templateUrl:"scripts/components/designer/stencil/designer-stencil-settings.directive.html",scope:{stencilConfigurationService:"="},controller:["$scope",function(a){a.treeOptions={dirSelectable:!1},a.defaultCustomView={"default":"custom-checkbox",checked:"icon d-icon-check_square_o",unchecked:"icon d-icon-square_o",half:"icon d-icon-check_square_o custom-checkbox-half-state"},a.favoriteCustomView={"default":"custom-checkbox",checked:"icon d-icon-star",unchecked:"icon d-icon-star_o",half:"icon d-icon-star_half"}}],link:function(b){b.checkboxes={},b.favorites={},b.stencilConfigurationService.getSettings().then(function(a){b.stencilConfiguration=a,b.expandedNodes=_.flatten(b.stencilConfiguration)}),b.changeState=function(c,d){b.stencilConfigurationService.setField(c,d),b.$emit(a.events.stencilSettingsChanged,d)},b.changeGroupState=function(c,d){b.stencilConfigurationService.setGroup(c,d),b.$emit(a.events.stencilSettingsChanged,d)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxDesignerStencil",function(){var a=joint.ui.Stencil.extend({events:function(){return _.extend({},joint.ui.Stencil.prototype.events,{"input .custom-search":"onSearch"})},onDragStart:function(a,b){joint.ui.Stencil.prototype.onDragStart.apply(this,arguments),this._clone.clearLabel&&this._clone.prop(this._clone.labelPath,""),this._clone.elementCanvasSize&&(this._clone.prop("size/width",this._clone.elementCanvasSize.width),this._clone.prop("size/height",this._clone.elementCanvasSize.height))},renderSearch:function(){var a=this,b=$(['<div class="d-textfield d-textfield_label_hidden">','<label class="custom-search-label d-textfield__label d-icon-left-search">','<input class="d-textfield__input custom-search" type="search" placeholder="',a.searchPlaceholder,'">',"</label>","<div>"].join(""));return b}});return{templateUrl:"scripts/components/designer/stencil/designer-stencil.directive.html",scope:{paper:"=",stencilConfiguration:"=",stencilPlaceholder:"="},link:function(b,c){function d(){g&&(g.remove(),g=null)}function e(a){if(b.paper)d(),f(a);else var c=b.$watch("paper",function(b){b&&(f(a),c())})}function f(d){var e=b.paper,f=d.shapes;g=new a({graph:e.model,paper:e,groups:d.groups,searchPlaceholder:d.searchPlaceholder||"Search",search:{"*":["attrs/.label/text","content"]}}),c.append(g.render().el);var h=_.assign({columnWidth:g.options.width/3+13,columns:3,rowHeight:70,dy:15,dx:15},d.layoutOptions);_.each(d.groups,function(a,b){g.load(f[b],b),joint.layout.GridLayout.layout(g.getGraph(b),h),g.getPaper(b).fitToContent(1,1,10)}),g.on("filter",function(a){joint.layout.GridLayout.layout(a,h)})}b.$watch("stencilConfiguration",function(a,b){a!==b&&e(a)}),e(b.stencilConfiguration);var g}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxDesignerValidationIssues",["RX_DESIGNER","$rootScope",function(a,b){return{templateUrl:"scripts/components/designer/validation-issues/designer-validation-issues.directive.html",scope:{validationIssues:"=",rxConfiguration:"="},link:function(c){c.toggleGroup=function(a){a.closed=!a.closed},c.correctValidationIssue=function(c){b.$broadcast(a.events.correctValidationIssue,{validationIssue:c})},c.$watch("validationIssues",function(a){if(a&&a.length){var b=_.uniq(_.map(a,"elementId"));c.groups=_.map(b,function(b){var c=_.filter(a,{elementId:b});return{groupName:c[0].elementName,groupIssues:c}})}},!0)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").directive("rxDataDictionary",function(){return{templateUrl:"scripts/components/expression-editor/data-dictionary.directive.html",scope:{tree:"=",nodeSelected:"=",expandedNodes:"="},controller:["$scope",function(a){a.getDragValue=function(a){return(_.isArray(a)?a[0]:a)||""},a.treeOptions={dirSelectable:!1,equality:function(a,b){return angular.equals(a,b)}}}],link:function(a,b){function c(b){function c(a,b){_.each(a.children,function(a){_.contains(a.label.toLowerCase(),b)?d=!0:c(a,b)})}var d=!1;return c(b,a.valueFilter.toLowerCase()),d}a.addValueToExpression=function(b,c){c&&c.stopPropagation(),a.nodeSelected(_.isArray(b.value)?b.value[0]:b.value)},a.valueFilter="",a.searchMatches=function(b){var d=!0;return b&&b.label&&!_.contains(b.label.toLowerCase(),a.valueFilter.toLowerCase())&&(d=c(b)),d},new CKEDITOR.dom.element(b[0]).on("dragstart",function(a){var b=a.data.getTarget().getAscendant(function(a){return angular.element(a.$).hasClass("rx-tree-node-label")},!0);CKEDITOR.plugins.clipboard.initDragDataTransfer(a);var c=a.data.dataTransfer;c.setData("value",b.data("drag-value")),c.setData("text/html",b.getText()),c.$.setDragImage&&c.$.setDragImage(b.find(".rx-data-dictionary-item").$[0],-10,-10)})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").directive("rxExpressionField",function(){return{restrict:"E",templateUrl:"scripts/components/expression-editor/fields/expression-field.directive.html",scope:{cell:"=",label:"=",value:"=",options:"=",path:"="}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").directive("rxRichExpressionEditor",["rxRichExpressionEditorPlugin","rxRichExpressionEditorAutoCompletePlugin",function(a,b){return{templateUrl:"scripts/components/expression-editor/rich-expression-editor.directive.html",require:"ngModel",scope:{dictionaryList:"=",rxConfiguration:"="},link:function(a,b,c,d){function e(a){var b=a.match(/(\$[^{} ]+\$)|((\${[^{]+}))/g),c=a.replace(/(\$[^{} ]+\$)|((\${[^{]+}))/g,"__$RX_EXPRESSION$__");
return c=c.replace(/ /g,"&nbsp;"),_.each(b,function(a){c=c.replace("__$RX_EXPRESSION$__",a)}),c}var f=CKEDITOR.inline(b.find("div")[0],{extraPlugins:"rx-data-dictionary-item,rx-autocomplete",skin:"expression-editor,/standardlib/resources/css/ckeditor/skins/expression-editor/",toolbar:[],title:!1,allowedContent:!0,entities:!1,removePlugins:"elementspath,toolbar,tabletools,basicstyles",resize_enabled:!1,dictionaryList:a.dictionaryList||[],on:{instanceReady:function(){f.on("key",function(b){a.rxConfiguration.isAutoCompleteEnabled&&b.data.keyCode==CKEDITOR.CTRL+32&&f.launchAutoComplete()}),f.launchAutoComplete=function(){var b={cursor:f.getCursor(),text:this.getData()};a.rxConfiguration.isAutoCompleteAvailable(b)&&f.execCommand("autoComplete",b)}},change:function(){var b=_.trim(this.getData());b!=d.$modelValue&&d.$setViewValue(b),a.rxConfiguration.isAutoCompleteEnabled&&!f.gettingCursorPosition&&f.launchAutoComplete()}}});f.on("updateAutoCompleteSuggestions",function(b){a.rxConfiguration.updateAutoCompleteSuggestions(b.data).then(function(a){b.data.deferred.resolve(a)})}),d.$render=function(){var a=CKEDITOR.tools.htmlEncode(d.$viewValue);a=e(a),f.setData(a)},a.$watch("dictionaryList",function(){f.dictionaryList=a.dictionaryList}),a.$on("$destroy",function(){try{f.destroy(!0)}catch(a){delete CKEDITOR.instances[f.name]}}),a.rxConfiguration.api={insertHtml:function(a){f.insertHtml(_.trim(a))}}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").directive("rxTreeNodeRenderer",function(){return{restrict:"E",replace:!0,templateUrl:"scripts/components/expression-editor/tree-node-renderer.directive.html",link:function(a,b){a.node.value&&angular.element(b).attr("draggable","true")}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.multi-checkbox").directive("rxMultiCheckbox",function(){return{restrict:"E",replace:!0,scope:{model:"=",children:"=",customView:"=",watchProp:"@",callback:"&"},templateUrl:"scripts/components/multi-checkbox/multi-checkbox.directive.html",controller:["$scope","$element",function(a,b){a.isSelected=!1,a.customStates={};var c=a.watchProp,d=a.children,e=a.customView;void 0===a.model&&(a.model=a);var f=function(a,b,c){_.forEach(a,function(a){a[b]=c})},g=function(c,d,f){e?(a.customStates[e.checked]=c,a.customStates[e.unchecked]=d,a.customStates[e.half]=f):angular.element(b.context.children).prop("indeterminate",f)},h=function(b,c){var d=_.filter(b,c),e=d.length==b.length,f=0===d.length,h=!e&&!f;a.isSelected=e,g(e,f,h)};a.onClick=function(){d?f(d,c,a.isSelected):(_.forEach(a.model,function(b){_.isObject(b)&&(b.isSelected=a.isSelected,b.children&&f(b.children,c,b.isSelected))}),g(a.isSelected,!a.isSelected,!1));var b=a.callback();if(b){var e=d||_.flatten(_.map(a.model,"children"));b(e,c)}},a.onLabelClick=function(b){a.isSelected=!a.isSelected,a.onClick(),b.stopPropagation()},d?a.$watch("children",function(){h(d,c)},!0):a.$watch("model",function(){h(a.model,"isSelected")})}]}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.navigation-bar").directive("rxNavigationBar",["$state",function(a){return{restrict:"E",scope:{items:"="},templateUrl:"scripts/components/navigation-bar/navigation-bar.directive.html",link:function(b){function c(){b.items.forEach(function(b){b.selected=a.is(b.state.name||b.state,b.state.params)})}c(),b.$on("$stateChangeSuccess",c)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-panel").directive("rxBooleanFieldEditor",function(){return{templateUrl:"scripts/components/property-panel/editors/boolean-field-editor.directive.html",scope:{rxConfiguration:"=",ngModel:"="},link:function(a){var b=a.rxConfiguration;a.options=_.isEmpty(b.options)?null:b.options,a.data={value:a.ngModel},a.$watch("data.value",function(){a.ngModel=a.data.value})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-panel").directive("rxDateFieldEditor",function(){return{templateUrl:"scripts/components/property-panel/editors/date-field-editor.directive.html",scope:{ngModel:"=",rxConfiguration:"="},controller:["$scope",function(a){a.datepickerOptions={showWeeks:!1},a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0}}],link:function(a){a.date=a.ngModel?moment(a.ngModel).toDate():null,a.$watch("date",function(b){b?a.ngModel=moment(b).format("YYYY-MM-DD"):a.ngModel=null}),a.$watch("ngModel",function(b){b&&(a.date=moment(a.ngModel).toDate())})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-panel").directive("rxDateTimeFieldEditor",["$timeout",function(a){return{templateUrl:"scripts/components/property-panel/editors/date-time-field-editor.directive.html",scope:{ngModel:"=",rxConfiguration:"="},controller:["$scope",function(a){a.datepickerOptions={showWeeks:!1},a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0}}],link:function(a){var b=Date.parse(a.ngModel);a.datetime=b?new Date(b):null,a.$watch("datetime",function(b){b?a.ngModel=b.toISOString():a.ngModel=null}),a.$watch("ngModel",function(b){b&&(a.datetime=new Date(b))})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-panel").directive("rxNumberFieldEditor",["$timeout",function(a){return{templateUrl:"scripts/components/property-panel/editors/number-field-editor.directive.html",scope:{rxConfiguration:"=",ngModel:"="},link:function(a,b,c,d){var e=a.rxConfiguration,f=e.precision||0,g=b.find("input");a.ngModel=Number(a.ngModel).toFixed(f),a.$watch("ngModel",function(b){a.numberValue=Number(b)}),a.$watch("numberValue",function(b){g.controller("ngModel").$valid&&(a.ngModel=Number(b).toFixed(f))}),g.on("blur",function(){this.value=a.ngModel})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-panel").directive("rxSelectionFieldEditor",function(){return{templateUrl:"scripts/components/property-panel/editors/selection-field-editor.directive.html",scope:{rxConfiguration:"=",ngModel:"="},link:function(a){var b=a.rxConfiguration;a.options=b.options}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-panel").directive("rxTimeFieldEditor",["$timeout",function(a){return{templateUrl:"scripts/components/property-panel/editors/time-field-editor.directive.html",scope:{ngModel:"=",rxConfiguration:"="},link:function(a){a.$watch("date",function(b){b&&(a.ngModel=b.toTimeString().split(" ")[0].substring(0,6)+"00")}),a.$watch("ngModel",function(b){if(b){var c=b.split(":");a.date=new Date(0,0,0,c[0],c[1],c[2])}else{var d=new Date;a.date=new Date(0,0,0,d.getHours(),d.getMinutes(),d.getSeconds())}})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-panel").directive("rxPropertyPanel",["rxPropertyEditor",function(a){return{templateUrl:"scripts/components/property-panel/property-panel.directive.html",scope:{rxConfiguration:"=",ngModel:"="},link:function(b){b.$watch("rxConfiguration",function(a){a&&(b.propertyDefinitions=a.propertyDefinitions,b.entityPropertyKeyName=a.entityPropertyKeyName||"id")},!0),b.getPropertyEditorTemplateUrl=function(b){return a.getPropertyEditorTemplateUrl(b.dataType)},b.showEmptyText=function(){if(b.rxConfiguration&&b.rxConfiguration.propertyDefinitions)return 0===b.rxConfiguration.propertyDefinitions.length}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.property-view-panel").directive("rxPropertyViewPanel",function(){return{templateUrl:"scripts/components/property-view-panel/property-view-panel.directive.html",scope:{rxModel:"=",rxConfiguration:"="},link:function(a){function b(){var b=a.rxModel;b?b.groups?a.groups=_(b.groups).map(function(a,c){return{label:a.label,index:a.index,fields:b.fields[c]}}).sortBy("index").value():a.fields=b:(a.fields=null,a.groups=null)}a.toggleGroup=function(a){a.closed=!a.closed},a.$watch("rxModel",function(a,c){a!==c&&b()}),b()}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.search-field").directive("rxSearchField",function(){return{restrict:"E",templateUrl:"scripts/components/search-field/search-field.directive.html",controller:"SearchFieldController"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.search-filter").directive("rxSearchFilter",["$timeout","$document","$filter","rxSearchFilterModel","RX_DATA_TYPES",function(a,b,c,d,e){return{restrict:"E",templateUrl:"scripts/components/search-filter/search-filter.directive.html",scope:{rxFilterConfiguration:"=",rxFilterData:"="},link:function(a,f){function g(a){a.stopPropagation()}function h(){a.pendingFilterChanges=!1,a.rxFilterConfiguration.selectedFilters=a.rxFilterData,a.filterModel=d.getSearchFilterModel(a.rxFilterConfiguration),i=_.cloneDeep(a.filterModel.filters)}var i,j=[],k=function(a,b){_.find(a.options,{name:b.name})||(a.options.push(b),l(_.last(a.options)))},l=function(b){if(a.pendingFilterChanges=!0,b.active){var c=_.isArray(b.criteria.value);c||_.remove(j,function(a){if(a.criteria.name==b.criteria.name&&a.name!=b.name)return a.active=!1,!0}),j.push(b)}else _.remove(j,{name:b.name})};a.expandFilterItem=function(b){b.expanded||(_.forEach(a.filterModel.filters,function(a){a.expanded=!1}),b.expanded=!0)},a.handleKeydown=function(b,c){32==b.keyCode&&a.addFilter(b,c)},a.addFilter=function(a,b){a&&a.stopPropagation(),b.active=!b.active,"timeStampRange"!=b.type&&l(b)},a.applyKeywordFilter=function(a,b,c){if(13==a.keyCode&&c.searchText){var d={name:c.searchText,active:!0,type:"dynamic",criteria:{name:b.name,id:b.id,type:b.type,value:[c.searchText]}};k(b,d),c.searchText=""}},a.searchFilterOption=function(b,c){b.isSearching=!0;var d=a.$eval(b.method,{parentScope:a.$parent}),e=function(b,c){return _.map(b,function(b){return{key:b[c.fields.key],value:a.$eval(c.valueFormat,_.merge({value:b[c.fields.value]},b.attributeMap))}})};return d(c).then(function(a){return b.isSearching=!1,e(a,b)})},a.onFilterOptionSelect=function(a,b,c){var d={name:c.key,active:!0,type:"dynamic",criteria:{id:a.id,type:a.type,name:a.name,value:[c.value]}};b.searchText="",k(a,d)},a.datePickerOptions={formatYear:"yy",startingDay:1,"show-weeks":!1,"format-day":"d"},a.openDatePicker=function(a,b){a&&(a.preventDefault(),a.stopPropagation()),b.isOpen=!0},a.closeDatePickers=function(a){a.startDatePicker.isOpen=!1,a.endDatePicker.isOpen=!1},a.onDateRangeSubmit=function(a,b){b.active=!1;var d=b.startDatePicker.date.getTime(),e=b.endDatePicker.date.getTime(),f={name:c("date")(d,"medium")+" - "+c("date")(e,"medium"),active:!0,type:"dynamic",criteria:{id:a.id,name:b.criteria.name,type:a.type,value:{startDate:d,endDate:e}}},g=_.find(a.options,{name:f.name});g?(g.active=!0,l(g)):(a.options.push(f),l(f))},a.onRangeChange=function(a,b){a[b]<a.minValue&&(a[b]=a.minValue),a[b]>a.maxValue&&(a[b]=a.maxValue)},a.onRangeSubmit=function(a,b){var c={name:b.from+" - "+b.to,active:!0,type:"dynamic",criteria:{id:a.id,name:b.criteria.name,type:a.type,value:{from:b.from,to:b.to}}},d=_.find(a.options,{name:c.name});d||(a.options.push(c),l(c))},a.applySelectedFilters=function(){if(a.pendingFilterChanges=!1,j){var b=_.cloneDeep(a.filterModel.selectedFilters);_.each(j,function(a){var c;_.includes([e.character,e.selection],a.criteria.type)?(c=_.find(b,function(b){return b.criteria.name===a.criteria.name&&b.criteria.value[0]===a.criteria.value[0]}),c||b.push(a)):(c=_.find(b,function(b){return b.criteria.id===a.criteria.id}),c?b[_.indexOf(b,c)]=a:b.push(a))}),a.filterModel.selectedFilters=b}j=[],a.filterModel.filters=_.cloneDeep(i),f.trigger("click")},a.$watch("filterModel.selectedFilters",function(b,c){b!=c&&(a.rxFilterData=a.filterModel.getSelectedFiltersExpression())}),a.$watch("rxFilterConfiguration",function(a){a&&h()}),b.on("click",".dropdown-menu div[uib-datepicker] button",g),a.$on("$destroy",function(){b.off("click",".dropdown-menu div[uib-datepicker] button",g)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.simple-json-editor").directive("rxSimpleJsonEditor",function(){return{restrict:"E",replace:!0,require:"ngModel",scope:{rxObject:"="},templateUrl:"scripts/components/simple-json-editor/simple-json-editor.directive.html",link:function(a,b,c,d){a.$watch("rxObject",function(b){a.json=angular.toJson(b,!0)},!0),a.$watch("json",function(b,c){if(b!=c)try{a.rxObject=angular.fromJson(b),d.$setValidity("json",!0)}catch(e){d.$setValidity("json",!1)}})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.tag-pills").directive("rxTagPills",function(){return{restrict:"E",templateUrl:"scripts/components/tag-pills/tag-pills.directive.html",scope:{tags:"=",displayLimit:"=",allowRemove:"@"},link:function(a){a.getTagsGroupedById=function(){var b=_(a.tags).groupBy(function(a){return a.criteria.id}).map(function(a){var b={criteria:{name:a[0].criteria.name}};return a.length>2?b.label=a[0].name+", "+(a.length-1)+" others":b.label=_(a).map(function(a){return a.label||a.name}).value().join(", "),b.values=a,b}).value();return b},a.removeTag=function(b){var c=_.cloneDeep(a.tags);b.active=!1,_.each(b.values,function(a){c=_.reject(c,{name:a.name})}),a.tags=c},a.$watch("tags",function(){a.groupedTags=a.getTagsGroupedById()})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.tooltip").directive("rxTooltip",function(){return{templateUrl:"scripts/components/tooltip/tooltip.directive.html",scope:{tooltip:"="},link:function(a){var b={appendToBody:!0,placement:"left"};a.tooltip&&(_.isString(a.tooltip)?a.params=_.assign({text:a.tooltip},b):(a.params=_.clone(a.tooltip),_.defaults(a.params,b)))}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.uib-modal").directive("uibModalWindow",["$uibModalStack",function(a){return{priority:1,link:function(b,c,d){function e(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&a.dismiss(c.key,"backdrop click")}var f;c.off("click"),c.on("mousedown",function(a){f=a.target}),c.on("mouseup",function(a){var b=a.target;b===f&&e(a)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.dpl").directive("rxDplCheckbox",["rxGUID","$parse",function(a,b){return{restrict:"E",require:"ngModel",transclude:!0,priority:210,templateUrl:"scripts/dpl/checkbox/checkbox.directive.html",compile:function(c,d){return d.type="checkbox",d.tabindex=d.tabindex||"0",c.attr("role",d.type),function(c,d,e,f){var g,h,i=d.find("input").first(),j=d.find("label").first(),k=a.generate("rx-dpl-checkbox-");e.ngTrueValue&&e.ngFalseValue&&(g=b(e.ngTrueValue)(c),h=b(e.ngFalseValue)(c)),i.attr("id",k),j.attr("for",k),e.ngChecked&&c.$watch(function(){return c.$eval(e.ngChecked)},function(a){f.$setViewValue(a),f.$render()}),e.ngDisabled&&c.$watch(function(){return c.$eval(e.ngDisabled)},function(a){i[0].disabled=a}),i.on("change",function(a){e.ngTrueValue&&e.ngFalseValue?f.$setViewValue(i[0].checked?g:h):f.$setViewValue(i[0].checked)}),f.$render=function(){_.isUndefined(f.$viewValue)||(f.$viewValue===g?i[0].checked=!0:f.$viewValue===h?i[0].checked=!1:i[0].checked=f.$viewValue)}}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.growl").directive("rxGrowl",function(){return{templateUrl:"scripts/growl/growl.directive.html",controller:"rxGrowlController",restrict:"E",scope:{}}}).directive("growl",function(){return{templateUrl:"scripts/growl/growl.directive.html",controller:"rxGrowlController",restrict:"A",scope:{}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.designer").directive("rxNamedListDesigner",["$rootScope","$timeout","rxNotificationMessage","dialogs","rxNamedListAutoComplete","rxExpressionEditor","rxNamedListDataDictionary","rxBundleCache","RX_DESIGNER","RX_EXPRESSION_EDITOR","RX_NAMED_LIST_DESIGNER","rxNamedListDefinitionResource","rxNamedListDefinitionModel",function(a,b,c,d,e,f,g,h,i,j,k,l,m){return{templateUrl:"scripts/named-list/designer/named-list-designer.directive.html",scope:{rxModel:"="},link:function(n,o){function p(){c.success("Named List Definition saved successfully."),a.$broadcast(k.events.afterSave),w.reset()}function q(){a.$broadcast(k.events.close)}function r(a){a.persist(z)}function s(){m.validate(z).then(function(a){n.selected.validationIssues=a})}function t(a,c){var d=c.validationIssue,e=d.propertyName||"";e&&b(function(){var a=o.find('[data-attribute="rxData/'+e+'"]');a.focus().select()},2)}function u(){x=!0}function v(){x=!1}var w,x,y=n.rxModel,z=n.plainNamedListDefinition=y.plain(),A=m.getModel(z),B=new joint.dia.Graph;n.isDesignMode=!0,h.getBundleFriendlyName().then(function(a){n.bundleFriendlyName=a}),n.selected={namedListDefinitionModel:A,validationIssues:[]},z.lastUpdateTime||b(function(){o.find('.rx-named-list-inspector input[data-attribute="rxData/name"]').focus().select()}),B.on({change:r}),B.on("add change",s),B.addCell(A);var C=e.getInstance(A);w=new joint.dia.CommandManager({graph:B,cmdBeforeAdd:function(a,b,c,d){return!(d||{}).ignoreCommandManager}}),n.toggleDesignMode=function(){n.isDesignMode=!n.isDesignMode},n.saveNamedListDefinition=function(){u(),m.validate(z).then(function(a){return a.length?(n.selected.validationIssues=a,void c.error("The Named List Definition is not valid")):(_.assign(y,z),z.lastUpdateTime?y.put().then(p):l.post(z).then(p))})["finally"](v)},n.canSave=function(){return!x&&_.get(n,"rxNamedListDesignerForm.$valid")&&w.hasUndo()},n.closeDesigner=function(){w.hasUndo()?d.confirm("Warning!","You have unsaved data. Do you want to continue?").result.then(q):q()},n.hasUndo=function(){return w.hasUndo()},n.hasRedo=function(){return w.hasRedo()},n.undo=function(){w.undo()},n.redo=function(){w.redo()},n.rightBladeConfiguration={title:"Properties",tabs:{validationIssues:{name:"rx-blade-validation-issues-property-tab",iconClass:"d-icon-exclamation_triangle"}},dock:"right",expanded:!0},n.validationIssuesConfiguration={emptyText:"The Named List Definition is valid."};var D=a.$on(j.events.openExpressionEditor,function(a,b){g.getCommonDataDictionary(z).then(function(a){var c=b.cell||n.selected.namedListDefinitionModel,d=b.path||b;f.open({expressionContext:{cell:c,path:d,expressionConfigurator:n.selected.namedListDefinitionModel.getExpressionConfigurator(),dataDictionary:a,autoComplete:C,legend:g.getLegend()}})})});n.$on(i.events.correctValidationIssue,t),n.$on("$destroy",function(){D(),g.clear(),B.off(),B.clear()})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").directive("rxProcessCustomizationOptions",["$uibModal","RX_DESIGNER","RX_OVERLAY",function(a,b,c){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/customization-options/customization-options.directive.html",scope:{rxConfiguration:"="},link:function(d){d.openCustomizationOptionsEditor=function(){var e=a.open({templateUrl:"scripts/process/designer/inspector-editors/customization-options/process-customization-options-editor.html",controller:"ProcessCustomizationOptionsEditorController",backdrop:"static",resolve:{processDefinition:function(){return _.cloneDeep(d.rxConfiguration.cell.get("rxData"))},overlayOperation:function(){var a=d.rxConfiguration.cell.get("rxData");return a.overlayGroupId?d.rxConfiguration.cell.get("overlayOperation"):c.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP}},windowClass:"rx-customization-options-modal"});e.result.then(function(a){d.$emit(b.events.customizationOptionsUpdated,a)})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").directive("rxProcessDesigner",["$q","$timeout","$stateParams","$window","rxId","rxNotificationMessage","dialogs","$rootScope","RX_DESIGNER","rxExpressionEditor","rxTimerEditor","rxBundleCache","rxGlobalCache","RX_PROCESS_DESIGNER","RX_EXPRESSION_EDITOR","rxOverlay","rxProcessDesignerConfiguration","rxProcessElementSearch","rxProcessDataDictionary","rxProcessDesignerCache","rxProcessAutoComplete","rxDesignerCache","rxProcessDefinitionResource","rxProcessDesignerElementManager","rxNavigationGuard","rxGUID",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){return{templateUrl:"scripts/process/designer/process-designer.directive.html",scope:{rxModel:"=",rxConfiguration:"="},link:function(c,m){function A(a,b){var c=r.findByGuid(b,a.sourceNode),d=r.findByGuid(b,a.targetNode);c&&x.validateElement(c,b).then(function(a){C(a,c)}),d&&x.validateElement(d,b).then(function(a){C(a,d)})}function B(a,b){x.validateElement(a,b).then(function(b){C(b,a)})}function C(a,b){D(b),Y(c.selected.validationIssues.concat(a))}function D(a){_.remove(c.selected.validationIssues,{elementId:a.guid}),a.flowElements&&r.each(a,function(a){_.remove(c.selected.validationIssues,{elementId:a.guid})})}function E(){var a=new joint.dia.Validator({commandManager:ca});x.registerValidators(a),a.on("invalid",function(a){f.error(a)})}function F(){var a=x.getGraph(c.plainProcessDefinition,{readonly:c.isOverlayDisabled}),b=c.paper;if(b.model.fromJSON(a),x.fillLabels(c.plainProcessDefinition,c.paper.model),la&&0===b.model.getElements().length){var d=x.getShape(n.processElementResourceTypes.startEvent),e=d.attributes.size.width;d.prop("position",{x:e,y:(c.paper.options.height-e)/2}),d.prop(d.labelPath,""),d.prop("size",{width:30,height:30}),d.get("rxData").label="";var f=x.getShape(n.processElementResourceTypes.endEvent);f.prop("position",{x:b.options.width-2*e,y:d.attributes.position.y}),f.prop(f.labelPath,""),f.prop("size",{width:30,height:30}),f.get("rxData").label="",b.model.addCells([d,f])}b.on("cell:expand:done",function(a){var c=a.model;c.get("id");if("rx.SubProcess"==c.get("type")&&""===c.get("embeds")){var d=x.getShape(n.processElementResourceTypes.startEvent),e=x.getShape(n.processElementResourceTypes.endEvent);d.prop(d.labelPath,""),d.get("rxData").label="",e.prop(e.labelPath,""),e.get("rxData").label="",d.prop("position",{x:c.prop("position/x")+15,y:c.prop("position/y")+35}),d.prop("size",{width:30,height:30}),e.prop("position",{x:c.prop("position/x")+165,y:c.prop("position/y")+35}),e.prop("size",{width:30,height:30}),ca.initBatchCommand(),b.model.addCell(d),b.model.addCell(e),c.embed(d),c.embed(e),ca.storeBatchCommand()}}),b.model.addCell(c.selected.process,{silent:!la})}function G(){c.inspectorConfiguration={emptyText:"Select an element on the diagram to view its properties here.",disabled:c.isOverlayDisabled}}function H(){c.validationIssuesConfiguration={emptyText:"The Process Definition is valid."}}function I(){q.updateStencilConfiguration(ga).then(function(){c.stencilConfiguration={configurationService:q},_.each(["default","favorite","recent"],function(a){q.get(a,ga).then(function(b){c.stencilConfiguration[a]=b})})})}function J(){c.selected={cellModel:null,process:x.getProcessModel({readonly:c.isOverlayDisabled,plainProcessDefinition:c.plainProcessDefinition})},Y([])}function K(){ha={}}function L(){K(),c.rxProcessDesignerForm.json.$setPristine()}function M(a){ga=a,x.setActionTypes(ga)}function N(){c.selected.cellModel=null,c.rightBladeConfiguration.expanded&&(c.rightBladeConfiguration.tabs.processProperties.active=!0)}function O(){var d=a.all({paper:ia.promise,bundleActionTypes:l.getActionTypes(),rootActionTypes:[],sourceProcessDefinition:ja?w.get(ja):null}).then(function(a){c.paper=a.paper,a.sourceProcessDefinition&&Q(a.sourceProcessDefinition);var d=a.bundleActionTypes.concat(a.rootActionTypes);M(d),I(),J();var e=c.plainProcessDefinition.overlayDescriptor||{parentOverlayGroupId:null};c.selected.process.set("overlayOperation",p.getOverlayOperation(c.plainProcessDefinition.overlayGroupId,e),{silent:!0}),E(),F(),ca.reset(),c.transitionsDisabled=!1,ea=u.getInstance(c.paper.model),la&&b(function(){m.find('.rx-process-inspector input[data-attribute="rxData/name"]').focus().select()})});c.rxBusyIndicator={promise:d}}function P(a){return a&&(a.layout||0===a.flowElements.length&&0===a.artifacts.length)}function Q(a){var b=x.cloneProcessDefinition(a.plain());b?(_.assign(c.plainProcessDefinition,_.pick(b,["artifacts","flowElements","description","inputParams","layout","outputParams","localVariables","permissions","runAsUser","isEnabled","tags","contextKeyParam"])),c.plainProcessDefinition.name=""):f.error("This process definition cannot be copied.")}function R(a){var b=_(c.leftBladeConfiguration.tabs).values().find({name:a});b.refreshNeeded&&(q.get(a,ga).then(function(b){if(c.stencilConfiguration[a]=b,c.stencilConfiguration.favorite){var d={title:"Favorites",emptyText:"Select process element favorites on the Manage Palette tab above."};0===_.size(c.stencilConfiguration.favorite.shapes)&&(c.stencilPlaceholder=d)}}),delete b.refreshNeeded)}function S(){fa.isEnabled===!1?f.warning("Process Definition saved successfully in disabled state."):f.success("Process Definition saved successfully."),ca.reset(),c.selected.process.trigger("rx:change:inputs",c.selected.process),h.$broadcast(n.events.afterSave),la||w.get(fa.name).then(function(a){fa=a,c.plainProcessDefinition=fa.plain(),x.fillLabels(c.plainProcessDefinition,c.paper.model),c.selected.process.setRxData(c.plainProcessDefinition),c.selected.process.trigger("rx:change:inputs",c.selected.process);var d=c.selected.cellModel?c.selected.cellModel.get("id"):null;d&&b(function(){if(c.rightBladeConfiguration.tabs.elementProperties.active){var a=c.paper.findViewByModel(d);c.paper.trigger("cell:pointerup",a)}else c.selected.cellModel=c.paper.model.getCell(d)}),v.setProcessDefinition(c.plainProcessDefinition)})}function T(a){if(c.plainProcessDefinition.layout||0===c.plainProcessDefinition.flowElements.length&&0===c.plainProcessDefinition.artifacts.length)!c.isDesignMode&&c.isDesignModeAvailable()&&c.toggleDesignMode(),c.rightBladeConfiguration.tabs.validationIssues.active=!0,f.error("The Process Definition is not valid");else{var b=_(a).take(3).pluck("message").join("<br><br>");f.error(b,{enableHtml:!0})}}function U(){var a=_.cloneDeep(c.plainProcessDefinition),b=function(a){return _.assign(fa,a),la?w.post(a):fa.put()};return r.each(a,function(a){delete a.label,delete a.originalGuid}),"warning"===c.validationIssueLevel&&a.isEnabled?g.confirm("Warning!","This process definition is incomplete, and will be saved in a disabled state to prevent usage in production. Do you want to continue?").result.then(function(){a.isEnabled=!1;var d=c.selected.process.get("rxData");return d.isEnabled=!1,c.selected.process.set("rxData",d),b(a)}):b(a)}function V(){da=!0}function W(){da=!1}function X(){return c.rxProcessDesignerForm.json.$dirty||ca&&ca.hasUndo()}function Y(a){c.selected.validationIssues=a,_.isEmpty(c.selected.validationIssues)?c.validationIssueLevel="":_.any(c.selected.validationIssues,{type:"error"})?c.validationIssueLevel="error":c.validationIssueLevel="warning"}function Z(b){return s.getCommonDataDictionary(c.plainProcessDefinition,ga).then(function(c){var d=b.getExpressionConfigurator?b.getExpressionConfigurator():b;return _.isFunction(d.buildDataDictionary)?d.buildDataDictionary(c).then(function(){return c}):void a.when(c)})}function $(a){var b=_(a.get("cells").models).filter(function(a){return!(a.get("inCallActivity")||a.get("parent")&&"rx.TimerEvent"!==a.get("type")||"rx.ProcessModel"==a.get("type"))}).map(function(a){if(_.isFunction(a.getLayout))return a.getLayout()}).value();return b.length?JSON.stringify({cells:b}):null}function aa(){var a=c.selected.cellModel;for(c.breadcrumbs=[];a;){var b=a.get("rxData"),d=a.get("parent");c.breadcrumbs.unshift({name:b.label||b.name,id:a.get("id")}),a=c.paper.model.getCell(d)}}function ba(){var a={};return r.each(c.plainProcessDefinition,function(b){var c=_.find(ga,{actionTypeName:b.actionTypeName});c&&c.inputParams&&_(c.inputParams).filter("localizable").each(function(c){var d=_.find(b.inputMap,{assignTarget:c.name});if(d){var e=_.findKey(ka,function(a){return a===d.expression});e||(e=z.generate()),a[e]=d.expression,d.expression='"'+e+'"'}}).value()}),a}var ca,da,ea,fa=c.rxModel,ga=[],ha={},ia=a.defer(),ja=c.rxConfiguration.sourceProcessDefinitionName,ka={};c.transitionsDisabled=!0,c.plainProcessDefinition=fa.plain();var la=!c.plainProcessDefinition.lastUpdateTime;c.isOverlayDisabled=!p.isCustomizationEnabled("allowOverlay",c.plainProcessDefinition),c.selected={},c.isDesignMode=la||!!c.plainProcessDefinition.layout,la||(ka=c.plainProcessDefinition.localizableStrings,delete c.plainProcessDefinition.localizableStrings),c.isDesignModeAvailable=function(){return c.rxProcessDesignerForm&&c.rxProcessDesignerForm.json&&c.rxProcessDesignerForm.json.$pristine&&P(c.plainProcessDefinition)},c.$watch("plainProcessDefinition",function(){v.setProcessDefinition(c.plainProcessDefinition)}),t.clear(),v.clear(),v.setProcessDefinition(c.plainProcessDefinition),G(),H(),O(),c.$on("$destroy",function(){t.clear(),s.clear(),v.clear()}),l.getBundleFriendlyName().then(function(a){c.bundleFriendlyName=a}),c.validateProcess=function(){return x.validateProcess(c.plainProcessDefinition).then(function(a){return Y(a),a})},c.leftBladeConfiguration={title:"Palette",tabs:{stencilTabDefault:{iconClass:"d-icon-uml",active:!0,name:"default",onActivate:R},stencilTabFavorite:{iconClass:"d-icon-star",active:!1,name:"favorite",refreshNeeded:!0,onActivate:R},stencilTabRecent:{iconClass:"d-icon-clock_o",active:!1,name:"recent",refreshNeeded:!0,onActivate:R},stencilTabSettings:{active:!1,name:"rx-blade-stencil-tab-settings",iconClass:"d-icon-wrench"}},dock:"left",expanded:!c.isOverlayDisabled},c.rightBladeConfiguration={title:"Properties",tabs:{processProperties:{active:!0,name:"rx-blade-process-property-tab",iconClass:"d-icon-pencil"},elementProperties:{name:"rx-blade-element-property-tab",iconClass:"d-icon-gear"},validationIssues:{name:"rx-blade-validation-issues-property-tab",iconClass:"d-icon-exclamation_triangle"}},dock:"right",expanded:!0},c.isRecentsEmpty=function(){return _.isEmpty(_.get(c,"stencilConfiguration.recent.shapes"))},c.clearRecents=function(){q.removeRecents(),q.get("recent",ga).then(function(a){c.stencilConfiguration.recent=a})},c.toggleDesignMode=function(){c.isDesignMode=!c.isDesignMode,c.isDesignMode&&b(function(){c.paper.model.trigger("update:halo")})};var ma=function(){w.applyLocalization(c.plainProcessDefinition),delete c.plainProcessDefinition.localizableStrings};c.saveChanges=function(){da||(V(),c.validateProcess().then(function(a){"error"===c.validationIssueLevel?(T(a),W()):(c.plainProcessDefinition.localizableStrings=ba(),U().then(S,ma).then(L)["finally"](W))}))},c.$on("beforeUnload",function(a,b){X()&&b.push(g.confirm("Warning!","You have unsaved data. Do you want to continue?").result)}),c.closeDesigner=function(){h.$broadcast(n.events.close)},c.canSave=function(){return!da&&c.rxProcessDesignerForm&&c.rxProcessDesignerForm.$valid&&X()},c.rxConfiguration.api={canSave:c.canSave,save:c.saveChanges};var na=null;na=!c.isOverlayDisabled&&function(a){return!a.model.get("inCallActivity")},c.canvasConfiguration={defaultLink:function(a){return"rx.TextAnnotation"==a.model.get("type")?x.getShape(n.processElementResourceTypes.textAnnotationAssociation):x.getShape(n.processElementResourceTypes.sequenceFlow)},interactive:na,getModelName:function(){return c.plainProcessDefinition.name}},c.$on(i.events.correctValidationIssue,function(a,d){var f=d.validationIssue,g=c.paper.model.getCell(e.getBase(f.elementId));if(g){var h=c.paper.findViewByModel(g.get("id"));c.paper.trigger("cell:pointerup",h)}else c.selected.cellModel=null,c.rightBladeConfiguration.expanded&&(c.rightBladeConfiguration.tabs.processProperties.active=!0);var i=f.propertyName||"";i&&b(function(){var a=m.find('[data-attribute="rxData/'+i+'"]');a.focus().select()},2)}),c.$on(i.events.customizationOptionsUpdated,function(a,b){c.selected.process.prop("rxData/allowOverlay",b.customizationOptions.allowOverlay)}),c.$on(i.events.refreshDesigner,function(){y.clearGuardians(),
d.location.reload()}),c.$on(o.events.refreshInspector,function(a,b){Z(b).then(function(){b.trigger("rx:change:inputs",b)})}),c.$on(o.events.openExpressionEditor,function(a,b){var d=b.cell||c.selected.cellModel,e=b.path||b;Z(d).then(function(a){var b=c.selected.cellModel.getExpressionConfigurator?c.selected.cellModel.getExpressionConfigurator():c.selected.cellModel;j.open({expressionContext:{cell:d,path:e,expressionConfigurator:b,dataDictionary:a,autoComplete:ea,legend:s.getLegend(),useDynamicQualification:!0}})})}),c.$on(i.events.openIntervalTimerEditor,function(a,b){k.open({expressionContext:{cell:c.selected.cellModel,path:b,actionTypes:ga,plainProcessDefinition:c.plainProcessDefinition}})}),c.$on(i.events.canvasReady,function(a,b){ia.resolve(b.paper),ca=b.commandManager}),c.$on(i.events.cellPointerUp,function(a,b){var d=b.cellView.model,e=b.cellView.$el.closest("html").length>0;c.selected.cellModel=null,e&&Z(d).then(function(){_.isFunction(d.updateInspectorConfig)?d.updateInspectorConfig(c.plainProcessDefinition).then(function(){c.selected.cellModel=d}):c.selected.cellModel=d,c.rightBladeConfiguration.expanded&&(c.rightBladeConfiguration.tabs.elementProperties.active=!0)})}),c.$on(i.events.blankPointerDown,function(a,b){N()}),c.$on(i.events.cellAdded,function(a,b){var d,f=b.cell;if(!f.get("inCallActivity")){var g=f.getParentId(),h=c.plainProcessDefinition,i=f.get("id"),j=f.get("type"),k=f.get("source"),l=k&&k.id&&r.findByGuid(c.plainProcessDefinition,e.get(k.id)).resourceType===n.processElementResourceTypes.timerEvent;g&&"rx.TimerEvent"!==j&&!l&&(h=r.findByGuid(c.plainProcessDefinition,e.get(g)));var m=c.plainProcessDefinition.lastUpdateTime?c.plainProcessDefinition.name:c.plainProcessDefinition.guid;f.set("ownerProcessDefinitionName",m,{silent:!0}),d=f.persist(h),"rx.SubProcess"===j&&ha[i]&&(_.assign(d,ha[i]),delete ha[i]),X()&&(c.plainProcessDefinition.flowElements.length>=2?c.validateProcess():d&&B(d,h))}if(b.options.stencil&&(q.addToRecent(d),c.leftBladeConfiguration.tabs.stencilTabRecent.refreshNeeded=!0,c.canSave())){var o=c.paper.findViewByModel(f.get("id"));c.paper.trigger("cell:pointerup",o)}}),c.$on(i.events.beforeCellRemoved,function(a,b){var d=b.cell,f=d.get("id");"rx.SubProcess"==d.get("type")&&(ha[f]=r.findByGuid(c.plainProcessDefinition,e.get(f)))}),c.$on(i.events.cellRemoved,function(a,b){var d=b.cell;d.rxUnembed||(x.removeElementByGuid(c.plainProcessDefinition,e.get(d.get("id"))),c.validateProcess(),c.selected.cellModel=null,c.rightBladeConfiguration.expanded&&(c.rightBladeConfiguration.tabs.processProperties.active=!0))}),c.$on(i.events.cellChanged,function(a,b){var d,f=b.cell,g=c.plainProcessDefinition,h=angular.copy(r.findByGuid(g,e.get(f.get("id"))));"rx.ProcessModel"==f.get("type")?d=f.persist(g):f.get("inCallActivity")||(g=r.findOwner(g,e.get(f.get("id"))),d=f.persist(g)),d?(h&&h.label!=d.label?c.validateProcess():B(d,g),d.resourceType===n.processElementResourceTypes.sequenceFlow&&A(d,g)):"rx.ProcessModel"==f.get("type")&&c.validateProcess()}),c.$on(i.events.cellReparented,function(a,b){var d=b.cell;if(!d.get("inCallActivity")){var f=d.getParentId(),g=(d.get("parentType"),c.plainProcessDefinition),h=d.get("type");f&&"rx.TimerEvent"!==h&&(g=r.findByGuid(c.plainProcessDefinition,e.get(f)));var i=x.removeElementByGuid(c.plainProcessDefinition,e.get(d.get("id")));i.resourceType==n.processElementResourceTypes.textAnnotationAssociation||i.resourceType==n.processElementResourceTypes.textAnnotation?g.artifacts.push(i):g.flowElements.push(i),d.persist(g)}}),c.$on(i.events.graphChanged,function(a,b){var d=b.graph,e=b.cell;if(e.changed.hasOwnProperty("embeds")&&!e.rxUnembed&&"rx.SubProcess"==e.get("type")&&e.updateLayout(c.plainProcessDefinition),e.get("parent")){var f=c.paper.model.getCell(e.get("parent"));"rx.SubProcess"!=f.get("type")||e.get("inCallActivity")?c.plainProcessDefinition.layout=$(d):f.updateLayout(c.plainProcessDefinition)}else c.plainProcessDefinition.layout=$(d)}),c.$on(i.events.stencilSettingsChanged,function(a,b){var d=_(c.leftBladeConfiguration.tabs).values().find({name:b});d.refreshNeeded=!0}),c.$watchGroup(["selected.cellModel.id",'selected.cellModel.get("rxData").label'],aa),c.handleBreadcrumbBarClick=function(a){if(a){var b=c.paper.findViewByModel(a);c.paper.trigger("cell:pointerup",b)}else joint.ui.Halo.clear(c.paper),N()}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").directive("rxProcessPreview",["RX_PROCESS_DESIGNER","rxProcessElementSearch","rxDesignerCache","rxProcessDesignerElementManager",function(a,b,c,d){return{templateUrl:"scripts/process/designer/process-preview.directive.html",scope:{rxModel:"=",rxConfiguration:"="},link:function(e){function f(c){function d(a){return _.isArray(a)||_.isObject(a)&&a.length?a.length:0}var e=a.processElementResourceTypes,f=b.filter(c,function(a){return a.resourceType==e.processAction||a.resourceType==e.userTask||a.resourceType==e.receiveTask||a.resourceType==e.callActivity}).length,g=new joint.shapes.bpmn.Event({size:{width:50,height:50},attrs:{".label":{fill:"gray",text:"Start"}},eventType:"start",position:{x:50,y:50}}),h=new joint.shapes.basic.Rect({size:{width:30,height:30},attrs:{text:{text:d(c.inputParams)},g:{"stroke-opacity":0}},position:{x:60,y:60}}),i=new joint.shapes.basic.Rect({size:{width:30,height:30},attrs:{text:{text:"Actions",fill:"gray"},g:{"stroke-opacity":0}},position:{x:235,y:110}}),j=new joint.shapes.basic.Rect({size:{width:30,height:30},attrs:{text:{text:"1"},g:{"stroke-opacity":0}},position:{x:410,y:60}}),k=new joint.shapes.bpmn.Event({size:{width:50,height:50},attrs:{".label":{fill:"gray",text:"End"}},eventType:"end",position:{x:400,y:50}}),l=new joint.shapes.basic.Rect({size:{width:200,height:50},attrs:{text:{text:f}},position:{x:150,y:50},eventType:"start"}),m=new joint.shapes.bpmn.Flow({source:{x:100,y:75},target:{id:l.id}}),n=new joint.shapes.bpmn.Flow({source:{id:l.id},target:{x:400,y:75}}),o=new joint.dia.Graph;return o.addCells([g,k,l,m,n,h,j,i]),o.toJSON()}var g=e.rxConfiguration.actionTypes||[];e.plainProcessDefinition=null,d.setActionTypes(g),e.rxModel&&(e.plainProcessDefinition=e.rxModel,e.rxModel.layout?(c.setProcessDefinition(e.plainProcessDefinition),e.graph=d.getGraph(e.plainProcessDefinition)):e.graph=f(e.plainProcessDefinition))}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.instance-viewer").directive("rxProcessInstanceViewer",["$filter","$q","$uibModal","$rootScope","$stateParams","definitionNameFilter","RX_DESIGNER","RX_PROCESS_DESIGNER","rxDesignerCache","rxBundleCache","rxGlobalCache","rxDesignerCellHighlighter","rxGUID","rxId","rxConfirmationMessageDialog","rxProcessInstanceCommands","rxProcessDefinitionResource","rxProcessDesignerElementManager","rxProcessElementSearch","rxProcessInstanceResource","RX_PROCESS_INSTANCE",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){return{templateUrl:"scripts/process/instance-viewer/process-instance-viewer.directive.html",scope:{rxConfiguration:"=",onClose:"&"},link:function(c){function d(){var d=b.all({bundleActionTypes:j.getActionTypes(),rootActionTypes:[],processInstance:t.forProcessDefinition(c.rxConfiguration.processDefinitionName).get(c.rxConfiguration.processInstanceId)}).then(function(b){var d=b.bundleActionTypes.concat(b.rootActionTypes);r.setActionTypes(d),c.processInstance=b.processInstance,angular.isFunction(c.processInstance.plain)&&(c.processInstance=c.processInstance.plain()),c.title="Process Instance "+a("definitionName")(c.processInstance.processDefinitionName),c.processVariables={},e(),x(),c.$on("$destroy",i.clear)});c.rxBusyIndicator={promise:d}}function e(){I=B(c.processInstance),c.processInstance.processVariables["Process Instance Activity Results"]&&(J=JSON.parse(c.processInstance.processVariables["Process Instance Activity Results"])),c.processInfo=[{label:"Process ID",value:c.processInstance.instanceId},{label:"Context ID",value:c.processInstance.contextId},{label:"Context Key",value:c.processInstance.contextKey},{label:"Process Owner",value:c.processInstance.owner},{label:"Status",value:c.processInstance.status}],c.processInstance.cancelReason&&c.processInfo.push({label:"Cancellation Reason",value:c.processInstance.cancelReason}),c.processInfo.push({label:"Start Time",value:a("date")(c.processInstance.startTime,"medium")},{label:"Complete Time",value:a("date")(c.processInstance.endTime,"medium")}),c.processInstance.exceptionMessage&&(c.instanceErrors=[{elementId:"dummy-id",elementName:c.processInstance.instanceId,type:"error",message:c.processInstance.exceptionMessage}])}function h(){t.forProcessDefinition(c.processInstance.processDefinitionName).get(c.processInstance.instanceId).then(function(a){c.processInstance=a.plain(),e(),x()})}function k(){function a(a){return _.map(a,function(a){var b=_.keys(a)[0];return{label:b,value:a[b]}})}var b=angular.copy(c.processInstance.processVariables);delete b["Process Instance Activity Results"];var d,e,f={},g={},h=[],i=[],j=[];_.forEach(b,function(a,b){d=_.find(c.plainProcessDefinition.inputParams,{name:b}),e=_.find(c.plainProcessDefinition.outputParams,{name:b});var f={};d&&(f[b]=a,h.push(f)),e&&(f[b]=a,i.push(f)),d||e||(f[b]=a,j.push(f))}),h.length&&(f.inputParams={label:"Process Inputs",index:0},g.inputParams=a(h)),i.length&&(f.outputParams={label:"Process Outputs",index:1},g.outputParams=a(i)),j.length&&(f.otherVariables={label:"Process Local Variables",index:2},g.otherVariables=a(j)),c.processVariables={groups:f,fields:g}}function v(){y();var a=r.getGraph(c.plainProcessDefinition,{readonly:!0}),b=c.paper;b.model.fromJSON(a),_.forEach(c.processInstance.activities,function(a){var c=n.getBase(a.activityId),d=b.findViewByModel(c);if(d)if(a.activities.length&&d.model.get("expanded")){var e=b.findViewByModel(c),f=B(a);e.on("cell:expand:done",function(){var a=b.model.getElements(),c=_.pluck(a,"id"),d=_(a).map(function(a){return a.get("originalGuid")}).compact().value();e.model._expanding||_.forEach(f,function(a){_.includes(c,n.getBase(a.activityId))?A(a,b):d&&_.includes(d,a.activityId)&&A(a,b)})})}else A(a,b)})}function w(){var a=_(s.filter(c.plainProcessDefinition,"calledProcessDefinitionName")).pluck("calledProcessDefinitionName").flatten().unique().value();return i.getProcessDefinitions(a)}function x(){q.get(c.processInstance.processDefinitionName,null,null).then(function(a){c.plainProcessDefinition=a.plain(),c.isDesignMode=!!c.plainProcessDefinition.layout,c.isDesignMode&&F.promise.then(function(a){return c.paper=a,k(),w()}).then(v),D()},function(){c.isDesignMode=!1})}function y(){E.center(),E.el.scrollTop=0}function z(a,b,c){var d=b.model.getElements();_(d).map("id").includes(a)||(a=_.find(d,function(b){return b.get("originalGuid")===n.get(a)}).id);var e=b.findViewByModel(a);if(!e.model.get("expanded")){var f=l.get(e);f.render({strokeWidth:e instanceof joint.shapes.rx.TextAnnotationAssociationView?1:10,color:c})}}function A(a,b){var c=n.getBase(a.activityId),d=a.endTime?H:G;z(c,b,d)}function B(a){return _(a.activities).transform(function(a,b){a.push(b),b.activities.length&&a.push(B(b))}).flatten().value()}function C(b){var d,e={},f={},g=_.find(I,{activityId:b.get("rxData").guid});g&&J&&_.forOwn(J,function(a){a[g.activityId]&&(d=a[g.activityId])}),g&&(e.activityInfo={label:"Activity Information",index:1},f.activityInfo=[{label:"Start Time",value:a("date")(g.startTime,"medium")},{label:"End Time",value:a("date")(g.endTime,"medium")},{label:"Execution ID",value:g.executionId}]),d&&(e.activityResults={label:"Activity Results",index:2},d.output?f.activityResults=[{label:"Output",value:d.output}]:f.activityResults=_.map(d,function(a,b){return{label:b,value:a}})),c.activityResults={groups:e,fields:f}}function D(){c.breadcrumbs=[{name:f(c.plainProcessDefinition.name),id:c.plainProcessDefinition.name},{name:c.processInstance.instanceId,id:c.processInstance.instanceId}]}j.getBundleFriendlyName().then(function(a){c.bundleFriendlyName=a}),c.instanceErrors=[],c.isDesignMode=!0;var E,F=b.defer(),G="#89c341",H="#999999";c.processVariablesConfiguration={emptyText:"This process has no variables."},c.activityResultsConfiguration={emptyText:"Select an active or completed activity to view its results here."};var I,J;d(),c.toggleDesignMode=function(){c.isDesignMode=!c.isDesignMode},c.transitionsDisabled=!0,c.rightBladeConfiguration={title:"Details",tabs:{processInfo:{active:!0,name:"rx-blade-process-info-tab",iconClass:"d-icon-uml"},processVariable:{active:!1,name:"rx-blade-process-property-tab",iconClass:"d-icon-gear"},activityResults:{active:!1,name:"rx-blade-process-element-tab",iconClass:"d-icon-arrow_chart"},errorsMessages:{active:!1,name:"rx-blade-process-errors-tab",iconClass:"d-icon-exclamation_triangle"}},dock:"right",expanded:!0},c.canvasInstanceId=m.generate();var K=["rx.CallActivity","rx.ProcessAction","rx.ReceiveTask","rx.SubProcess","rx.TextAnnotation","rx.UserTask"];c.canvasConfiguration={interactive:!1,customActionsLeft:[{label:"Suspend",iconCls:"d-icon-pause",eventName:g.events.canvasSuspend,isDisabled:function(){return _.includes([u.status.suspended,u.status.errored,u.status.completed],c.processInstance.status)}},{label:"Resume",iconCls:"d-icon-play_o",eventName:g.events.canvasResume,isDisabled:function(){return _.includes([u.status.active,u.status.completed],c.processInstance.status)}},{label:"Cancel",iconCls:"d-icon-cross_circle_o",eventName:g.events.canvasCancel,isDisabled:function(){return c.processInstance.status===u.status.completed}}],customActionsRight:[{iconCls:"d-icon-refresh",buttonCls:"refresh",eventName:g.events.canvasRefresh}]},c.$on(g.events.canvasRefresh,function(){h()}),c.$on(g.events.canvasResume,function(){p.resume(c.processInstance.processDefinitionName,c.processInstance.instanceId).then(h)}),c.$on(g.events.canvasCancel,function(){var a=o.showDialog({context:{title:"Cancel Process",fieldLabel:"Cancellation Reason"}});a.result.then(function(a){p.cancel(c.processInstance.processDefinitionName,c.processInstance.instanceId,a).then(h)})}),c.$on(g.events.canvasSuspend,function(){p.suspend(c.processInstance.processDefinitionName,c.processInstance.instanceId).then(h)}),c.$on(g.events.canvasReady,function(a,b){F.resolve(b.paper),E=b.paperScroller}),c.$on(g.events.cellPointerUp,function(a,b){var d=b.cellView.model,e=b.cellView.$el.closest("html").length>0;c.activityResults=null,e&&_.includes(K,d.get("type"))&&(C(d),c.rightBladeConfiguration.expanded&&(c.rightBladeConfiguration.tabs.activityResults.active=!0))}),c.$on(g.events.blankPointerDown,function(a,b){c.activityResults=null,c.rightBladeConfiguration.expanded&&(c.rightBladeConfiguration.tabs.processInfo.active=!0)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.management").directive("rxProcessInstancesChart",function(){return{templateUrl:"scripts/process/management/process-instances-chart.directive.html",scope:{rxData:"="},link:function(a){function b(){var b=_.max(_.pluck(a.rxData[0].values,"value")),c=Math.floor(Math.log(b)/Math.LN10);return c>6?20-c:20}var c=null;nv.addGraph(function(){return c=nv.models.multiBarHorizontalChart().x(function(a){return a.label}).y(function(a){return a.value}).margin({top:30,right:20,bottom:50,left:150}).showValues(!0).valueFormat(d3.format(",d")).barColor(["#89C341","#F1B521","#F83200","#3CB6CE"]).showLegend(!1).fillOpacity(1).showControls(!1),c.yAxis.tickFormat(d3.format(",d")),c.yAxis.ticks(b()),c.yAxis.tickPadding(10),c.xAxis.tickPadding(10),c.groupSpacing(.25),c.tooltip.enabled(!1),d3.select("svg").datum(a.rxData).transition().duration(500).call(c),d3.selectAll("svg .nv-x line").remove(),nv.utils.windowResize(c.update),c}),a.$watch("rxData",function(){c&&(c.update(),d3.selectAll("svg .nv-y .domain").remove())},!0)}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.management").directive("rxProcessManagementConsole",["$q","$rootScope","$timeout","$stateParams","$uibModal","rxProcessManagementUtils","rxBundleCache","definitionNameFilter","rxConfirmationMessageDialog","rxSearchFilterModel","rxProcessInstanceGridFilter","rxRecordGridFilter","rxProcessDefinitionDataPageResource","rxProcessInstanceDataPageResource","rxProcessInstanceCountsByStatusDataPageResource","rxProcessInstanceCommands","RX_PROCESS_INSTANCE","RX_VIEW_COMPONENT","RX_ACTION_BUTTON","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){return{templateUrl:"scripts/process/management/process-management.directive.html",scope:{onClose:"&",onViewProcessInstance:"&",rxConfiguration:"="},link:function(b){function c(){var a=b.selectedProcess.name||void 0;o.get(a,-1,0,v()).then(function(a){var c=a.plain().data[0];_.each(_.keys(q.status),function(a,d){b.chartData[0].values[d].value=c[q.status[a]]})})}function d(c,d){rx.assert.assertFunction(c,"Instance action should be a function");var e=_.pluck(A,"instanceId"),f=_.pluck(A,"processDefinitionName")[0],g=_.map(e,function(a){return c(f,a,d)});return a.all(g).then(function(){b.processInstanceGridConfiguration.api.refresh()})}function t(){A=z.selection.getSelectedRows(),u(A)}function u(a){_.forOwn(E,function(a,b){a.propertiesByName.disabled=!1});var b=function(a){var b=_.filter(E,function(b){return _.includes(b.disabledStatuses,a)});_.each(b,function(a){a.propertiesByName.disabled=!0})};_.isEmpty(a)||(a.length>1&&_(a).pluck("status").uniq().size()>1?_.forOwn(E,function(a,b){a.propertiesByName.disabled=!0}):b(a[0].status))}function v(a){var c=a||{};return b.timeFrame&&b.timeFrame.startedAfter&&(c.startedAfter=b.timeFrame.startedAfter.toISOString(),b.timeFrame.finishedBefore&&(c.finishedBefore=b.timeFrame.finishedBefore.toISOString())),c}function w(){b.$watch("timeFrame",function(a,c){a!==c&&b.processInstanceGridConfiguration.api.refresh()}),b.$watchGroup(["selectedProcess","selectedStatusFilter","timeFrame"],function(a,c){b.rxConfiguration=x(a)})}function x(a){var b={},c=a[2];return b.process=a[0].name,b.status=a[1].value,c.keyword?(b.startedAfter=c.keyword,b.finishedBefore=null):(b.startedAfter=c.startedAfter.toISOString(),b.finishedBefore=c.finishedBefore.toISOString()),b}function y(){b.breadcrumbs=[],b.selectedProcess.name&&b.breadcrumbs.push({name:h(b.selectedProcess.name),id:b.selectedProcess})}var z,A=[],B="All Processes",C={};C[r.actions.refresh]=function(){c()},g.getBundleFriendlyName().then(function(a){b.bundleFriendlyName=a}),b.processDefinitions=[],b.selectedProcess=null,b.timeFrame={startedAfter:f.isCustomTimeFrame(b.rxConfiguration.startedAfter)?new Date(b.rxConfiguration.startedAfter):b.rxConfiguration.startedAfter,finishedBefore:b.rxConfiguration.finishedBefore?new Date(b.rxConfiguration.finishedBefore):b.rxConfiguration.finishedBefore},b.chartData=[{key:"Process Instances",values:[{label:"Active",value:0},{label:"Suspended",value:0},{label:"Errored",value:0},{label:"Completed",value:0}]}],b.processInstancesStatus=[{content:"Active",value:q.status.active},{content:"Suspended",value:q.status.suspended},{content:"Errored",value:q.status.errored},{content:"Completed",value:q.status.completed},{content:"All",value:"All"}],b.selectedStatusFilter=_.find(b.processInstancesStatus,{value:b.rxConfiguration.status});var D={fieldDefinitions:[{id:"instanceId",title:"Process ID",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition"},{id:"owner",title:"Owner",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition"},{id:"contextKey",title:"Context Key",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition"},{id:"processDefinitionName",title:"Process Definition",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition"},{id:"startTime",title:"Start Time",resourceType:"com.bmc.arsys.rx.standardlib.record.DateTimeFieldDefinition",cellFilter:"date:'medium'"},{id:"endTime",title:"Completed Time",resourceType:"com.bmc.arsys.rx.standardlib.record.DateTimeFieldDefinition",cellFilter:"date:'medium'"},{id:"status",title:"Status",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition"}]},E={suspend:{propertiesByName:{label:"Suspend",iconCls:"pause",style:s.styleOptions.clear,size:s.sizeOptions.large},actions:[{name:function(){return d(p.suspend)}}],disabledStatuses:[q.status.suspended,q.status.errored,q.status.completed]},resume:{propertiesByName:{label:"Resume",iconCls:"play_o",style:s.styleOptions.clear,size:s.sizeOptions.large},actions:[{name:function(){return d(p.resume)}}],disabledStatuses:[q.status.active,q.status.completed]},cancel:{propertiesByName:{label:"Cancel",iconCls:"cross_circle_o",style:s.styleOptions.clear,size:s.sizeOptions.large},actions:[{name:function(){var a=i.showDialog({context:{title:"Cancel Process",fieldLabel:"Cancellation Reason"}});return a.result.then(function(a){return d(p.cancel,a)})}}],disabledStatuses:[q.status.completed]}};b.processInstanceGridConfiguration={enableFiltering:!0,recordIdField:!1,columns:[{fieldId:"instanceId",title:"Process ID",filterable:!1,width:300,cellTemplate:['<div class="ui-grid-cell-contents">','<a class="ui-grid__link" ng-click="grid.appScope.openInstanceViewer(row)">',"{{COL_FIELD CUSTOM_FILTERS}}","</a>","</div>"].join("")},{fieldId:"contextKey",title:"Context Key"},{fieldId:"processDefinitionName",title:"Process Definition",filterable:!1,cellFilter:"definitionName"},{fieldId:"owner",title:"Owner"},{fieldId:"startTime",filterable:!1,title:"Start Time",cellFilter:"date:'medium'"},{fieldId:"endTime",filterable:!1,title:"Completed Time",cellFilter:"date:'medium'"},{fieldId:"status",title:"Status",filterable:!1,cellTemplate:['<div class="ui-grid-cell-contents">',"{{grid.appScope.pretifyStatusName(COL_FIELD)}}","</div>"].join("")}],uiGridOptions:{onRegisterApi:function(a){z=a,a.grid.appScope.openInstanceViewer=function(a){b.onViewProcessInstance()(a.entity.processDefinitionName,a.entity.instanceId)},a.grid.appScope.pretifyStatusName=function(a){return _.capitalize(a.toLowerCase())},a.selection.on.rowSelectionChanged(b,t),a.selection.on.rowSelectionChangedBatch(b,t)}},actionButtons:[E.suspend,E.resume,E.cancel],getData:function(a,c,d,e){"All"!==b.selectedStatusFilter.value&&(d.status=b.selectedStatusFilter.value),delete d.queryExpression;var f=l.replaceKeywords(j.generateSearchQuery(_([e.userFilters,e.initialFilters]).reject(_.isEmpty).value())),g=k.generateTextFilterQuery(e.searchText,e.columns),h=l.addQueries(f,g);return h&&(d.queryExpression=h),v(d),n.get(b.selectedProcess.name,a,c,d)},getRecordDefinition:function(){return a.when(D)},on:{action:C}};var F=m.get(-1,0,{propertySelection:["name","guid","isEnabled"]}).then(function(a){b.processDefinitions=_(a.data).map(function(a){return a.content=h(a.name),a}).sortBy(function(a){return a.content.toLowerCase()}).unshift({content:B,name:null}).value(),b.selectedProcess=_.find(b.processDefinitions,{name:b.rxConfiguration.process})||b.processDefinitions[0],c(),y(),w()});b.rxBusyIndicator={promise:F},b.selectProcessItem=function(a){b.selectedProcess=a,b.processInstanceGridConfiguration.api.refresh(),y()},b.changeStatusFilter=function(a){b.selectedStatusFilter=a,b.processInstanceGridConfiguration.api.refresh()},b.startProcess=function(){if(!b.isRunDisabled()){var a=e.open({templateUrl:"scripts/process/management/start-process-dialog.html",controller:"StartProcessDialogController",windowClass:"d-action-blade rx-start-process-modal",resolve:{context:{selectedProcess:b.selectedProcess}}});a.result.then(function(){b.processInstanceGridConfiguration.api.refresh()})}},b.previewProcess=function(){if(!b.isPreviewDisabled()){var a=e.open({templateUrl:"scripts/process/management/preview-process-dialog.html",controller:"PreviewProcessDialogController",windowClass:"rx-preview-process-modal",resolve:{context:{selectedProcess:b.selectedProcess}}});a.result.then(function(a){b.startProcess()})}},b.isRunDisabled=function(){return!!b.selectedProcess&&!(b.selectedProcess.isEnabled&&b.selectedProcess.name)},b.isPreviewDisabled=function(){return!(b.selectedProcess&&b.selectedProcess.name)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.management").directive("rxTimeFrameDropdown",["$filter","rxNotificationMessage","rxProcessManagementUtils",function(a,b,c){return{templateUrl:"scripts/process/management/time-frame-dropdown.directive.html",scope:{rxTimeFrame:"="},controller:["$scope",function(a){a.datepickerOptions={showWeeks:!1}}],link:function(d){function e(){d.rxTimeFrame&&!c.isCustomTimeFrame(d.rxTimeFrame.startedAfter)?d.selectTimeFrame(_.find(d.dropdownItems,{keyword:d.rxTimeFrame.startedAfter})):d.rxTimeFrame&&d.rxTimeFrame.startedAfter&&d.rxTimeFrame.finishedBefore?(d.selectTimeFrame(_.last(d.dropdownItems)),d.applyCustomRange()):d.selectTimeFrame(_.first(d.dropdownItems))}function f(){var a=null;return d.datePickersModels.finishedBefore?d.datePickersModels.startedAfter?moment(d.datePickersModels.finishedBefore).isBefore(d.datePickersModels.startedAfter)&&(a="Time Frame error: To date cannot be earlier than From date"):a="Time Frame error: From date is invalid":a="Time Frame error: To date is invalid",a}d.datePickersModels={},d.datePickersModels.finishedBeforeOpened=!1,d.datePickersModels.startedAfterOpened=!1,d.datePickersModels.startedAfter=c.isCustomTimeFrame(d.rxTimeFrame.startedAfter)?d.rxTimeFrame.startedAfter:moment().subtract(1,"months").toDate(),d.datePickersModels.finishedBefore=d.rxTimeFrame.finishedBefore||moment().toDate(),d.dropdownItems=[{label:"Last Hour",keyword:"$LASTHOUR$",duration:moment.duration(1,"hour")},{label:"Last Day",keyword:"$LASTDAY$",duration:moment.duration(1,"day")},{label:"Last Week",keyword:"$LASTWEEK$",duration:moment.duration(1,"week")},{label:"Last Month",keyword:"$LASTMONTH$",duration:moment.duration(1,"month")},{label:"Last Three Months",keyword:"$LASTTHREEMONTHS$",duration:moment.duration(3,"month")},{label:"Custom Range...",customRangeValue:null}],d.dropdownStatus={isOpen:!1},d.openDatePicker=function(a,b){a.preventDefault(),a.stopPropagation(),d.datePickersModels[b]=!0},d.selectTimeFrame=function(a){d.selectedItem=a,_.has(d.selectedItem,"customRangeValue")?d.showCustomRange=!0:(d.rxTimeFrame={startedAfter:moment().subtract(d.selectedItem.duration),keyword:d.selectedItem.keyword},d.showCustomRange=!1,d.dropdownStatus.isOpen=!1)},d.applyCustomRange=function(){var c=f();c?b.error(c):(d.rxTimeFrame={startedAfter:moment(d.datePickersModels.startedAfter),finishedBefore:moment(d.datePickersModels.finishedBefore)},d.dropdownStatus.isOpen=!1,d.selectedItem.customRangeValue=a("date")(d.datePickersModels.startedAfter,"medium")+" - "+a("date")(d.datePickersModels.finishedBefore,"medium"))},e()}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").directive("rxRecordCustomizationOptions",["$uibModal","$q","RX_DESIGNER","RX_OVERLAY",function(a,b,c,d){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/customization-options/customization-options.directive.html",scope:{rxConfiguration:"="},link:function(b){b.openCustomizationOptionsEditor=function(){var e=a.open({templateUrl:"scripts/record/designer/inspector-editors/customization-options/record-customization-options-editor.html",controller:"RecordCustomizationOptionsEditorController",backdrop:"static",resolve:{recordDefinition:function(){return b.rxConfiguration.cell.get("rxData")},overlayOperation:function(){var a=b.rxConfiguration.cell.get("rxData");return a.overlayGroupId?b.rxConfiguration.cell.get("overlayOperation"):d.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP}},windowClass:"rx-customization-options-modal"});e.result.then(function(a){b.$emit(c.events.customizationOptionsUpdated,a)})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxInspectorRecordIndexEditor",["$uibModal","RX_RECORD_DEFINITION",function(a,b){return{restrict:"E",templateUrl:"scripts/record/designer/inspector-editors/record-index-editor/inspector-record-index-editor.directive.html",link:function(c){function d(a,b){f({index:a,arrayIndex:b})}function e(a,b){i(a)||(c.indexDefinitions.splice(b,1),h())}function f(b){return b=b||{},a.open({templateUrl:"scripts/record/designer/inspector-editors/record-index-editor/record-index-editor-dialog.view.html",controller:"RecordIndexEditorDialogController",windowClass:"rx-record-index-editor-dialog",resolve:{options:function(){return{definitionName:j.name,index:b.index,fields:_.map(j.fieldDefinitions,function(a){return{label:a.name,value:a.id}}),isFieldSelectionDisabled:Boolean(b.index&&i(b.index))}}}}).result.then(function(a){g(a,b)})}function g(a,b){b.index?c.indexDefinitions.splice(b.arrayIndex,1,a):c.indexDefinitions.push(a),h()}function h(){c.cell.prop("rxData/indexDefinitions","",{silent:!0}),c.cell.prop("rxData/indexDefinitions",c.indexDefinitions)}function i(a){var c=[b.coreFieldIds.id,b.coreFieldIds.guid];return a.unique&&_.isArray(a.indexFieldIds)&&1===_.size(a.indexFieldIds)&&_.contains(c,a.indexFieldIds[0])}var j=_.cloneDeep(c.cell.prop("rxData"));c.indexDefinitions=j.indexDefinitions||[],c.editIndex=d,c.deleteIndex=e,c.createNewIndex=f,c.isSystemIndex=i}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").directive("rxRecordIndexFieldSelector",function(){return{restrict:"E",templateUrl:"scripts/record/designer/inspector-editors/record-index-editor/record-index-field-selector.directive.html",scope:{list:"=",dndEnabled:"@",fieldSelectionDisabled:"="},link:function(a){a.select=function(b){a.fieldSelectionDisabled||(a.dndEnabled?_.forEach(a.list,function(a){a.selected=a===b}):b.selected=!b.selected)}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").directive("rxInheritanceSelector",["$q","rxRecordDefinitionResource","rxFieldDefinition","rxNotificationMessage","RX_RECORD_DESIGNER","RX_RECORD_DEFINITION",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:"scripts/record/designer/inspector-editors/record-inheritance-selector/record-inheritance-selector.directive.html",link:function(a){function g(b){var d=_.union(_.keys(c.getNewFieldDefinition()),["isInherited","anyUserAllowedToSubmit","displayType","explicitPermissions","fieldMapping","fieldTypeName","maxLength","maxSize","maxValue","minValue","namedListDefinition","optionNamesById","optionLabelsById","precision","resourceType","searchable","shouldPersistEncrypted","tags","version"]);a.inheritanceDescriptor.isInheritingFieldPermissions&&d.push("permissions");var e=_.map(b.fieldDefinitions,function(a){return a.isInherited=!0,_.pick(a,d)});return a.inheritingCoreFields||_.remove(e,function(a){return _.contains(f.AR_CORE_FIELD_IDS,a.id)}),e}var h,i=a.cell,j=_.cloneDeep(i.get("rxData")),k=_.cloneDeep(j),l=!j.lastUpdateTime,m={inheritingFrom:"",isInheritingRules:!0,isInheritingFieldPermissions:!0,isInheritingAssociations:!0};a.state={editMode:!l,isSharedInstanceStorageLocked:!l,inheritCoreFieldsAutomatically:!1,lockCoreFieldInheritanceOption:!l},j.inheritanceDescriptor&&j.inheritanceDescriptor.inheritingFrom&&(a.state.isSharedInstanceStorageLocked=!0,b.get(j.inheritanceDescriptor.inheritingFrom).then(function(b){if(h=b.plain(),h.isSharedInstanceStorage)a.state.inheritCoreFieldsAutomatically=!0,a.inheritingCoreFields=!0;else{var c=j.fieldDefinitions;a.inheritingCoreFields=_.some(c,function(a){return a.isInherited&&_.contains(f.AR_CORE_FIELD_IDS,a.id)})}})),a.inheritingCoreFields=!1,a.definitionType="record",a.inheritanceOptions=_.pick(j,["isSharedInstanceStorage","isFinal","isAbstract"]),a.inheritanceDescriptor=j.inheritanceDescriptor,a.showRecordInheritanceOptions=function(){a.inheritanceDescriptor=_.cloneDeep(m),a.state.inheritCoreFieldsAutomatically=!1},a.removeInheritance=function(){a.state.isSharedInstanceStorageLocked&&(l?(a.state.isSharedInstanceStorageLocked=!1,a.inheritanceOptions.isSharedInstanceStorage=!1):(a.state.isSharedInstanceStorageLocked=k.isSharedInstanceStorage,a.inheritanceOptions.isSharedInstanceStorage=k.isSharedInstanceStorage,
a.inheritingCoreFields=!1)),a.inheritanceDescriptor=null,i.prop("rxData/inheritanceDescriptor",null,{silent:!0}),a.$emit(e.events.inheritanceChange,{inheritanceDescriptor:null,inheritingCoreFields:!1}),d.warning("Inherited fields will still be in the record definition.  You may delete them if desired.")},a.inheritCoreFieldsChange=function(){a.inheritingCoreFields||a.$emit(e.events.inheritanceChange,{inheritingCoreFields:a.inheritingCoreFields}),b.get(j.inheritanceDescriptor.inheritingFrom).then(function(b){h=b.plain();var c=g(h);i.prop("rxData/inheritanceDescriptor",_.clone(a.inheritanceDescriptor)),a.$emit(e.events.inheritanceChange,{inheritanceDescriptor:a.inheritanceDescriptor,inheritedFieldDefinitions:c,inheritingCoreFields:a.inheritingCoreFields})})},a.handleInheritanceOptionsChange=function(){var b=a.inheritanceOptions;b.isSharedInstanceStorage&&b.isFinal&&!h&&(b.isFinal=!1),i.prop("rxData/isSharedInstanceStorage",b.isSharedInstanceStorage,{silent:!0}),i.prop("rxData/isAbstract",b.isAbstract,{silent:!0}),i.prop("rxData/isFinal",b.isFinal,{silent:!0}),a.$emit(e.events.inheritanceChange,b)},a.onInheritanceDescriptorChange=function(b,c){a.inheritanceDescriptor[b]=c,i.prop("rxData/inheritanceDescriptor",_.clone(a.inheritanceDescriptor));var d={inheritanceDescriptor:_.clone(a.inheritanceDescriptor)};if("isInheritingFieldPermissions"===b){var f=g(h);_.assign(d,{inheritedFieldDefinitions:f,inheritingCoreFields:a.inheritingCoreFields})}a.$emit(e.events.inheritanceChange,d)},a.$watch("inheritanceDescriptor.inheritingFrom",function(c,d){c&&c!==d?(a.$emit(e.events.toggleColumnVisibility,{field:"isInherited",visible:!0}),b.get(c).then(function(b){h=b.plain(),a.state.isSharedInstanceStorageLocked=!0,h.isSharedInstanceStorage?(a.inheritanceOptions.isSharedInstanceStorage=!0,a.handleInheritanceOptionsChange(),a.state.inheritCoreFieldsAutomatically=!0,a.inheritingCoreFields=!0):(l&&(a.inheritanceOptions.isSharedInstanceStorage=!1),a.state.inheritCoreFieldsAutomatically=!1,a.inheritingCoreFields=!1),a.inheritanceDescriptor.isInheritingRules=!0;var c=g(h);_.each(h.securityLabels,function(a){a.inherited=!0}),i.prop("rxData/inheritanceDescriptor",_.clone(a.inheritanceDescriptor)),a.$emit(e.events.inheritanceChange,{inheritanceDescriptor:_.clone(a.inheritanceDescriptor),inheritedFieldDefinitions:c,inheritingCoreFields:a.inheritingCoreFields,securityLabels:h.securityLabels})})):!c&&d&&a.removeInheritance()})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").directive("rxSearchTitleEditor",function(){return{restrict:"E",templateUrl:"scripts/record/designer/inspector-editors/search-title-editor/inspector-search-title-editor.directive.html",link:function(a){var b=a.cell,c=_.cloneDeep(b.get("rxData"));a.hasUnsavedFTSFields=_.some(c.fieldDefinitions,function(a){return a.searchDefinition&&_.isString(a.id)}),a.selectOptions=_(c.fieldDefinitions).filter(function(a){return a.searchDefinition&&_.isNumber(a.id)}).map(function(a){return{name:a.name,id:a.id}}).value(),c.weightedRelevancyFields&&(a.weightedRelevancyFieldsTitle=_.find(a.selectOptions,{id:c.weightedRelevancyFields.TITLE})),a.onSearchTitleChange=function(){b.prop("rxData/weightedRelevancyFields",{TITLE:a.weightedRelevancyFieldsTitle.id})}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").directive("rxDuplicateSecurityLabelRenderer",function(){return{restrict:"E",templateUrl:"scripts/record/designer/inspector-editors/security-labels/duplicate-security-label-renderer.directive.html",scope:{primaryLabel:"=",secondaryLabel:"="}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").directive("rxInspectorJoinDefinitionSecurityLabelEditor",["dialogs","rxUtils",function(a,b){return{restrict:"E",templateUrl:"scripts/record/designer/inspector-editors/security-labels/inspector-join-definition-security-label-editor.directive.html",link:function(c){c.securityLabels=c.cell.prop("rxData/securityLabels")||[],c.securityLabelsTree=b.buildTreeList(_.cloneDeep(c.securityLabels),"name","parent"),c.openSecurityLabelsEditor=function(){a.create("scripts/record/designer/inspector-editors/security-labels/join-definition-security-label-editor.html","JoinDefinitionSecurityLabelEditorController",{model:c.cell},{copy:!1,backdrop:"static",windowClass:"rx-security-label-editor-dialog join-definition-security-label-editor"},"ctrl").result.then(function(a){c.cell.prop("rxData/securityLabels","",{silent:!0}),c.cell.prop("rxData/securityLabels",a)})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").directive("rxInspectorSecurityLabelEditor",["$uibModal","RX_RECORD_DESIGNER","dialogs","rxUtils",function(a,b,c,d){return{restrict:"E",templateUrl:"scripts/record/designer/inspector-editors/security-labels/inspector-security-label-editor.directive.html",link:function(e){e.securityLabels=e.cell.prop("rxData/securityLabels")||[],e.securityLabelsTree=d.buildTreeList(_.cloneDeep(e.securityLabels),"name","parent"),e.openSecurityLabelsEditor=function(b){a.open({templateUrl:"scripts/record/designer/inspector-editors/security-labels/security-label-editor.html",controller:"SecurityLabelEditorController",backdrop:"static",resolve:{securityLabelsContext:{securityLabels:e.securityLabels,editSecurityLabel:b}},windowClass:"rx-security-label-editor-dialog"}).result.then(function(a){e.cell.prop("rxData/securityLabels","",{silent:!0}),e.cell.prop("rxData/securityLabels",a)})},e.removeSecurityLabel=function(a){c.confirm("Warning!","Are you sure you want to delete this item?").result.then(function(){var b=_.findIndex(e.securityLabels,{name:a.name});b!==-1&&(_.forEach(e.securityLabels,function(b){b.parent===a.name&&(b.parent=a.parent)}),e.securityLabels.splice(b,1),e.cell.prop("rxData/securityLabels","",{silent:!0}),e.cell.prop("rxData/securityLabels",e.securityLabels))})},e.$on(b.events.securityLabelsInherited,function(a,b){var c=[],d=e.cell.prop("rxData/name");if(_.remove(e.securityLabels,{inherited:!0}),e.securityLabels.length>0?(_.each(b,function(a){var b=_.findIndex(e.securityLabels,{id:a.id});b>=0?(c.push(_.clone(e.securityLabels[b])),e.securityLabels[b]=a):e.securityLabels.push(a)}),_(e.securityLabels).filter(function(a,b,c){return _.find(c,function(b){return b.name==a.name&&b.id!==a.id})}).each(function(a){a.inherited||(a.name+="_"+(d||"RENAMED"))}).value()):e.securityLabels=b,e.cell.prop("rxData/securityLabels","",{silent:!0}),e.cell.prop("rxData/securityLabels",e.securityLabels),c.length>0){var f=e.cell.get("overriddenProperties")||{};f.securityLabels=c,e.cell.set("overriddenProperties",f)}})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").directive("rxRecordDesigner",["$q","$timeout","$filter","$rootScope","$stateParams","rxNotificationMessage","dialogs","rxExpressionEditor","rxDesignerCache","rxBundleCache","rxUtils","RX_DESIGNER","RX_EXPRESSION_EDITOR","RX_RECORD_DESIGNER","RX_RECORD_DEFINITION","rxRecordDefinitionResource","rxRecordDefinitionModel","rxJoinRecordDefinitionModel","rxJoinRecordDefinitionDataDictionary","rxFieldDefinitionManager","rxOverlay","uiGridConstants",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){return{templateUrl:"scripts/record/designer/record-designer.directive.html",scope:{rxModel:"="},link:function(e,w){function x(a,b){return a<b?-1:a>b?1:0}function y(a,b){var d=c("resourceType")(a).toLowerCase(),e=c("resourceType")(b).toLowerCase();return x(d,e)}function z(a,b){return _.isNull(a)&&(a=""),_.isNull(b)&&(b=""),x(a,b)}function A(a,b){return a=_.isString(a)?Number.MAX_VALUE:a,b=_.isString(b)?Number.MAX_VALUE:b,x(a,b)}function B(a){return a.resourceType===o.recordDefinitionTypes.join.recordDefinitionType}function C(){T=!0}function D(){T=!1}function E(a){var b="";_.isEmpty(a)||(b=_.any(a,{type:"error"})?"error":_.any(a,{type:"warning"})?"warning":"info"),e.selected.validationIssues=a,e.validationIssueLevel=b}function F(a){var b=t.getModel(a);return b.set({id:b.get("rxData").id})}function G(){return R}function H(a){R&&(R.off(),R.clear()),R=new joint.dia.Graph,Q=Z?new r(a):new q(a),Q.set({id:"recordDefinition"}),Z?s.getCommonDataDictionary(W,Q).then(function(a){Q.getExpressionConfigurator().cellDataDictionary=k.flattenTree({children:a}),Q.getExpressionConfigurator().joinDataDictionary=a,e.selected.recordDefinitionModel=Q}):e.selected.recordDefinitionModel=Q,R.addCells(_(a.fieldDefinitions).map(F).concat(Q).value()),R.on({add:function(a){O(),a.persist(e.plainRecordDefinition),b(function(){e.gridApi.selection.selectRow(_.last(e.plainRecordDefinition.fieldDefinitions)),w.find('.inspector input[data-attribute="rxData/name"]').last().focus().select()})},remove:function(a){O(),_.remove(e.plainRecordDefinition.fieldDefinitions,{id:a.get("id")})},change:function(a){M(),a.persist(e.plainRecordDefinition)}}),R.on("add remove change",I)}function I(){Q.validate(e.plainRecordDefinition).then(E)}function J(a){_.forEach(a.fieldDefinitions,function(a){a.customId?a.id=a.customId:_.isString(a.id)&&a.id.match(/^rx-/)&&delete a.id,delete a.customId})}function K(){var a=e.selected.fieldDefinitionModel;a?e.breadcrumbs=[{name:a.get("rxData").name,icon:a.get("icon")}]:e.breadcrumbs=[]}function L(a,b){var c=e.gridOptions.columnDefs,d=_.find(c,{field:b.field});d&&(d.visible=b.visible||!(d.visible||void 0===d.visible),e.gridApi.core.notifyDataChange(v.dataChange.COLUMN))}function M(){e.gridState=e.gridApi.saveState.save()}function N(){e.gridState&&e.gridApi.saveState.restore(e,e.gridState)}function O(){e.gridApi.selection.clearSelectedRows(),e.selected.fieldDefinitionModel=null}function P(){H(e.plainRecordDefinition),S=new joint.dia.CommandManager({graph:G(),cmdBeforeAdd:function(a,b,c,d){return!(d||{}).ignoreCommandManager}}),U&&U(),U=e.$watch("plainRecordDefinition.fieldDefinitions",function(a){G().getCell("recordDefinition").updateInspectorConfig(a),e.gridData=a,e.gridApi.grid.modifyRows(e.gridData),N()},!0)}var Q,R,S,T,U,V=e.rxModel,W=V.plain(),X=!W.lastUpdateTime,Y=0,Z=B(W),aa=_.some(W.fieldDefinitions,{isInherited:!0});e.isJoinRecordDefinition=Z,e.plainRecordDefinition=W;var ba=function(){e.rxRecordDesignerForm&&e.rxRecordDesignerForm.json.$setPristine()},ca=function(){var b=Q.get("overriddenProperties");return!X&&b?g.create("scripts/record/designer/inheritance-issues-dialog/inheritance-issue-dialog.html","InheritanceIssueDialogController",{overriddenProperties:b},{copy:!1,backdrop:"static",windowClass:"rx-inheritance-issue-dialog"},"ctrl").result.then(function(){Q.set("overriddenProperties",null)}):a.when()};e.isDesignMode=!0,e.selected={recordDefinitionModel:null,fieldDefinitionModel:null,validationIssues:[]},e.gridOptions={data:"gridData",enableColumnMenus:!1,rowHeight:35,enableFullRowSelection:!0,modifierKeysToMultiSelect:!0,enableSelectAll:!0,primaryKey:"id",rowEquality:function(a,b){return a.id===b.id},onRegisterApi:function(a){function b(b,c){var d=a.selection.getSelectedRows(),f=_.isArray(b)?b:[b];if(M(),1===d.length){var g=G().getCell(d[0].id),h=e.selected.fieldDefinitionModel;null!==h&&h.id===g.id||(_.isFunction(g.updateInspectorConfig)?g.updateInspectorConfig().then(function(){e.selected.fieldDefinitionModel=g}):e.selected.fieldDefinitionModel=g),e.rightBladeConfiguration.expanded&&(e.rightBladeConfiguration.tabs.fieldProperties.active=!0)}else(angular.isDefined(c)||_.size(f)>1)&&(e.selected.fieldDefinitionModel=null)}e.gridApi=a,a.selection.on.rowSelectionChanged(e,b),a.selection.on.rowSelectionChangedBatch(e,b)},columnDefs:[{field:"name",displayName:"Field Name",headerCellClass:"ui-grid-header-cell_customize sortable",cellClass:"ui-grid-cell_customize"},{field:"fieldMapping",displayName:"Source Record",cellFilter:"recordDefinitionFieldMapping:this.row.entity:grid.appScope.plainRecordDefinition",headerCellClass:"ui-grid-header-cell_customize sortable",cellClass:"ui-grid-cell_customize",visible:Z},{field:"id",displayName:"Field ID",width:100,headerCellClass:"ui-grid-header-cell_customize sortable",cellClass:"ui-grid-cell_customize",cellTemplate:'<div class = "ui-grid-cell-contents"><span>{{grid.appScope.getFieldId(row.entity)}}</span></div>'},{field:"id",displayName:"",width:40,sortFn:A,headerCellClass:"ui-grid-header-cell_customize sortable",cellClass:"ui-grid-cell_customize",cellTemplate:'<div class = "rx-icon-cell text-center"><i ng-if="['+(Z?o.joinRecordDefinitionCoreFieldIds:o.AR_CORE_FIELD_IDS)+'].indexOf(row.entity.id) > -1" tooltip-placement="right" tooltip-append-to-body="true" uib-tooltip="Core Field A core field cannot be deleted and only certain core field properties can be changed." class = "icon d-icon-lock"></i></div>'},{field:"isInherited",displayName:"Inherited",width:100,visible:aa,headerCellClass:"ui-grid-header-cell_customize sortable",cellClass:"ui-grid-cell_customize",cellTemplate:'<div class = "rx-icon-cell text-center"><i ng-if="row.entity.isInherited" class="icon d-icon-check"></i></div>'},{field:"resourceType",displayName:"Data Type",cellFilter:"resourceType",sortFn:y,headerCellClass:"ui-grid-header-cell_customize sortable",cellClass:"ui-grid-cell_customize"},{field:"fieldOption",displayName:"Required",cellFilter:"fieldOption",headerCellClass:"ui-grid-header-cell_customize sortable",cellClass:"ui-grid-cell_customize"},{field:"defaultValue",displayName:"Default Value",sortFn:z,cellFilter:"fieldDefaultValue:this.row.entity",headerCellClass:"ui-grid-header-cell_customize sortable",cellClass:"ui-grid-cell_customize"}],saveRowIdentity:function(a){return a.id}},e.getFieldId=function(a){return _.isNumber(a.id)?a.id:a.customId},e.isDeleteDisabled=function(){var a=_.result(e,"gridApi.selection.getSelectedRows",[]),b=_.any(a,function(a){return _.includes(o.AR_CORE_FIELD_IDS,a.id)||a.isInherited||!u.isFieldFromSameOverlay(a)});return!a.length||b&&!Z},e.openAddFieldDialog=function(){g.create("scripts/record/designer/add-fields-dialog/add-fields-dialog.view.html","AddFieldsDialogController",{model:Q,definition:_.pick(e.plainRecordDefinition,["primaryRecordDefinitionName","secondaryRecordDefinitionName"]),fieldDefinitions:e.plainRecordDefinition.fieldDefinitions},{copy:!1,backdrop:"static",windowClass:"rx-add-fields-dialog"},"ctrl").result.then(function(a){_.size(a)&&(S.initBatchCommand(),G().addCells(a.map(F)),S.storeBatchCommand())})},e.addNewField=function(a){G().addCell(F(t.getNewFieldDefinition(a,{name:"New Field"+(Y?" "+Y:"")}))),Y++},e.deleteFields=function(){g.confirm("Warning!","If you delete a field, any data stored in the field also will be deleted. Do you want to continue?").result.then(function(){var a=e.gridApi.selection.getSelectedRows();S.initBatchCommand(),_.forEach(a,function(a){G().getCell({id:a.id}).remove()}),S.storeBatchCommand()})},e.resourceTypeOptions=_(o.dataTypes).values().without(o.dataTypes.recordInstance).without(o.dataTypes.object).sort(function(a,b){return a.displayName.localeCompare(b.displayName)}).map(function(a){return{value:a.resourceType,content:a.displayName}}).value(),e.toggleDesignMode=function(){e.isDesignMode=!e.isDesignMode},e.saveRecordDefinition=function(){function a(){S.reset(),f.success("Record Definition saved successfully."),ba(),d.$broadcast(n.events.afterSave)}C(),X||_.each(e.plainRecordDefinition.fieldDefinitions,function(a){a.overlayDescriptor&&(a.permissions=a.explicitPermissions)}),ca().then(function(){return Q.validate(e.plainRecordDefinition)}).then(function(b){if(!_.find(b,function(a){return"error"===a.type||"warning"===a.type})){var c=_.cloneDeep(e.plainRecordDefinition);return J(c),_.assign(V,c),X?p.post(c).then(a):V.put().then(function(){return a(),p.get(V.name)}).then(function(a){V=a,e.plainRecordDefinition=V.plain(),P(),O()})}e.isDesignMode||e.toggleDesignMode(),E(b),e.rightBladeConfiguration.tabs.validationIssues.active=!0,f.error("The Record Definition is not valid")})["finally"](D)},e.$on("beforeUnload",function(a,b){S.hasUndo()&&b.push(g.confirm("Warning!","You have unsaved data. Do you want to continue?").result)}),e.closeDesigner=function(){d.$broadcast(n.events.close)},e.handleBreadcrumbBarClick=function(){O(),e.rightBladeConfiguration.expanded&&(e.rightBladeConfiguration.tabs.recordProperties.active=!0)},e.hasUndo=function(){return S.hasUndo()},e.hasRedo=function(){return S.hasRedo()},e.undo=function(){var a=_.last(S.undoStack);"add"==a.action?g.confirm("Warning!","If you delete a field, any data stored in the field also will be deleted. Do you want to continue?").result.then(function(){S.undo(),e.gridApi.selection.clearSelectedRows()}):S.undo()},e.redo=function(){var a=_.last(S.redoStack);"remove"==a.action?g.confirm("Warning!","If you delete a field, any data stored in the field also will be deleted. Do you want to continue?").result.then(function(){S.redo(),e.gridApi.selection.clearSelectedRows()}):S.redo()},e.canSave=function(){return!T&&_.get(e,"rxRecordDesignerForm.$valid")&&(e.rxRecordDesignerForm.json.$dirty||S.hasUndo())},e.rightBladeConfiguration={title:"Details",tabs:{recordProperties:{active:!0,name:"rx-blade-record-property-tab",iconClass:"d-icon-pencil"},fieldProperties:{name:"rx-blade-field-property-tab",iconClass:"d-icon-gear"},validationIssues:{name:"rx-blade-validation-issues-property-tab",iconClass:"d-icon-exclamation_triangle"}},dock:"right",expanded:!0},e.transitionsDisabled=!0,b(function(){e.transitionsDisabled=!1,X&&w.find('.rx-record-inspector input[data-attribute="rxData/name"]').focus().select(),$(window).resize()},100),e.$watch("rightBladeConfiguration.expanded",function(){b(function(){$(window).resize()},100)}),e.$watchGroup(["selected.fieldDefinitionModel.id",'selected.fieldDefinitionModel.get("rxData").name'],K),e.inspectorConfiguration={emptyText:"Select a single field from the grid to view its properties here."},e.validationIssuesConfiguration={emptyText:"The Record Definition is valid."},e.$on(n.events.fieldOverlayReverted,function(a,b){var c=b.get("rxData");i.getRecordDefinitionFromOverlay(e.plainRecordDefinition.name,c.overlayDescriptor.parentOverlayGroupId).then(function(a){var d=_.find(a.fieldDefinitions,{id:c.id});d.overlayGroupId=c.overlayGroupId,d.overlayDescriptor=null,S.initBatchCommand(),b.set("isReverted",!0),b.set("rxData",d),S.storeBatchCommand()})}),e.$on(n.events.inheritanceChange,function(a,b){if(_.has(b,"inheritedFieldDefinitions")){var c=b.inheritedFieldDefinitions,d=b.inheritingCoreFields;O(),_.each(c,function(a){var b=G().getCell({id:a.id});if(b){var c=Q.get("overriddenProperties")||{},d=b.get("rxData");c.fields?c.fields.push(_.clone(d)):c.fields=[_.clone(d)],Q.set("overriddenProperties",c),b.remove()}}),_.remove(e.plainRecordDefinition.fieldDefinitions,function(a){if(!d){var b=G().getCell({id:a.id});return b.removeInheritanceFlag(a),!1}return!(!d||!_.contains(o.AR_CORE_FIELD_IDS,a.id))}),e.plainRecordDefinition.fieldDefinitions=_.union(e.plainRecordDefinition.fieldDefinitions,c),_.assign(e.plainRecordDefinition,{inheritanceDescriptor:b.inheritanceDescriptor});var f=_(e.plainRecordDefinition.fieldDefinitions).map(F).value();G().addCells(f,{silent:!0})}else _.has(b,"inheritingCoreFields")&&_.each(e.plainRecordDefinition.fieldDefinitions,function(a){var b=G().getCell({id:a.id});b.removeInheritanceFlag(a)}),_.assign(e.plainRecordDefinition,_.omit(b,"inheritingCoreFields"));b.securityLabels&&e.$broadcast(n.events.securityLabelsInherited,b.securityLabels),e.rxRecordDesignerForm.json.$setDirty()}),e.$on(l.events.customizationOptionsUpdated,function(a,b){var c=G().getCell("recordDefinition");_.assign(e.plainRecordDefinition,b.customizationOptions),S.initBatchCommand(),_.each(b.customizationOptions,function(a,b){c.prop("rxData/"+b,a)}),_.each(b.updatedFieldDefinitions,function(a){var b=G().getCell(a.id);_.each(a.changedProperties,function(a,c){b.prop("rxData/"+c,a)})}),S.storeBatchCommand()}),e.$on(l.events.correctValidationIssue,function(a,c){var d=c.validationIssue,f=_.findIndex(e.plainRecordDefinition.fieldDefinitions,{id:d.elementId});f===-1?e.rightBladeConfiguration.tabs.recordProperties.active=!0:(e.gridApi.selection.clearSelectedRows(),e.gridApi.selection.selectRow(e.plainRecordDefinition.fieldDefinitions[f]));var g=d.propertyName||"";g&&b(function(){var a=w.find('[data-attribute="rxData/'+g+'"]');a.focus().select()},2)}),e.$on(n.events.toggleColumnVisibility,L),e.$on(l.events.refreshDesigner,function(){S.reset(),X||p.get(V.name).then(function(a){V=a,e.plainRecordDefinition=V.plain(),P(),O()})}),j.getBundleFriendlyName().then(function(a){e.bundleFriendlyName=a});var da=d.$on(m.events.openExpressionEditor,function(a,b){var c=b.cell.getExpressionConfigurator(),d=Z?c.joinDataDictionary:c.getDataDictionary();h.open({expressionContext:{cell:b.cell,path:b.path,dataDictionary:d,expressionConfigurator:c,legend:s.getLegend()}})});P(),i.clear(),e.$on("$destroy",function(){G().off("add remove change"),da(),i.clear()})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").directive("rxRuleCustomizationOptions",["$uibModal","RX_DESIGNER","RX_OVERLAY",function(a,b,c){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/customization-options/customization-options.directive.html",scope:{rxConfiguration:"="},link:function(d){d.openCustomizationOptionsEditor=function(){var e=a.open({templateUrl:"scripts/rule/designer/inspector-editors/customization-options/rule-customization-options-editor.html",controller:"RuleCustomizationOptionsEditorController",backdrop:"static",resolve:{ruleDefinition:function(){return _.cloneDeep(d.rxConfiguration.cell.get("rxData"))},overlayOperation:function(){var a=d.rxConfiguration.cell.get("rxData");return a.overlayGroupId?d.rxConfiguration.cell.get("overlayOperation"):c.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP}},windowClass:"rx-customization-options-modal"});e.result.then(function(a){d.$emit(b.events.customizationOptionsUpdated,a)})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").directive("rxInspectorIntervalTimerField",["$uibModal",function(a){return{restrict:"E",templateUrl:"scripts/rule/designer/inspector-editors/interval-timer/inspector-interval-timer-field.directive.html",link:function(b){b.options.filter="ruleIntervalTimer",b.value=b.value||"",b.openDialog=function(){a.open({templateUrl:"scripts/rule/designer/inspector-editors/interval-timer/rule-interval-timer-dialog.html",controller:"RuleIntervalTimerDialogController",backdrop:"static",resolve:{expressionContext:{cell:b.cell,path:b.path,previewFilter:"ruleIntervalTimer"}},windowClass:"rx-timer-editor-dialog"})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").directive("rxInspectorRuleRecordDefinitionsField",["resourceTypeFilter","$uibModal","definitionNameFilter",function(a,b,c){return{restrict:"E",templateUrl:"scripts/rule/designer/inspector-editors/rule-record-definitions/inspector-rule-record-definitions-field.directive.html",link:function(a){a.recordDefinitions=_.map(a.cell.prop(a.path),function(a){return{content:c(a),value:a}}),a.openEditor=function(){b.open({templateUrl:"scripts/rule/designer/inspector-editors/rule-record-definitions/rule-record-definitions-dialog.html",controller:"RuleRecordDefinitionsDialogController",backdrop:"static",resolve:{context:{cell:a.cell,path:a.path,selectedDefinitions:a.recordDefinitions}},windowClass:"rx-rule-record-definitions-dialog"})},a.removeColumn=function(b){a.recordDefinitions.splice(a.recordDefinitions.indexOf(b),1),a.cell.prop(a.path,"",{silent:!0}),a.cell.prop(a.path,_.pluck(a.recordDefinitions,"value"))}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").directive("rxRuleDesigner",["$q","$rootScope","$timeout","$stateParams","$window","rxNotificationMessage","rxId","dialogs","rxOverlay","rxRuleDesignerElementManager","rxExpressionEditor","rxRuleAutoComplete","rxRuleDataDictionary","rxRuleDefinitionResource","rxRuleDesignerCache","rxRuleMovementManager","rxDesignerCache","rxBundleCache","rxGlobalCache","definitionNameFilter","ruleIntervalTimerFilter","RX_BLADE","RX_DESIGNER","RX_RULE_DESIGNER","RX_RULE_DEFINITION","RX_EXPRESSION_EDITOR","rxRuleDesignerConfiguration","rxNavigationGuard","rxGUID",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){return{templateUrl:"scripts/rule/designer/rule-designer.directive.html",scope:{rxModel:"="},link:function(d,g){function s(){A.updateStencilConfiguration(ma).then(function(){d.stencilConfiguration={configurationService:A},_.each(["default","favorite","recent"],function(a){A.get(a,ma).then(function(b){d.stencilConfiguration[a]=b})})})}function v(){a.all({paper:la.promise,bundleActionTypes:r.getActionTypes(),rootActionTypes:[]}).then(function(a){d.paper=a.paper,ja=p.getInstance(d.paper),ka=d.paper.options.width,ma=a.bundleActionTypes.concat(a.rootActionTypes),o.setActionTypes(ma),s(),K();var b=d.plainRuleDefinition.overlayDescriptor||{parentOverlayGroupId:null};d.selected.rule.set("overlayOperation",i.getOverlayOperation(d.plainRuleDefinition.overlayGroupId,b),{silent:!0}),G(),H(),ga.reset(),pa=l.getInstance(d.paper.model),c(function(){d.transitionsDisabled=!1})})}function D(a,b){j.validateElement(a,b).then(function(b){E(b,a)})}function E(a,b){F(b),O(d.selected.validationIssues.concat(a))}function F(a){_.remove(d.selected.validationIssues,{elementId:a.id})}function G(){var a=new joint.dia.Validator({commandManager:ga});j.registerValidators(a),a.on("invalid",function(a){f.error(a)})}function H(){var a=d.plainRuleDefinition,b=d.paper,c=j.getShape(y.ruleElementResourceTypes.triggerElement,a.triggerEvent),e=c.attributes.size.width;c.prop("position",{x:(ka-e)/2,y:e}),c.set("elementIndex",0,{silent:!0}),b.model.addCell(c,{initCanvas:!0});var f=new joint.shapes.basic.Text;if(f.isRemovable=!1,f.prop("position",{x:ka/2,y:e/2}),d.paper.model.addCell(f,{initCanvas:!0}),d.paper.findViewByModel(f).vel.addClass("ruleDefinitionLabel"),ja.setLastElement(c),b.model.addCell(d.selected.rule),!fa){if((!_.isEmpty(a.triggerEvent.eventTypes)&&!_.isEmpty(a.recordDefinitionNames)||a.triggerEvent.timeCriteria)&&Y(c,a),a.qualification){var g=j.getShape(y.ruleElementResourceTypes.qualification,a.qualification);b.model.addCell(g,{initCanvas:!0}),ja.addElement(g)}_.forEach(a.actions,function(a){var c=j.getShape(a.resourceType,a);a.id=c.get("id"),b.model.addCell(c,{initCanvas:!0}),ja.addElement(c)}),aa(a.recordDefinitionNames[0])}}function I(){d.inspectorConfiguration={emptyText:"Select an element on the diagram to view its properties here.",disabled:d.isOverlayDisabled}}function J(){d.validationIssuesConfiguration={emptyText:"The Rule Definition is valid."}}function K(){d.selected={cellModel:null,rule:j.getRuleModel({readonly:d.isOverlayDisabled,plainRuleDefinition:d.plainRuleDefinition})},O([])}function L(){d.rxRuleDesignerForm&&d.rxRuleDesignerForm.json.$setPristine()}function M(a){var b=_(d.leftBladeConfiguration.tabs).values().find({name:a});b.refreshNeeded&&(A.get(a,ma).then(function(b){if(d.stencilConfiguration[a]=b,d.stencilConfiguration.favorite){var c={title:"Favorites",emptyText:"Select rule element favorites on the Manage Palette tab above."};0===_.size(d.stencilConfiguration.favorite.shapes)&&(d.stencilPlaceholder=c)}}),delete b.refreshNeeded)}function N(){return d.rxRuleDesignerForm&&d.rxRuleDesignerForm.json.$dirty||ga&&ga.hasUndo()}function O(a){d.selected.validationIssues=a,_.isEmpty(d.selected.validationIssues)?d.validationIssueLevel="":d.validationIssueLevel="error"}function P(a){d.rightBladeConfiguration.tabs.validationIssues.active=!0,f.error("The Rule Definition is not valid")}function Q(a){na.actionsId=[],na.triggerId=a.triggerEvent.id,delete a.triggerEvent.id,na.ruleDefinitionId=a.id,delete a.id,_.each(a.actions,function(a){na.actionsId.push(a.id),delete a.id}),a.qualification&&(na.qualificationId=a.qualification.id,delete d.plainRuleDefinition.qualification.id)}function R(a){a.id=na.ruleDefinitionId,a.triggerEvent.id=na.triggerId,a.qualification&&(a.qualification.id=na.qualificationId),_.forEach(a.actions,function(a){a.id=na.actionsId.shift()})}function S(){R(d.plainRuleDefinition),n.applyLocalization(d.plainRuleDefinition),delete d.plainRuleDefinition.localizableStrings}function T(){f.success("Rule Definition saved successfully."),ga.reset(),d.selected.rule.trigger("rx:change:inputs",d.selected.rule),b.$broadcast(x.events.afterSave),fa||(n.get(ea.name).then(function(a){ea=a,d.plainRuleDefinition=ea.plain(),R(d.plainRuleDefinition),d.selected.rule.setRxData(d.plainRuleDefinition),d.selected.rule.trigger("rx:change:inputs",d.selected.rule);var b=d.selected.cellModel?d.selected.cellModel.get("id"):null;b&&c(function(){if(d.rightBladeConfiguration.tabs.elementProperties.active){var a=d.paper.findViewByModel(b);d.paper.trigger("cell:pointerup",a)}else d.selected.cellModel=d.paper.model.getCell(b)})}),o.setRuleDefinition(d.plainRuleDefinition))}function U(){Q(d.plainRuleDefinition);var a=_.cloneDeep(d.plainRuleDefinition),b=function(a){return _.assign(ea,a),fa?n.post(a):ea.put()};return b(a)}function V(){ha=!0}function W(){ha=!1}function X(a){var b=_.findIndex(d.plainRuleDefinition.actions,{id:a[0]}),c=_.findIndex(d.plainRuleDefinition.actions,{id:a[1]});d.plainRuleDefinition.actions.splice(c,0,d.plainRuleDefinition.actions.splice(b,1)[0])}function Y(a,b){var c,e=_.trunc(_.transform(b.recordDefinitionNames,function(a,b){return b&&a.push(t(b)),a}).join(", "),{length:120,separator:" "});b.triggerEvent.eventTypes?c=_.map(b.triggerEvent.eventTypes,function(a){return _.find(x.eventTypes,{value:a}).content}).join(", "):b.triggerEvent.timeCriteria&&b.triggerEvent.timeCriteria.resourceType===y.ruleElementResourceTypes.scheduleTime?(c=a.prop("rxData/scheduleDefinition"),c=_.trunc(c,{length:120,separator:" "}),c+=" for "):b.triggerEvent.timeCriteria&&b.triggerEvent.timeCriteria.resourceType===y.ruleElementResourceTypes.intervalTime&&(c=u(a.prop("rxData/intervalDefinition")),c+=" for ");var f=_.find(d.paper.model.getCells(),function(a){return"basic.Text"===a.get("type")}),g=d.paper.findViewByModel(f),h=g.vel.find("text")[0];h.text(c+"\n"+e);var i=h.bbox();f.prop("position",{x:(ka-i.width)/2,y:20})}function Z(){var a=_.find(d.paper.model.getCells(),function(a){return"basic.Text"===a.get("type")}),b=d.paper.findViewByModel(a);b.vel.find("text")[0].text("")}function $(){d.selected.cellModel=null,d.rightBladeConfiguration.expanded&&(d.rightBladeConfiguration.tabs.ruleProperties.active=!0)}function aa(a){ia=a,_.each(d.paper.model.getElements(),function(a){"basic.Text"!==a.get("type")&&a.setPrimaryRecordDefinition(ia)}),d.selected.cellModel&&ba(d.selected.cellModel).then(function(){d.selected.cellModel.trigger("rx:change:inputs",d.selected.cellModel)})}function ba(a){return m.getCommonDataDictionary(d.plainRuleDefinition).then(function(b){var c=a.getExpressionConfigurator?a.getExpressionConfigurator():a;return _.isFunction(c.buildDataDictionary)?c.buildDataDictionary(b).then(function(){return b}):b})}function ca(){var a={};return _.forEach(d.plainRuleDefinition.actions,function(b){var c=_.find(ma,{actionTypeName:b.actionTypeName});c&&c.inputParams&&_(c.inputParams).filter("localizable").each(function(c){var d=_.find(b.inputMap,{assignTarget:c.name}),e=_.findKey(oa,function(a){return a===d.expression});e||(e=C.generate()),a[e]=d.expression,d.expression='"'+e+'"'}).value()}),a}function da(){var a=d.selected.cellModel;a?d.breadcrumbs=[{name:a.get("rxData").label||a.get("content")||a.get("breadcrumbLabel")}]:d.breadcrumbs=[]}var ea,fa,ga,ha,ia,ja,ka,la=a.defer(),ma=null,na={},oa={};d.transitionsDisabled=!0;var pa;d.plainRuleDefinition=null,d.selected={},r.getBundleFriendlyName().then(function(a){d.bundleFriendlyName=a}),o.clear(),q.clear(),ea=d.rxModel,d.plainRuleDefinition=ea.plain(),fa=!d.plainRuleDefinition.lastUpdateTime,d.isDesignMode=!0,d.isOverlayDisabled=!i.isCustomizationEnabled("allowOverlay",d.plainRuleDefinition),fa||(oa=d.plainRuleDefinition.localizableStrings,delete d.plainRuleDefinition.localizableStrings),
d.$on("$destroy",function(){o.clear(),q.clear()}),d.validateRule=function(){return j.validateRule(d.plainRuleDefinition).then(function(a){return O(a),a})},d.isDesignModeAvailable=function(){return d.rxRuleDesignerForm&&d.rxRuleDesignerForm.json&&d.rxRuleDesignerForm.json.$pristine},I(),J(),v(),d.isRecentsEmpty=function(){return _.isEmpty(d.stencilConfiguration)||_.isEmpty(d.stencilConfiguration.recent.shapes)},d.clearRecents=function(){A.removeRecents(),A.get("recent",ma).then(function(a){d.stencilConfiguration.recent=a})},d.leftBladeConfiguration={title:"Palette",tabs:{stencilTabDefault:{iconClass:"d-icon-arrow_squares",active:!0,name:"default",onActivate:M},stencilTabFavorite:{iconClass:"d-icon-star",active:!1,name:"favorite",refreshNeeded:!0,onActivate:M},stencilTabRecent:{iconClass:"d-icon-clock_o",active:!1,name:"recent",refreshNeeded:!0,onActivate:M},stencilTabSettings:{active:!1,name:"rx-blade-stencil-tab-settings",iconClass:"d-icon-wrench"}},dock:"left",expanded:!d.isOverlayDisabled},d.rightBladeConfiguration={title:"Properties",tabs:{ruleProperties:{active:!0,name:"rx-blade-rule-property-tab",iconClass:"d-icon-pencil"},elementProperties:{name:"rx-blade-element-property-tab",iconClass:"d-icon-gear"},validationIssues:{name:"rx-blade-validation-issues-property-tab",iconClass:"d-icon-exclamation_triangle"}},dock:"right",expanded:!0},d.toggleDesignMode=function(){d.isDesignMode=!d.isDesignMode,d.isDesignMode&&c(function(){d.paper.model.trigger("update:halo")})},d.saveChanges=function(){V(),d.validateRule().then(function(a){"error"===d.validationIssueLevel?(P(a),W()):(d.plainRuleDefinition.localizableStrings=ca(),U().then(T,S).then(L)["finally"](W))})},d.$on("beforeUnload",function(a,b){N()&&b.push(h.confirm("Warning!","You have unsaved data. Do you want to continue?").result)}),d.closeDesigner=function(){b.$broadcast(x.events.close)},d.canSave=function(){return!ha&&d.rxRuleDesignerForm&&d.rxRuleDesignerForm.$valid&&N()};var qa=!d.isOverlayDisabled&&_.constant(!1);d.canvasConfiguration={interactive:qa,multiSelectionDisabled:!0,snapLinesDisabled:!0,getModelName:function(){return d.plainRuleDefinition.name},haloConfig:{customHandles:[{name:"moveup",position:"ne",events:{pointerdown:function(){var a=ja.moveElementUp(this.options.cellView.model);X(a),d.paper.trigger("cell:pointerup",this.options.cellView)}},icon:"data:image/svg+xml;base64,PHN2ZyBpZD0iYjdhMzkzNWYtNTkyOS00ZjVkLTg2OGEtMTc1NGJlMWJiMjc2IiBkYXRhLW5hbWU9IkxheWVyIDIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LlwzMyAwZjFmNDg0LWM2ZTQtNDMyZS05ZmZmLTFhMTE5NWM1MTY0MntmaWxsOiM2NjY7fS5cMzYgYjkxZjhkMy01MWUzLTRiMGItYThlMy0yNDEzNTU0MTBhOTB7ZmlsbDojZmZmO308L3N0eWxlPjwvZGVmcz48dGl0bGU+VW50aXRsZWQtMTwvdGl0bGU+PHBhdGggY2xhc3M9IjMwZjFmNDg0LWM2ZTQtNDMyZS05ZmZmLTFhMTE5NWM1MTY0MiIgZD0iTTE2LDhhOCw4LDAsMSwwLTgsOEE4LDgsMCwwLDAsMTYsOFoiLz48cG9seWdvbiBjbGFzcz0iNmI5MWY4ZDMtNTFlMy00YjBiLWE4ZTMtMjQxMzU1NDEwYTkwIiBwb2ludHM9IjExLjY0IDggOC43MyA4IDguNzMgMTIuMzYgNy4yNyAxMi4zNiA3LjI3IDggNC4zNiA4IDggMy42NCAxMS42NCA4Ii8+PC9zdmc+"},{name:"movedown",position:"se",events:{pointerdown:function(){var a=ja.moveElementDown(this.options.cellView.model);X(a),d.paper.trigger("cell:pointerup",this.options.cellView)}},icon:"data:image/svg+xml;base64,PHN2ZyBpZD0iM2EzODYxYTQtY2QzNy00NzQwLTkyNjAtZGZkZTc5MTVjYTU2IiBkYXRhLW5hbWU9IkxheWVyIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LlwzNCA5MGZkYTQwLTkyMjUtNDczZS04MmUxLTc4ZWM3YmFiZWYxM3tmaWxsOiM2NjY7fS5mZmU3YWEzMC04NjliLTQzMzAtYmNjYy05MjA3YjhjMDMzYjR7ZmlsbDojZmZmO308L3N0eWxlPjwvZGVmcz48dGl0bGU+VW50aXRsZWQtMTwvdGl0bGU+PHBhdGggY2xhc3M9IjQ5MGZkYTQwLTkyMjUtNDczZS04MmUxLTc4ZWM3YmFiZWYxMyIgZD0iTTgsMGE4LDgsMCwxLDAsOCw4QTgsOCwwLDAsMCw4LDBaIi8+PHBvbHlnb24gY2xhc3M9ImZmZTdhYTMwLTg2OWItNDMzMC1iY2NjLTkyMDdiOGMwMzNiNCIgcG9pbnRzPSI4IDEyLjM2IDQuMzYgOCA3LjI3IDggNy4yNyAzLjY0IDguNzMgMy42NCA4LjczIDggMTEuNjQgOCA4IDEyLjM2Ii8+PC9zdmc+"}],handleValidation:function(a){var b=a.options.cellView.model;ja.isLastElement(b)&&a.removeHandle("movedown"),ja.isFirstActionElement(b)&&a.removeHandle("moveup")}}},d.$on(w.events.correctValidationIssue,function(a,b){var e=b.validationIssue,f=d.paper.model.getCell(e.elementId);if(f){var h=d.paper.findViewByModel(f.get("id"));d.paper.trigger("cell:pointerup",h)}else d.selected.cellModel=null,d.rightBladeConfiguration.expanded&&(d.rightBladeConfiguration.tabs.ruleProperties.active=!0);var i=e.propertyName||"";i&&c(function(){var a=g.find('[data-attribute="rxData/'+i+'"]');a.focus().select()},2)}),d.$on(w.events.customizationOptionsUpdated,function(a,b){d.selected.rule.prop("rxData/allowOverlay",b.customizationOptions.allowOverlay)}),d.$on(w.events.refreshDesigner,function(){B.clearGuardians(),e.location.reload()}),d.$on(z.events.refreshInspector,function(a,b){ba(b).then(function(){b.trigger("rx:change:inputs",b)})}),d.$on(z.events.openExpressionEditor,function(a,b){var c=b.cell||d.selected.cellModel,e=b.path||b;ba(c).then(function(a){var b=d.selected.cellModel.getExpressionConfigurator?d.selected.cellModel.getExpressionConfigurator():null;k.open({expressionContext:{cell:c,path:e,expressionConfigurator:b,dataDictionary:a,autoComplete:pa,legend:m.getLegend(),useDynamicQualification:!0}})})}),d.$on(w.events.inspectorReady,function(){g.find('rx-designer-inspector [data-field="rxData/recordDefinitionNames/0"] > label').text("Record Definition [Primary]")}),d.$on(w.events.canvasReady,function(a,b){la.resolve(b.paper),ga=b.commandManager}),d.$on(w.events.cellPointerUp,function(a,b){var c=b.cellView.model,e=b.cellView.$el.closest("html").length>0;d.selected.cellModel=null,e&&!c.isLink()&&"basic.Text"!==c.get("type")&&ba(c).then(function(){_.isFunction(c.updateInspectorConfig)?c.updateInspectorConfig(d.plainRuleDefinition).then(function(){d.selected.cellModel=c}):d.selected.cellModel=c,d.rightBladeConfiguration.expanded&&(d.rightBladeConfiguration.tabs.elementProperties.active=!0)})}),d.$on(w.events.blankPointerDown,function(a,b){$()}),d.$on(w.events.stencilSettingsChanged,function(a,b){var c=_(d.leftBladeConfiguration.tabs).values().find({name:b});c.refreshNeeded=!0}),d.$on(w.events.cellAdded,function(a,b){var c,e=b.cell;if(d.paper.model.getCell(e.get("id"))&&!e.isLink()&&!b.options.initCanvas){var f=d.plainRuleDefinition;if(f.recordDefinitionNames[0]&&e.setPrimaryRecordDefinition(f.recordDefinitionNames[0]),c=e.persist(f),d.plainRuleDefinition.actions.length<=1?d.validateRule():c&&D(c,f),e.get("id")!==ja.getLastElement().get("id")&&"rx.RuleModel"!=e.get("type")&&(ga.disable(),ja.addElement(e),ga.enable()),b.options.stencil&&(c.resourceType?A.addToRecent(c):A.addToRecent(e),d.leftBladeConfiguration.tabs.stencilTabRecent.refreshNeeded=!0,d.canSave())){var g=d.paper.findViewByModel(e.get("id"));d.paper.trigger("cell:pointerup",g)}}}),d.$on(w.events.cellChanged,function(a,b){var c,e=b.cell,f=d.plainRuleDefinition;if(!e.isLink()&&"basic.Text"!==e.get("type")){c=e.persist(f),f.recordDefinitionNames[0]&&f.recordDefinitionNames[0]!==ia?aa(f.recordDefinitionNames[0]):!f.recordDefinitionNames[0]&&ia&&aa(null);var g=_.find(d.paper.model.getElements(),function(a){return"rx.RuleTrigger"===a.get("type")}),h=g&&g.hasTimeCriteria(),i=h&&(f.triggerEvent.timeCriteria.resourceType===y.ruleElementResourceTypes.intervalTime||f.triggerEvent.timeCriteria.resourceType===y.ruleElementResourceTypes.scheduleTime);_.isEmpty(f.recordDefinitionNames)||_.isEmpty(f.recordDefinitionNames[0])||_.isEmpty(f.triggerEvent.eventTypes)&&!i?Z():Y(g,f),d.plainRuleDefinition.actions.length||"rx.RuleModel"===e.get("type")?d.validateRule():c&&D(c,f)}}),d.$on(w.events.cellRemoved,function(a,b){var c=b.cell;c.isLink()||"basic.Text"===c.get("type")||("rx.RuleQualification"===c.get("type")?(delete d.plainRuleDefinition.qualification,delete ea.qualification):_.remove(d.plainRuleDefinition.actions,{id:c.get("id")}),c.get("elementIndex")&&(ga.disable(),ja.reorderElementsAfterDeletion(c),ga.enable()),d.validateRule(),d.selected.cellModel=null,d.rightBladeConfiguration.expanded&&(d.rightBladeConfiguration.tabs.ruleProperties.active=!0))}),d.$watchGroup(["selected.cellModel.id",'selected.cellModel.get("rxData").label'],da),d.handleBreadcrumbBarClick=function(){joint.ui.Halo.clear(d.paper),$()}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").directive("rxIsoDate",function(){return{restrict:"A",require:"^ngModel",link:function(a,b,c,d){d.$formatters.push(function(a){if(_.isDate(a))return a.toISOString().substr(0,10)})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").directive("rxNoDirtyCheck",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e={get:_.constant(!1),set:_.noop};Object.defineProperty(d,"$pristine",e),Object.defineProperty(d,"$dirty",e)}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.utils").directive("rxStringToNumber",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){return _.isNumber(a)?""+a:null}),d.$formatters.push(function(a){return parseFloat(a,10)})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-component").directive("rxViewComponentPlaceholder",function(){return{restrict:"E",templateUrl:"scripts/view-component/view-component-placeholder.directive.html",scope:{rxConfiguration:"="}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").directive("rxActionButtonDesign",["RX_ACTION_BUTTON",function(a){return{restrict:"E",templateUrl:"scripts/view-components/action-button/action-button-design.directive.html",scope:{rxConfiguration:"="},link:function(b){function c(c){b.rxData=c,b.buttonCls=(_.find(a.styles,{value:b.rxData.style})||{}).cls,b.iconCls=(_.find(a.icons,{name:b.rxData.icon})||{}).cls,_.isUndefined(b.rxData.size)&&a.sizes.length>0?b.sizeCls=a.sizes[0].cls:b.sizeCls=(_.find(a.sizes,{value:b.rxData.size})||{}).cls}b.$watch("rxConfiguration.model.attributes.rxData",function(a){c(a)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").directive("rxActionButton",["$q","rxLog","$compile","$timeout","RX_ACTION_BUTTON","RX_VIEW_COMPONENT","rxViewComponentEventManager","rxViewComponentActionManager",function(a,b,c,d,e,f,g,h){return{restrict:"E",templateUrl:"scripts/view-components/action-button/action-button.directive.html",scope:{rxConfiguration:"="},link:function(c,i){function j(){var a;return a=c.rxConfiguration.componentDefinitions?_.map(c.rxConfiguration.componentDefinitions,function(a){return{guid:a.guid,propertiesByName:a.propertiesByName}}):_.map(c.rxConfiguration.actions,function(a){return{propertiesByName:a}}),a=_.sortBy(a,function(a){return Number(a.propertiesByName.index)})}var k=g.getInstance(c),l=c.rxConfiguration;c.config=c.rxConfiguration.propertiesByName?c.rxConfiguration.propertiesByName:c.rxConfiguration,c.actions=j(),l.api=l.api||{},_.assign(l.api,{setProperty:function(c,e){return"hidden"===c||"disabled"===c?a(function(a){_.set(l.propertiesByName,c,e),d(a)}):(b.warning("Action Button: property "+c+" is not settable."),a.reject())}}),k.propertyChanged({property:"api",newValue:l.api}),c.cls=c.config.cls||(_.find(e.styles,{value:c.config.style})||{}).cls,_.isUndefined(c.config.size)&&e.sizes.length>0?c.sizeCls=e.sizes[0].cls:c.sizeCls=(_.find(e.sizes,{value:c.config.size})||{}).cls;var m=c.config.iconCls||(_.find(e.icons,{name:c.config.icon})||{}).cls;c.icon="d-icon-"+(c.config.label?"left-":"")+m,c.config.cls&&c.config.style&&b.warning("cls option is specified, style will be ignored."),c.config.iconCls&&c.config.icon&&b.warning("iconCls option is specified, icon will be ignored."),c.onClick=function(){c.isDisabled=!0,h.executeActions(_.map(c.actions,"api"))["finally"](function(){c.isDisabled=!1})},k.action(f.actions.newComponentAdded)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").directive("rxActionEditor",["RX_VIEW_DESIGNER","resourceTypeFilter","rxActionPropertyNavigator","$timeout","rxAction","$compile",function(a,b,c,d,e,f){return{restrict:"E",scope:{action:"="},link:function(b,g){function h(){var a=null;return b.selectOptions.forEach(function(b){var c=k.get("rxData").name;b.name===c&&(a=b)}),a}function i(){var a={name:b.actionDescriptor.name};b.actionDescriptor.parameters.forEach(function(b){a[b.name]=b.defaultValue||""}),k.prop("rxData",null,{rxSilent:!0,silent:!0}),k.prop("rxData",a)}function j(){var a=g.find(".fields-list");a.length>0?a.empty():a=angular.element("<div class='fields-list'></div>");var e=_.filter(b.actionDescriptor.parameters,"editor");e.length?(_.each(e,function(c){var d=document.createElement(c.editor);d.setAttribute("path","path"),d.setAttribute("cell","cell"),d.setAttribute("value","value"),d.setAttribute("label","label"),d.setAttribute("options","options"),d.setAttribute("ng-hide","isHidden");var e=b.$new(!0);e.path="rxData/"+c.name,e.cell=k,e.value=k.prop(e.path),e.label=c.label,e.options=c,a.append(f(d)(e)),_.isFunction(k.onModelChange)&&(k.onModelChange(c.name,e),k.on("change:rxData",function(){k.onModelChange(c.name,e)}))}),d(function(){var b=_.map(a.find(".rx-expression-node-renderer"),function(a){return{label:a.getAttribute("for-expression-editor-label"),path:a.getAttribute("for-expression-editor-path")}});c.addExpressionFields({id:k.id,expressionFields:b})})):a.append("<p class='empty-list'>This action has no parameters</p>"),g.append(a)}b.selectOptions=e.getRegisteredActions();var k=b.action,l=h();b.actionDescriptor=l||b.selectOptions[0],l||i(),b.onSelect=function(){i(),j()},b.$on(a.events.addExpressionField,function(){j()}),j()}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").directive("rxActionList",function(){return{restrict:"E",controller:"ActionListController",templateUrl:"scripts/view-components/action-button/editors/action-list.directive.html"}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").directive("rxActionDefinitionPicker",["$timeout",function(a){return{restrict:"E",templateUrl:"scripts/view-components/action-button/editors/action-record-definition-picker.html",link:function(a,b){a.definition={name:a.value},a.$watch("definition.name",function(b,c){var d=b===c;d||a.cell.prop(a.path,b,{rxSilent:!0})})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").directive("rxViewDefinitionParams",["$rootScope","RX_EXPRESSION_EDITOR","rxViewDefinitionResource","rxActionPropertyNavigator",function(a,b,c,d){return{templateUrl:"scripts/view-components/action-button/editors/view-definition-params.directive.html",link:function(e){function f(a,b){a?c.get(a).then(function(a){e.params=a.plain().inputParams.map(function(a){var c=g+"/"+a.name,d=_.find(b,{path:c});return{label:a.name,cell:e.cell,path:c,value:d&&d.value||""}});var c=e.params.map(function(a){return{path:a.path,label:a.label}});d.addExpressionFields({id:e.cell.id,expressionFields:c})}):(e.params=[],e.cell.prop(g,null,{rxSilent:!0,silent:!0}))}var g=e.path,h=e.cell.prop(g),i="rxData/viewDefinitionName",j=e.cell.prop(i),k=[];e.params=[],h&&angular.forEach(h,function(a,b){k.push({label:b,cell:e.cell,path:g+"/"+b,value:a})}),f(j,k),e.openEditor=function(c){a.$broadcast(b.events.openExpressionEditor,{cell:e.cell,path:g+"/"+c.name})},e.cell.on("change",function(a,b){var c=b.propertyPath,d=b.propertyValue;c===i&&f(d)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").directive("rxViewDefinitionSelector",["$timeout","rxViewDefinitionDataPageResource","$rootScope","RX_EXPRESSION_EDITOR","rxViewDefinitionResource",function(a,b,c,d,e){return{templateUrl:"scripts/view-components/action-button/editors/view-definition-selector.directive.html",link:function(a){var b=a.path;a.selectedView={name:a.cell.prop(b)},a.$watch("selectedView.name",function(c,d){a.cell.prop(b,c,{rxSilent:!0})})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").directive("rxViewPresentationParams",["RX_OPEN_VIEW",function(a){return{templateUrl:"scripts/view-components/action-button/editors/view-presentation-params.directive.html",link:function(b){b.options={type:{fullWidth:{label:"Full Width",value:a.type.fullWidth},centered:{label:"Centered Modal",value:a.type.centeredModal},dockedLeft:{label:"Docked Left Modal",value:a.type.dockedLeftModal},dockedRight:{label:"Docked Right Modal",value:a.type.dockedRightModal}},modalSize:{small:{label:"Small",value:a.modalSize.small},medium:{label:"Medium",value:a.modalSize.medium},large:{label:"Large",value:a.modalSize.large}},launchBehavior:{sameWindow:{label:"Open in same window",value:a.launchBehavior.sameWindow},newWindow:{label:"Open in new window",value:a.launchBehavior.newWindow}}};var c={type:a.type.fullWidth,launchBehavior:a.launchBehavior.newWindow},d=b.cell.prop(b.path)||c;d&&(b.value=d),b.cell.prop(b.path,b.value,{rxSilent:!0}),b.$watchCollection("value",function(c,e){if(c!=e){c.type===a.type.fullWidth&&(d.modalSize&&delete d.modalSize,d.title&&delete d.title,b.value.launchBehavior=b.value.launchBehavior||a.launchBehavior.newWindow),c.type!==a.type.dockedLeftModal&&c.type!==a.type.dockedRightModal&&c.type!==a.type.centeredModal||(d.launchBehavior&&delete d.launchBehavior,b.value.modalSize=b.value.modalSize||a.modalSize.medium);var f=b.cell.get("rxData");f.presentation=b.value,b.cell.unset("rxData",{silent:!0}),b.cell.prop("rxData",f,{rxSilent:!0})}})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action").directive("rxAction",["rxAction","$q","rxLog","rxViewComponentEventManager",function(a,b,c,d){return{restrict:"E",template:"",scope:{rxConfiguration:"="},link:function(b,e){function f(a){g.propertyChanged({property:"output",oldValue:void 0,newValue:a})}var g=d.getInstance(b);b.rxConfiguration.api={execute:function(){c.debug("ACTION STARTED: "+b.rxConfiguration.propertiesByName.name);var d=a.executeAction(b.rxConfiguration.propertiesByName.name)({propertiesByName:b.rxConfiguration.propertiesByName});return d&&d.then?d.then(function(a){b.rxConfiguration.propertiesByName.output=a,f(a),c.debug("ACTION COMPLETED: "+b.rxConfiguration.propertiesByName.name)}):(d&&(f(d),c.debug("ACTION COMPLETED: "+b.rxConfiguration.propertiesByName.name)),d)}}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.button-bar").directive("rxButtonBarDesign",["$timeout","rxUtils","rxViewDesignerCommandManager","rxViewDesignerCacheManager","rxViewComponentDefinitionManager","rxContainerDesignManager","rxViewComponent","RX_BUTTON_BAR","RX_VIEW_DEFINITION","RX_VIEW_DESIGNER",function(a,b,c,d,e,f,g,h,i,j){return{restrict:"E",templateUrl:"scripts/view-components/button-bar/button-bar-design.directive.html",scope:{rxConfiguration:"="},link:function(a){function k(){a.$emit(j.events.layoutChanged)}function l(c){var h,j=JSON.parse(c.get("layout")),k=c.get("componentDefinitions"),l=c.get("id"),n=_(k).map(e.getModel).invoke("set","parentModel",c).value();b.flattenTree(j,"columns","children").forEach(function(a){a.componentDefinitionId&&(h=_.find(k,{guid:a.componentDefinitionId}),h?_.assign(a,_.pick(g.findDescriptor(h.type),i.componentDescriptorProperties)):(f.initContainerLayoutProperties(a),a.type=i.baseContainer,a.allowedTypes=[i.actionButtonComponent],a.horizontalList=!0,a.parentModelId=l,_.each(a.columns,function(b){_.each(b.children,function(b){var c=_.find(n,{id:b.componentDefinitionId});c&&c.set("layoutParentId",a.componentDefinitionId)})})),d.putLayoutNode(a.componentDefinitionId,a))}),n.length&&m.addCells(n),j.parentModelId=l,a.containerLayout=c.layoutTree=j}var m=c.get("graph"),n=a.$watch("rxConfiguration.model",function(b){b&&(b.layoutTree?a.containerLayout=b.layoutTree:(c.stopListening(),l(b),c.listen()),a.alignment=(_.find(h.styles,{value:b.prop("rxData/alignment")})||{}).cls||h.styles[0].cls,b.on("change:rxData",function(b,c){a.alignment=(_.find(h.styles,{value:c.alignment})||{}).cls}),b.on(i.events.childAdd,k),b.on(i.events.childRemove,k),n())})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.button-bar").directive("rxButtonBar",["rxUtils","RX_BUTTON_BAR",function(a,b){return{restrict:"E",templateUrl:"scripts/view-components/button-bar/button-bar.directive.html",scope:{rxConfiguration:"="},link:function(c){var d,e=c.rxConfiguration,f=e.componentDefinitions||[],g=_.attempt(JSON.parse.bind(null,e.layout));c.alignment=(_.find(b.styles,{value:e.propertiesByName.alignment})||{}).cls,g=_.isError(g)?{}:g,a.flattenTree(g,"columns","children").forEach(function(b){b.componentDefinitionId&&(d=_.find(f,{guid:b.componentDefinitionId}),d&&(b.type=d.type,b.componentDefinition=d.configuration||d,_.has(b,"componentDefinition.autoFill")&&(b.autoFill=a.tryParseJson(b.componentDefinition.autoFill,!1))))}),c.node=g,c.$watch("rxConfiguration.propertiesByName.hidden",function(a){c.node.hidden=a})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.container").directive("rxContainerDesign",["rxViewComponent","rxUtils","rxContainerDesignManager","rxViewDesignerCacheManager","rxViewDesignerCommandManager","rxViewComponentDefinitionManager","RX_VIEW_DEFINITION","RX_VIEW_DESIGNER",function(a,b,c,d,e,f,g,h){return{restrict:"E",templateUrl:"scripts/view-components/container/container-design.directive.html",scope:{rxConfiguration:"="},link:function(i){function j(e){var h,j=_.attempt(JSON.parse.bind(null,e.get("layout"))),k=e.get("componentDefinitions"),l=e.get("id"),n=_(k).map(f.getModel).invoke("set","parentModel",e).value();j=_.isError(j)?{}:j;var o=j.allowedTypes=e.get("allowedTypes");b.flattenTree(j,"columns","children").forEach(function(b){b.componentDefinitionId&&(h=_.find(k,{guid:b.componentDefinitionId}),h?_.assign(b,_.pick(a.findDescriptor(h.type),g.componentDescriptorProperties)):(c.initContainerLayoutProperties(b),b.type=g.baseContainer,b.parentModelId=l,b.allowedTypes=o,_.each(b.columns,function(a){a.span=a.span||12,_.each(a.children,function(a){var c=_.find(n,{id:a.componentDefinitionId});c&&c.set("layoutParentId",b.componentDefinitionId)})})),d.putLayoutNode(b.componentDefinitionId,b))}),n.length&&m.addCells(n),i.containerLayout=e.layoutTree=j}function k(){i.$emit(h.events.layoutChanged)}var l,m=e.get("graph");i.rxConfiguration.onBeforeDrop=i.rxConfiguration.onBeforeDrop||angular.noop;var n=i.$watch("rxConfiguration.model",function(a){l=a,l&&(l.layoutTree?i.containerLayout=l.layoutTree:(e.stopListening(),j(l),e.listen()),l.on("layout:columnSpan",k),n())});i.$on("$destroy",function(){l&&l.off("layout:columnSpan")}),i.onBeforeDrop=function(a,b){i.rxConfiguration.onBeforeDrop(a,b)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.container").directive("rxContainer",["rxUtils",function(a){return{restrict:"E",templateUrl:"scripts/view-components/container/container.directive.html",scope:{rxConfiguration:"="},link:function(b){var c,d=b.rxConfiguration,e=d.componentDefinitions||[],f=_.attempt(JSON.parse.bind(null,d.layout));f=_.isError(f)?{}:f,a.flattenTree(f,"columns","children").forEach(function(b){b.componentDefinitionId&&(c=_.find(e,{guid:b.componentDefinitionId}),c&&(b.type=c.type,b.componentDefinition=c.configuration||c,_.has(b,"componentDefinition.autoFill")&&(b.autoFill=a.tryParseJson(b.propertiesByName.autoFill,!1))))}),f.styles=(d.propertiesByName.styles||"").replace(/^"(.*)"$/,"$1"),b.node=f,b.$watch("rxConfiguration.propertiesByName.hidden",function(a){b.node.hidden=a})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxInspectorRecordDefinitionFields",["$q","$uibModal","RX_RECORD_EDITOR","RX_RECORD_DEFINITION","rxViewComponent",function(a,b,c,d,e){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/editors/inspector-record-definition-fields.directive.html",controller:"InspectorRecordDefinitionFieldsDirectiveController",link:function(a){function c(){a.fields=_(a.cell.getDefinitionsForRecordFieldBindableComponents()).map(function(b){return{id:b.guid,name:f(b),editorName:e.findDescriptor(b.type).name,order:a.cell.getLayoutOrder(b)}}).sortBy("order").value()}function f(a){return _.get(a,"propertiesByName.label",g(a.propertiesByName.fieldId))}function g(b){var c=_.find(a.cell.get("fieldDefinitions"),{id:+b});return c?c.name:d.EMPTY_FIELD_NAME_OPTION.content}function h(b){var c=a.cell.getDefinitionsForRecordFieldBindableComponents(),d=[],e=[];_.each(b,function(a){var b=_.find(c,function(b){return Number(b.propertiesByName.fieldId)===a.fieldId});b&&!a.selected?e.push(b.guid):!b&&a.selected&&d.push(a.fieldId)}),_.each(e,function(b){a.removeField(b)}),_.each(d,function(b){a.cell.addField(b)})}a.fields=[],a.$watchCollection("cell.attributes.componentDefinitions",c),a.removeField=a.cell.removeField,a.openEditor=function(){b.open({templateUrl:"scripts/view-components/record-editor/editors/inspector-record-editor-field-selector.html",controller:"RecordEditorFieldSelectorController",windowClass:"rx-inspector-dialog rx-inspector-record-definition-fields-dialog",animation:!1,backdropClass:"backdrop-transparent",resolve:{fields:a.getFields}}).result.then(h)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxAssociationDesign",function(){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/association/association-design.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(a){function b(){a.previewCardFields=_.map(a.rxConfiguration.model.prop("rxData/displayedFields"),function(a){return{label:a.label,value:a.name}})}a.rxConfiguration.model.on("change:rxData",b),b()}]}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxAssociation",["$q","$timeout","$filter","RX_RECORD_EDITOR","RX_RECORD_DEFINITION","RX_ASSOCIATION_DEFINITION","rxViewComponentEventManager",function(a,b,c,d,e,f,g){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/association/association.directive.html",scope:{rxConfiguration:"="},require:["^rxRecordEditor","^form"],link:function(a,b,h,i){function j(b){var c=_.find(a.rxConfiguration.componentDefinitions,function(a){return a.type===d.association.componentTypes.actionButton&&a.propertiesByName.action===b});return c&&(c.propertiesByName.disabled=t.disabled),c}function k(){var b=m();_.each(a.existingPreviewConfigurations,function(a){a.state=b}),_.each(a.pendingPreviewConfigurations,function(a){a.state=b})}function l(a){var b=m();return _.map(a,function(a){return n(a,u,b)})}function m(){return a.areActionsAvailable()&&!t.disabled?d.defaultState.edit:d.defaultState.read}function n(a,b,d){return{id:a.id,state:d,onDelete:o,fields:_.map(b,function(b){var d,f=y[b.fieldId],g=a.fieldInstances[b.fieldId];return g&&(d=g.value),f.resourceType===e.dataTypes.selection.resourceType&&(d=f.optionNamesById[d]),(f.resourceType===e.dataTypes.dateTime.resourceType||f.resourceType===e.dataTypes.dateTime.dateOnly&&_.isString(d))&&(d=c("date")(d,"medium")),{label:b.label,value:d||"<unknown>"}})}}function o(b){w.$setDirty(),a.associationManager["delete"](b)}function p(){a.associationManager=q(),a.associationManager.initialize().then(function(){y=_.transform(u,function(b,c){var d=_.find(a.associationManager.recordDefinition.fieldDefinitions,{id:Number(c.fieldId)});b[d.id]=d}),a.loadExistingAssociations(),a.$watchCollection("associationManager.existing",function(b){a.existingPreviewConfigurations=l(b)}),a.$watchCollection("associationManager.pending",function(b){a.pendingPreviewConfigurations=l(b),a.totalPendingCount=a.pendingPreviewConfigurations.length})})}function q(){return v.getAssociationManager({associationDefinitionName:t.associationDefinitionName,associatedRecordNodeSide:t.associatedRecordNodeSide||f.roles.second.value,associatedRecordInstanceId:t.recordInstance.id,recordDefinitionName:t.recordDefinitionName,fieldIds:_.map(u,"fieldId")})}function r(){return t.recordInstance&&t.recordDefinition&&t.associationDefinitionName}function s(){return _(a.rxConfiguration.componentDefinitions).filter({type:d.association.componentTypes.associatedRecordField}).sortBy("index").map(function(a){return{fieldId:a.propertiesByName.fieldId,label:a.propertiesByName.label}}).value()}var t=a.rxConfiguration.propertiesByName,u=s(),v=i[0],w=i[1],x=g.getInstance(a),y={};a.RX_RECORD_EDITOR=d,a.RX_ASSOCIATION_DEFINITION=f,a.associationManager=null,a.associateButtonConfiguration=j(d.association.actions.associate),a.createAndAssociateButtonConfiguration=j(d.association.actions.createAndAssociate);var z=10;a.currentPendingPageIndex=10,a.totalPendingCount=0,a.canShowPendingMore=!1,a.showPendingAssociations=function(){a.currentPendingPageIndex+=z},a.getPendingPreviewConfigurations=function(){return a.pendingPreviewConfigurations.slice(0,a.currentPendingPageIndex)},a.existingPreviewConfigurations=[],a.pendingPreviewConfigurations=[],a.deleteAllExisting=function(){w.$setDirty(),a.associationManager.deleteAllExisting()},a.deleteAllPending=function(){a.associationManager.deleteAllPending()},a.loadExistingAssociations=function(){a.associationManager.loadExistingAssociations()},a.areActionsAvailable=function(){return t.state===d.defaultState.edit&&_.get(a,"associationManager.associationDefinition")},a.rxConfiguration.api=a.rxConfiguration.api||{},_.assign(a.rxConfiguration.api,{associate:function(b){w.$setDirty(),a.associationManager.addToPending(b)}}),x.propertyChanged({property:"api",newValue:a.rxConfiguration.api}),a.$watch("rxConfiguration.propertiesByName.recordInstance",function(){r()&&p()}),a.$watch("rxConfiguration.propertiesByName.disabled",function(){a.associateButtonConfiguration.propertiesByName.disabled=t.disabled,a.createAndAssociateButtonConfiguration&&(a.createAndAssociateButtonConfiguration.propertiesByName.disabled=t.disabled),k()}),a.$watch("rxConfiguration.propertiesByName.state",function(){a.currentPendingPageIndex=10,k()})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").directive("rxInspectorAssociatedRecordFieldSelector",["$uibModal",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/association/editors/inspector-associated-record-field-selector.directive.html",controller:["$scope",function(b){function c(a){_.each(b.displayedFields,function(a,b){a.index=b});var c=d.get("rxData");c.displayedFields=a,d.unset("rxData",{silent:!0}),d.set("rxData",c,{rxSilent:!0})}var d=b.cell;b.displayedFields=_.cloneDeep(d.prop(b.path))||[],b.openEditor=function(c){a.open({templateUrl:"scripts/view-components/record-editor/field-components/association/editors/associated-record-field-selector-dialog.html",controller:"AssociatedRecordFieldSelectorDialogController",backdrop:"static",resolve:{context:{selectedFieldIndex:c,displayedFields:b.displayedFields,fields:_.map(d.recordDefinition.fieldDefinitions,function(a){return{fieldId:String(a.id),name:a.name}})}},windowClass:"rx-item-selector-dialog"}).result.then(function(a){b.displayedFields=a})},b.remove=function(a){b.displayedFields.splice(a,1),c(b.displayedFields)},b.$watch("displayedFields",function(a,b){a!==b&&c(a)})}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxAttachmentFieldDesign",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/attachment-field/attachment-field-design.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(b){a("RxRecordEditorFieldComponentDesignController",{
$scope:b})}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxAttachmentField",["$timeout","$controller","rxRecordInstanceAttachmentResource",function(a,b,c){var d=function(a){var b=a,c=a.name;return{getFile:function(){return b},getName:function(){return c}}};return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/attachment-field/attachment-field.directive.html",scope:{rxConfiguration:"="},require:"^form",link:function(e,f,g,h){function i(){j=k.findFieldInstance(e.rxConfiguration.propertiesByName.fieldId),e.attachment=j.value}var j,k=b("RxRecordEditorFieldComponentController",{$scope:e,$element:f}),l=e.fieldDefinition=k.findFieldDefinition(e.rxConfiguration.propertiesByName.fieldId),m=c.withName(e.rxConfiguration.propertiesByName.recordDefinition.name);k.triggerPropertyChangedEvent("api",e.rxConfiguration.api),e.form=h,e.$watch("rxConfiguration.propertiesByName.recordInstance",i),f.on("change",'input[type="file"]',function(b){b.target.files.length>0&&a(function(){j.file=new d(b.target.files[0]),e.form.$setDirty(),e.attachment=j.file.getName()})}),e.saveAttachment=function(){j.value&&m.get(e.rxConfiguration.propertiesByName.recordInstance.id,l.id.toString()).then(function(a){if(a){var b=new Uint8Array(a.data),c=new Blob([b],{type:a.headers("content-type")});saveAs(c,e.attachment)}})},e.addAttachment=function(){f.find(".rx-attachment-input").click()},e.remove=function(){j.value=null,j.file=null,e.form.$setDirty(),e.attachment=null},i()}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxBooleanFieldDesign",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/boolean-field/boolean-field-design.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(b){a("RxRecordEditorFieldComponentDesignController",{$scope:b})}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxBooleanField",["rxGUID","$controller",function(a,b){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/boolean-field/boolean-field.directive.html",scope:{rxConfiguration:"="},link:function(a,c){var d=b("RxRecordEditorFieldComponentController",{$scope:a,$element:c});a.getFormattedValue=function(){return"1"===a.fieldInstance.value?"True":"False"},d.init()}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxCharacterFieldDesign",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/character-field/character-field-design.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(b){a("RxRecordEditorFieldComponentDesignController",{$scope:b})}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxCharacterField",["$controller","rxNamedListManager","rxRecordEditorUtils","RX_RECORD_DEFINITION",function(a,b,c,d){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/character-field/character-field.directive.html",scope:{rxConfiguration:"="},require:"^form",link:function(e,f,g,h){var i=";",j=a("RxRecordEditorFieldComponentController",{$scope:e,$element:f});e.getFormattedValue=function(){var a=e.fieldInstance.value;return e.fieldDefinition.namedListDefinition&&!e.rxConfiguration.propertiesByName.enableMultiSelection&&(a=_.isString(e.fieldInstance.value)&&_.contains(e.fieldInstance.value,i)&&e.selectOptions.length?_(e.fieldInstance.value.split(i)).map(function(a){var b=_.find(e.selectOptions,{value:a})||a;return b.label||b}).join(i):e.selectedOption?e.selectedOption.label:""),e.isPasswordField&&(a="********"),a},j.init(),e.form=h,e.multiSelectModel={},e.isPasswordField=_.includes(d.AR_PASSWORD_FIELD_IDS,e.fieldDefinition.id),e.maxLength=c.isSystemLikeField(e.fieldDefinition)?void 0:e.fieldDefinition.maxLength||void 0,e.selectOptions=[],e.encryptedPassword="********",_.isString(e.rxConfiguration.propertiesByName.enableMultiSelection)&&(e.rxConfiguration.propertiesByName.enableMultiSelection="true"===e.rxConfiguration.propertiesByName.enableMultiSelection),e.rxConfiguration.propertiesByName.enableMultiSelection&&(e.checkbox=!0,e.search=!0),e.fieldDefinition.namedListDefinition&&(b.loadNamedListValues(e.fieldDefinition.namedListDefinition).then(function(a){e.selectOptions=a,e.selectedOption=_.find(e.selectOptions,{value:e.fieldInstance.value}),e.formattedLabels=e.getLabelsForMultiSelect(),_.isString(e.fieldInstance.value)&&_.isUndefined(e.multiSelectModel.value)&&(e.multiSelectModel.value=e.fieldInstance.value.split(i))}),e.$watch("fieldInstance.value",function(a,b){e.selectedOption&&e.selectedOption.value!==a&&(e.selectedOption=_.find(e.selectOptions,{value:e.fieldInstance.value}))})),e.onSelect=function(a){e.selectedOption=a,e.fieldInstance.value=a&&a.value||null},e.getLabelsForMultiSelect=function(){var a=6,b=e.fieldInstance.value,c=_.isString(b)?b.split(i):b,d=_(c).map(function(a){var b=_.find(e.selectOptions,{value:a});return b?b.label:null}).compact().value();return{shown:_.slice(d,0,a),rest:_.slice(d,a)}},e.onMultiSelectChange=function(a){e.fieldInstance.value=_.isArray(a)?a.join(i):null,e.formattedLabels=e.getLabelsForMultiSelect()},e.onPasswordChange=function(){var a=f.find("input")[0];e.fieldInstance.value=a.value}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxDateFieldDesign",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/date-field/date-field-design.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(b){a("RxRecordEditorFieldComponentDesignController",{$scope:b})}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxDateField",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/date-field/date-field.directive.html",scope:{rxConfiguration:"="},require:"^form",controller:["$scope",function(a){a.datepickerOptions={showWeeks:!1},a.data={opened:!1},a.open=function(b){b.preventDefault(),b.stopPropagation(),a.data.opened=!a.data.opened},a.dateChanged=function(){a.fieldInstance.value=moment(a.data.date).format("YYYY-MM-DD")}}],link:function(b,c,d,e){function f(a){a&&(b.data.date=moment(a,"YYYY-MM-DD").toDate())}var g=a("RxRecordEditorFieldComponentController",{$scope:b,$element:c});g.init(),f(b.fieldInstance.value),b.form=e,b.$watch("fieldInstance",function(){f(b.fieldInstance.value)}),b.$watch("fieldInstance.value",function(a,c){a&&moment(b.data.date).format("YYYY-MM-DD")!=a&&f(a)}),b.getFormattedValue=function(){return b.fieldInstance.value}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxDateTimeFieldDesign",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/date-time-field/date-time-field-design.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(b){a("RxRecordEditorFieldComponentDesignController",{$scope:b}),b.ismeridian=!0}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxDateTimeField",["$controller","$filter",function(a,b){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/date-time-field/date-time-field.directive.html",require:"^form",scope:{rxConfiguration:"="},controller:["$scope",function(a){a.data={opened:!1,date:null},a.datepickerOptions={showWeeks:!1},a.open=function(b){b.preventDefault(),b.stopPropagation(),a.data.opened=!a.data.opened},a.hstep=1,a.mstep=15,a.ismeridian=!0,a.timeChanged=function(){a.fieldInstance.value=moment(a.data.date).toISOString()},a.dateChanged=function(){a.fieldInstance.value=moment(a.data.date).toISOString()}}],link:function(c,d,e,f){function g(a){_.isDate(a)||(c.data.date=Date.parse(a)?new Date(a):null)}var h=a("RxRecordEditorFieldComponentController",{$scope:c,$element:d});c.getFormattedValue=function(){return b("date")(c.fieldInstance.value,"medium")},h.init(),g(c.fieldInstance.value),c.form=f,c.$watch("fieldInstance",function(){g(c.fieldInstance.value)}),c.$watch("fieldInstance.value",function(a){a&&moment(c.data.date).toISOString()!=a&&g(a)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxDecimalField",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/decimal-field/decimal-field.directive.html",scope:{rxConfiguration:"="},require:"^form",link:function(b,c,d,e){var f=a("RxRecordEditorFieldComponentController",{$scope:b,$element:c});f.init(),b.form=e,b.getFormattedValue=function(){return b.fieldInstance.value}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxFloatingField",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/floating-field/floating-field.directive.html",scope:{rxConfiguration:"="},require:"^form",link:function(b,c,d,e){var f=a("RxRecordEditorFieldComponentController",{$scope:b,$element:c});f.init(),b.form=e,b.getFormattedValue=function(){return b.fieldInstance.value}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxIntegerField",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/integer-field/integer-field.directive.html",scope:{rxConfiguration:"="},require:"^form",link:function(b,c,d,e){var f=a("RxRecordEditorFieldComponentController",{$scope:b,$element:c});f.init(),b.form=e,b.getFormattedValue=function(){return b.fieldInstance.value}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.record-preview-card").directive("rxRecordPreviewCard",["RX_RECORD_EDITOR",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/record-preview-card/record-preview-card.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(b){b.maxFieldValueLength=b.rxConfiguration.maxFieldValueLength||200,b.isEditableState=function(){return b.rxConfiguration.state===a.defaultState.edit}}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxSelectGroupDesign",function(){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/select-group/select-group-design.directive.html",scope:{rxConfiguration:"="},link:function(a){function b(){_.assign(d,_.cloneDeep(c.model.get("rxData")))}var c=a.rxConfiguration,d=a.fieldDefinition={fieldList:[]},e=a.$watch("rxConfiguration.model",function(a){a&&(b(),a.on("change:rxData",b),e())})}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxSelectGroup",["$controller","$q","rxRecordEditorCache","rxNamedListManager",function(a,b,c,d){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/select-group/select-group.directive.html",scope:{rxConfiguration:"="},link:function(e,f){function g(a){d.loadNamedListValues(a.namedListDefinitionName,a.query).then(function(b){a.selectOptions=b,a.selectedOption=_.find(a.selectOptions,{value:a.instance.value})||""})}function h(a){var b,c;_.size(a)>0&&a.reduce(function(a,d){return c=a.instance.value,b=c&&"('"+a.name+"' = \""+c+'")'||"",d.query=_([a.query,b]).compact().value().join(" AND "),d})}function i(){var a=_(l.componentDefinitions||[]).map("propertiesByName").sortBy("index").value(),d=a.map(function(a){a.instance=m.findFieldInstance(a.fieldId),a.definition=m.findFieldDefinition(a.fieldId);var d=b.defer();return j(a.namedListDefinitionName).then(function(b){c.getRecordDefinition(b.recordDefinitionName).then(function(c){var d=_.find(c.fieldDefinitions,{id:b.valueFieldId});d&&(a.name=d.name,a.fieldOption=d.fieldOption)}).then(d.resolve)}),d.promise});b.all(d).then(function(){h(a),a.forEach(g)}),k=e.fieldList=a}function j(a){return c.getNamedListDefinition(a)}var k,l=e.rxConfiguration,m=a("RxRecordEditorFieldComponentController",{$scope:e,$element:f});m.triggerPropertyChangedEvent("api",l.api),e.$watch("rxConfiguration.propertiesByName.recordInstance",function(a){a&&i()}),e.onListItemSelect=function(a,b){var c,d=_.indexOf(k,b),e=_.get(a,"value",null);if(b.instance.value!==e&&(b.instance.value=e,d!==k.length-1)){for(;d<k.length-1;)c=k[++d],c.instance.value=null,c.query="",c.reloadValues=!0;h(k),_.forEach(k,function(a){a.reloadValues&&(g(a),a.reloadValues=!1)})}}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxSelectionFieldDesign",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/selection-field/selection-field-design.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(b){a("RxRecordEditorFieldComponentDesignController",{$scope:b})}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxSelectionField",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/selection-field/selection-field.directive.html",scope:{rxConfiguration:"="},link:function(b,c){function d(){b.selectedOption={model:_.find(b.selectOptions,{value:b.fieldInstance.value})||""}}var e=!1,f=b.rxConfiguration.propertiesByName.localizedStrings||[],g=a("RxRecordEditorFieldComponentController",{$scope:b,$element:c});b.getFormattedValue=function(){return b.selectedOption.model.content},g.init(),b.selectOptions=_.map(b.fieldDefinition.optionLabelsById,function(a,c){return{content:f[a]||b.fieldDefinition.optionNamesById[c],value:c}}),b.onModelValueChange=function(a){a?(b.fieldInstance.value!=a.value&&(e=!0),b.fieldInstance.value=parseInt(a.value)):(_.isNull(b.fieldInstance.value)||(e=!0),b.fieldInstance.value=null)},b.$watch("fieldInstance",function(){d()}),b.$watch("fieldInstance.value",function(a,c){e||c===a||(b.fieldDefinition.optionNamesById[a]?b.selectedOption.model={value:a,content:b.fieldDefinition.optionNamesById[a]}:_.forEach(b.fieldDefinition.optionNamesById,function(c,d){c===a&&(b.selectedOption.model={value:d,content:a})})),e=!1})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxTextareaFieldDesign",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/textarea-field/textarea-field-design.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(b){a("RxRecordEditorFieldComponentDesignController",{$scope:b})}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxTextareaField",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/textarea-field/textarea-field.directive.html",scope:{rxConfiguration:"="},require:"^form",link:function(b,c,d,e){var f=a("RxRecordEditorFieldComponentController",{$scope:b,$element:c});f.init(),b.form=e,b.getFormattedValue=function(){return b.fieldInstance.value}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxTimeFieldDesign",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/time-field/time-field-design.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(b){a("RxRecordEditorFieldComponentDesignController",{$scope:b}),b.ismeridian=!0}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxTimeField",["$controller",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/field-components/time-field/time-field.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(a){a.hstep=1,a.mstep=15,a.ismeridian=!0,a.data={time:""},a.timeChanged=function(){a.fieldInstance.value=moment(a.data.time).format("HH:mm:ss")}}],link:function(b,c){function d(a){a&&(b.data.time=moment(a,"HH-mm-ss").format())}var e=a("RxRecordEditorFieldComponentController",{$scope:b,$element:c});b.getFormattedValue=function(){return moment(b.data.time).format("HH:mm:ss")},e.init(),d(b.fieldInstance.value),b.$watch("fieldInstance.value",function(a,c){a&&moment(b.data.time).format("HH:mm:ss")!=a&&d(a)}),b.$watch("fieldInstance",function(){d(b.fieldInstance.value)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxRecordEditorComponentRenderer",["RX_VIEW_DEFINITION","RX_RECORD_EDITOR","rxUtils","$compile",function(a,b,c,d){return{restrict:"E",scope:{rxComponentDefinition:"=",rxState:"="},link:function(b,e){function f(b,c){_.each(b.componentDefinitions,function(b){b.type===a.containerComponent?f(b,c):b.configuration.propertiesByName.state=c})}function g(a){return{guid:a.guid,componentDefinitions:a.componentDefinitions,propertiesByName:_.assign(a.propertiesByName,{state:b.rxState})}}var h,i=b.$new(!0),j='<{type} rx-view-component-id="{guid}" rx-configuration="configuration"></{type}>';b.rxComponentDefinition.type===a.containerComponent?(h=a.runtimeContainerElementTemplate.replace("{guid}",b.rxComponentDefinition.guid),i.node=b.rxComponentDefinition,_.each(b.rxComponentDefinition.componentDefinitions,function(b){b.type!==a.containerComponent?b.configuration=g(b):c.flattenTree(b,"componentDefinitions").forEach(function(b){b.type!==a.containerComponent&&(b.configuration=g(b))})})):(h=j.replace(/\{type}/g,b.rxComponentDefinition.type).replace("{guid}",b.rxComponentDefinition.guid),i.configuration=g(b.rxComponentDefinition)),e.html(d(h)(i)),b.$watch("rxState",function(c){b.rxComponentDefinition.type===a.containerComponent?f(b.rxComponentDefinition,c):i.configuration.propertiesByName.state=c})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxRecordEditorDesign",["$timeout","RX_RECORD_EDITOR","RX_VIEW_DESIGNER","RX_VIEW_DEFINITION","rxContainerDesignManager","rxRecordEditorUtils","rxViewComponent","rxViewComponentDefinitionManager","rxViewDesignerCommandManager","rxViewDesignerCacheManager","rxUtils",function(a,b,c,d,e,f,g,h,i,j,k){var l=_(g.getRegisteredComponents()).filter("canBeEmbeddedInRecordEditor").map("type").value();return{restrict:"E",templateUrl:"scripts/view-components/record-editor/record-editor-design.directive.html",scope:{rxConfiguration:"="},link:function(b){function m(){a(function(){b.$emit(c.events.layoutChanged)})}function n(a){var c,f=JSON.parse(a.get("layout")),i=a.get("componentDefinitions"),m=a.get("id"),n=_(i).map(h.getModel).invoke("set","parentModel",a).value();f.allowedTypes=l,f.parentModelId=m,k.flattenTree(f,"columns","children").forEach(function(a){if(a.componentDefinitionId){if(c=_.find(i,{guid:a.componentDefinitionId})){if(_.assign(a,_.pick(g.findDescriptor(c.type),d.componentDescriptorProperties)),a.type===d.containerComponent){var b=_.find(n,{id:a.componentDefinitionId});b&&b.set("allowedTypes",l)}}else e.initContainerLayoutProperties(a),a.type=d.baseContainer,a.allowedTypes=l,a.parentModelId=m,_.each(a.columns,function(b){_.each(b.children,function(b){var c=_.find(n,{id:b.componentDefinitionId});c&&c.set("layoutParentId",a.componentDefinitionId)})});j.putLayoutNode(a.componentDefinitionId,a)}}),n.length&&p.addCells(n),b.recordEditorLayout=a.layoutTree=f}var o,p=i.get("graph"),q=b.$watch("rxConfiguration.model",function(a){a&&(a.layoutTree?b.recordEditorLayout=a.layoutTree:(i.stopListening(),n(a),i.listen()),a.on(d.events.childAdd,m),a.on(d.events.childRemove,m),q()),o=a});b.isFormEmpty=function(){return o&&_.isEmpty(o.get("componentDefinitions"))},b.onBeforeDrop=function(a,c){var e,g=j.getModelById(c.componentDefinitionId);g?(e=f.getParentRecordEditorModel(g),e&&e.get("id")===o.get("id")||(a.dropPrevented=!0)):c.type===d.containerComponent&&(c.allowedTypes=_.values(_.reject(l,d.containerComponent)),c.onBeforeDrop=b.onBeforeDrop)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").directive("rxRecordEditor",["$compile","$rootScope","$timeout","$q","$translate","RX_RECORD_EDITOR","RX_VIEW_COMPONENT","RX_VIEW_DEFINITION","RX_RECORD_DEFINITION","rxRecordDefinitionUtils","rxRecordEditorUtils","dialogs","rxAssociationManager","rxNotificationMessage","rxLog","rxUtils","rxRecordEditorCache","rxViewComponentEventManager","rxRecordInstanceResource","rxRecordInstanceUpdate",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){return{restrict:"E",templateUrl:"scripts/view-components/record-editor/record-editor.directive.html",scope:{rxConfiguration:"="},controller:["$scope",function(a){function c(a,b){var c=_.get(e,[a,b]);return c||(_.set(e,[a,b],{}),c=_.get(e,[a,b]),c.existing=[],c.pending=[],c.deleted=[]),c}var e,f={},g={};this.getAssociationManager=function(a){var b=f[a.associationDefinitionName+":"+a.associatedRecordNodeSide];return b?b.mergeFieldIds(a.fieldIds):(a.associationInstances=c(a.associationDefinitionName,a.associatedRecordNodeSide),b=new m(a),f[a.associationDefinitionName+":"+a.associatedRecordNodeSide]=b),b},this.getAssociationManagers=function(){return f},this.on=function(a,c,d){rx.assert.assert(a instanceof b.constructor,"$scope should be an instance of Scope class."),rx.assert.assertStringWithLength(c),rx.assert.assertFunction(d),g[c]=g[c]||[],g[c].push(d),a.$on("$destroy",function(){_.pull(g[c],d)})},this._triggerEvent=function(a){var b=_.map(g[a],function(a){return a()});return d.all(b)["catch"](function(){return d.reject("rxRecordEditor: save operation rejected by a custom beforeSave event handler.")})},a.$watch("rxConfiguration.propertiesByName.recordInstance",function(b){b?(a.rxConfiguration.propertiesByName.recordInstance.associationInstances||(a.rxConfiguration.propertiesByName.recordInstance.associationInstances={},f={}),e=a.rxConfiguration.propertiesByName.recordInstance.associationInstances):(e=null,f={})})}],link:function(a,b,m,u){function v(a,b,c,d){var e,g=_.map(w(c),"propertiesByName.fieldId"),h=_.filter(a,{fieldOption:"REQUIRED"});return d===f.modes.create?e=_.filter(h,function(a){return!a.defaultValue&&!_.contains(g,a.id)}):(e=_.filter(h,function(a){return!_.contains(g,a.id)}),_.remove(e,function(a){return _.find(b,{id:a.id}).value})),_.map(e,"name")}function w(a){return _(a).transform(function(a,b){b.type!==h.containerComponent?a.push(b):a.push(w(b.componentDefinitions))}).flatten().value()}function x(a){return q.getRecordDefinition(a).then(function(a){return a.fieldDefinitionsById=j.buildFieldDefinitionsByIdMap(a),a})}function y(){a.componentDefinitions=[],G.recordInstance=null,G.recordDefinition=null,a.rxRecordEditorForm.$setPristine(),a.isConfigValid()&&d.all({recordDefinition:x(G.recordDefinitionName),recordInstance:z()}).then(function(b){if(!a.$$destroyed){G.recordDefinition=b.recordDefinition,G.recordInstance=b.recordInstance,a.recordDefintion=G.recordDefinition,F.componentDefinitions=k.stripInvalidFieldViewComponents(F.componentDefinitions,a.recordDefintion),a.missingRequiredFields=v(b.recordDefinition.fieldDefinitions,b.recordInstance.fieldInstances,F.componentDefinitions,G.mode);var d,e=p.tryParseJson(F.layout,{}),f=_.get(e,"columns[0].children",[]);_.each(f,function(a,b){d=_.find(F.componentDefinitions,{guid:a.componentDefinitionId}),d&&(d.order=b)}),a.componentDefinitions=F.componentDefinitions,c(B)}})}function z(){return G.mode===f.modes.edit?I.get(G.recordInstanceId):I.getNew()}function A(){return a.rxRecordEditorForm&&G.recordInstance&&_.isEmpty(a.missingRequiredFields)&&a.rxRecordEditorForm.$valid}function B(){var a=F.api.isValid();a!==E&&(J.propertyChanged({property:"isValid",oldValue:E,newValue:a}),E=a)}function C(){a.rxRecordEditorForm.$setPristine(),a.state&&a.switchToState(f.defaultState.read)}var D,E=!1,F=a.rxConfiguration,G=F.propertiesByName,H=Boolean(G.defaultState),I=s.withName(G.recordDefinitionName),J=r.getInstance(a);a.template=G.template||f.templates["default"],a.state=G.defaultState||f.defaultState.edit,a.styles=G.styles,a.columns=G.columns||1,a.missingRequiredFields=[],a.fieldGroupFilters=[f.fieldGroupTypes.required,f.fieldGroupTypes.optional],G.mode===f.modes.edit&&a.fieldGroupFilters.push(f.fieldGroupTypes.systemLike),q.registerConsumer(a),a.isConfigValid=function(){return G.mode===f.modes.create||Boolean(G.recordInstanceId)},y(),F.api=F.api||{},_.assign(F.api,{isDirty:function(){return a.rxRecordEditorForm&&a.rxRecordEditorForm.$dirty},isValid:A,setProperty:function(b,e){return _.isString(b)&&b.length&&("recordInstance"!==b||"recordDefinition"!==b)?d(function(d){var f=_.get(a.rxConfiguration.propertiesByName,b);f!==e&&(_.set(a.rxConfiguration.propertiesByName,b,e),a.rxRecordEditorForm.$setDirty()),c(d)}):d.reject()},save:function(){return a.canSave()?a.save():d.reject()},getRecordDefinition:function(){return G.recordDefinition},getRecordInstance:function(){return G.recordInstance}}),J.propertyChanged({property:"api",newValue:a.rxConfiguration.api}),J.propertyChanged({property:"inReadState",newValue:a.state===f.defaultState.read}),G.mode===f.modes.edit&&a.$watch("rxConfiguration.propertiesByName.recordInstanceId",function(a,b){a!==b&&y()}),a.$watch("rxConfiguration.propertiesByName.recordDefinition",function(a,b){a!==b&&J.propertyChanged({property:"recordDefinition",oldValue:b,newValue:a})}),a.$watch("rxConfiguration.propertiesByName.recordInstance",function(a,b){a!==b&&(J.propertyChanged({property:"recordInstance",oldValue:b,newValue:a}),_.isUndefined(b)||B())},!0),a.canSave=function(){return A()&&!D&&(G.mode===f.modes.create||a.rxRecordEditorForm.$dirty)},a.save=function(){return u._triggerEvent(f.events.beforeSave).then(function(){return D=!0,G.mode===f.modes.edit?t.execute(G.recordInstance).then(function(){a.rxRecordEditorForm.$setPristine(),I.get(G.recordInstanceId).then(function(b){G.recordInstance=b,J.action(g.actions.save,{recordInstanceId:G.recordInstance.id}),H&&a.state===f.defaultState.edit&&a.switchToState(f.defaultState.read)})}):I.post(G.recordInstance).then(function(b){a.rxRecordEditorForm.$setPristine(),_.set(G.recordInstance,"fieldInstances["+i.coreFieldIds.id+"].value",b.id),G.recordInstance.id=b.id,J.propertyChanged({property:"recordInstance",newValue:G.recordInstance}),J.action(g.actions.save,{recordInstanceId:b.id}),y()})}).then(function(){_.each(u.getAssociationManagers(),function(a){a.reset(),a.loadExistingAssociations()}),n.success(e.instant("com.bmc.arsys.rx.standardlib.view-components.record-editor.save.success")),u._triggerEvent(f.events.afterSave)})["catch"](function(a){o.debug(a)})["finally"](function(){D=!1})},a.isSaveButtonAvailable=function(){return H&&a.state!==f.defaultState.read},a.isEditStateAvailable=function(){return H&&a.state===f.defaultState.read},a.isCancelButtonAvailable=function(){return H&&a.state!==f.defaultState.read&&a.rxConfiguration.propertiesByName.mode===f.modes.edit},a.cancel=function(){H?a.rxRecordEditorForm.$dirty?l.confirm(e.instant("com.bmc.arsys.rx.standardlib.common.dialog.warning.label"),e.instant("com.bmc.arsys.rx.standardlib.common.dialog.dirtyState.message")).result.then(function(){_.each(G.recordInstance.originalFieldInstances,function(b){a.rxConfiguration.propertiesByName.recordInstance.fieldInstances[b.id].value=b.value}),_.each(u.getAssociationManagers(),function(a){a.restore()}),C()}):C():J.action(g.actions.close)},a.switchToState=function(d){b.toggleClass("state-changing"),a.state=d,J.propertyChanged({property:"inReadState",oldValue:a.state===f.defaultState.read,newValue:d===f.defaultState.read}),c(function(){b.toggleClass("state-changing")},100)},a.switchToEditState=function(){a.switchToState(f.defaultState.edit)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").directive("rxInspectorRecordGridColumnEditor",["RX_VIEW_DESIGNER","resourceTypeFilter","$uibModal",function(a,b,c){return{restrict:"E",templateUrl:"scripts/view-components/record-grid/editors/record-grid-column-editor/inspector-record-grid-column-editor.directive.html",link:function(a){a.columns=[],a.cell.getCurrentRecordDefinition().then(function(c){c&&(a.columns=_.map(_.cloneDeep(a.value),function(a){return a.type=b(_.find(c.fieldDefinitions,{id:Number(a.fieldId)}).resourceType),a}))}),a.openEditor=function(b){c.open({templateUrl:"scripts/view-components/record-grid/editors/record-grid-column-editor/record-grid-column-editor.html",controller:"RecordGridColumnEditorController",backdrop:"static",resolve:{columnContext:{cell:a.cell,columnEditId:b,path:a.path}},windowClass:"rx-record-grid-column-editor-dialog"})},a.removeColumn=function(b){a.columns.splice(a.columns.indexOf(b),1);var c=_.map(a.columns,function(a){return _.omit(angular.copy(a),"type")});a.cell.prop(a.path,"",{silent:!0}),a.cell.prop(a.path,c)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").directive("rxInspectorRecordGridSortEditor",function(){return{restrict:"E",templateUrl:"scripts/view-components/record-grid/editors/record-grid-sort-editor/inspector-record-grid-sort-editor.directive.html",controller:["$scope","uiGridConstants",function(a,b){function c(){a.cell.prop(g,a.columns,{rxSilent:!0,rxRecordGridSuppressInitialSortUpdate:!0})}function d(){a.columns=_.cloneDeep(a.cell.prop(g)),a.selectedColumn=_.find(a.columns,function(a){return _.isObject(a.sortable)}),a.selectedDirection=_.get(a,"selectedColumn.sortable.direction")}function e(a,b,c){c.propertyPath!==g||c.rxRecordGridSuppressInitialSortUpdate||d()}function f(b){_.isUndefined(b)||(_.each(a.columns,function(c){b&&b.fieldId===c.fieldId?(c.sortable=_.isObject(c.sortable)?c.sortable:{},a.selectedColumn.sortable=c.sortable=_.defaults(c.sortable,{direction:a.directions[0].value})):_.isObject(c.sortable)&&(c.sortable=!0)}),a.selectedDirection=_.get(a,"selectedColumn.sortable.direction")),c()}var g="rxData/columns";a.directions=[{value:b.ASC,icon:"up"},{value:b.DESC,icon:"down"}],a.initialSortColumnsFilter=function(){return function(a){return a.sortable}},a.changeDirection=function(b){a.selectedColumn.sortable.direction=b},a.isCheckedDirection=function(b){return _.get(a.selectedColumn,"sortable.direction")&&b===a.selectedColumn.sortable.direction},a.cell.listenTo(a.cell,"change:rxData",e),a.$on("$destroy",function(){a.cell.off("change:rxData",e)}),a.$watch("selectedColumn",f),a.$watch("selectedColumn.sortable.direction",c),d()}]}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").directive("rxRecordGridDesign",["rxDesignerCache","rxRecordInstanceDataPageResource","uiGridConstants","rxUtils","rxViewComponent","rxViewComponentDefinitionManager","rxContainerDesignManager","RX_VIEW_DEFINITION","RX_ACTION_BUTTON","rxViewDesignerCacheManager","rxViewDesignerCommandManager","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l){return{restrict:"E",templateUrl:"scripts/view-components/record-grid/record-grid-design.directive.html",scope:{rxConfiguration:"="},link:function(b){function m(a){var c,i=JSON.parse(a.get("layout")),k=a.get("componentDefinitions"),l=a.get("id"),m=_(k).map(f.getModel).invoke("set","parentModel",a).value();d.flattenTree(i,"columns","children").forEach(function(a){
a.componentDefinitionId&&(c=_.find(k,{guid:a.componentDefinitionId}),c?_.assign(a,_.pick(e.findDescriptor(c.type),h.componentDescriptorProperties)):(g.initContainerLayoutProperties(a),a.type=h.baseContainer,a.allowedTypes=[h.actionButtonComponent],a.horizontalList=!0,a.parentModelId=l,_.each(a.columns,function(b){_.each(b.children,function(b){var c=_.find(m,{id:b.componentDefinitionId});c&&c.set("layoutParentId",a.componentDefinitionId)})})),j.putLayoutNode(a.componentDefinitionId,a))}),m.length&&o.addCells(m),i.parentModelId=l,b.recordGridLayout=a.layoutTree=i}function n(a,c){for(;c.length>1;)c[0].unsort(),c.shift();var d=_.cloneDeep(b.rxConfiguration.model.prop("rxData/columns"));_.each(d,function(a){var b=_.find(c,{field:a.fieldId});b?a.sortable=_.pick(b.sort,"direction"):_.isObject(a.sortable)&&(a.sortable=!0)}),b.rxConfiguration.model.prop("rxData/columns",d,{rxSilent:!0,rxRecordGridSuppressRebuild:!0})}var o=k.get("graph"),p=b.$watch("rxConfiguration.model",function(a){a&&(a.layoutTree?b.recordGridLayout=a.layoutTree:(k.stopListening(),m(a),k.listen()),p())});b.onBeforeDrop=function(a,b){b.type===h.actionButtonComponent&&_.assign(b.propertiesByName,{style:i.styleOptions.clear})},b.gridOptions={enableCellEditOnFocus:!1,enableColumnMenus:!1,enableHorizontalScrollbar:c.scrollbars.NEVER,enableVertivalScrollbar:c.scrollbars.NEVER,columnDefs:[],onRegisterApi:function(a){a.core.on.sortChanged(b,n)}},b._rebuildGrid=function(){l(function(){b.rxConfiguration.model.get("rxData").recordDefinitionName&&a.getRecordDefinition(b.rxConfiguration.model.get("rxData").recordDefinitionName).then(function(a){b.gridOptions.columnDefs=[];var c=b.rxConfiguration.model.get("rxData").columns;_.each(c,function(c){var d=_.find(a.fieldDefinitions,function(a){return a.id==c.fieldId});_.isObject(d)&&b.gridOptions.columnDefs.push({field:c.fieldId,visible:c.visible,displayName:c.title,headerCellClass:"ui-grid-header-cell_customize",cellClass:"ui-grid-cell_customize",enableSorting:!!c.sortable,sort:_.isObject(c.sortable)?c.sortable:{}})})})})},b.hasRecordDefinitionName=function(){var a=b.rxConfiguration.model;return a&&!_.isEmpty(a.get("rxData").recordDefinitionName)},b.rxConfiguration.model.listenTo(b.rxConfiguration.model,"change:rxData",function(a,c,d){d.rxRecordGridSuppressRebuild||b._rebuildGrid()}),b._rebuildGrid()}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").directive("rxRecordGridToolbar",["RX_ACTION_BUTTON",function(a){return{restrict:"E",templateUrl:"scripts/view-components/record-grid/record-grid-toolbar.directive.html",controller:["$scope",function(b){b.applySearchText=function(){b.submittedSearchText=b.searchText},b.clearSearch=function(){b.searchText="",b.applySearchText()},_.each(b.config.actionButtons,function(b){b.style=a.styleOptions.clear})}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").directive("rxRecordGrid",["$filter","$compile","$q","debounce","uiGridConstants","rxRecordInstanceDataPageResource","rxAssociationInstanceDataPageResource","rxRecordDefinitionUtils","rxRecordDefinitionResource","rxSearchFilterModel","rxString","rxUtils","rxViewComponentActionManager","RX_RECORD_GRID","rxViewComponentEventManager","RX_RECORD_DEFINITION","RX_VIEW_COMPONENT","rxRecordGridFilter","rxCurrentUser","rxRecordGridPreferences",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){return{restrict:"E",templateUrl:"scripts/view-components/record-grid/record-grid.directive.html",scope:{rxConfiguration:"="},link:function(a,c){var d='<div ui-grid="uiGridOptions "'+a.config.uiGridPlugins.join(" ")+"></div>";c.append(b(d)(a))},controller:["$scope",function(b){function u(){return b.config.getRecordDefinition(b.config.recordDefinitionName).then(function(a){return a.fieldDefinitionsById=h.buildFieldDefinitionsByIdMap(a),a})}function v(){return _(b.config.columns).sortBy(function(a){return _.isUndefined(a.index)?void 0:Number(a.index)}).map(function(a){var c=_.find(L.fieldDefinitions,{id:a.fieldId}),d=_.defaults({headerCellClass:function(){var b="ui-grid-header-cell_customize ";return _.isFunction(a.headerCellClass)?b+=a.headerCellClass(arguments):a.headerCellClass&&(b+=a.headerCellClass),b},cellClass:function(){var b="ui-grid-cell_customize ";return _.isFunction(a.cellClass)?b+=a.cellClass(arguments):a.cellClass&&(b+=a.cellClass),b}},a,{field:a.fieldId,name:a.title,displayName:_.isUndefined(a.title)?a.name:a.title,enableSorting:a.sortable!==!1,sort:_.isObject(a.sortable)?a.sortable:void 0,visible:a.visible!==!1});if(!_.has(d,"cellFilter"))switch(c.resourceType){case p.dataTypes["boolean"].resourceType:d.cellFilter="rxBoolean";break;case p.dataTypes.selection.resourceType:d.cellFilter='rxKeyToValue:grid.appScope.selectionFieldOptionLabelsByFieldId["'+c.id+'"]';break;case p.dataTypes.dateTime.resourceType:d.cellFilter="date:'medium'";break;case p.dataTypes.dateOnly.resourceType:d.cellFilter="date";break;case p.dataTypes.timeOnly.resourceType:d.cellFilter="date:'shortTime'"}if(c.resourceType===p.dataTypes.selection.resourceType&&(_.isObject(c.optionLabelsById)&&_.isObject(a.localizedStrings)?b.selectionFieldOptionLabelsByFieldId[a.fieldId]=_.reduce(c.optionLabelsById,function(b,d,e){return b[e]=a.localizedStrings[d]||c.optionNamesById[e],b},{}):b.selectionFieldOptionLabelsByFieldId[a.fieldId]=c.optionNamesById||{}),d.clickable&&(d.cellTemplate=['<div class="ui-grid-cell-contents">','<a class="ui-grid__link" ng-click="grid.appScope.gridEvents.cellClick(row, '+d.field+')">',"{{COL_FIELD CUSTOM_FILTERS}}","</a>","</div>"].join("")),d.visible){var e=+d.field.toString()+""===d.field.toString();b.visibleColumns.push(e?+d.field:d.field)}return _.omit(d,["filterType","fieldDefinition","title","fieldId","index"])}).value()}function w(a){var c={};return b.config.recordIdField&&(c.$ID$=a[b.config.recordIdField],c[b.config.recordIdField]=a[b.config.recordIdField]),_.reduce(a,function(a,c,d){var e=_.find(b.config.columns,{fieldId:d});return e&&(a[e.title]=c,a[d]=c),a},c)}function x(a,b){return _.filter(a,function(a){return!_.find(b,function(b){return JSON.stringify(a)==JSON.stringify(b)})})}function y(){var a=_.map(O.selection.getSelectedRows(),w),c=_.size(a),d=x(a,b.selectionData.selectedRows),e=x(b.selectionData.selectedRows,a);_.each(e,function(a){_.remove(b.selectionData.selectionSequence,a)}),b.selectionData.selectionSequence=d.concat(b.selectionData.selectionSequence),b.selectionData.selectedRows=a,b.selectionData.selectedRowCount=c,b.selectionData.firstSelectedRow=_.last(b.selectionData.selectionSequence),b.isActionBarVisible=Boolean(_.size(b.config.actionButtons)&&c),_.each(b.config.actionButtons,function(b){var c=b.isDisabled;_.isFunction(c)&&(b.disabled=c(a))})}function z(a,c,d){return f.withName(b.config.recordDefinitionName).get(a,c,d)}function A(a,c,d){return k.isEmptySafe(b.config.associatedRecordId)?g.getEmptyDataPage():(_.assign(d,{associationDefinition:b.config.associationDefinitionName,nodeToQuery:b.config.associatedRecordNodeSide,associatedRecordInstanceId:b.config.associatedRecordId}),g.get(a,c,d))}function B(){var a={initialFilters:M,searchText:b.submittedSearchText,columns:b.config.columns,userFilters:b.filter.data,filterExpression:b.config.filterExpression},c={propertySelection:_(b.config.columns).pluck("fieldId").union([b.config.recordIdField]).compact().join()},d=_(b.uiGridOptions.columnDefs).filter(function(a){return!_.isEmpty(a.sort)}).sort(function(a,b){return a.sort.priority-b.sort.priority}).map(function(a){return"asc"===a.sort.direction?a.field:"-"+a.field}).join(",");d&&(c.sortBy=d);var e=j.generateSearchQuery(_([a.userFilters,a.initialFilters]).reject(_.isEmpty).value()),f=r.replaceKeywords(e),g=r.generateTextFilterQuery(a.searchText,a.columns),h=r.addQueries(f,g,b.config.filterExpression);return h&&(c.queryExpression=h),b.config.getData(b.config.pageSize,Q*b.config.pageSize,c,a).then(function(a){var c=_.map(a.data,function(a){var c={};return _.each(b.config.columns,function(b){c[b.fieldId]=E(b,a)}),b.config.recordIdField&&(c[b.config.recordIdField]=a[b.config.recordIdField]),c});return b.config.postProcessData(c)})}function C(){return B().then(function(a){O.infiniteScroll.saveScrollPercentage(),b.data=b.data.concat(a),b.selectionData.totalRowCount=b.data.length,O.infiniteScroll.dataLoaded(!1,a.length===b.config.pageSize),Q++})}function D(a){return _.has(b.rxConfiguration,a)?b.rxConfiguration[a]:_.get(b.rxConfiguration,"propertiesByName."+a)}function E(a,b){var c=_.find(L.fieldDefinitions,{id:a.fieldId}),d=b[c.id];switch(c.resourceType){case p.dataTypes.attachment.resourceType:var e=_.get(d,"name");return _.isString(e)?e:d}return b[c.id]}function F(){var a=_.assign(_.cloneDeep(b.config.uiGridOptions),{data:"data",columnDefs:[],saveWidths:!1,saveFilter:!1,saveSelection:!1,saveGrouping:!1,savePinning:!1,saveTreeView:!1,rowHeight:35,enableCellEditOnFocus:!1,enableColumnMenus:!1,infiniteScrollDown:!0,infiniteScrollUp:!1,enableHorizontalScrollbar:e.scrollbars.NEVER,onRegisterApi:function(a){O=a,a.infiniteScroll.on.needLoadMoreData(b,C),b.config.enableRowSelection&&(a.selection.on.rowSelectionChanged(b,y),a.selection.on.rowSelectionChangedBatch(b,y)),a.core.on.sortChanged(b,G),K&&a.colMovable.on.columnPositionChanged(b,S),b.config.uiGridOptions.onRegisterApi(a),R.resolve(O)}});if(b.config.enableRowSelection){var c=b.config.enableRowSelection===n.selectionTypes.multiple;c?_.defaults(a,{enableSelectAll:c,enableRowHeaderSelection:c}):_.defaults(a,{multiSelect:!1})}else _.defaults(a,{enableRowSelection:!1,enableRowHeaderSelection:!1});return a}function G(a,c){_.each(b.uiGridOptions.columnDefs,function(a){var b=_.find(c,{field:a.field});b?a.sort=b.sort:a.sort=void 0}),K&&S(),b.refreshGridData()}function H(){var a=b.config,c={};a.layout=l.tryParseJson(b.rxConfiguration.layout);var d=_.get(a.layout,"columns[0].children");_.isArray(d)&&(_.each(d,function(a,b){c[a.componentDefinitionId]=b}),_.get(a,"actionButtons",[]).sort(function(a,b){return c[a.guid]-c[b.guid]}))}function I(a){var c=_.find(b.columnsWithActions,{fieldId:a});c&&m.executeActions(_.map(c.actions,"api"))}function J(){b.$watch("rxConfiguration.propertiesByName.filterExpression",function(a){k.isEmptySafe(a)||(b.config.filterExpression=a,b.refreshGridData())}),b.$watch("rxConfiguration.propertiesByName.associatedRecordId",function(a,c){a!==c&&(b.config.associatedRecordId=a,b.refreshGridData())}),b.$watch("filter.data",function(a,c){a!==c&&(K&&K.setFilters(a),b.refreshGridData())},!0),b.$watch("submittedSearchText",function(a,c){a!==c&&b.refreshGridData()}),b.$watch("visibleColumns",function(a,c){a!==c&&(a=_.map(a,function(a){return a.toString()}),_.each(b.uiGridOptions.columnDefs,function(c){c.visible=_.contains(a,c.field),_.find(b.config.columns,{fieldId:c.field}).visible=c.visible}),K&&S(),O.core.refresh())})}var K,L,M,N,O,P=o.getInstance(b),Q=0,R=c.defer();b.config=_.defaults({recordDefinitionName:D("recordDefinitionName"),enableRowSelection:D("enableRowSelection"),enableFiltering:D("enableFiltering"),filters:D("filters"),filterExpression:D("filterExpression"),associationDefinitionName:D("associationDefinitionName"),associatedRecordNodeSide:D("associatedRecordNodeSide"),associatedRecordId:D("associatedRecordId"),columns:b.rxConfiguration.columns,recordIdField:b.rxConfiguration.recordIdField,pageSize:b.rxConfiguration.pageSize,postProcessData:b.rxConfiguration.postProcessData,uiGridPlugins:_.union(n.defaultUiGridPlugins,b.rxConfiguration.uiGridPlugins),componentDefinitions:b.rxConfiguration.componentDefinitions,getData:b.rxConfiguration.getData,getRecordDefinition:b.rxConfiguration.getRecordDefinition,actionButtons:b.rxConfiguration.actionButtons,uiGridOptions:_.defaults({},b.rxConfiguration.uiGridOptions,{onRegisterApi:_.noop})},{enableRowSelection:n.selectionTypes.multiple,recordIdField:p.coreFieldIds.id,enableFiltering:!0,filterExpression:"",postProcessData:c.when,pageSize:50,filters:n.defaultFilter,getRecordDefinition:i.get,actionButtons:_.filter(b.rxConfiguration.componentDefinitions,{type:"rx-action-button"})}),b.config.recordDefinitionName||(rx.assert.assertFunction(b.rxConfiguration.getRecordDefinition,"getRecordDefinition function must be defined if recordDefinitionName is not set."),rx.assert.assertFunction(b.rxConfiguration.getData,"getData function must be defined if recordDefinitionName is not set.")),b.config.enableFiltering=Boolean(b.config.enableFiltering),b.config.getData||(b.config.associationDefinitionName?b.config.getData=A:b.config.getData=z),_.isArray(b.config.columns)||(b.config.columns=_(b.config.componentDefinitions).filter({type:"rx-record-grid-column"}).pluck("propertiesByName").value()),H(),_.each(b.config.columns,function(a){a.fieldId=a.fieldId.toString(),_.isString(a.sortable)&&(a.sortable=l.tryParseJson(a.sortable))}),b.rxConfiguration.guid&&(K=t.getInstance(b.rxConfiguration.guid),N=K.getPreferences()),b.data=[],b.visibleColumns=[],b.searchText="",b.submittedSearchText="",b.uiGridOptions=F(),b.filter={data:{}},b.selectionData={selectionSequence:[],selectedRows:[],firstSelectedRow:null,selectedRowCount:0,totalRowCount:0},b.refreshGridData=function(){Q=0,O.selection.clearSelectedRows(),b.searchText=b.submittedSearchText;var a=B().then(function(a){b.data=a,b.selectionData.totalRowCount=a.length,O.infiniteScroll.dataLoaded(!1,a.length==b.config.pageSize),Q++});return P.action(q.actions.refresh,{promise:a}),a},b.rxConfiguration.api={refresh:b.refreshGridData,setFilter:function(a){b.filter.data=a},getRecordDefinitionName:function(){return b.config.recordDefinitionName},getSelectedRows:function(){return b.selectionData.selectedRows},getFirstSelectedRow:function(){return b.selectionData.firstSelectedRow},getSelectedRowCount:function(){return b.selectionData.selectedRowCount},getUiGridApi:function(){return O},isUserAllowedToDeleteRecords:function(){return!!L&&(L.allowNonAdminToDeleteRecordInstances!==!1||s.isAdministrator())}},P.propertyChanged({property:"api",newValue:b.rxConfiguration.api}),b.columnsWithActions=_(b.config.componentDefinitions).filter({type:"rx-record-grid-column"}).map(function(a){var b=_.map(a.componentDefinitions,function(a){return{guid:a.id,propertiesByName:a.propertiesByName}});return b=_.sortBy(b,function(a){return Number(a.propertiesByName.index)}),{fieldId:Number(a.propertiesByName.fieldId),actions:b}}).value(),b.gridEvents={cellClick:function(a,b){P.propertyChanged({property:"clickableRow",oldValue:void 0,newValue:a.entity}),I(b),P.action(n.actions.cellClick,{gridRow:a,columnId:b})}},b.selectionFieldOptionLabelsByFieldId={},c.all({preferences:N,recordDefinition:u(),uiGridApiReady:R.promise}).then(function(c){if(L=_.cloneDeep(c.recordDefinition),P.propertyChanged({property:"recordDefinition",newValue:L}),_.each(L.fieldDefinitions,function(a){a.id=a.id.toString()}),_.each(b.config.columns,function(a){var b=_.find(L.fieldDefinitions,{id:a.fieldId});a.filterType=b.resourceType.split(".").pop().replace(/fieldDefinition/i,""),a.fieldDefinition=b}),K&&(b.config.columns=K.mergeColumnPreferences(b.config.columns)),b.config.enableFiltering){var d=b.config.filters,e=_.filter(b.config.componentDefinitions,{type:"rx-record-grid-filter"}),f=_.get(c.preferences,n.userPreferences.filters)||{};!_.isEmpty(e)&&d&&_.each(e,function(a){var b={};b[a.propertiesByName.fieldId]=a.propertiesByName.value,d=d.replace('"'+a.guid+'"',JSON.stringify(b))}),M=r.clearFilterData(_.cloneDeep(l.tryParseJson(d)));var g=_(b.config.columns).reject(function(a){return a.filterable===!1}).map(function(a){var b=a.fieldDefinition,c={field:a.fieldId,displayName:a.title,type:a.filterType,options:b.optionLabelsById&&a.localizedStrings?_.mapValues(b.optionLabelsById,function(b){return a.localizedStrings[b]}):b.optionNamesById,visible:a.visible};return b.minValue&&(c.minValue=b.minValue),b.maxValue&&(c.maxValue=b.maxValue),c}).value();b.filter.data=f,b.filter.config={fields:g,label:a("translate")("com.bmc.arsys.rx.standardlib.components.search-filter.button.filterTrigger.label"),initialFilters:M,showPills:!0}}b.uiGridOptions.columnDefs=v(),b.refreshGridData(),J(),P.propertyChanged({property:"isUserAllowedToDeleteRecords",newValue:b.rxConfiguration.api.isUserAllowedToDeleteRecords()})});var S=d(function(){var a=O.saveState.save().columns;_.each(a,function(a,c){a.fieldId=_.find(b.uiGridOptions.columnDefs,{name:a.name}).field}),K.setColumns(a)},1e3);_.each(["selectedRowCount","totalRowCount","selectedRows","firstSelectedRow"],function(a){b.$watch("selectionData."+a,function(b,c){P.propertyChanged({property:a,oldValue:c,newValue:b})})})}]}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.rich-text").directive("rxRichTextDesign",["RX_RICH_TEXT",function(a){return{restrict:"E",templateUrl:"scripts/view-components/rich-text/rich-text-design.directive.html",scope:{rxConfiguration:"="},link:function(b,c){function d(a){f.prop("rxData/html",a,{initiator:"rich-text",rxSilent:!0})}function e(a,b,c){var d=c||{};"rich-text"!==d.initiator&&g.setData(b.html)}var f=b.rxConfiguration.model,g=CKEDITOR.inline(c.find("div[contenteditable]")[0],{resize_enabled:!1,skin:"rich-text,"+a.ckeditor.skinPath,on:{change:function(){d(this.getData())},blur:function(){h.show()}},extraPlugins:"expressioneditor",format_tags:"p;h1;h2;h3;pre",removeDialogTabs:"link:advanced",toolbar:[["Bold","Italic","Strike","Underline","-","Link","Unlink","-","NumberedList","BulletedList","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight"],"/",["Format","Styles","Font","FontSize","TextColor"]]}),h=c.find("div.backdrop");h.on("click",function(a){h.hide(),g.focus()});var i=f.get("rxData").html;i&&g.setData(i),f.on("change:rxData",e),b.$on("$destroy",function(){try{g.destroy(!0)}catch(a){delete CKEDITOR.instances[g.name]}})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.rich-text").directive("rxRichText",["$sce","rxViewComponentEventManager",function(a,b){return{restrict:"E",scope:{rxConfiguration:"="},templateUrl:"scripts/view-components/rich-text/rich-text.directive.html",link:function(c,d){function e(b){if(""!==b&&null!==b){var d=CKEDITOR.htmlParser.fragment.fromHtml(b),e=new CKEDITOR.htmlParser.basicWriter;f.applyTo(d),d.writeHtml(e);var g=e.getHtml();c.html=a.trustAsHtml(g)}else c.html=""}var f=new CKEDITOR.filter,g=b.getInstance(c),h=c.rxConfiguration;h.api=h.api||{},_.assign(h.api,{setProperty:function(a,b){return"hidden"===a?$q(function(d){_.set(c.rxConfiguration.propertiesByName,a,b),$timeout(d)}):(rxLog.warning("Rich Text: property "+a+" is not settable."),$q.reject())}}),g.propertyChanged({property:"api",newValue:h.api}),f.allow({$1:{elements:CKEDITOR.dtd,attributes:!0,styles:!0,classes:!0}}),f.disallow("script; *[on*]"),c.$watch("rxConfiguration.propertiesByName.html",e)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").directive("rxInspectorGlobalSearchEditor",["$uibModal",function(a){return{restrict:"E",templateUrl:"scripts/view-components/shell/editors/inspector-global-search-editor.directive.html",link:function(b){b.records=JSON.parse(b.cell.prop(b.path)),b.openEditor=function(c){a.open({templateUrl:"scripts/view-components/shell/editors/global-search-editor.html",controller:"GlobalSearchEditorController",backdrop:"static",resolve:{recordContext:{cell:b.cell,recordEdit:c,path:b.path}},windowClass:"rx-global-search-editor-dialog"})},b.removeRecord=function(a){b.records.splice(b.records.indexOf(a),1),b.cell.prop(b.path,JSON.stringify(b.records))}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").directive("rxInspectorMenuItemEditor",["RX_VIEW_DESIGNER","rxViewDesignerCacheManager","RX_SHELL","rxShellMenuItemAction",function(a,b,c,d){return{restrict:"E",templateUrl:"scripts/view-components/shell/editors/inspector-menu-item-editor.directive.html",link:function(e){var f=e.navbarItems=e.cell.get("componentDefinitions"),g={},h={};g[c.navBar.menuItem]="Menu Item",g[c.navBar.menuGroup]="Menu Group",h[c.actions.launchURL]="Launch URL",h[c.actions.navigateToView]="Navigate to View",h[c.actions.navigateToState]="Navigate to State",h[c.actions.navigateToSmartReporting]="Navigate to Smart Reporting",_.forEach(f,function(a){a.menuItemName=a.propertiesByName.menuGroupName||a.propertiesByName.menuItemName||"",a.menuItemType=g[a.type],a.actionName=h[_.get(a,"propertiesByName.actionName","")],_.forEach(a.componentDefinitions,function(a){if(a.menuItemName=a.propertiesByName.menuItemName,a.menuItemType=g[a.type],a.propertiesByName){var b=d.findDescriptor(a.propertiesByName.actionName);b&&(a.actionName=b.label)}})}),e.openEditor=function(c){e.$emit(a.events.viewComponentPointerUp,{item:b.getLayoutNodeById(c.guid)})},e.removeItem=function(b){e.$emit(a.events.viewComponentRemoveRequest,b)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").directive("rxShellMenuGroupDesign",["rxShellMenuGroupManager","rxViewDesignerCommandManager","rxViewComponentDefinitionManager","RX_SHELL","RX_VIEW_DEFINITION","RX_VIEW_DESIGNER","rxViewDesignerCacheManager","rxViewComponent","rxUtils",function(a,b,c,d,e,f,g,h,i){function j(a){a.columns=a.columns||[{children:[]}]}return{restrict:"E",templateUrl:"scripts/view-components/shell/menu-components/menu-group/shell-menu-group-design.directive.html",scope:{rxConfiguration:"="},link:function(k){function l(){_.assign(k.menuGroupDefinition,n.model.get("rxData")||_.clone(o))}function m(a){var b,f=JSON.parse(a.get("layout")),l=a.get("componentDefinitions"),m=a.get("id"),n=_(l).map(c.getModel).invoke("set","parentModel",a).value(),o=f.allowedTypes=d.menuGroup;i.flattenTree(f,"columns","children").forEach(function(a){a.componentDefinitionId&&(b=_.find(l,{guid:a.componentDefinitionId}),b?_.assign(a,_.pick(h.findDescriptor(b.type),e.componentDescriptorProperties)):(j(a),a.type=e.baseContainer,a.parentModelId=m,a.allowedTypes=o,_.each(a.columns,function(b){_.each(b.children,function(b){var c=_.find(n,{guid:b.componentDefinitionId});c&&c.set("layoutParentId",a.componentDefinitionId)})})),g.putLayoutNode(a.componentDefinitionId,a))}),n.length&&p.addCells(n),k.menuGroupItemsLayout=a.layoutTree=f}var n=k.rxConfiguration,o={};k.menuGroupDefinition=_.clone(o),k.id=n.componentDefinitionId,k.manager=a;var p=b.get("graph"),q=k.$watch("rxConfiguration.model",function(a){a&&(a.layoutTree?k.menuGroupItemsLayout=a.layoutTree:(b.stopListening(),m(a),b.listen()),l(),a.on(d.events.menuGroupUpdate,l),q())});k.toggleDropdown=function(){k.manager.selectedMenuGroupId=k.manager.selectedMenuGroupId===k.id?0:k.id},k.handleDragover=function(a){return a===d.navBar.menuItem&&(k.manager.selectedMenuGroupId=k.id,k.$emit(f.events.viewComponentPointerUp,{item:g.getLayoutNodeById(k.id)}),!0)},k.handleDrop=function(a){return a.stopPropagation(),!1}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").directive("rxShellMenuGroup",function(){return{restrict:"E",templateUrl:"scripts/view-components/shell/menu-components/menu-group/shell-menu-group.directive.html",scope:{rxConfiguration:"="},link:function(a,b,c){}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").directive("rxShellMenuItemDesign",["rxShellMenuItemManager",function(a){return{restrict:"E",templateUrl:"scripts/view-components/shell/menu-components/menu-item/shell-menu-item-design.directive.html",scope:{rxConfiguration:"="},link:a.menuItemLinkFunction}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").directive("rxShellMenuItem",function(){return{restrict:"E",templateUrl:"scripts/view-components/shell/menu-components/menu-item/shell-menu-item.directive.html",scope:{rxConfiguration:"="},link:function(a,b,c){}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").directive("rxShellDesign",["rxViewComponent","rxShellManager","rxViewDesignerCacheManager","rxViewDesignerCommandManager","rxViewComponentDefinitionManager","rxUtils","RX_VIEW_DEFINITION","$stateParams","rxBundleCache","RX_SHELL",function(a,b,c,d,e,f,g,h,i,j){return{restrict:"E",templateUrl:"scripts/view-components/shell/shell-design.directive.html",scope:{rxConfiguration:"="},link:function(h){function k(){var a=h.rxConfiguration.model.get("rxData");_.assign(h.navBarDefinition,a)}function l(d){var i,k=JSON.parse(d.get("layout")),l=d.get("componentDefinitions"),n=d.get("id"),o=_(l).map(e.getModel).invoke("set","parentModel",d).value(),p=k.allowedTypes=_.values(j.navBar);f.flattenTree(k,"columns","children").forEach(function(d){d.componentDefinitionId&&(i=_.find(l,{guid:d.componentDefinitionId}),i?_.assign(d,_.pick(a.findDescriptor(i.type),g.componentDescriptorProperties)):(b.initContainerLayoutProperties(d),d.type=g.baseContainer,d.parentModelId=n,d.allowedTypes=p,d.horizontalList=!0,_.each(d.columns,function(a){_.each(a.children,function(a){var b=_.find(o,{id:a.componentDefinitionId});b&&b.set("layoutParentId",d.componentDefinitionId)})})),c.putLayoutNode(d.componentDefinitionId,d))}),o.length&&m.addCells(o),h.shellLayout=d.layoutTree=k}var m=d.get("graph");i.getBundleFriendlyName().then(function(a){h.bundleFriendlyName=a});var n=h.$watch("rxConfiguration.model",function(a){a&&(a.layoutTree?h.shellLayout=a.layoutTree:(d.stopListening(),l(a),d.listen()),h.navBarDefinition={},k(),a.on(j.events.navBarUpdate,k),n())})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").directive("rxShellNotification",["$uibModal","shellNotificationModel",function(a,b){return{restrict:"E",templateUrl:"scripts/view-components/shell/shell-notification.directive.html",link:function(c){c.notificationTemplate="scripts/view-components/shell/shell-notification-template.html",c.model=b,c.popoverIsOpen=!1,c.togglePopover=function(){c.popoverIsOpen=!c.popoverIsOpen},c.viewAll=function(){c.togglePopover(),a.open({templateUrl:"scripts/view-components/shell/shell-notification-show-all-template.html",windowClass:"rx-shell-notification-dialog",controller:"ShellNotificationController"})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").directive("rxShell",["$state","$window","$timeout","$uibModal","$rootScope","$translate","$q","dialogs","rxBundleCache","rxCurrentUser","rxAuthentication","rxShellConfigResource","RX_AUTH_EVENTS","rxDataPageResource",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return{restrict:"E",transclude:!0,templateUrl:"scripts/view-components/shell/shell.directive.html",link:function(e,f){function h(){e.menu.items.forEach(function(b){b.navigationBarItems?b.navigationBarItems.forEach(function(b){b.selected=b.url?a.href(a.current.name)===b.url:a.is(b.state.name||b.state,b.state.params)}):b.selected=b.url?a.href(a.current.name)===b.url:a.is(b.state.name||b.state,b.state.params)})}function m(a){var b=angular.element(".d-n-search__item");b.focus();var c="click"===a.type&&!($(a.target).hasClass("d-n-search__item")||"d-n-action__search"===$(a.target).attr("id"))||27===a.keyCode||13===a.keyCode&&$(a.target).hasClass("d-n-search__close");c&&(e.globalSearch=!1,e.$apply(),$(document.body).off("keydown click",m))}function o(){e.compactNavigation=w[0].clientWidth<r}function p(){h(),e.shellContent.$setPristine()}function q(){var a=n.withType("com.bmc.arsys.rx.application.bundle.datapage.BundleDescriptorDataPageQuery").get(-1,0),d=l.get(!0);g.all([a,d]).then(function(a){var b=a[0],c=a[1],d=i.getBundleId();e.appList=b&&b.data?_.filter(b.data,{isApplication:!0}):[],e.currentApp=_.find(e.appList,{id:d})||{name:d,id:d},e.appList=_.reject(e.appList,{id:d}),e.menu.items=c.navigationBarItems,e.allowAppSwitching=c.allowAppSwitching&&e.appList.length>0,e.isGlobalSearchDisabled=c.globalSearchDisabled,s=c.globalSearchRecords,t=c.globalSearchCustomSearchState,u=c.globalSearchState,v=c.administrationSettingsState,h()})["finally"](function(){c(function(){r=x[0].clientWidth+y[0].clientWidth+80,o()})}),b.onresize=function(){o(),e.$apply()},e.$on("$stateChangeSuccess",p),p()}var r,s,t,u,v,w=f.find(".d-n-header"),x=f.find(".d-n-menu"),y=f.find(".d-n-actions");e.currentUser=j.get().fullName,e.currentApp={},e.appList=[],e.compactNavigation=!1,e.menu={items:[]},e.globalSearchText="",e.$state=a,e.toggleSearchBar=function(){e.globalSearch=!0,$(document.body).on("keydown click",m)},e.moveToSearchState=function(a){e.globalSearchText=a,t?e.globalSearchText&&(e.$state.go(t,{searchText:e.globalSearchText}),e.globalSearch=!1,e.globalSearchText=""):s&&e.globalSearchText&&(l.searchContext={recordDefinitions:s,searchText:e.globalSearchText},e.$state.go(u,{},{reload:!0}),e.globalSearch=!1,e.globalSearchText="")},e.openMenu=function(){d.open({templateUrl:"scripts/view-components/shell/shell-menu.html",windowClass:"rx-shell-blade",controller:"ShellMenuController",resolve:{context:{menu:e.menu,currentApp:e.currentApp,allowAppSwitching:e.allowAppSwitching,appList:e.appList}}})},e.logout=function(){k.logout()},e.openApplicationSettings=function(a){v&&(a?e.$state.go(v,{type:"userPreference"}):e.$state.go(v,{type:"application"}))},e.$watchCollection("items",function(){p()}),q()}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").directive("rxViewCustomizationOptions",["$uibModal","RX_DESIGNER","RX_OVERLAY",function(a,b,c){return{restrict:"E",templateUrl:"scripts/components/designer/inspector/editors/customization-options/customization-options.directive.html",scope:{rxConfiguration:"="},link:function(d){d.openCustomizationOptionsEditor=function(){var e=a.open({templateUrl:"scripts/view/designer/inspector-editors/customization-options/view-customization-options-editor.html",controller:"ViewCustomizationOptionsEditorController",backdrop:"static",resolve:{viewDefinition:function(){return _.cloneDeep(d.rxConfiguration.cell.get("rxData"))},overlayOperation:function(){var a=d.rxConfiguration.cell.get("rxData");return a.overlayGroupId?d.rxConfiguration.cell.get("overlayOperation"):c.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP}},windowClass:"rx-customization-options-modal"});e.result.then(function(a){d.$emit(b.events.customizationOptionsUpdated,a)})}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer.layout").directive("rxViewDesignerContainer",["rxGUID","rxViewDesignerCacheManager","RX_VIEW_DESIGNER","RX_VIEW_DEFINITION",function(a,b,c,d){return{restrict:"E",replace:!0,templateUrl:"scripts/view/designer/layout/renderers/view-designer-container.directive.html",scope:{node:"=",beforeDrop:"&"},link:function(a){a.onDndStart=function(a,b,c,d,e){b.containerId=c.componentDefinitionId,b.columnIndex=d,b.index=e,a.dataTransfer.setData("Text",angular.toJson(b)),a.stopImmediatePropagation()},a.onDndDrop=function(b,e,f,g,h){if(_.has(f,"allowedTypes")&&e.type===d.containerComponent&&!_.has(e,"allowedTypes")&&(e.allowedTypes=f.allowedTypes),a.beforeDrop({event:b,item:e}),!b.dropPrevented){var i=e.componentDefinitionId?c.events.viewComponentMoved:c.events.viewComponentAdded;i===c.events.viewComponentMoved&&e.containerId===f.componentDefinitionId&&e.columnIndex==g&&h>e.index&&h--,e.columnIndex=g,e.index=h,a.$emit(i,{item:e,container:f,columnIndex:g,index:h})}b.stopImmediatePropagation()},a.isComponentPresent=function(a){return a["static"]||!_.isUndefined(b.getModelById(a.componentDefinitionId))},a.onDndSelected=function(b,d){a.$emit(c.events.viewComponentPointerUp,{item:d}),b.stopImmediatePropagation()}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer.layout").directive("rxViewDesignerItem",["$compile","rxViewComponent","rxViewComponentDefinitionManager","rxViewDesignerCacheManager","RX_VIEW_DESIGNER","RX_VIEW_DEFINITION",function(a,b,c,d,e,f){var g='<rx-view-designer-container node="node" class="component-container"></rx-view-designer-container>';
return{restrict:"E",replace:!0,templateUrl:"scripts/view/designer/layout/renderers/view-designer-item.directive.html",scope:{node:"="},link:function(b,c){function h(a){b.$emit(e.events.viewComponentRemoveRequest,j),a.stopImmediatePropagation()}function i(a){k.configuration.model=d.getModelById(a),k.configuration.componentDefinitionId=a;var c=k.configuration.model.get("parentModel");if(c){var e=c.get("disableCustomization");angular.isDefined(e)&&(k.configuration.model.set("disableCustomization",e),b.node.disableCustomization=e)}}var j=b.node,k=b.$new(!0);if(j.designType===f.baseContainer)c.replaceWith(a(g)(_.assign(k,{node:j})));else{k.configuration={model:null,componentDefinitionId:null},j.type===f.containerComponent&&_.isFunction(j.onBeforeDrop)&&(k.configuration.onBeforeDrop=j.onBeforeDrop);var l="rx-shell-menu-item-design"===j.designType||"rx-shell-menu-group-design"===j.designType?f.shellElementTemplate:f.elementTemplate,m=l.replace(/\{type}/g,j.designType).replace("{guid}",j.guid||j.componentDefinitionId);if(c.find(".rx-view-designer-item-content").append(a(m)(k)),j.componentDefinitionId)i(j.componentDefinitionId);else var n=b.$watch("node.componentDefinitionId",function(a){a&&(i(a),n())});b.onDeleteItemClick=h}b.isDeleteDisabled=function(){return _.get(j,"disableCustomization",!1)}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").directive("rxViewDesignerCanvas",["$timeout","dialogs","rxViewComponent","rxContainerDesignManager","rxViewDefinitionDesignManager","rxViewDesignerComponentManager","rxViewComponentDefinitionManager","rxViewDesignerCacheManager","rxViewDesignerCommandManager","rxUtils","rxOverlay","RX_VIEW_DESIGNER","RX_OVERLAY","RX_VIEW_DEFINITION","RX_SHELL",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){return{restrict:"E",templateUrl:"scripts/view/designer/view-designer-canvas.directive.html",link:function(p,q){function r(a){var b=a.overlayDescriptor||{parentOverlayGroupId:null},c=!a.lastUpdateTime;return c?m.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP:k.getOverlayOperation(a.overlayGroupId,b.parentOverlayGroupId)}function s(a){var b=h.getModelById(a.id);if(b){var c=h.getLayoutNodeById(a.id),d=h.getLayoutNodeById(b.get("layoutParentId"));if(c&&d){var e=d.columns[c.columnIndex];e.children.splice(c.index,0,c),b.get("internalChange")||p.$emit(l.events.viewComponentPointerUp,{item:c}),w()}}else h.putModel(a.id,a)}function t(a,b){if((!b||!b.ignoreCommandManager)&&a.changed.layoutParentId&&b.commandManager){var c=a.get("id"),d=h.getLayoutNodeById(c),e=h.getLayoutNodeById(a.get("layoutParentId")),f=h.getModelById(c);f.set("layoutParentId",a._previousAttributes.layoutParentId,{ignoreCommandManager:!0}),p.$emit(l.events.viewComponentMoved,{item:d,container:e,index:f.get("index"),columnIndex:f.get("columnIndex")})}}function u(a,b,c){var d=h.getLayoutNodeById(a.id),e=h.getModelById(a.id),f=h.getLayoutNodeById(e.get("layoutParentId"));if(d&&f){_.each(f.columns,function(a,b){_.find(a.children,d)&&(d.columnIndex=b,d.index=a.children.indexOf(d))}),d.columnIndex>=0&&_.pull(f.columns[d.columnIndex].children,d);var g=_.remove(p.plainViewDefinition.componentDefinitions,{guid:d.componentDefinitionId});g<=0&&_.forEach(p.plainViewDefinition.componentDefinitions,function(a){if(a.componentDefinitions){var b=_.remove(a.componentDefinitions,{guid:d.componentDefinitionId});b<=0&&_.forEach(a.componentDefinitions,function(a){a.componentDefinitions&&_.remove(a.componentDefinitions,{guid:d.componentDefinitionId})})}}),e.get("internalChange")||p.$emit(l.events.blankPointerDown),w()}}function v(){a(x)}function w(a){p.$emit(l.events.layoutChanged,a)}function x(){G&&(G.selected=!1,G=null)}function y(a){x(),a&&(a.selected=!0,G=a)}function z(a){_.forEach(a,function(a,b){a.index=b})}function A(a,b){return _.find(a,function(a){return _.contains(a.children,b)})}function B(a,b){f.addComponent(b),y(b.item)}function C(a,b){var c=b.item,d=b.container,e=b.columnIndex,f=d.columns[e],g=h.getLayoutNodeById(c.componentDefinitionId),i=h.getModelById(c.componentDefinitionId),j=h.getLayoutNodeById(i.get("layoutParentId")),k=d.componentDefinitionId===j.componentDefinitionId,l=k?d.columns:j.columns,m=A(l,g);i.set("index",_.indexOf(m.children,g),{ignoreCommandManager:!0}),i.set("columnIndex",_.indexOf(l,m),{ignoreCommandManager:!0}),_.pull(m.children,g),z(m.children),g.columnIndex=e,f.children.splice(b.index,0,g),z(f.children),k||(i.set("layoutParentId",d.componentDefinitionId),b.layoutParentIdChanged=!0)}function D(b,c){var d=G&&G.componentDefinitionId,e=c.item;d!==e.componentDefinitionId&&a(function(){y(e)})}function E(a){return _.pick(c.findDescriptor(a),n.componentDescriptorProperties)}function F(b){var c,i=JSON.parse(b.layout),k=b.componentDefinitions,m=e.getModel(b),q=_.difference(f.getDefaultAllowedComponentTypes(),_.values(o.navBar)),r=I.isReadOnly;_.assign(i,{componentDefinitionId:b.guid,allowedTypes:q});var s=_(k).map(g.getModel).invoke("set","parentModel",m).unshift(m).value();r&&_.each(s,function(a){a.set("allowedTypes",[]),a.set("disableCustomization",r)}),j.flattenTree(i,"columns","children").forEach(function(a){if(a.componentDefinitionId){if(c=_.find(k,{guid:a.componentDefinitionId})){if(_.assign(a,E(c.type)),a.type===n.containerComponent){var e=_.find(s,{id:a.componentDefinitionId});e&&e.set("allowedTypes",q)}}else d.initContainerLayoutProperties(a),a.designType=n.baseContainer,a.allowedTypes=r?[]:q.slice(),a.parentModelId=b.guid,_.each(a.columns,function(b){_.each(b.children,function(b){var c=_.find(s,{id:b.componentDefinitionId});c&&(c.set("layoutParentId",a.componentDefinitionId),c.set("disableCustomization",r))})});a.disableCustomization=r,h.putLayoutNode(a.componentDefinitionId,a)}}),H.addCells(s),I.layout=m.layoutTree=i,a(function(){p.$emit(l.events.canvasReady)})}var G,H=i.get("graph"),I=p.canvasConfiguration;p.$on(l.events.canvasReady,function(){var a=h.getModelById(I.viewDefinition.guid);r(I.viewDefinition);a.set("overlayOperation",p.overlayOperation,{silent:!0,ignoreCommandManager:!0})});var J=p.$watch("canvasConfiguration.viewDefinition",function(a){a&&a.guid&&(F(a),J())});H.on("add",s),H.on("change",t),H.on("remove",u),q.on("mousedown",function(a){"dropzone-scroller"===a.target.className&&p.$emit(l.events.blankPointerDown)}),p.$on(l.events.viewComponentAdded,B),p.$on(l.events.viewComponentMoved,C),p.$on(l.events.viewComponentPointerUp,D),p.$on(l.events.blankPointerDown,v),p.$on(l.events.viewComponentRemoveRequest,function(a,c){var d="Container"===c.name?"Are you sure you want to delete this container and its contents?":"Are you sure you want to delete this view component?";b.confirm("Warning!",d).result.then(function(){var a=h.getModelById(c.componentDefinitionId),b=h.getLayoutNodeById(a.get("layoutParentId"));_.each(b.columns,function(a,b){_.find(a.children,c)&&(c.columnIndex=b,c.index=a.children.indexOf(c))}),void 0===c.columnIndex&&(c.columnIndex=_.findIndex(b.columns,function(a){return _.find(a.children,{componentDefinitionId:c.componentDefinitionId})})),x(),c.index>=0?_.pull(b.columns[c.columnIndex].children,c):_.remove(b.columns[c.columnIndex].children,function(a){return a.componentDefinitionId===c.componentDefinitionId}),p.$emit(l.events.viewComponentRemoved,c)})}),p.undo=function(){i.undo()},p.redo=function(){i.redo()},p.hasUndo=function(){return i.hasUndo()},p.hasRedo=function(){return i.hasRedo()}}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").directive("rxViewDesignerStencil",function(){return{restrict:"E",scope:{rxConfiguration:"="},templateUrl:"scripts/view/designer/view-designer-stencil.directive.html",link:function(a){var b=a.$watch("rxConfiguration.components",function(c){if(c){var d=_(a.rxConfiguration.components).sortBy("group").groupBy("group").forEach(function(a,b,c){c[b]=_.chunk(_.sortBy(a,"name"),3)}).value();a.componentGroups=_.merge(_(d).pick(["Basic Components","Record Editor Inputs"]).value(),_(d).omit(["Basic Components","Record Editor Inputs"]).value()),b()}});a.toggleComponentGroup=function(a){a.isCollapsed=!a.isCollapsed}}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").directive("rxViewDesigner",["$q","$rootScope","$timeout","debounce","rxString","$stateParams","RX_VIEW_DESIGNER","RX_VIEW_DEFINITION","RX_EXPRESSION_EDITOR","rxNotificationMessage","rxCurrentViewDefinition","dialogs","rxViewComponent","rxViewDesignerCacheManager","rxViewDesignerCommandManager","rxViewDefinitionResource","rxAction","rxViewAutoComplete","rxUtils","rxOverlay","RX_OVERLAY","RX_DESIGNER","rxDesignerCache","rxBundleCache","rxExpressionEditor","rxViewDataDictionary","rxShellDefinition","rxGUID",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B){return{restrict:"E",scope:{rxConfiguration:"="},templateUrl:"scripts/view/designer/view-designer.directive.html",link:function(u,C){function D(){var b=s.flattenTree(u.plainViewDefinition,"componentDefinitions"),c=_.map(b,"guid"),d=[],f=m.getRegisteredComponents(),g=q.getRegisteredActions();return _.each(b,function(a){var b;b="rx-action"===a.type?_.find(g,{name:a.propertiesByName.name}):_.find(f,{type:a.type}),b&&_(b.propertiesByName||b.parameters).filter({enableExpressionEvaluation:!0}).each(function(f){var g=a.propertiesByName[f.name],h=/^(?:\${view\.components\.)([^\.}]+)/g,i=/(\${view\.components\.[^{}]+})|("[^"]+")|('[^']+')/g;if(_.isString(g)){var j=g.match(i);_.each(j,function(g){var i=h.exec(g);_.isEmpty(i)||_.contains(c,i[1])||d.push({elementId:a.guid,elementName:e.prettify(b.name),propertyName:f.name,componentProperty:!0,type:"error",message:"Expression references a non-existent view component."})})}}).compact().value()}),u.selected.validationIssues=u.selected.validationIssues.concat(d),a.when(u.selected.validationIssues)}function E(){var b=_(s.flattenTree(u.plainViewDefinition,"componentDefinitions")).pluck("guid").map(n.getModelById).invoke("validate",u.plainViewDefinition).compact().value();return a.all(b).then(function(a){var b=_.flatten(a);return u.selected.validationIssues=b,b})}function F(){var a=n.getModelById(u.plainViewDefinition.guid);O(a).then(function(){u.selected.viewDefinitionModel=a,c(function(){u.isNewView&&C.find('.rx-view-inspector input[data-attribute="rxData/name"]').focus().select()})}),o.reset(),P()}function G(){o.resetGraph(),n.clear(),w.clear(),k.set(null)}function H(){da=!0}function I(){da=!1}function J(a){u.plainViewDefinition=a,k.set(a)}function K(a){var b=a.get("parentModel"),c=b&&b.get("id")||u.plainViewDefinition.guid;return L(c)}function L(a){return _.find(s.flattenTree(u.plainViewDefinition,"componentDefinitions"),{guid:a})}function M(a){var b=K(a);_.pull(b.componentDefinitions,_.find(b.componentDefinitions,{guid:a.get("id")})),c(function(){E().then(D),b.type&&b.guid!==_.get(u,"selected.viewComponentDefinitionModel.id")&&u.$emit(g.events.viewComponentPointerUp,{item:n.getLayoutNodeById(b.guid)})})}function N(a,b){b&&b.ignoreCommandManager||(a.persist(K(a)),c(E))}function O(b){return z.getCommonDataDictionary(u.plainViewDefinition).then(function(c){var d=b.getExpressionConfigurator?b.getExpressionConfigurator():b;return _.isFunction(d.buildDataDictionary)?d.buildDataDictionary(c).then(function(){return c}):void a.when(c)})}function P(){u.$on(i.events.refreshInspector,function(a,b){O(b).then(function(){b.trigger("rx:change:inputs",b)})}),ea.on("remove",M),ea.on("add change",N),u.$on(g.events.viewComponentPointerUp,X),u.$on(g.events.viewComponentAdded,function(a,b){X(a,b),U()}),u.$on(g.events.viewComponentMoved,Y),u.$on(g.events.blankPointerDown,R),u.$on(g.events.viewComponentRemoved,Z),u.$on(i.events.openExpressionEditor,function(a,b){var c=b.cell||u.selected.viewComponentDefinitionModel,d=b.path||b;O(c).then(function(a){y.open({expressionContext:{cell:c,path:d,expressionConfigurator:c.getExpressionConfigurator(),dataDictionary:a,autoComplete:ia,legend:z.getLegend()}})})}),u.$on(g.events.viewComponentMoved,U),u.$on(g.events.layoutChanged,d(U,200)),u.$on(v.events.correctValidationIssue,function(a,b){var d=b.validationIssue.propertyName||"";b.validationIssue.componentProperty?u.$emit(g.events.viewComponentPointerUp,{item:{componentDefinitionId:b.validationIssue.elementId}}):u.rightBladeConfiguration.tabs.viewInformation.active=!0,d&&c(function(){var a=C.find('[data-attribute="rxData/'+d+'"]');a.focus().select()},2)}),u.$on(v.events.customizationOptionsUpdated,function(a,b){var c=ea.getCell(u.plainViewDefinition.guid);_.assign(u.plainViewDefinition,b.customizationOptions),c.prop("rxData/allowOverlay",b.customizationOptions.allowOverlay),u.rxViewDesignerForm.json.$setDirty()}),u.$on("beforeUnload",Q)}function Q(a,b){ja()?b.push(l.confirm("Warning!","You have unsaved data. Do you want to continue?").result.then(G)):G()}function R(){S(),u.breadcrumbs=[]}function S(){u.selected.viewComponentDefinitionModel=null,u.rightBladeConfiguration.expanded&&(u.rightBladeConfiguration.tabs.viewInformation.active=!0)}function T(a,b){if(!("propertiesByName"===a||(_.isArray(b)||_.isString(b)||_.isBoolean(b)||_.isNumber(b))&&h.layoutProperties.indexOf(a)==-1))return b}function U(){s.flattenTree(u.plainViewDefinition,"componentDefinitions").forEach(V),c(function(){u.rxViewDesignerForm&&u.rxViewDesignerForm.json.$setDirty()})}function V(a){if(a.layout){var b=n.getModelById(a.guid),c=b&&b.layoutTree;c&&(a.layout=JSON.stringify(c,T))}}function W(){var a,b=u.selected.viewComponentDefinitionModel&&u.selected.viewComponentDefinitionModel.id;for(u.breadcrumbs=[];b;){var c=ea.getCell(b);if(!c)break;var d=_.find(ga,{type:c.get("type")}),e=_.isFunction(c.getBreadcrumbName)&&c.getBreadcrumbName()||d&&d.name;d&&u.breadcrumbs.unshift({id:b,name:e,icon:d.icon}),a=c.get("parentModel"),b=a&&a.get("id")||null}}function X(a,b){rx.assert.assertObject(b.item);var c=u.selected.viewComponentDefinitionModel,d=ea.getCell(b.item.componentDefinitionId);d&&(c!==d&&O(d).then(function(){_.isFunction(d.updateInspectorConfig)?d.updateInspectorConfig(u.plainViewDefinition).then(function(){u.selected.viewComponentDefinitionModel=d,u.selected.viewComponentDefinitionModel.customizationIsDisabled=u.canvasConfiguration.isReadOnly}):u.selected.viewComponentDefinitionModel=d}),u.rightBladeConfiguration.expanded&&(u.rightBladeConfiguration.tabs.componentInformation.active=!0))}function Y(a,b){var c=b.item,d=b.container,e=d.parentModelId,f=n.getModelById(c.componentDefinitionId),h=f.get("parentModel"),i=n.getModelById(e);if(b.layoutParentIdChanged&&h.id!==i.id){var j=K(f),k=_.find(j.componentDefinitions,{guid:f.get("id")});_.pull(j.componentDefinitions,k),_.remove(h.get("componentDefinitions"),{guid:f.get("id")}),L(e).componentDefinitions.push(k),i.get("componentDefinitions").push(k),f.set("parentModel",i,{ignoreCommandManager:!0}),u.$emit(g.events.updateBreadcrumbs)}}function Z(a,b){ea.getCell(b.componentDefinitionId).remove(),S()}function $(){return u.rxConfiguration.shellDefinitionName?aa():u.rxConfiguration.viewDefinitionName?p.get(u.rxConfiguration.viewDefinitionName,{locale:"default"},null,{handleResponseError:function(a){return G(),u.closeDesigner(),!1}}):p.getNew()}function aa(){var b=a.defer();return p.get(u.rxConfiguration.shellDefinitionName,{locale:"default"},null).then(function(a){b.resolve(a)},function(a){b.resolve(A.getNew())}),b.promise}function ba(){var a={};return _.each(s.flattenTree(u.plainViewDefinition,"componentDefinitions"),function(b){if(!_.isUndefined(b.type)){var c=m.findDescriptor(b.type),d=ha[b.guid]||{},e={};_(c.propertiesByName).filter("localizable").each(function(a){if(b.propertiesByName[a.name]){var c=d[a.name];c||(c=B.generate()),e[c]=b.propertiesByName[a.name],b.propertiesByName[a.name]=c}}).value(),_.isEmpty(e)||(a[b.guid]=e)}}),a}rx.assert.assertFunction(u.rxConfiguration.componentFilterFn,"rxConfiguration must have componentFilterFn function.");var ca,da,ea=o.get("graph"),fa=u.rxConfiguration.componentFilterFn,ga=fa(m.getRegisteredComponents()),ha={},ia=r.getInstance();J(null),u.customizationIsDisabled=!1,u.canvasConfiguration={viewDefinition:{},isReadOnly:!1},m.getLicencedComponents().then(function(a){u.stencilConfiguration={components:_(fa(a)).reject("hideInDesignerPalette").map(function(a){return _.omit(a,["propertiesByName"])}).forEach(function(a){a.propertiesByName={}}).value()}}),u.isDesignMode=!0,u.selected={validationIssues:[],viewDefinitionModel:null,viewComponentDefinitionModel:null},u.validationIssuesConfiguration={emptyText:"The View Definition is valid."},u.leftBladeConfiguration={title:"Palette",tabs:{stencilTabDefault:{active:!0,name:"default",iconClass:"d-icon-uml"}},dock:"left",expanded:!0},u.rightBladeConfiguration={title:"Properties",tabs:{viewInformation:{active:!0,iconClass:"d-icon-pencil"},componentInformation:{iconClass:"d-icon-gear"},validationIssues:{iconClass:"d-icon-exclamation_triangle"}},dock:"right",expanded:!0},u.viewComponentInspectorConfiguration={emptyText:"Select a component to view its properties here."},u.isDesignModeAvailable=function(){return!0},u.toggleDesignMode=function(){u.isDesignMode=!u.isDesignMode},x.getBundleFriendlyName().then(function(a){u.bundleFriendlyName=a}),u.canSave=function(){return!da&&u.rxViewDesignerForm&&u.rxViewDesignerForm.$valid&&ja()&&!u.canvasConfiguration.isReadOnly},u.saveChanges=function(){H(),E().then(D).then(function(a){_.any(a,{type:"error"})?(ka(a),I()):(u.plainViewDefinition.localizableStringsByComponentId=ba(),la().then(ma,na)["finally"](I))})},u.closeDesigner=function(){b.$broadcast(g.events.close)},u.showRuntimeMode=function(){_.isEmpty(u.plainViewDefinition.inputParams)?window.open("#/app/view/"+encodeURIComponent(ca.name)):l.create("scripts/view/designer/runtime-view-parameters.html","rxRuntimeViewParametersController",u.plainViewDefinition.inputParams).result.then(function(a){window.open("#/app/view/"+encodeURIComponent(ca.name)+"?param="+a.join("&param="))})},u.handleBreadcrumbBarClick=function(a){a?u.$emit(g.events.viewComponentPointerUp,{item:n.getLayoutNodeById(a)}):u.$emit(g.events.blankPointerDown)},u.$on(v.events.refreshDesigner,function(){o.reset(),u.isNewView||p.get(ca.name).then(function(a){ca=a,J(ca.plain()),u.viewComponentInspectorConfiguration.disabled=u.canvasConfiguration.isReadOnly=!t.isCustomizationEnabled("allowOverlay",u.plainViewDefinition)})}),u.$on(g.events.canvasReady,F),u.$on(g.events.updateBreadcrumbs,W),u.$watchGroup(["selected.viewComponentDefinitionModel.id","selected.viewComponentDefinitionModel.getBreadcrumbName()"],W);var ja=function(){return u.rxViewDesignerForm&&u.rxViewDesignerForm.json&&u.rxViewDesignerForm.json.$dirty||o.hasUndo()},ka=function(a){if(u.plainViewDefinition.layout||0===u.plainViewDefinition.componentDefinitions.length)!u.isDesignMode&&u.isDesignModeAvailable()&&u.toggleDesignMode(),u.rightBladeConfiguration.tabs.validationIssues.active=!0,j.error("The View Definition is not valid");else{var b=_(a).take(3).pluck("message").join("<br><br>");j.error(b,{enableHtml:!0})}},la=function(){if(u.isNewView)return p.post(u.plainViewDefinition);var a=_.cloneDeep(u.plainViewDefinition);return _.assign(ca,a),ca.put()},ma=function(){j.success(u.rxConfiguration.saveSuccessMessage),o.reset(),oa(),b.$broadcast(g.events.afterSave,u.plainViewDefinition),u.isNewView?G():p.get(ca.name).then(function(a){ca=a,J(ca.plain())})},na=function(){p.applyLocalization(u.plainViewDefinition),delete u.plainViewDefinition.localizableStringsByComponentId},oa=function(){u.rxViewDesignerForm&&u.rxViewDesignerForm.json.$setPristine()};u.$watch("plainViewDefinition",function(){k.set(u.plainViewDefinition)}),a.when($()).then(function(a){ca=a;var b=ca.plain();if(!b.layout){var c=_.find(h.viewLayoutTemplates,{id:+f.layoutTemplate||h.defaultLayoutTemplateId});b.layout=JSON.stringify(c.layout)}J(b),u.isNewView=_.isUndefined(ca.lastUpdateTime),u.canvasConfiguration.viewDefinition=u.plainViewDefinition,u.isNewView||(u.viewComponentInspectorConfiguration.disabled=u.canvasConfiguration.isReadOnly=!t.isCustomizationEnabled("allowOverlay",b),u.leftBladeConfiguration.expanded=!u.canvasConfiguration.isReadOnly,ha=b.localizableStringsByComponentId,delete b.localizableStringsByComponentId)})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.runtime").directive("rxRuntimeViewContainer",function(){return{restrict:"E",replace:!0,templateUrl:"scripts/view/runtime/runtime-view-container.directive.html",scope:{node:"="}}})}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.runtime").directive("rxRuntimeViewItem",["$compile","RX_VIEW_DEFINITION",function(a,b){var c='<rx-runtime-view-container node="node"></rx-runtime-view-container>';return{restrict:"E",scope:{node:"="},link:function(d,e){var f,g=d.node,h=d.$new(!0);if(g.type===b.baseContainer)f=a(c)(_.assign(h,{node:g}));else{var i=b.elementTemplate.replace(/\{type}/g,g.type).replace("{guid}",g.guid||g.componentDefinitionId);h.configuration=g.componentDefinition,f=a(i)(h)}e.replaceWith(f)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.runtime").directive("rxRuntimeView",["$rootScope","$q","$injector","$translate","rxViewDefinitionResource","rxViewComponent","rxDesignerCache","rxUtils","rxNotificationMessage","dialogs","rxContainerDesignManager","rxViewComponentEventManager","rxExpressionEngine","rxGUID","RX_RUNTIME_VIEW","RX_VIEW_COMPONENT","RX_VIEW_DEFINITION",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return{restrict:"E",controller:"RuntimeViewDirectiveController",scope:{rxConfiguration:"="},templateUrl:"scripts/view/runtime/runtime-view.directive.html",link:function(a,r,s,t){function u(){return t.callRuntimeComponentsApi(D,"isValid").then(function(a){return _.all(a)},function(){return!1})}function v(){return b(function(a,b){var c=_.some(D,function(a){return a.api&&_.isFunction(a.api.isDirty)&&a.api.isDirty()});c?j.confirm(d.instant("com.bmc.arsys.rx.standardlib.common.dialog.warning.label"),d.instant("com.bmc.arsys.rx.standardlib.common.dialog.dirtyState.message")).result.then(a,b):a()})}function w(){return _.transform(a.plainViewDefinition.outputParams,function(a,b){try{a[b.name]=m.evaluate(b.source,F)}catch(c){i.error(c.message)}return a},{})}function x(a,b,c){var d=f.findDescriptor(a.type);c=c||"",_.each(a.propertiesByName,function(a,e){var f=B(e,d,b);if(f.enabled&&b&&_.contains(a,c))try{b.propertiesByName[e]=m.evaluate(a,F,f.evaluator)}catch(g){i.error(g.message)}})}function y(a,b,c){_.each(a,function(a){var d=_.find(b,{guid:a.guid});x(a,d,c),d&&a.componentDefinitions&&y(a.componentDefinitions,d.componentDefinitions,c)})}function z(a,b){F.view.components[a.guid]=F.view.components[a.guid]||{};var c=f.findDescriptor(a.type);_.each(a.propertiesByName,function(d,e){if(void 0===F.view.components[a.guid][e]){var f=B(e,c,a);f.enabled?b(e,d,a,F.view.components[a.guid],f.evaluator):F.view.components[a.guid][e]=d}}),a.componentDefinitions&&_.each(a.componentDefinitions,function(a){z(a,b)})}function A(b){var c=JSON.parse(b.layout),d=h.flattenTree(b,"componentDefinitions").slice(1),e=h.flattenTree(c,"columns","children").filter(function(a){return a.componentDefinitionId});e.forEach(function(a){_.find(d,{guid:a.componentDefinitionId})||(k.initContainerLayoutProperties(a),a.type=q.baseContainer)}),_.each(d,function(a){var b=f.findDescriptor(a.type),c=_.find(e,{componentDefinitionId:a.guid}),d=_.cloneDeep(a);d.api={},c&&(_.assign(c,{type:b.type,componentDefinition:d}),_.has(a,"propertiesByName.autoFill")&&(c.autoFill=h.tryParseJson(a.propertiesByName.autoFill,!1)))}),D=_.filter(h.flattenTree(c,"columns","children","componentDefinition","componentDefinitions"),function(a){return!a.componentDefinition&&a.type&&"rx-view-designer-container"!==a.type}),_.each(D,function(a){z(a,function(a,b,c,d,e){_.contains(b,"${view.")||(m.isValid(b)&&(c.propertiesByName[a]=m.evaluate(b,null,e)),d[a]=c.propertiesByName[a])})}),_.each(D,function(a){z(a,function(a,b,c,d,e){(_.contains(b,"${view.inputParams")||_.contains(b,"${view.api"))&&(c.propertiesByName[a]=m.evaluate(b,F,e),d[a]=c.propertiesByName[a])})}),_.each(D,function(a){z(a,function(a,b,c,d,e){_.contains(b,"${view.components")&&(c.propertiesByName[a]=m.evaluate(b,F,e),d[a]=c.propertiesByName[a])})}),b.localizableStringsByComponentId&&_.each(D,function(a){a.propertiesByName=_.extend(a.propertiesByName||{},{localizedStrings:b.localizableStringsByComponentId[a.guid]||{}})});var g=1===_.size(c.columns),i=_.some(c.columns,function(a){return a&&a.hasOwnProperty("role")});g&&!i&&(c=c.columns[0]),a.useRowLayout=i,a.layout=c}function B(a,b,d){var e={enabled:!1,evaluator:void 0,validator:void 0},f=_.find(b.propertiesByName,{name:a});if(f)_.isUndefined(f.enableExpressionEvaluation)||(e.enabled=Boolean(f.enableExpressionEvaluation),e.evaluator=f.enableExpressionEvaluation.evaluatorService);else if(b.managerService){var g=c.get(b.managerService);e.enabled=!!_.isFunction(g.isExpressionEvaluationEnabled)&&g.isExpressionEvaluationEnabled(a,d)}return e}function C(a){return rx.assert.assert(_.isString(a)||_.isObject(a),"viewDefinitionName must be a string or an object representing view definition."),_.isString(a)?e.get(a):b.when(a)}var D=[],E=[],F={view:{components:{},inputParams:{},isValid:!1}};a.plainViewDefinition={name:a.rxConfiguration.viewDefinitionName,layout:a.rxConfiguration.layout},a.rxConfiguration.guid=n.generate();var G=l.getInstance(a);F.view.api=a.rxConfiguration.api={save:function(){return t.callRuntimeComponentsApi(D,"save").then(function(){G.action(o.events.viewAction,{actionName:o.actions.save})})},close:function(){var a=w();return G.action(o.events.viewAction,{actionName:o.actions.close,outputParams:a}),a},cancel:function(a){return b(function(b,c){a?(G.action(o.events.viewAction,{actionName:o.actions.cancel}),b()):v().then(function(){G.action(o.events.viewAction,{actionName:o.actions.cancel}),b()},c)})},refresh:function(){return t.callRuntimeComponentsApi(D,"refresh")}},C(a.rxConfiguration.viewDefinitionName).then(function(b){_.assign(a.plainViewDefinition,b),E=h.flattenTree(a.plainViewDefinition,"componentDefinitions").slice(1),_.each(a.plainViewDefinition.inputParams,function(b,c){F.view.inputParams[b.name]=a.rxConfiguration.params?a.rxConfiguration.params[c]:null}),A(a.plainViewDefinition),a.$emit(o.events.viewReady)}),g.clear(),a.$on("$destroy",function(){g.clear()}),a.$on(p.events.propertyChanged,function(b,c){var d,e=!1,f=!1;c.componentDefinitionId===a.rxConfiguration.guid?(e=!0,d="view."+c.property,F.view[c.property]=c.newValue):_.find(E,{guid:c.componentDefinitionId})&&(e=!0,d="view.components."+c.componentDefinitionId+"."+c.property,F.view.components[c.componentDefinitionId][c.property]=c.newValue,"isValid"===c.property&&c.newValue!==c.oldValue&&(f=!0)),e&&y(a.plainViewDefinition.componentDefinitions,D,d),f&&u().then(function(a){G.propertyChanged({property:"isValid",newValue:a})})}),a.$on(p.events.action,function(b,c){switch(c.actionName){case p.actions.close:a.rxConfiguration.api.close();break;case p.actions.save:G.action(o.events.viewAction,{actionName:o.actions.save});break;case p.actions.newComponentAdded:y(a.plainViewDefinition.componentDefinitions,D)}})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.access-denied").controller("RxAccessDeniedViewController",["$scope","rxGlobalCache","rxAuthentication","rxCurrentUser",function(a,b,c,d){a.logout=function(){c.logout()},a.currentUser=d.get().fullName,a.applicationName=b.getCurrentApplicationBundleDescriptor().friendlyName}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").controller("AdministrationSettingAccordionController",["$scope","$q","rxAdministrationSettingsResource","rxAdministrationSettingsComponent","rxNotificationMessage","RX_ADMINISTRATION_SETTINGS","dialogs","rxAdminSettingGroupManager","$uibModal","rxGroupDataPageResource","rxUserPreferenceResource","rxRoleDataPageResource",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a,b){return a.settingValue=b.settingValue,a.fileName=b.filename,a.fileType=b.filetype,a}function n(){a.saveSettings=b.defer();if(a.isCreateNew){var d=[];_.forIn(a.entity,function(b,c){var e={};e.componentName=a.componentName,e.settingName=c,a.entity[c].filename?m(e,a.entity[c]):"NaN"!==a.entity[c]&&(e.settingValue=a.entity[c]),_.forEach(a.rxConfiguration,function(a){_.find(a.propertyDefinitions,function(a){a.id!==e.settingName||a.disabled||(e.assigneeGroupPermission=s,d.push(e))})})}),a.componentCreatePermission[0]&&c.createComponentSettingData(a.componentName,d).then(function(b){var c=b.data.split("/");return a.ownerKeyValue=c[c.length-1],a.isCreateNew=!1,o(!1),a.response=b.data,e.success("Settings Saved."),a.saveSettings&&a.saveSettings.resolve("success"),a.$emit(f.SAVE_COMPLETE,{name:a.componentName,key:a.ownerKeyValue}),a.isFormModified=!1,a.$emit(f.FORM_DATA_CHANGED,{isFormModifiedByUser:!1}),b},function(b){a.saveSettings&&a.saveSettings.resolve("success")})}else{var g,h=[];g=a.isUserPreference?a.simpleGroupUpdate(a.componentName,a).then(function(b){0!==_.size(b)&&h.push(k.updateUserPreferenceComponentData(a.componentName+"/"+b[0].ownerKeyValue1,b))}):a.simpleGroupUpdate(a.componentName,a).then(function(b){0!==_.size(b)&&h.push(c.updateComponentSettingData(a.componentName+"/"+b[0].ownerKeyValue1,b))}),_.forEach(a.rxConfiguration,function(b,d){var e=a.groupData[d];if(e.component&&!e.supportsMultiple)if("POST"==e.status){var f=[];_.forIn(a.entity,function(c,g){var h={};_.find(a.rxConfiguration[d].propertyDefinitions,{id:g})&&(h.componentName=e.name,h.parentComponentName=a.componentName,h.settingName=g.replace("_"+h.componentName,""),a.entity[g].filename?m(h,a.entity[g]):"NaN"!==a.entity[g]&&(h.settingValue=a.entity[g]),h.ownerKeyValue2=a.ownerKeyValue,_.find(b.propertyDefinitions,function(a){a.id!==g||a.disabled||(h.assigneeGroupPermission=s,f.push(h))}))}),_.size(f)>0&&a.componentCreatePermission[d]&&h.push(c.createComponentSettingData(e.name+"/"+a.ownerKeyValue,f))}else{var g=[];_.forIn(a.entity,function(c,d){var f=_.findIndex(e.settingData.values,function(a){return a.settingName===d});f>-1&&a.entity[d]&&(a.entity[d].filename?m(e.settingData.values[f],a.entity[d]):"NaN"!==a.entity[d]&&(e.settingData.values[f].settingValue=a.entity[d]),_.forEach(b.propertyDefinitions,function(a){if(a.id===e.settingData.values[f].settingName&&!a.disabled){var b=_.clone(e.settingData.values[f]);b.settingName=b.settingName.replace("_"+e.name,""),b.assigneeGroupPermission=s,g.push(b)}}))}),0!==_.size(g)&&h.push(c.updateComponentSettingData(e.name+"/"+e.settingData.values[0].ownerKeyValue1,g))}else if(e.component&&e.supportsMultiple&&!_.isEmpty(e.config))if(e.config.createNew){var i=[];_.forIn(e.config.entity,function(c,d){var f={};_.find(e.config.propertyPanelConfigurations[0].propertyDefinitions,{id:d})&&(f.componentName=e.name,f.parentComponentName=a.componentName,f.settingName=d.replace("_"+f.componentName,""),_.isUndefined(e.config.entity[d].filename)?"NaN"!==e.config.entity[d]&&(f.settingValue=e.config.entity[d]):m(f,e.config.entity[d]),f.ownerKeyValue2=a.ownerKeyValue,_.find(b.propertyDefinitions,function(a){a.id!==d||a.disabled||(i.assigneeGroupPermission=s,i.push(f))}))}),_.size(i)>0&&a.componentCreatePermission[d]&&h.push(c.createComponentSettingData(e.name+"/"+a.ownerKeyValue,i))}else{var j=e.config.componentName,k=[];_.forIn(e.config.entity,function(a,c){var d=_.findIndex(e.settingData.values,function(a){return a.settingName+"_"+j===c});d>-1&&!_.isUndefined(e.config.entity[c])&&(_.isUndefined(e.config.entity[c].filename)?"NaN"!==e.config.entity[c]&&(e.settingData.values[d].settingValue=e.config.entity[c]):m(e.settingData.values[d],e.config.entity[c]),_.forEach(b.propertyDefinitions,function(a){if(a.id===e.settingData.values[d].settingName+"_"+j&&!a.disabled){var b=_.clone(e.settingData.values[d]);b.settingName=b.settingName.replace("_"+e.name,""),b.assigneeGroupPermission=s,k.push(b)}}))}),0!==_.size(k)&&h.push(c.updateComponentSettingData(j+"/"+e.config.ownerKeyValue,k))}}),g.then(function(){
a.promiseStatus=[],h.map(function(c,d){var e=b.defer();return c.then(function(b){a.promiseStatus.push("True"),e.resolve()},function(b){a.promiseStatus.push("False"),e.reject()}),e.promise});var c=a.$watch("promiseStatus",function(b,d){if(a.promiseStatus.length===h.length){var g=0;a.updateGroups(),_.forEach(a.promiseStatus,function(b){"True"===b&&g++,g==h.length?(a.isFormModified=!1,a.$emit(f.FORM_DATA_CHANGED,{isFormModifiedByUser:!1}),e.success("Settings Saved."),_.forEach(a.groupData,function(b,c){if(b.supportsMultiple&&b.showPanel&&(b.configuration={},b.config={},b.showPanel=!1),b.component&&!b.supportsMultiple&&"POST"==b.status){var d=_.assign({componentName:b.name,ownerKeyValue:a.ownerKeyValue,supportsMultiple:b.supportsMultiple,group:b,isComponent:b.component,groupNumber:c});a.setComponentData(d)}})):a.saveSettings&&a.saveSettings.resolve("success")}),a.saveSettings&&a.saveSettings.resolve("success"),a.$emit(f.SAVE_COMPLETE,{name:a.componentName,key:a.ownerKeyValue}),c()}},!0)})}}function o(b){_.forEach(a.groupData,function(c,d){_.forEach(a.rxConfiguration[d].propertyDefinitions,function(d){a.isCreateNew?c.component||_.isUndefined(d.defaultValue)||(a.entity[d.id]=d.defaultValue):(c.component&&!_.isUndefined(d.defaultValue)&&(c.supportsMultiple?(c.entity||(c.entity={}),c.entity[d.id]=d.defaultValue):a.entity[d.id]=d.defaultValue),c.component||_.isUndefined(d.defaultValue)||!b||(a.entity[d.id]=d.defaultValue))})})}function p(){var b=[],c=[],d={name:a.componentName};a.cell={get:function(){return d}};var e=i.open({templateUrl:"scripts/components/designer/editors/permission-editor-dialog.html",controller:"PermissionEditorDialogController",backdrop:"static",resolve:{assignedPermissions:function(){if(s){var c=s.split(";");_.forEach(c,function(c){var d=0;c>0&&(d=_.findIndex(a.groupsList,function(a){return a.groupId===parseInt(c)}),b.push({ownerId:{value:a.groupsList[d].groupId,type:"GROUP"},ownerName:a.groupsList[d].groupName,type:"VISIBLE"})),c<0&&(d=_.findIndex(a.rolesList,function(a){return a.roleID===parseInt(c)}),b.push({ownerId:{value:a.rolesList[d].roleID,type:"ROLE"},ownerName:a.rolesList[d].roleName,type:"VISIBLE"}))})}return angular.copy(b)},basePermissions:function(){return angular.copy(c)},securityLabels:function(){return angular.copy([])},editorContext:function(){return{type:"runtimeconfig",cell:a.cell}}},windowClass:"rx-permission-editor-dialog"});e.result.then(q)}function q(a){a.permissions=_.map(_.cloneDeep(a.permissions),function(a){return _.omit(a,"ownerName")}),s="",_.forEach(a.permissions,function(a){s=s?s+";"+a.ownerId.value:a.ownerId.value}),s+=";"}a.status={isFirstOpen:!0,oneAtATime:!0,isItemOpen:[!0]},a.saveSettings=null,a.isFormModified=!1,a.rxConfiguration=a.settingConfiguration.propertyPanelConfigurations,a.isCreateNew=a.settingConfiguration.isCreateNew,a.ownerKeyValue=a.settingConfiguration.ownerKeyValue,a.groupData=a.settingConfiguration.groupsData,a.entity=a.settingConfiguration.entity,a.componentCreatePermission=a.settingConfiguration.componentCreatePermission,a.componentName=a.settingConfiguration.componentName,a.isUserPreference=a.settingConfiguration.isUserPreference,a.init=function(){if(!a.isCreateNew){var b=_.assign({componentName:a.componentName,ownerKeyValue:a.ownerKeyValue,supportsMultiple:!1,group:a.groupData[0],isComponent:!1,groupNumber:0});a.setComponentData(b)}};var r=a.$watch("ownerKeyValue",function(b,c){b&&(a.setChildComponentData(),r())});a.setChildComponentData=function(){_.forEach(a.groupData,function(b,c){if(b.component&&!a.isCreateNew){var d=_.assign({componentName:b.name,ownerKeyValue:a.ownerKeyValue,supportsMultiple:b.supportsMultiple,group:b,isComponent:b.component,groupNumber:c});a.setComponentData(d)}})},a.updateGroups=function(){_.forEach(a.groupData,function(b,c){if(a.status.isItemOpen[c]&&b.component){var d=_.assign({componentName:b.name,ownerKeyValue:a.ownerKeyValue,supportsMultiple:b.supportsMultiple,group:b,isComponent:b.component,groupNumber:c});a.setComponentData(d)}})},a.$watch("status",function(b){a.updateGroups()},!0),a.setComponentData=function(b){return b.componentName?(b.isComponent?b.supportsMultiple?d.getGridComponentData(b.componentName+"/"+b.ownerKeyValue).then(function(a){b.group.masterContent=a,b.group.masterContent.order=[],_.forEach(b.group.masterContent.header,function(a){b.group.masterContent.order.push(a.id)})}):d.getComponentSettingData(a.componentName+"/"+b.componentName+"/"+b.ownerKeyValue).then(function(c){b.group.settingData=c,b.group.status=0===_.size(c.values)?"POST":"PUT",_.forEach(c.values,function(b){if(b.settingName=b.settingName+"_"+b.componentName,_.isUndefined(b.fileName))b.settingValue?a.entity[b.settingName]=isNaN(b.settingValue)?b.settingValue:Number(b.settingValue):a.entity[b.settingName]=b.settingValue;else{var c={};c.settingValue=b.settingValue,c.filename=b.fileName,c.filetype=b.fileType,a.entity[b.settingName]=c}})}):(b.ownerKeyValue=b.ownerKeyValue||"",a.isUserPreference?(k.getUserPreferenceComponentData(b.componentName).then(function(b){a.ownerKeyValue=0===_.size(b.values)?"":b.values[b.values.length-1].ownerKeyValue1,_.forEach(b.values,function(b){if(s||(s=b.assigneeGroupPermission),_.isUndefined(b.fileName))b.settingValue?a.entity[b.settingName]=isNaN(b.settingValue)?b.settingValue:Number(b.settingValue):a.entity[b.settingName]=b.settingValue;else{var c={};c.settingValue=b.settingValue,c.filename=b.fileName,c.filetype=b.fileType,a.entity[b.settingName]=c}})}),c.setContext(!1)):d.getComponentSettingData(b.componentName+"/"+b.ownerKeyValue).then(function(b){a.ownerKeyValue=0===_.size(b.values)?"":b.values[b.values.length-1].ownerKeyValue1,a.isCreateNew=0===_.size(b.values),_.forEach(b.values,function(b){if(s||(s=b.assigneeGroupPermission),_.isUndefined(b.fileName))b.settingValue?a.entity[b.settingName]=isNaN(b.settingValue)?b.settingValue:Number(b.settingValue):a.entity[b.settingName]=b.settingValue;else{var c={};c.settingValue=b.settingValue,c.filename=b.fileName,c.filetype=b.fileType,a.entity[b.settingName]=c}})})),void(a.groupData.length!=b.groupNumber+1||a.isFormModified||(a.isFormModified=!0,a.$emit(f.FORM_DATA_CHANGED,{isFormModifiedByUser:!1})))):null},a.hideColumn=function(a,b){return _.result(_.find(a,{id:b}),"keySetting")},a.removeData=function(b,c,d,e){h.removeChild(b,c,d,a.componentCreatePermission[e])},a.simpleGroupUpdate=function(b,c){var e=[];return d.getComponentSettingData(b+"/"+c.ownerKeyValue).then(function(b){return _.forIn(a.entity,function(d,f){var g=_.findIndex(b.values,function(a){return a.settingName===f});g>-1&&c.entity[f]&&(_.isUndefined(c.entity[f].filename)?"NaN"!==a.entity[f]&&(b.values[g].settingValue=c.entity[f]):(b.values[g].fileName=c.entity[f].filename,b.values[g].settingValue=c.entity[f].settingValue,b.values[g].fileType=c.entity[f].filetype),_.forEach(a.rxConfiguration,function(a,c){_.forEach(a.propertyDefinitions,function(a){if(a.id===b.values[g].settingName&&!a.disabled){var c=_.clone(b.values[g]);c.assigneeGroupPermission=s,e.push(c)}})}))}),e})},a.$on(f.SAVE_START,function(a){n()}),a.getChildComponentSettingData=function(a,b,c){h.getChildComponentSettingData(a,b,c)},a.createChild=function(a,b){h.createChild(a,b)},a.$on(f.BUSY,function(c){"Skinning"===a.componentName&&(a.saveSettings=b.defer())}),a.$on(f.IDLE,function(b){a.saveSettings&&"Skinning"===a.componentName&&a.saveSettings.resolve("success")}),a.$on(f.SAVE_COMPLETE,function(b){"Skinning"!==a.componentName&&(a.saveSettings=!1)}),a.$on(f.HIDE_PANEL,function(b){_.forEach(a.groupData,function(a){a.showPanel&&(a.showPanel=!1)})}),a.$on(f.RESET_DATA,function(b){a.isFormModified=!0,a.$emit(f.FORM_DATA_CHANGED,{isFormModifiedByUser:!0}),_.forEach(a.groupData,function(b,c){_.forEach(a.rxConfiguration[c].propertyDefinitions,function(c){b.supportsMultiple&&!_.isUndefined(b.config)?_.forIn(b.config.entity,function(a,d){d==c.id&&!c.disabled&&c.defaultValue&&(b.config.entity[d]=c.defaultValue)}):_.forIn(a.entity,function(b,d){d==c.id&&!c.disabled&&c.defaultValue&&(a.entity[d]=c.defaultValue)})})})}),o(!0),a.$on(f.OPEN_PERMISSION_EDITOR,function(c){a.rolesList||a.groupsList?p():b.all({roles:l.get(-1,0,{propertySelection:["roleName","roleID"].join()}),groups:j.get(-1,0,{propertySelection:["groupName","groupId"].join()})}).then(function(b){a.rolesList=b.roles.plain().data,a.groupsList=b.groups.plain().data,p()})});var s="";a.init()}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").controller("AdminSettingsActionBladeController",["$scope","actionConfigData","$uibModalInstance","RX_ADMINISTRATION_SETTINGS","dialogs",function(a,b,c,d,e){a.settingConfiguration=b,a.header=a.settingConfiguration.headerLabel,a.save=function(){a.$broadcast(d.SAVE_START)},a.reset=function(){a.$broadcast(d.RESET_DATA)},a.openGroupEditor=function(){a.$broadcast(d.OPEN_PERMISSION_EDITOR)},a.close=function(){a.$broadcast(d.HIDE_PANEL),a.componentForm.$pristine?c.close():e.confirm("Warning!","You have unsaved data. Do you want to continue?").result.then(function(){c.close()})},a.$on(d.FORM_DATA_CHANGED,function(b,c){a.componentForm.$pristine=!c.isFormModifiedByUser})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").controller("AdministrationSettingsCustomViewController",["$scope","$stateParams","rxAdministrationSettingsCustomView",function(a,b,c){a.customViewConfiguration={viewDescriptor:c.findDescriptor(b.componentName)}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").controller("AdministrationSettingsEditorController",["$http","$scope","rxAdministrationSettingsComponent","$uibModal","rxAdministrationSettingsResource","RX_ADMINISTRATION_SETTINGS","dialogs","rxCreatePropertyObject","$stateParams",function(a,b,c,d,e,f,g,h,i){function j(){b.settingConfiguration={groupsData:[],propertyPanelConfigurations:[],entity:{},isCreateNew:!1,ownerKeyValue:"",componentCreatePermission:[],headerLabel:""},b.savedata=!1,i.compName&&(b.componentName=i.compName,b.settingConfiguration.componentName=b.componentName,k(i.compName))}b.removeData=function(a,c){b.settingConfiguration.componentCreatePermission[0]&&g.confirm("Warning!","Are you sure you want to delete selected settings?").result.then(function(){e.removeData(b.componentName+"/"+a.ownerKeyValue1).then(function(a){return b.masterContent.rows.splice(c,1),a})})},b.$on(f.SAVE_COMPLETE,function(a,c){b.savedata=!1}),b.refreshGridData=function(){b.hasMultiple&&c.getGridComponentData(b.componentName).then(function(a){b.masterContent=a,b.masterContent.order=[];for(var c=0;c<b.masterContent.header.length;c++)b.masterContent.order.push(b.masterContent.header[c].id)})},b.saveData=function(){b.savedata=!0,b.$broadcast(f.SAVE_START)},b.resetData=function(){b.$broadcast(f.RESET_DATA)},b.hideColumn=function(a,b){return _.result(_.find(a,{id:b}),"keySetting")},b.editData=function(a){var c=d.open({templateUrl:"scripts/administration/settings/administration-settings-action-blade.html",windowClass:"d-action-blade",controller:"AdminSettingsActionBladeController",resolve:{actionConfigData:function(){var c=_.clone(b.settingConfiguration);return c.ownerKeyValue=a.ownerKeyValue1,c.isCreateNew=!1,_.clone(c)}}});c.result.then(function(a){b.refreshGridData()},function(a){b.refreshGridData()})},b.showActionBlade=function(){var a=d.open({templateUrl:"scripts/administration/settings/administration-settings-action-blade.html",windowClass:"d-action-blade",controller:"AdminSettingsActionBladeController",resolve:{actionConfigData:function(){var a=_.clone(b.settingConfiguration);return a.ownerKeyValue="",a.isCreateNew=!0,a.entity={},_.clone(a)}}});a.result.then(function(a){b.refreshGridData()},function(a){b.refreshGridData()})};var k=function(a){b.hasMultiple=!1,b.masterContent=[],b.createPermission=!1,c.getComponentDefinition(a).then(function(d){b.headerLabel=d.header,b.settingConfiguration.headerLabel=d.header,b.settingConfiguration.groupsData=d.groups,b.settingConfiguration.impactRowVisibility=d.impactRowVisibility,void 0!==d.supportsMultiple&&(b.hasMultiple=d.supportsMultiple,b.createPermission=d.createPermission,b.hasMultiple&&c.getGridComponentData(a).then(function(a){b.masterContent=a,b.masterContent.order=[];for(var c=0;c<b.masterContent.header.length;c++)b.masterContent.order.push(b.masterContent.header[c].id)})),_.forEach(d.groups,function(a,e){var f={entityPropertyKeyName:"id",propertyDefinitions:[]};a.component?c.getComponentDefinition(a.name).then(function(c){var d=c.compName;b.settingConfiguration.componentCreatePermission.push(c.createPermission),_.forEach(c.groups[0].controls,function(b,c){f.propertyDefinitions.push(h.definitionObject(b,c,d,a.component))},b)}):(_.forEach(a.controls,function(a,b){f.propertyDefinitions.push(h.definitionObject(a,b))},b),b.settingConfiguration.componentCreatePermission.push(d.createPermission)),b.settingConfiguration.propertyPanelConfigurations.push(f)},b)})};j()}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").controller("AdministrationSettingsListController",["$scope","$state","$stateParams","$window","rxAdministrationSettingsComponent","$timeout","rxAdministrationSettingsResource","rxAdministrationSettingsTenancyResource","RX_ADMINISTRATION_SETTINGS","$http",function(a,b,c,d,e,f,g,h,i,j){function k(a){var d,e=c.node;if(e&&"root"!==e){var f=m(a.treeData,e);if(!f)return l(a.isGlobalSetting),null;if(d=f.id.split("_"),n(d),_.isUndefined(a.apps[0]))return l(a.isGlobalSetting),null;if(b.params.compName===a.apps[0].compName){a.selectedNode=a.apps[0];for(var g=0;g<a.apps.length;g++)a.expandedNodes.push(a.apps[g]);a.showSelected(a.apps[0])}else l(a.isGlobalSetting)}}function l(c){b.go(b.current,{compName:"home",bundleName:"",node:"root",workspace:c?"global":"local"},{notify:!1}),a.isDetail=!1}function m(a,b){var c;for(c in a){var d=a[c];if(d.guid===b)return d;if(d.children){var e=m(d.children,b);if(e)return e}}return null}function n(b){1===b.length&&a.apps.push(a.treeData[b[0]]),2===b.length&&a.apps.push(a.treeData[b[0]].children[b[1]],a.treeData[b[0]]),3===b.length&&a.apps.push(a.treeData[b[0]].children[b[1]].children[b[2]],a.treeData[b[0]].children[b[1]],a.treeData[b[0]]),4===b.length&&a.apps.push(a.treeData[b[0]].children[b[1]].children[b[2]].children[b[3]],a.treeData[b[0]].children[b[1]].children[b[2]],a.treeData[b[0]].children[b[1]],a.treeData[b[0]])}a.expandedNodes=[],a.apps=[];var o=!1;if(a.isGlobalSetting=!0,a.isUserPreference=!1,"userPreference"===a.rxConfiguration.type)a.isUserPreference=!0;else{if(!o){h.getTenantInfo().then(function(b){a.isSaaSAdmin=b.isSaaSAdmin&&!b.isSingleTenant&&""===a.rxConfiguration.bundleId,"global"===a.rxConfiguration.workspace?g.setContext(a.isSaaSAdmin):(a.isGlobalSetting=!1,g.setContext(!1)),e.getNavTreeData(a.rxConfiguration.bundleId).then(function(b){a.treeData=b}),o=!0})}if(!b.params.compName&&!b.params.componentId||"home"===b.params.compName)a.isDetail=!1;else{a.isDetail=!0;var p=a.$watchCollection("treeData",function(b,c){b!==c&&(_.isEmpty(a.treeData)||(k(a),p()))})}}a.navConfiguration={dock:"left",expanded:"true",title:"Settings"},a.getAppSetting=function(b){g.setContext(b),a.isGlobalSetting=b,a.treeData=[],e.getNavTreeData(a.rxConfiguration.bundleId).then(function(b){a.treeData=b}),a.isDetail=!1,a.expandedNodes=[],a.selectedNode={},l(a.isGlobalSetting)},a.showSelected=function(h){h.children&&0===h.children.length?(a.selection="",a.isDetail=!0,a.selectedNode=a.apps[0]||h,g.setBundleScope(h.defaultBundleScope),e.setSelectedNode(h),f(function(){h.isCustom?h.linkType===i.LINK_IN_BUNDLE?h.isViewComponent?(c.viewDefinitionName=h.registeredModuleName,a.selection="runtime-view"):(c.componentName=h.registeredModuleName,a.selection="custom-view"):h.linkType===i.LINK_EXTERNAL&&(d.open(h.externalLink,"_blank"),a.selection="external-view"):(c.compName=h.compName,a.selection="shared-view")},10),j.defaults.headers.common["default-bundle-scope"]=h.defaultBundleScope,b.go(b.current,{compName:h.compName,bundleName:h.defaultBundleScope,node:h.guid,workspace:a.isGlobalSetting?"global":"local"},{notify:!1})):a.selection="parent-selection"}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").controller("AdministrationSettingsController",["$scope","rxBundleCache","$stateParams",function(a,b,c){var d;d="administrator"===c.type?"":b.getBundleId()||"",a.rxConfiguration={bundleId:d,compName:c.compName,bundleName:c.bundleName,type:c.type,workspace:c.workspace}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").controller("UserPreferenceController",["$scope","$http","rxAdministrationSettingsComponent","rxAdministrationSettingsResource","rxUserPreferenceResource","rxCreatePropertyObject","RX_ADMINISTRATION_SETTINGS",function(a,b,c,d,e,f,g){a.componentConfigurationList=[],e.getUserPreferenceComponentList().then(function(b){a.componentList=b.items,h()}),a.saveData=function(){a.savedata=!0,a.$broadcast(g.SAVE_START)},a.resetData=function(){a.$broadcast(g.RESET_DATA)};var h=function(){_.forEach(a.componentList,function(c){b.defaults.headers.common["default-bundle-scope"]=c.defaultBundleScope,e.getUserPreferenceDefinitionData(c.compName).then(function(b){var d={groupsData:[],propertyPanelConfigurations:[],entity:{},isCreateNew:!1,ownerKeyValue:"",componentCreatePermission:[],headerLabel:"",isUserPreference:!0};d.componentName=c.compName,d.headerLabel=b.header,d.groupsData=b.groups,d.impactRowVisibility=b.impactRowVisibility,_.forEach(b.groups,function(c,e){var g={entityPropertyKeyName:"id",propertyDefinitions:[]};_.forEach(c.controls,function(a,b){g.propertyDefinitions.push(f.definitionObject(a,b))},a),d.componentCreatePermission.push(b.createPermission),d.propertyPanelConfigurations.push(g)},a),a.componentConfigurationList.push(d)})})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.blade").controller("BladeController",["$scope","$timeout",function(a,b){function c(){a.rxConfiguration.expanded=!1}function d(){a.rxConfiguration.expanded=!0}var e=a.tabs=[];this.handleTabClick=function(a){this.activate(a)},a.toggle=function(){a.rxConfiguration.expanded?c():d()},this.addTab=function(a){e.push(a),(1===e.length||a.active)&&this.activate(a)},this.activate=function(c){_.forEach(e,function(a){a!==c&&(a.active=!1)}),c.active=!0,a.activeTab=c,_.isFunction(c.onActivate)&&b(function(){c.onActivate(c.tabName)})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.confirmation-message-dialog").controller("rxConfirmationMessageDialogController",["$scope","context","$uibModalInstance",function(a,b,c){a.title=b.title||"Confirmation",a.fieldLabel=b.fieldLabel,a.message="",a.ok=function(){c.close(a.message)},a.cancel=function(){c.dismiss()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.definition-picker").controller("rxDefinitionPickerController",["$scope","$timeout","$q","rxDefinitionPickerCache","bundlePathFilter","rxGlobalCache","rxBundleCache","definitionNameFilter","definitionSearchFilter","RX_DEFINITION_PICKER",function(a,b,c,d,e,f,g,h,i,j){function k(b){var d,e=_.map(b,function(a){var b={key:a};switch(a){case j.definitionScopes.bundle:d=c.defer(),g.getBundleFriendlyName().then(function(a){p=a,b.label=_.trunc(p,{length:60}),d.resolve()});break;case j.definitionScopes.all:b.label=q.allDefinitionsLabel;break;case j.definitionScopes.rx:b.label=q.allDefinitionsLabel}return b});c.when(d).then(function(){a.definitionGroups=e})}function l(a,b,c){return _(b).map(function(a){return{definitionName:a.name,label:_.escape(h(a.name))}}).groupBy(function(a){return e(a.definitionName)||j.globalDefinitionsLabel}).map(function(b,c){var d=_.find(a,{id:c});return{label:d?d.friendlyName||d.id:c,definitionTreeNodes:b.sort(function(a,b){return a.definitionName.localeCompare(b.definitionName)})}}).sort(function(a,b){if("bundle"===c||r){if(a.label===p)return-1;if(b.label===p)return 1}if("all"===c||"rx"===c){if(a.label===j.globalDefinitionsLabel)return-1;if(b.label===j.globalDefinitionsLabel)return 1}return a.label.localeCompare(b.label)}).value()}function m(b){if(!a.definitionTrees[b]){var e;e="search"===b?d[q.dataGetters[a.rxAvailablePickerStates.search]]:d[q.dataGetters[b]],rx.assert.assertFunction(e,"rxDefinitionPickerCache."+e+" does not exist."),a.definitionTrees[b]=n(e,b).then(function(c){if(!c.length)return[];var d=o(c);return d||(d=c[0]),d.isExpanded=!0,a.definitionTrees[b]=c,a.definitionTrees[b]})}return c.when(a.definitionTrees[b])}function n(a,b){return c.all({bundleDescriptors:f.getBundleDescriptors(),definitionDescriptors:a()}).then(function(a){return l(a.bundleDescriptors,a.definitionDescriptors,b)})}function o(b){return _.find(b,function(b){return _.find(b.definitionTreeNodes,function(b){return b.definitionName===a.rxSelectedDefinitionName})})}rx.assert.assertString(a.rxType,"Definition type must be specified via rx-type attribute.");var p,q=j.definitionTypes[a.rxType],r=!1;if(rx.assert.assertObject(q,"Unknown definition type specified in rx-type attribute:"+a.rxType+"."),a.states={},a.definitionSearchQuery="",a.definitionTrees={},a.busyIndicatorTemplateUrl="template/busy-loader.html",a.definitionScope={},a.rxAvailablePickerStates){rx.assert.assert(_.isObject(a.rxAvailablePickerStates)&&(_.has(a.rxAvailablePickerStates,"definitionButtonsGroups")||_.has(a.rxAvailablePickerStates,"search")),"Property rxAvailablePickerStates should have either definitionButtonsGroups or search fields.");var s=_.keys(a.rxAvailablePickerStates);if(_.includes(s,"definitionButtonsGroups"))a.rxAvailablePickerStates.search||(a.rxAvailablePickerStates.search=j.definitionScopes.all),k(a.rxAvailablePickerStates.definitionButtonsGroups);else if(1===s.length&&"search"===s[0]){var t=c.defer(),u=g.getBundleId();u?f.getBundleDescriptors().then(function(a){var b=_.find(a,{id:u});p=b?b.friendlyName||b.id:u,t.resolve()}):t.resolve(),c.when(t).then(function(){a.states.searchOpened=!0,a.definitionScope.name="search",r=!0})}}else a.rxAvailablePickerStates={definitionButtonsGroups:[j.definitionScopes.bundle,j.definitionScopes.all],search:j.definitionScopes.all},k(a.rxAvailablePickerStates.definitionButtonsGroups);d.registerConsumer(a),a.$watch("definitionScope.name",function(b,c){b&&(a.previousDefinitionScope=c,a.loadingDefinitionsPromise=m(b))}),a.$watch("definitionSearchQuery",function(b){a.states.searchOpened&&m(a.rxAvailablePickerStates.search).then(function(c){var d=i(_.cloneDeep(c),b);_.each(d,function(a,c){return a.isExpanded=Boolean(b)||0===c,a}),a.definitionTrees.search=d})}),a.openPopup=function(){a.rxDisabled||(a.definitionScope.name||(a.definitionScope.name="bundle"),a.states.opened=!a.states.opened)},a.closePopup=function(){a.$apply(function(){a.states.opened=!1})},a.selectDefinition=function(b){a.rxSelectedDefinitionName=b,b&&(a.states.opened=!1),a.ngModelController&&(a.ngModelController.$setViewValue(b),a.ngModelController.$render()),a.rxOnDefinitionSelected&&a.rxOnDefinitionSelected(b)},a.clearDefinition=function(b){b.stopPropagation(),a.selectDefinition(null)},a.closeSearch=function(){a.states.searchOpened=!1,a.definitionScope.name=a.previousDefinitionScope},a.openSearch=function(){a.states.searchOpened=!0,a.definitionScope.name="search"},a.clearSearch=function(){a.definitionSearchQuery=""}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").controller("PermissionEditorDialogController",["$scope","$q","$uibModalInstance","assignedPermissions","basePermissions","securityLabels","editorContext","rxDesignerCache","rxBundleCache","rxGlobalCache","rxOverlay","RX_OVERLAY","RX_PERMISSION","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){var a=g.cell.get("isReverted");return a?l.operationTypes.NOT_CUSTOMIZED_IN_THIS_OVERLAY_GROUP:v.lastUpdateTime?k.getOverlayOperation(v.overlayGroupId,w.parentOverlayGroupId):l.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP}function p(b){return b==m.permissionType[0]?a.roles:a.groups}function q(){var b=_(e).map(function(b){var c=_.find(a.roles.concat(a.groups),{id:b.ownerId.value});return b.ownerName=c.name,b}).groupBy("ownerName").value();a.basePermissions=_.map(b,function(b,c){var d=r(b[0].ownerId),e=!1,f=!1;if(_.includes([l.overlayTypes.additive,l.overlayTypes.overwrite],w.permissionsOverlayType)){var g=_.find(a.permissions,{permissionOwner:c});l.overlayTypes.overwrite===w.permissionsOverlayType&&(e=!_.find(a.permissions,{permissionOwner:c})),g&&(f=!0,a.permissions=_.reject(a.permissions,g))}return{type:d,permissionOwner:c,permissionOwnerList:p(d),permittedActions:_.map(b,"type"),isDisabled:e,isPinned:f}})}function r(a){var b=a.value;return _.isNumber(b)?b<0?m.permissionType[0]:m.permissionType[1]:a.type?a.type.toLowerCase():m.permissionType[0]}function s(a,b,c){var d={ownerId:{value:a.id,type:b.type.toUpperCase()},ownerName:b.permissionOwner,type:c};return a.hasOwnProperty("securityLabelMapping")&&(d.ownerId.name=b.name||a.name),d}function t(){_.remove(a.permissions,function(a){return""===a.permissionOwner});var b=angular.copy(a.permissions),c=[],d=_.filter(a.basePermissions,{isDisabled:!0});if(d.length>0){var e=_.difference(a.basePermissions,d);e&&(b=b.concat(e)),y=l.overlayTypes.overwrite}var f=_.filter(a.basePermissions,{isPinned:!0});return f&&0===d.length&&(b=b.concat(f),y=l.overlayTypes.additive),b.length>0&&y!==l.overlayTypes.overwrite&&(y=l.overlayTypes.additive),_.each(b,function(b){var d=_.find(b.permissionOwnerList,{name:b.permissionOwner});d||(d=_.find(a.securityLabels,{name:b.permissionOwner})),a.dialogMetadata.actions.length>0?_.each(b.permittedActions,function(a){c.push(s(d,b,a))}):c.push(s(d,b,a.dialogMetadata.defaultPermittedAction))}),c}var u={type:"",permissionOwner:"",permissionOwnerList:[],permittedActions:[]},v=g.cell.get("rxData"),w=v.overlayDescriptor||{parentOverlayGroupId:null};if(a.state={permissionsWereUpdated:!1,dataLoaded:!1},a.displayName=v.name,a.dialogMetadata=m.permissionDialogMetadata[g.type],a.actionsData=a.dialogMetadata.actions,a.publicPermissionValue=[],a.securityLabels=f,_.includes(m.haveOverlayLogic,g.type)){var x=o();if(x!==l.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP){a.overlayMode=!0;var y=w.permissionsOverlayType||l.operationTypes.NOT_CUSTOMIZED_IN_THIS_OVERLAY_GROUP}}a.automaticPermissionSet=function(){var b=_.find(_.union(a.permissions,a.basePermissions),function(a){return a.permissionOwner==m.publicPermissionType&&a.permittedActions.length>0});return b?a.publicPermissionValue=b.permittedActions:a.publicPermissionValue=[],b&&!b.isDisabled},a.basePermissionDisabled=function(){return _.find(a.basePermissions,{isDisabled:!0})},a.basePermissionPinned=function(){return _.find(a.basePermissions,{isPinned:!0})},b.all({groups:g.type===m.editorContexts.field?j.getFieldGroupDescriptors():j.getGroupDescriptors(),roles:i.getRoleDescriptors()}).then(function(b){var c;if(a.groups=_.map(b.groups,function(a){return{name:a.groupName,id:a.groupId}}),a.roles=_.map(b.roles,function(a){return{name:a.roleName,id:a.roleID}}),m.editorContexts.field===g.type&&w.permissionsOverlayType){var f=_.union(b.groups,b.roles);c=_(v.explicitPermissions).map(function(a){var b=_.find(f,function(b){return _.includes([b.roleID,b.groupId],a.ownerId.value)});return b&&(a.ownerName=b.groupName||b.roleName),a}).groupBy("ownerName").value()}else c=_.groupBy(d,"ownerName");a.overlayMode?(w.permissionsOverlayType?a.permissions=_.map(c,function(a,b){var c=r(a[0].ownerId);return{type:c,permissionOwner:b,permissionOwnerList:p(c),permittedActions:_.map(a,"type")}}):a.permissions=[],q(e)):a.permissions=_.map(c,function(a,b){var c=r(a[0].ownerId);return{type:c,permissionOwner:b,permissionOwnerList:p(c),permittedActions:_.map(a,"type")}}),a.state.dataLoaded=!0}),a.getAvailablePermissionOwnersList=function(b){return _.reject(b,function(b){return _.find(_.union(a.permissions,a.basePermissions),{permissionOwner:b.name})||_.contains(a.dialogMetadata.filterPermissionGroupIDs,b.id)||b.id>=n.SECURITY_LABEL_IDS.MIN&&b.id<=n.SECURITY_LABEL_IDS.MAX||b.id===n.groupIds.assigneeGroup})},a.permissionTypes=m.permissionType,a.setRestrictionForAllPermissions=function(b){a.state.permissionsWereUpdated=!0,_.each(a.permissions,function(c){a.dialogMetadata.uniqueAction?c.permittedActions=[b]:!_.includes(c.permittedActions,b)&&c.permissionOwner&&c.permittedActions.push(b)})},a.setPermissionType=function(b,c){c.type=b,c.permissionOwner="",c.permittedActions=[],c.permissionOwnerList=p(c.type),a.state.permissionsWereUpdated=!0},a.setPermissionOwner=function(b,c){c.permissionOwner=b.name,a.state.permissionsWereUpdated=!0,m.editorContexts.record===g.type&&(c.permittedActions=[a.dialogMetadata.defaultPermittedAction])},a.setRestriction=function(b,c){a.dialogMetadata.uniqueAction?_.includes(c.permittedActions,b)?c.permittedActions=[]:c.permittedActions=[b]:_.includes(c.permittedActions,b)?c.permittedActions=_.without(c.permittedActions,b):c.permittedActions.push(b),a.state.permissionsWereUpdated=!0},a.createNewPermission=function(){var b=angular.copy(u);b.type=m.permissionType[0],b.permissionOwnerList=a.roles,a.permissions.push(b),a.state.permissionsWereUpdated=!0,y&&y!==l.overlayTypes.overwrite&&(y=l.overlayTypes.additive)},a.removePermission=function(b){b.permissionOwner==m.publicPermissionType&&(a.publicPermissionValue=[]),_.remove(a.permissions,b),a.state.permissionsWereUpdated=!0},a.togglePermission=function(b){b.isDisabled=!b.isDisabled,b.isPinned=!1,a.state.permissionsWereUpdated=!0},a.pinPermission=function(b){b.isPinned&&(a.permissions=_.reject(a.permissions,{ownerName:b.ownerName})),b.isPinned=!b.isPinned,a.state.permissionsWereUpdated=!0},a.ok=function(){var a=t();c.close({permissions:a,permissionsOverlayType:y})},a.cancel=function(){c.dismiss("cancel")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").controller("TimerEditorController",["$scope","$filter","$uibModalInstance","expressionContext",function(a,b,c,d){function e(a){var b="P"+(a.months?a.months+"M":"")+(a.weeks?a.weeks+"W":"")+(a.days?a.days+"D":"")+(a.hours||a.minutes?"T":"")+(a.hours?a.hours+"H":"")+(a.minutes?a.minutes+"M":"");return b}var f=d.path,g=d.previewFilter||"intervalTimer";if(a.cell=d.cell,a.hasError=!1,a.form={months:0,weeks:0,days:0,hours:0,minutes:0},a.expression=a.cell.prop(f)||"",a.expression.length>0){var h=b(g)(a.expression,"json");a.form.months=h.months,a.form.weeks=h.weeks,a.form.days=h.days,a.form.hours=h.hours,a.form.minutes=h.minutes}a.ok=function(){var b='"'+e(a.form)+'"';a.cell.prop(f,b.trim()),c.close()},a.clearValidationError=function(){a.hasError=!1},a.$watch("form",function(){a.preview=b(g)(e(a.form))},!0),a.$watch("expression",a.clearValidationError),a.cancel=function(){c.dismiss()},a.onNodeSelected=function(a){}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").controller("AddRemoveInputMapFieldsController",["$scope","$uibModalInstance","fields","label","RX_RECORD_DEFINITION",function(a,b,c,d,e){var f=_.filter(c,{selected:!0});a.fields=c,a.label=d,a.apply=function(){var a=_.filter(c,{selected:!0});b.close(a)},a.cancel=function(){b.dismiss()},a.selectFields=function(b){_(a.fields).filter(b).each(function(a){a.selected=!0}).value()},a.canApply=function(){for(var a=_.filter(c,{selected:!0}),b=f.length!=a.length,d=0;!b&&d<f.length;){var e=_.find(a,{fieldId:f[d].fieldId});b=!Boolean(e),d++}return b},a.filterOptionalFields=function(a){return"OPTIONAL"==a.fieldOption&&a.fieldId!==e.coreFieldIds.id&&a.fieldId!==e.coreFieldIds.guid},a.filterSystemFields=function(a){return"SYSTEM"==a.fieldOption||a.fieldId===e.coreFieldIds.id||a.fieldId===e.coreFieldIds.guid}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").controller("ApprovalFlowSelectorDialogController",["$scope","$uibModalInstance","$filter","RX_APPROVAL_PROCESS","rxApprovalFlowSelectorResource","rxRecordInstanceDataPageResource","context","$q",function(a,b,c,d,e,f,g,h){
function i(b){b.isSelected?(a.selectedRow=b.entity,a.isRowSelected=!0):a.isRowSelected=!1}a.selectedRecordDefinitionName=g.cell.prop("rxData/inputMap/Record Definition Name"),a.selectedRow="",a.isRowSelected=!1,a.recordDefinitions=[],a.displayGrid=!1,f.withName(d.apForm.definitionName).get(-1,0,{propertySelection:d.apForm.fields.formName.id,queryExpression:"('61001'!=$NULL$ AND '61001'!=\"\")"}).then(function(b){_.forEach(b.data,function(b,c){a.recordDefinitions.push(b[d.apForm.fields.formName.id])})});var j=function(){a.isRowSelected=!1,a.selectedRecordDefinitionName&&e.get(a.selectedRecordDefinitionName).then(function(b){a.gridData=b.approvalFlowInstanceList,a.displayGrid=!0,a.recordGridConfiguration.api&&a.recordGridConfiguration.api.refresh()})};a.onRecordDefinitionChange=function(){j()},j();var k={fieldDefinitions:[{id:"approvalFlowName",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",title:"Approval Flow Name"},{id:"owner",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",title:"Owner"},{id:"modifiedDate",resourceType:"com.bmc.arsys.rx.standardlib.record.DateTimeFieldDefinition",title:"Modified Date"},{id:"enabled",resourceType:"com.bmc.arsys.rx.standardlib.record.SelectionFieldDefinition",title:"Enabled",optionNamesById:{No:"No",Yes:"Yes"}},{id:"guid",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",title:"Unique Identifier"}]};a.recordGridConfiguration={recordIdField:!1,enableFiltering:!1,enableRowSelection:"single",uiGridOptions:{enableColumnMenus:!1,enableFiltering:!1,onRegisterApi:function(a){a.selection.on.rowSelectionChanged(null,i)}},getRecordDefinition:function(){return h.when(k)},getData:function(b,c,d){return h.when({data:a.gridData})},columns:[{fieldId:"approvalFlowName",title:"Approval Flow Name"},{fieldId:"owner",title:"Owner"},{fieldId:"modifiedDate",title:"Modified Date"},{fieldId:"enabled",title:"Enabled"},{fieldId:"guid",title:"Unique Identifier",visible:!1}]},a.ok=function(){a.selectedRow&&(g.cell.prop("rxData/inputMap/complexInputMap",a.selectedRow),b.dismiss())},a.cancel=function(){b.dismiss()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").controller("ProcessParameterEditorController",["$scope","$timeout","$uibModalInstance","$uibModal","$sce","dialogs","rxDateUtils","processParameterContext","rxDesignerCache","definitionNameFilter","RX_DESIGNER","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b,c){var d=_.find(l.dataTypes,{resourceType:b});if(!d)return!1;switch(b){case l.dataTypes.decimal.resourceType:case l.dataTypes.integer.resourceType:case l.dataTypes.real.resourceType:return"number";case l.dataTypes.selection.resourceType:return"select";case l.dataTypes.dateTime.resourceType:return"rx-inspector-datetimepicker";case l.dataTypes.timeOnly.resourceType:return"rx-inspector-timepicker";case l.dataTypes.dateOnly.resourceType:return"rx-inspector-datepicker";case l.dataTypes["boolean"].resourceType:return"rx-boolean";case l.dataTypes.recordInstance.resourceType:return i.getRecordDefinitionDescriptors().then(function(b){a.recordDefinitionNames=_(b).map(function(a){return{value:a.name,content:j(a.name)}}).sort(function(a,b){return a.value.localeCompare(b.value)}).unshift({value:"",content:""}).value()}),"recordInstance";case l.dataTypes.object.resourceType:return!1;default:return"text"}}a.processParameters=[],a.inputDataTypes=h.inputDataTypes,a.validDefinitionNameRegex=k.validDefinitionNameRegex,a.parameterTypeTooltip=e.trustAsHtml("An Input Parameter is a process interface that receives data from process callers.<br><br>An Output Parameters is a process interface that returns data to the process callers.<br><br>A process parameter can serve a dual role as both an Input Parameter and Output Parameter.<br><br>A Local Variable is a process variable used to store values that can used by activities within the process.");var n=_.cloneDeep(h.inputParams),o=_.cloneDeep(h.outputParams),p=_.cloneDeep(h.localVariables),q=function(a){return!h.editParameter||a!==h.editParameter.name};_.forEach(n,function(b){b.isLocalVariable=!1,b.isInput=!0,b.isCollapsed=q(b.name),b.id||(b.newId=_.uniqueId()),b.defaultValueType=m(b.resourceType),g.isDateLike(b.resourceType)&&b.defaultValue&&(b.defaultValue=g.fromIsoString(b.defaultValue,b.resourceType)),a.processParameters.push(b)}),_.forEach(o,function(b){var c=_.findIndex(a.processParameters,{name:b.name});c!==-1?(a.processParameters[c].isOutput=!0,a.processParameters[c].outputId=b.id):(b.isLocalVariable=!1,b.isOutput=!0,b.isCollapsed=q(b.name),b.id?b.outputId=b.id:b.newId=_.uniqueId(),b.defaultValueType=m(b.resourceType),g.isDateLike(b.resourceType)&&b.defaultValue&&(b.defaultValue=g.fromIsoString(b.defaultValue,b.resourceType)),a.processParameters.push(b))}),_.forEach(p,function(b){b.isLocalVariable=!0,b.isCollapsed=q(b.name),b.id||(b.newId=_.uniqueId()),b.defaultValueType=m(b.resourceType),g.isDateLike(b.resourceType)&&b.defaultValue&&(b.defaultValue=g.fromIsoString(b.defaultValue,b.resourceType)),a.processParameters.push(b)}),a.addProcessParameter=function(){var c="new_"+_.uniqueId();a.processParameters.push({name:"",id:"",resourceType:l.dataTypes.character.resourceType,description:"",isLocalVariable:!1,isInput:!0,newId:c,defaultValueType:m(l.dataTypes.character.resourceType)}),b(function(){var a=angular.element('[name="parameter-name-'+c+'"]');a.focus()})},a.removeProcessParameter=function(b,c){f.confirm("Warning!","Are you sure you want to delete this item?").result.then(function(){a.processParameters.splice(c,1),a.checkDuplicate("name"),a.checkDuplicate("id")}),b.stopPropagation()},a.onResourceTypeChange=function(a){a.defaultValueType=m(a.resourceType),a.defaultValue=""},a.openSelectOptionsEditor=function(a){d.open({templateUrl:"scripts/components/designer/inspector/editors/selection-field/selection-field-editor.html",controller:"SelectionFieldEditorController",backdrop:"static",resolve:{selectionFieldContext:{selectionFields:a.optionNamesById,stringKeys:a.optionNamesById}},windowClass:"rx-selection-field-editor-dialog"}).result.then(function(b){0!==_.size(b.options)?a.optionNamesById=b.options:delete a.optionNamesById})},a.expandAll=function(){_.forEach(a.processParameters,function(a){a.isCollapsed=!1})},a.collapseAll=function(){_.forEach(a.processParameters,function(a){a.isCollapsed=!0})},a.checkDuplicate=function(b){var c=[];_.forEach(a.processParameters,function(d){var e=_.filter(a.processParameters,function(a){return a[b]&&a[b]===d[b]});e.length>1&&(c=_(c).concat(e).uniq().value())}),_.forEach(c,function(c){a.ProcessParameterEditorForm["parameter-"+b+"-"+(c.newId||c.id)].$setValidity("duplicate",!1)}),_(a.processParameters).difference(c).each(function(c){a.ProcessParameterEditorForm["parameter-"+b+"-"+(c.newId||c.id)].$setValidity("duplicate",!0)}).value()},a.validateParameterId=function(b,c){var d=a.ProcessParameterEditorForm["parameter-"+b+"-"+(c.newId||c.id)];(d.$modelValue||0===d.$modelValue)&&d.$modelValue<=1e3?(d.$error.duplicate&&a.checkDuplicate(b),d.$setValidity("range",!1)):(d.$setValidity("range",!0),a.checkDuplicate(b))},a.parameterTypeChanged=function(b){b.isLocalVariable||b.isInput||b.isOutput?a.ProcessParameterEditorForm["parameter-type-"+(b.newId||b.id)].$setValidity("required",!0):a.ProcessParameterEditorForm["parameter-type-"+(b.newId||b.id)].$setValidity("required",!1)},a.ok=function(){var b=[],d=[],e=[];_.forEach(a.processParameters,function(a){var c={name:a.name,resourceType:a.resourceType,id:a.id||null,description:a.description};if(a.resourceType===l.dataTypes.selection.resourceType&&(c.optionNamesById=a.optionNamesById),a.resourceType===l.dataTypes.recordInstance.resourceType?(c.recordDefinitionName=a.recordDefinitionName,c.useSampleData=a.useSampleData):a.defaultValue&&(g.isDateLike(a.resourceType)?c.defaultValue=g.toIsoString(a.defaultValue,a.resourceType):c.defaultValue=a.defaultValue),a.isLocalVariable){var f;a.lastUpdateTime&&(f=_.find(h.localVariables,{id:a.id})),f?e.push(_.assign(f,c)):e.push(c)}else{if(a.isInput){var i;a.lastUpdateTime&&(i=_.find(h.inputParams,{id:a.id})),i?b.push(_.assign(i,c,{required:a.required})):b.push(_.assign(c,{required:a.required}))}if(a.isOutput){var j;a.lastUpdateTime&&(j=_.find(h.outputParams,{id:a.outputId})),j?d.push(_.assign(j,c)):d.push(c)}}}),c.close({inputParams:b,outputParams:d,localVariables:e})},a.cancel=function(){c.dismiss("Cancel")},a.isObject=_.isObject,a.datepickerOptions={showWeeks:!1,opened:!1},a.open=function(a,b){a.preventDefault(),a.stopPropagation(),b.datepickerOpened=!0}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").controller("ScheduleTimerDialogController",["$scope","$filter","$uibModalInstance","RX_SCHEDULER_TIMER","dialogs","$timeout","context",function(a,b,c,d,e,f,g){function h(){j.prop(k,null,{silent:!0}),j.prop(d.timeCriteriaPath,null,{silent:!0}),j.prop(k,a.preview),j.prop(d.timeCriteriaPath,b("scheduleTimerJson")(angular.copy(a.scheduleDefinition)),{silent:!0}),c.close()}function i(a,b,c){for(var d=0;d<a.length;d++)if(a[d][b]==c)return d;return null}var j=g.cell,k=g.path,l=j.hasTimeCriteria();l?a.scheduleDefinition=b("scheduleTimerJson")(angular.copy(j.prop(d.timeCriteriaPath)),"json"):a.scheduleDefinition={resourceType:d.resourceType,monthDays:[],weekDays:[],hours:[],minute:0},a.hours=_.range(1,12),a.hours.unshift(12),a.calendarDates=_.chunk(d.numberOfDays,7),a.weekDays=_.chunk(d.weekDaysList,5),a.selectAllDates=function(){a.scheduleDefinition.monthDays=_.range(1,32)},a.selectAllDays=function(){a.scheduleDefinition.weekDays=[],angular.forEach(d.weekDaysList,function(b){b&&a.scheduleDefinition.weekDays.push(b)})},a.selectAllHours=function(){var b=_.range(1,13),c=_.map(b,function(a){return a+":AM"}),d=_.map(b,function(a){return a+":PM"});a.scheduleDefinition.hours=_.union(c,d)},a.resetSelection=function(b){a.scheduleDefinition[b]=[]},a.isDateSelected=function(b){return _.contains(a.scheduleDefinition.monthDays,b)},a.isDaySelected=function(b){return _.where(a.scheduleDefinition.weekDays,b).length>0},a.isHourSelected=function(b,c){return _.contains(a.scheduleDefinition.hours,b+":"+c)},a.$watch("scheduleDefinition",function(c,d){a.preview=b("scheduleTimerExpressionBuilder")(c)},!0),a.ok=function(){a.scheduleDefinition.hours.length?h():e.confirm("Alert!","You did not select a time for the schedule. Do you want to set the scheduled time to 12:00 AM?").result.then(function(){a.scheduleDefinition.hours.push(d.defaultTime),f(function(){h()})})},a.cancel=function(){j.prop(d.timeCriteriaPath,j.prop(d.timeCriteriaPath),{silent:!0}),c.dismiss()},a.updateScheduleDefinition=function(b,c){_.contains(a.scheduleDefinition[b],c)?a.scheduleDefinition[b].splice(a.scheduleDefinition[b].indexOf(c),1):"weekDays"==b&&_.where(a.scheduleDefinition[b],c).length>0?a.scheduleDefinition[b].splice(i(a.scheduleDefinition[b],"value",c.value),1):a.scheduleDefinition[b].push(c)}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").controller("SelectionFieldEditorController",["$scope","$uibModalInstance","$timeout","rxGUID","selectionFieldContext",function(a,b,c,d,e){a.selectionFields={},a.availableselectionFields=[],a.selectionFields.value=[],a.selectionFields.value=_.map(_.cloneDeep(e.selectionFields),function(a,b){var c=parseInt(b);return{inputName:_.uniqueId(),displayValue:a,integerValue:c,stringKey:e.stringKeys[c],isCollapsed:!0}}),a.removeSelectionField=function(b){a.selectionFields.value.splice(b,1),a.checkIntegerValueDuplicate(),a.checkDisplayValueDuplicate()},a.addSelectionField=function(){var b,e=0===_.size(a.selectionFields.value)?0:parseInt(_(a.selectionFields.value).pluck("integerValue").max())+10,f="New Option",g=0;_.isNaN(e)&&(e=0);do f=0===g?f:"New Option "+g,g++,b=_.find(a.selectionFields.value,{displayValue:f});while(b);var h={inputName:_.uniqueId(),stringKey:d.generate(),displayValue:f,integerValue:e,isCollapsed:!1};a.selectionFields.value.push(h),c(function(){var a=angular.element("[name=displayValue"+h.inputName+"]");a.focus()})},a.expandAll=function(){_.each(a.selectionFields.value,function(a){a.isCollapsed=!1})},a.checkIntegerValueDuplicate=function(){a.checkDuplicate("integerValue")},a.checkDisplayValueDuplicate=function(){a.checkDuplicate("displayValue")},a.checkDuplicate=function(b){var c=[];_.each(a.selectionFields.value,function(d){var e=_.filter(a.selectionFields.value,function(a){return a[b]==d[b]});e.length>1&&(c=_(c).concat(e).uniq().value())}),_.each(c,function(c){a.SelectionFieldEditorForm[b+c.inputName].$setValidity("duplicate",!1)}),_(a.selectionFields.value).difference(c).each(function(c){a.SelectionFieldEditorForm[b+c.inputName].$setValidity("duplicate",!0)}).value()},a.collapseAll=function(){_.each(a.selectionFields.value,function(a){a.isCollapsed=!0})},a.ok=function(){var c={},d={};_.each(a.selectionFields.value,function(a){c[a.integerValue]=a.displayValue}),_.each(a.selectionFields.value,function(a){d[a.integerValue]=a.stringKey}),b.close({options:c,keys:d})},a.cancel=function(){b.dismiss("Cancel")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").controller("WaitForApprovalDefinitionDialogController",["$scope","$filter","$q","rxNotificationMessage","$uibModal","$uibModalInstance","context","RX_WAIT_FOR_APPROVAL","rxRecordDefinitionResource","rxRecordInstanceDataPageResource","rxWaitForApprovalDefinitionResource","rxUserDataPageResource",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){a.currentSelectedApprovers=[],a.availableOptionList=[],a.approverType!==h.approveType.adHoc&&a.previousSelectedOption!==h.approveType.adHoc||(a.finalApproversList=[])}function n(){var b=a.waitForApprovalDefinition.approversList.split(";");"2"===a.waitForApprovalDefinition.processType&&(b[0]=_.trim(b[0],"$")),a.approverType===h.approveType.roleBased||a.approverType===h.approveType.userBased?_.forEach(b,function(b){var c=angular.copy(_.find(a.availableIndividualApprovalList,{name:b}));c?(c.selected=!0,a.finalApproversList.push(c)):(c=angular.copy(_.find(a.availableApprovalRoleList,{name:b})),c&&(c.selected=!0,a.finalApproversList.push(c)))}):a.finalApproversList=_.map(b,function(a){return{name:a,label:a,selected:!0}})}a.availableApprovalRoleList=[],a.availableIndividualApprovalList=[],a.availableFieldList=[],a.availableOptionList=[],a.finalApproversList=[],a.currentSelectedApprovers=[],a.waitForApprovalDefinition={},a.previousSelectedOption=-1,a.selectedFormfieldList=[],a.justificationDisabled=!0,a.justificationNotSelected=!1;var o=[];a.checkJustification=function(){"0"===a.waitForApprovalDefinition.justificationRequired?(a.waitForApprovalDefinition.justificationRequiredField="",a.justificationDisabled=!0,a.justificationNotSelected=!1):"1"===a.waitForApprovalDefinition.justificationRequired&&""===a.waitForApprovalDefinition.justificationRequiredField?(a.justificationDisabled=!1,a.justificationNotSelected=!0):(a.justificationDisabled=!1,a.justificationNotSelected=!1)},o.push(j.withName(h.definitionName).get(-1,0,{queryExpression:"('61001'!=$NULL$ AND '61001'!=\"\")"}).then(function(b){_.forEach(b.data,function(b,c){a.availableApprovalRoleList.push({name:b[h.roleNameFieldId],label:b[h.roleNameFieldId],selected:!1})})})),o.push(l.get(-1,0,{}).then(function(b){_.forEach(b.data,function(b,c){a.availableIndividualApprovalList.push({name:b.loginName,label:b.fullName,selected:!1})})})),g.isCreateNew?(a.title="New",a.waitForApprovalDefinition.approvalForm=g.cell.recordDefinitionName,a.waitForApprovalDefinition.justificationRequired="0",a.approverType="0"):(a.title="Edit",a.isEdit=!0,a.waitForApprovalDefinition=g.selectedWFADName,a.approverType=a.waitForApprovalDefinition.processType,a.waitForApprovalDefinition.processName&&(a.disableProcessName=!0)),a.checkJustification(),o.push(i.get(a.waitForApprovalDefinition.approvalForm).then(function(b){a.selectedFormfieldList=b.fieldDefinitions;_(b.fieldDefinitions).map(function(a){if(a.resourceType===h.resourceType)return a.name}).compact().forEach(function(b){a.availableFieldList.push({name:b,label:b,selected:!1})}).value()})),c.all(o).then(function(){a.updateAvailableApproverOption(),g.isCreateNew||n()}),a.updateAvailableApproverOption=function(){switch(a.approverType){case h.approveType.roleBased:m(),_.isEmpty(a.availableApprovalRoleList)||(a.availableOptionList=_.clone(a.availableApprovalRoleList));break;case h.approveType.userBased:m(),_.isEmpty(a.availableIndividualApprovalList)||(a.availableOptionList=_.clone(a.availableIndividualApprovalList));break;case h.approveType.adHoc:m(),_.isEmpty(a.availableFieldList)||(a.availableOptionList=_.clone(a.availableFieldList))}a.previousSelectedOption=a.approverType},a.setSelectedApprover=function(b){var c=_.find(a.currentSelectedApprovers,{name:b.name});c?(b.selected=!1,_.pull(a.currentSelectedApprovers,c)):(b.selected=!0,a.currentSelectedApprovers.push(angular.copy(b)))},a.moveLeftToRight=function(){_.forEach(a.currentSelectedApprovers,function(a){a.selected=!0}),a.approverType===h.approveType.adHoc?1==a.currentSelectedApprovers.length?a.finalApproversList=_.clone(a.currentSelectedApprovers):d.warning("Please select a single Field."):_.isEmpty(a.currentSelectedApprovers)||_.forEach(a.currentSelectedApprovers,function(b){_.any(a.finalApproversList,{name:b.name})||a.finalApproversList.push(b)})},a.removeOption=function(b){_.remove(a.finalApproversList,{name:b.name}),_.remove(a.currentSelectedApprovers,{name:b.name}),_.forEach(a.availableOptionList,function(a){a.name===b.name&&(a.selected=!1)})},a.submitForm=function(){if(a.waitForApprovalForm.$valid){if(a.finalApprovers=_.map(a.finalApproversList,"name"),a.waitForApprovalDefinition.submitterField="$Submitter$",a.approverType===h.approveType.roleBased||a.approverType===h.approveType.userBased?a.waitForApprovalDefinition.processType=0:a.waitForApprovalDefinition.processType=2,a.waitForApprovalDefinition.approversList=a.finalApprovers.join(";"),a.approverType===h.approveType.adHoc&&(a.waitForApprovalDefinition.approversList="$"+a.waitForApprovalDefinition.approversList+"$"),a.waitForApprovalDefinition.justificationRequiredField){var b=_.trim(a.waitForApprovalDefinition.justificationRequiredField,"$");a.waitForApprovalDefinition.justificationRequiredFieldID=_.result(_.find(a.selectedFormfieldList,function(a){return a.name===b}),"id")}g.isCreateNew?k.post(a.waitForApprovalDefinition).then(function(b){f.close(a.waitForApprovalDefinition),d.success("WFA definition "+a.waitForApprovalDefinition.processName+" saved successfully.")},function(){f.dismiss("cancel")}):k.get(a.waitForApprovalDefinition.id).then(function(b){_.extend(b,a.waitForApprovalDefinition),b.put(a.waitForApprovalDefinition.id).then(function(){g.cell.prop("rxData/inputMap/complexInputMap","",{silent:!0}),g.cell.prop("rxData/inputMap/complexInputMap",a.waitForApprovalDefinition),f.close(a.waitForApprovalDefinition),d.success("WFA definition "+a.waitForApprovalDefinition.processName+" saved successfully.")},function(){f.dismiss("cancel")})})}},a.cancel=function(){f.dismiss("cancel")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").controller("WaitForApprovalDialogController",["$scope","context","$uibModal","$uibModalInstance","approvalCompletionCriteriaFilter","rxWaitForApprovalFlowSelectorResource","axWaitForApprovalDefinitionDataPageResource","$q",function(a,b,c,d,e,f,g,h){function i(b){b.isSelected?(a.selectedRow=b.entity,a.isRowSelected=!0):a.isRowSelected=!1}a.selectedRecordInstance=b.cell.recordDefinitionName,a.selectedRow="",a.isRowSelected=!1;var j={fieldDefinitions:[{id:"10000",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",title:"Wait For Approval Definition Name"},{id:"10050",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",title:"Record Definition"},{id:"12781",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",title:"Approvers"},{id:"12106",resourceType:"com.bmc.arsys.rx.standardlib.record.SelectionFieldDefinition",title:"Completion Criterion",optionNamesById:{1:"All Must Sign",0:"One Must Sign"}},{id:"12102",resourceType:"com.bmc.arsys.rx.standardlib.record.CharacterFieldDefinition",title:"Process Type"},{id:"379",resourceType:"com.bmc.arsys.rx.standardlib.record.SelectionFieldDefinition",title:"ID"},{id:"14011",resourceType:"com.bmc.arsys.rx.standardlib.record.SelectionFieldDefinition",title:"Justification Required"},{id:"14012",resourceType:"com.bmc.arsys.rx.standardlib.record.SelectionFieldDefinition",title:"Justification Required Field"}]},k="('10050'=\""+a.selectedRecordInstance+'")';a.recordGridConfiguration={recordIdField:!1,enableFiltering:!0,enableRowSelection:"single",filterExpression:k,uiGridOptions:{enableColumnMenus:!1,enableFiltering:!1,onRegisterApi:function(a){a.selection.on.rowSelectionChanged(null,i)}},getRecordDefinition:function(){return h.when(j)},getData:function(a,b,c){return g.get(a,b,c)},columns:[{fieldId:"10000",title:"Wait For Approval Definition Name"},{fieldId:"10050",title:"Record Definition"},{fieldId:"12781",title:"Approvers"},{fieldId:"12106",title:"Completion Criterion"},{fieldId:"12102",title:"Process Type",visible:!1,filterable:!1},{fieldId:"379",title:"ID",visible:!1,filterable:!1},{fieldId:"14011",title:"Justification Required",visible:!1,filterable:!1},{fieldId:"14012",title:"Justification Required Field",visible:!1,filterable:!1}]},a.ok=function(){if(a.selectedRow){var c={};c.processName=a.selectedRow[1e4],c.approvalForm=a.selectedRow[10050],c.justificationRequired=String(a.selectedRow[14011]),c.justificationRequiredField=a.selectedRow[14012],c.multipleApprovers=String(a.selectedRow[12106]),c.approversList=a.selectedRow[12781],c.processType=String(a.selectedRow[12102]),b.cell.prop("rxData/inputMap/complexInputMap",c),d.dismiss()}},a.cancel=function(){d.dismiss()},a.createWaitForApprovalDefinition=function(){var d=c.open({templateUrl:"scripts/components/designer/inspector/editors/wait-for-approval/wait-for-approval-definition-dialog.html",controller:"WaitForApprovalDefinitionDialogController",resolve:{context:{cell:b.cell,isCreateNew:!0}},windowClass:"rx-wait-for-approval-definition-dialog process-dialog",backdrop:"static"});d.result.then(function(b){var c={};_.isUndefined(b)||(c.processName=b.processName,c.multipleApprovers=b.multipleApprovers,c.approversList=b.approversList),a.recordGridConfiguration.api.refresh()})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.expression-editor").controller("ExpressionEditorController",["$scope","$uibModalInstance","expressionContext","rxDataDictionary","$q",function(a,b,c,d,e){function f(){a.rxBusyIndicator.promise=a.expressionConfigurator.getCurrentExpressionField().then(function(b){a.label=b.label,a.dataDictionaryTree=b.dataDictionary,a.dataDictionaryList=d.convertTreeToList(a.dataDictionaryTree),a.expandedNodes=b.expandedNodes,a.operators=b.operators,a.previousExpressionFieldExists=a.expressionConfigurator.doesPreviousExpressionFieldExist(),a.nextExpressionFieldExists=a.expressionConfigurator.doesNextExpressionFieldExist(),a.useDynamicQualification=a.designerUseDynamicQualificationFlag&&a.expressionConfigurator.supportDynamicQualification(),a.expression.value=b.value||"",g()})}function g(){var b=a.expression.value.match(i);a.isDynamicQualification=!!b,a.expression.value=a.isDynamicQualification&&a.useDynamicQualification?b[1]:a.expression.value,a.hasError=!1}function h(){var b=e.defer();return a.useDynamicQualification?(a.hasError=a.isDynamicQualification&&!a.expression.value.trim().match(j),a.hasError||a.expressionConfigurator.addResult(a.isDynamicQualification?"EXTERNAL("+a.expression.value.trim()+")":a.expression.value.trim()),b.resolve()):a.expressionConfigurator.validateExpressionField(a.expression.value.trim()).then(function(c){a.hasError=!c,c&&a.expressionConfigurator.addResult(a.expression.value.trim()),b.resolve()}),b.promise}a.rxBusyIndicator={promise:e.when()};var i=/(?:EXTERNAL)\((.*)\)/,j=/^\$\{[^$\{\}]+\}$/;a.designerUseDynamicQualificationFlag=c.useDynamicQualification,a.legend=c.legend,a.autoComplete=c.autoComplete,a.expressionConfigurator=c.expressionConfigurator,a.expression={},a.popoverTemplate="scripts/components/expression-editor/legend-popover-template.html",a.operatorPopoverTemplate="scripts/components/expression-editor/operator-popover-template.html",a.richExpressionEditorConfiguration={isAutoCompleteEnabled:!0,updateAutoCompleteSuggestions:function(b){return a.autoComplete&&_.isFunction(a.autoComplete.getSuggestions)?(b.cell=c.autoCompleteData,a.autoComplete.getSuggestions(b)):e.when([])},isAutoCompleteAvailable:function(b){var d;return a.autoComplete&&_.isFunction(a.autoComplete.isAutoCompleteAvailable)&&(b.cell=c.autoCompleteData,d=a.autoComplete.isAutoCompleteAvailable(b)),d}},f(),a.ok=function(){h().then(function(){a.hasError||b.close(a.expressionConfigurator.getResults())})},a.clearValidationError=function(){a.hasError=!1},a.next=function(){h().then(function(){a.hasError||a.expressionConfigurator.getNextExpressionField().then(f)})},a.prev=function(){h().then(function(){a.hasError||a.expressionConfigurator.getPreviousExpressionField().then(f)})},a.$watch("expression.value",a.clearValidationError),a.cancel=function(){b.dismiss()},a.operatorHandler=function(b){b&&('"'===b||_.startsWith(b,"$")||(b+="&nbsp;"),a.richExpressionEditorConfiguration.api.insertHtml(b))},a.onNodeSelected=function(b){a.richExpressionEditorConfiguration.api.insertHtml(b)}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.search-field").controller("SearchFieldController",["$scope",function(a){}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.growl").controller("rxGrowlController",["$scope","$timeout","RX_GROWL",function(a,b,c){function d(b){a.messages.push(b),b.ttl&&e(b)}function e(c){c.closePromise&&b.cancel(c.closePromise),c.closePromise=b(function(){a.deleteMessage(c)},c.ttl)}a.messages=[],a.$on(c.eventName,function(b,c){var e=_.find(a.messages,{text:c.text,severity:c.severity});e||d(c)}),a.deleteMessage=function(b){_.remove(a.messages,b)},a.onMouseEnterHandler=function(a){a.ttl&&b.cancel(a.closePromise)},a.onMouseLeaveHandler=function(a){a.ttl&&e(a)},a.computeClasses=function(a){return{"rx-alert-success":"success"===a.severity,"rx-alert-error":"error"===a.severity,"rx-alert-info":"info"===a.severity,"rx-alert-warning":"warning"===a.severity}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.login").controller("LoginController",["$scope","$rootScope","$translate","$window","RX_AUTH_EVENTS","rxAuthentication","rxGlobalCache",function(a,b,c,d,e,f,g){var h=$("head"),i="/standardlib/resources/css/theme/login-theme.css";h.append('<link rel="stylesheet" type="text/css" ng-href="'+i+'" href="'+i+'" />');var j="/api/rx/application/logincontent/login.css?dt="+(new Date).getTime();b.rxFavicon="/api/rx/application/logincontent/favicon.ico?dt="+(new Date).getTime(),h.append('<link rel="shortcut icon" ng-href="'+b.rxFavicon+'" type="image/x-icon"/>'),h.append('<link rel="stylesheet" type="text/css" ng-href="'+j+'" href="'+j+'" />'),a.image="bg-image-"+_.random(1,5),a.credentials={username:"",password:""},a.applicationDescriptor=g.getCurrentApplicationBundleDescriptor(),c.use("default"),a.login=function(g){a.loginForm.$setPristine(!0),f.login(g).then(function(){f.initSession().then(function(){c.use(d.rxLocalization.locale),b.$broadcast(e.loginSuccess)})},function(){b.$broadcast(e.loginFailed)})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.designer").controller("ProcessCustomizationOptionsEditorController",["$scope","$uibModalInstance","processDefinition","overlayOperation","RX_OVERLAY",function(a,b,c,d,e){var f=["allowOverlay"];a.processDefinition=c,a.customizationOptions=_.pick(c,f),a.isEditDisabled=d!==e.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP,a.ok=function(){b.close({customizationOptions:a.customizationOptions})},a.cancel=function(){b.dismiss("cancel")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.management").controller("PreviewProcessDialogController",["$q","$scope","$filter","$uibModalInstance","context","rxBundleCache","rxGlobalCache","rxProcessDefinitionResource",function(a,b,c,d,e,f,g,h){b.selectedProcessDefinition=e.selectedProcess;var i=a.all({processDefinition:h.get(b.selectedProcessDefinition.name,null,null),bundleActionTypes:f.getActionTypes(),rootActionTypes:[]}).then(function(a){b.plainProcessDefinition=a.processDefinition.plain(),b.processPreviewConfiguration={actionTypes:a.bundleActionTypes.concat(a.rootActionTypes),graph:{showToolBar:!0}}});b.rxBusyIndicator={promise:i},b.isRunDisabled=function(){return _.isUndefined(b.plainProcessDefinition)||!b.plainProcessDefinition.isEnabled},b.close=function(){d.dismiss()},b.run=function(){d.close()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.management").controller("StartProcessDialogController",["$scope","$filter","$uibModalInstance","rxUtils","rxNotificationMessage","context","rxPropertyEditor","rxProcessDefinitionResource","rxProcessDefinitionInputParamsResource","rxProcessInstanceCommands","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g,h,i,j,k){function l(a){var b={id:a.id,name:a.name,dataType:a.resourceType,required:"REQUIRED"===a.fieldOption,min:a.minValue,max:a.maxValue,precision:a.precision,options:_.map(a.optionNamesById,function(a,b){return{content:a,value:b}})};return a.resourceType===k.dataTypes.recordInstance.resourceType&&(b.dataType="object",b.propertyPanelConfiguration={entityPropertyKeyName:"name",propertyDefinitions:[{dataType:"String",name:"id"},{dataType:"String",name:"recordDefinitionName"}]}),b}function m(a,b){var c={processDefinitionName:a,processInputValues:{}};return b.forEach(function(a){a.resourceType===k.dataTypes.recordInstance.resourceType?c.processInputValues[a.name]={}:c.processInputValues[a.name]=a.defaultValue}),c}a.selectedProcessDefinition=f.selectedProcess,a.plainProcessDefinition=null,a.propertyPanelConfig={entityPropertyKeyName:"name",propertyDefinitions:[],emptyText:"No inputs are required for this process."};var n=i.get(a.selectedProcessDefinition.name).then(function(b){var c=_.map(b.plain(),l);a.processInstance=m(a.selectedProcessDefinition.name,b.plain()),a.propertyPanelConfig.propertyDefinitions=c});a.rxStartProcessBusyIndicator={promise:n},a.isRunButtonDisabled=function(){return!a.processInstance||_(a.propertyPanelConfig.propertyDefinitions).filter({required:!0}).some(function(b){var c=a.processInstance.processInputValues[b.name];return"object"===b.dataType?!!_.isEmpty(c)||(!_.has(c,"id")||!_.has(c,"recordDefinitionName")||_.isEmpty(c.id)||_.isEmpty(c.recordDefinitionName)):d.isNullOrUndefined(a.processInstance.processInputValues[b.name])})},a.runProcess=function(){var b=_.cloneDeep(a.processInstance.processInputValues);_.forEach(b,function(a,c){_(a).values().all(_.isEmpty)&&(b[c]=null)}),j.start(a.processInstance.processDefinitionName,b).then(function(){e.success("Process has been started successfully."),c.close()})},a.cancel=function(){c.dismiss()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").controller("AddFieldsDialogController",["data","rxGUID","$uibModalInstance","RX_RECORD_DEFINITION",function(a,b,c,d){function e(a){return!_.contains(k,a.id)}function f(){var a=_.filter(j.primaryFields,"selected"),b=_.filter(j.secondaryFields,"selected"),c=_.map(a,"name"),d=_.map(b,"name");g.duplicateFieldNames=_.intersection(c,d).concat(_.intersection(l,c.concat(d))),g.duplicateFieldIds=_.intersection(_.map(a,"id"),_.map(b,"id")),g.hasDuplicateFieldNames=_.size(g.duplicateFieldNames)>0,g.hasDuplicateFieldIds=_.size(g.duplicateFieldIds)>0,j.fieldDefinitions=j.primaryFields.concat(j.secondaryFields).filter(function(a){
return a.selected})}var g=this,h=a.model,i=a.fieldDefinitions,j=g.definition=a.definition,k=d.joinRecordDefinitionCoreFieldIds,l=_(d.joinRecordDefinitionCoreFields).map("name").value(),m=i.filter(function(a){return e(a)&&_.get(a,"fieldMapping.source")===d.sourceTypes.primary}).map(function(a){return a.fieldMapping.sourceFieldId}),n=i.filter(function(a){return e(a)&&_.get(a,"fieldMapping.source")===d.sourceTypes.secondary}).map(function(a){return a.fieldMapping.sourceFieldId}),o=m.concat(n);h.getRecordDefinitionFields("primary").then(function(a){j.primaryFields=a.filter(function(a){return!_.contains(m,a.id)})}),h.getRecordDefinitionFields("secondary").then(function(a){j.secondaryFields=a.filter(function(a){return!_.contains(n,a.id)})}),g.hasDuplicateFieldNames=!1,g.hasDuplicateFieldIds=!1,g.isSaveButtonDisabled=function(){return _.isEmpty(j.fieldDefinitions)},g.handleSaveButtonClick=function(){_.each(j.fieldDefinitions,function(a){e(a)&&(g.hasDuplicateFieldNames&&_.contains(g.duplicateFieldNames,a.name)&&(a.name=a.name+" - "+h.getRecordDefinitionLabel(a.fieldMapping.source),a.id=b.generate("rx-")),g.hasDuplicateFieldIds&&_.contains(g.duplicateFieldIds,a.id)&&(a.id=b.generate("rx-")),_.contains(o,a.id)&&(a.id=b.generate("rx-")),delete a.lastUpdateTime,delete a.selected)}),c.close(j.fieldDefinitions)},g.cancel=function(){c.dismiss()},g.selectAll=function(a,b){_.each(a,function(a){a.selected=b}),f()},g.handleCheckboxClick=function(){f()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").controller("InheritanceIssueDialogController",["data","$uibModalInstance",function(a,b){var c=this;c.fields=a.overriddenProperties.fields,c.securityLabels=a.overriddenProperties.securityLabels,c.save=function(){b.close()},c.cancel=function(){b.dismiss()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").controller("RecordCustomizationOptionsEditorController",["$scope","$uibModalInstance","recordDefinition","overlayOperation","RX_OVERLAY",function(a,b,c,d,e){function f(){var b={allowPermissionsOverlay:!1,allowOtherPropertiesOverlay:!1};_.each(a.recordDefinition.fieldDefinitions,function(a){_.assign(a,_.cloneDeep(b)),g.push({id:a.id,changedProperties:_.cloneDeep(b)})})}var g=[],h=["allowPermissionsOverlay","allowOtherPropertiesOverlay","allowIndexesOverlay","allowFieldsOverlay"];a.recordDefinition=c,a.customizationOptions=_.pick(c,h),a.isEditDisabled=d!==e.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP,a.allowOverlay=_.includes(a.customizationOptions,!0),a.fieldCustomizationOptionsChangeHandler=function(a,b){var c=_.find(g,{id:b.id});c?c.changedProperties[a]=b[a]:(c={id:b.id,changedProperties:{}},c.changedProperties[a]=b[a],g.push(c))},a.handleAllowOverlayChange=function(){_.each(a.customizationOptions,function(b,c){a.customizationOptions[c]=a.allowOverlay}),a.allowOverlay||(g=[],f())},a.handleRecordCustomizationOptionChange=function(b){a.allowOverlay=_.includes(a.customizationOptions,!0),b&&(g=[],f())},a.ok=function(){var c={customizationOptions:a.customizationOptions};g.length>0&&(c.updatedFieldDefinitions=g),b.close(c)},a.cancel=function(){b.dismiss("cancel")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").controller("RecordIndexEditorDialogController",["$scope","options","$uibModalInstance","RX_RECORD_DEFINITION","rxUtils","rxNotificationMessage",function(a,b,c,d,e,f){function g(){k.definitionName=b.definitionName,k.fields.available=b.fields,k.isFieldSelectionDisabled=b.isFieldSelectionDisabled,k.isEditingMode&&(k.indexName=b.index.indexName,k.isUnique=b.index.unique,k.fields.selected=_.reduce(b.index.indexFieldIds,function(a,b){var c=_.find(k.fields.available,{value:b});return c&&a.push(c),a},[]),_.remove(k.fields.available,function(a){return _.contains(b.index.indexFieldIds,a.value)}))}function h(){1===k.fields.selected.length&&k.fields.selected[0].value===d.coreFieldIds.displayId?f.error("Display ID cannot be indexed by itself. Please remove Display ID from the list of Selected Fields or select additional fields to index with it."):c.close({indexFieldIds:_.map(k.fields.selected,"value"),indexName:k.indexName,unique:Boolean(k.isUnique)})}function i(a,b){if(e.isNonEmptyArray(a)){var c=_.remove(a,function(a){return a.selected});_.forEach(c,function(a){a.selected=!1,b.push(a)})}}function j(a,b){function c(c){var d=c+b;return d<0?a.length:d>a.length?0:d}if(e.isNonEmptyArray(a)){var d=_.find(a,{selected:!0}),f=a.indexOf(d),g=a.splice(f,1);a.splice(c(f),0,g[0])}}var k=a.idxEditorState={fields:{available:[],selected:[]},isEditingMode:Boolean(b.index)};a.moveVertical=j,a.moveHorizontal=i,a.saveIndex=h,g()}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").controller("JoinDefinitionSecurityLabelEditorController",["$uibModalInstance","data","rxUtils","RX_RECORD_DEFINITION",function(a,b,c,d){function e(a,b,c){var d=_.sortBy(a,function(a){return a.name});_.forEach(d,function(a,d){a.order=b+(d+1)*Math.pow(10,-c),a.nestingLevel=c,_.size(a.children)>0&&e(a.children,a.order,c+1)})}function f(a,b){var d=c.buildTreeList(b,"name","parent");e(d,1,1),_.forEach(b,function(a){var b=a.securityLabelMapping,c=l[b.source][b.sourceId];c?(a.selected=!0,a.id=c.id,c.name!==a.name&&(a.name=c.name)):a.id=null}),j[a+"SecurityLabels"]=_.sortBy(b,function(a){return a.order})}function g(){var a=[];_.forEach(h.definition.primarySecurityLabels,function(b){if(b.selected){var c=_.find(h.definition.secondarySecurityLabels,{name:b.name});c&&c.selected&&a.push({primaryLabel:b,secondaryLabel:c})}}),h.duplicateSecurityLabelPairs=a,h.hasDuplicateSecurityLabels=_.size(h.duplicateSecurityLabelPairs)>0,j.securityLabels=j.primarySecurityLabels.concat(j.secondarySecurityLabels).filter(function(a){return a.selected})}var h=this,i=b.model,j={primarySecurityLabels:[],secondarySecurityLabels:[],primaryRecordDefinitionName:i.prop("rxData/primaryRecordDefinitionName"),secondaryRecordDefinitionName:i.prop("rxData/secondaryRecordDefinitionName")},k=i.prop("rxData/securityLabels")||[];_.extend(h,{definition:j,selectAll:function(a,b){_.each(a,function(a){a.selected=b}),g()},handleCheckboxClick:function(){g()},isSaveButtonDisabled:function(){return _.some(h.duplicateSecurityLabelPairs,function(a){return a.primaryLabel.name===a.secondaryLabel.name})},handleSaveButtonClick:function(){_.each(j.securityLabels,function(a){delete a.children,delete a.order,delete a.nestingLevel,delete a.selected}),a.close(j.securityLabels)},cancel:function(){a.dismiss()}});var l={};l[d.sourceTypes.primary]={},l[d.sourceTypes.secondary]={},_.forEach(k,function(a){l[a.securityLabelMapping.source][a.securityLabelMapping.sourceId]=a}),_.forEach(_.keys(d.sourceTypes),function(a){i.getRecordDefinitionSecurityLabels(a).then(function(b){f(a,b)})})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.designer").controller("SecurityLabelEditorController",["$scope","$uibModalInstance","$timeout","dialogs","rxGUID","securityLabelsContext","RX_RECORD_DEFINITION",function(a,b,c,d,e,f,g){function h(a){return _.find(i,function(b){return b.id==a})||{}}var i=_.cloneDeep(f.securityLabels)||[],j={};_.forEach(i,function(a){a.id||(a.id=e.generate("rx-")),j[a.name]=a.id}),_.forEach(i,function(a){a.parentId=String(j[a.parent]||"")}),a.securityLabels=i,a.addSecurityLabel=function(){var a=e.generate("rx-");i.push({name:"",parent:"",parentId:"",id:a,inherited:!1,securityLabelMapping:null}),c(function(){var b=angular.element('[name="security-label-name-'+a+'"]');b.focus()})},a.removeSecurityLabel=function(a,b){d.confirm("Warning!","Are you sure you want to delete this item?").result.then(function(){var b=_.findIndex(i,{id:a.id});b!==-1&&_.forEach(i,function(b){b.parentId==a.id&&(b.parentId=a.parentId)}),i.splice(b,1)}),b.stopImmediatePropagation()},a.checkDuplicate=function(b){var c=[];_.forEach(i,function(a){var d=_.filter(i,function(c){return c[b]&&c[b]===a[b]});d.length>1&&(c=_(c).concat(d).uniq().value())}),_.forEach(c,function(c){a.SecurityLabelEditorForm["security-label-"+b+"-"+c.id].$setValidity("duplicate",!1)}),_(i).difference(c).each(function(c){a.SecurityLabelEditorForm["security-label-"+b+"-"+c.id].$setValidity("duplicate",!0)}).value()},a.getAvailableParents=function(a){return rx.assert.assertObject(a),_(i).compact().reject({name:""}).reject({id:a.id}).filter(function(b){var c=b.parentId;if(c){if(c==a.id)return!1;for(;c;)if(c=h(c).parentId,c==a.id)return!1}return!_.find(i,function(c){return c.parentId==b.id&&c.id!=a.id})}).value()},a.saveChanges=function(){var a=[];_.forEach(i,function(b){b.name===g.specialtyFields.assigneeGroup.name&&(b.id=g.specialtyFields.assigneeGroup.id),a.push({id:_.startsWith(b.id,"rx-")?null:b.id,name:b.name,inherited:b.inherited,parent:h(b.parentId).name,securityLabelMapping:b.securityLabelMapping})}),b.close(a)},a.cancel=function(){b.dismiss()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").controller("RuleCustomizationOptionsEditorController",["$scope","$uibModalInstance","ruleDefinition","overlayOperation","RX_OVERLAY",function(a,b,c,d,e){var f=["allowOverlay"];a.ruleDefinition=c,a.customizationOptions=_.pick(c,f),a.isEditDisabled=d!==e.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP,a.ok=function(){b.close({customizationOptions:a.customizationOptions})},a.cancel=function(){b.dismiss("cancel")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").controller("RuleIntervalTimerDialogController",["$scope","$filter","$uibModalInstance","ruleIntervalDurationIsoFilter","expressionContext",function(a,b,c,d,e){var f=e.path,g=e.previewFilter;if(a.cell=e.cell,a.hasError=!1,a.timerData={days:0,hours:0,minutes:0},a.expression=a.cell.prop(f)||"",a.expression.length>0){var h=b(g)(a.expression,"json");a.timerData.days=h.days,a.timerData.hours=h.hours,a.timerData.minutes=h.minutes}a.ok=function(){var b='"'+d(a.timerData)+'"';a.cell.prop(f,b.trim()),c.close()},a.clearValidationError=function(){a.hasError=!1},a.$watch("timerData",function(){a.preview=b(g)(d(a.timerData))},!0),a.$watch("expression",a.clearValidationError),a.cancel=function(){c.dismiss()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.designer").controller("RuleRecordDefinitionsDialogController",["$scope","$uibModalInstance","definitionNameFilter","rxDesignerCache","context",function(a,b,c,d,e){function f(){return d.getRecordDefinitionDescriptors().then(function(a){var b=_(a).map(function(a){return{value:a.name,content:c(a.name)}}).sortBy(function(a){return a.content.toLowerCase()}).value();return b})}a.busyIndicatorTemplateUrl="template/busy-loader.html",a.recordDefinitions={},a.recordDefinitions.value=_.cloneDeep(e.selectedDefinitions)||[],a.cell=e.cell,a.path=e.path,a.loadingDefinitionsPromise=f(),a.loadingDefinitionsPromise.then(function(b){a.availableRecordDefinitions=_.filter(b,function(b){return!_.contains(_.pluck(a.recordDefinitions.value,"value"),b.value)})}),a.movedHandler=function(b){return a.recordDefinitions.value.splice(b,1)},a.removeDefinition=function(b){var c={content:b.content,value:b.value};_.pull(a.recordDefinitions.value,b),a.availableRecordDefinitions.push(c)},a.moveDown=function(b){var c=_.findIndex(a.recordDefinitions.value,b);a.recordDefinitions.value.splice(c,1),a.recordDefinitions.value.splice(c+1,0,b)},a.moveUp=function(b){var c=_.findIndex(a.recordDefinitions.value,b);a.recordDefinitions.value.splice(c,1),a.recordDefinitions.value.splice(c-1,0,b)},a.onDropHandler=function(a){return a},a.addDefinition=function(b,c){c&&c.stopPropagation(),a.recordDefinitions.value.push(a.onDropHandler(b)),a.availableRecordDefinitions.splice(a.availableRecordDefinitions.indexOf(b),1)},a.ok=function(){a.cell.prop(a.path,"",{silent:!0}),a.cell.prop(a.path,_.pluck(a.recordDefinitions.value,"value")),b.close()},a.cancel=function(){b.close()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.search").controller("SearchController",["$scope","$state","rxShellConfigResource","rxDataPageResource","rxRuntimeViewState","RX_SHELL",function(a,b,c,d,e,f){function g(){a.getGlobalSearchResults(!0)}function h(){k={},a.searchText=n.searchText,a.recordDefinitions=n.recordDefinitions,a.selectedRecordDefinitions=n.recordDefinitions,a.getGlobalSearchResults()}var i,j=[],k=[],l=0,m=50,n=c.searchContext||{};a.selectedRecordDefinitions=[],a.data=[],a.gridOptions={enableFiltering:!1,enableColumnMenus:!1,showHeader:!1,infiniteScrollRowsFromEnd:0,infiniteScrollDown:!0,data:"data",columnDefs:[{field:"colId",cellTemplate:['<div class="rx-global-search-content-list">{{row.entity.colId}}</div>'].join("")},{field:f.globalSearch.mfsResultFormName,cellTemplate:["<div></div><span>{{row.entity[3010] | definitionName}}</span>",'<a style="margin-left: 5px;" ng-click="grid.appScope.navigateToView(row.entity)">{{row.entity[3011]}}</a>',"</div>","<div><span>{{row.entity[3012]}}</span></div>",'<div ng-bind-html="row.entity[3013] | highlight:grid.appScope.getSearchText()"></div>'].join("")}],onRegisterApi:function(c){i=c,i.infiniteScroll.on.needLoadMoreData(a,g),c.grid.appScope.getSearchText=function(){return a.searchText},c.grid.appScope.navigateToView=function(a){a.state.params.param=a[f.globalSearch.mfsResultRequestId],b.go(a.state.name,a.state.params)}}},a.getGlobalSearchResults=function(b){var c;a.reload=!1,a.selectedRecordDefinitions=a.selectedRecordDefinitions||n.recordDefinitions,b||(l=0),a.selectedRecordDefinitions&&_.forEach(a.selectedRecordDefinitions,function(a){c=c?c.concat(","+a.name):a.name}),a.searchText?d.withType("com.bmc.arsys.rx.application.search.datapage.SearchDataPageQuery").get(m,l,{3001:"%"+a.searchText+"%",3008:2,3e3:c}).then(function(c){if(c&&c.data){var d=c.data;b?(k=k.concat(d),i.infiniteScroll.saveScrollPercentage(),i.infiniteScroll.dataLoaded(!1,c.length===m)):k=d,k=_.sortBy(k,f.globalSearch.mfsResultWeight),_.each(k,function(b,c){var d=_.find(a.recordDefinitions,{name:b[f.globalSearch.mfsResultFormName]});b.colId=c+1,b.state={name:e.get(),params:{viewDefinitionName:d.view,recordDefinitionName:d.name}}}),a.data=k,a.filters=_(a.recordDefinitions).map(function(a){return{name:a.name,displayName:a.definitionName}}).unique("displayName").sort().value(),_.each(a.filters,function(b){_.find(a.selectedRecordDefinitions,{name:b.name})?(b.selected=!0,_.find(j,{name:b.name})||j.push(b)):_.reject(j,{name:b.name})}),l+=d.length}}):a.data=[]},a.clearSearchText=function(){a.reload=!0,a.searchText="",k=[],a.data=[],l=0},a.updateFilters=function(b,c){if(c&&(c.selected=!c.selected),c.selected){var d=_.find(a.recordDefinitions,{name:c.name});a.selectedRecordDefinitions.push(d);var e=_.find(j,{name:c.name});e||j.push(c)}else a.selectedRecordDefinitions=_.reject(a.selectedRecordDefinitions,{name:c.name}),j=_.reject(j,{name:c.name});a.getGlobalSearchResults(!1)},a.selectAllFilter=function(){_.each(a.filters,function(a){a.selected=!0}),a.selectedRecordDefinitions=a.recordDefinitions,a.getGlobalSearchResults(!1)},a.selectNoneFilter=function(){_.each(a.filters,function(a){a.selected=!1}),a.selectedRecordDefinitions=[],a.getGlobalSearchResults(!1)},h()}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").controller("SessionExpirationModalController",["$scope","options","rxAuthentication","RX_AUTH_EVENTS","RX_SESSION","$uibModalInstance","$interval","$window","rxSessionExpirationService",function(a,b,c,d,e,f,g,h,i){function j(){p.mode===e.expirationModes.idle&&(p.logOutTime=q().add(e.minutesBeforeLogout,"minutes"),k(),p.interval=g(k,1e3,!1)),a.$on("$destroy",l)}function k(){q().isBefore(p.logOutTime)?p.remainingTime=m():(p.remainingTime="0:00",l(),o())}function l(){p.interval&&(g.cancel(p.interval),p.interval=null)}function m(){return q(q(p.logOutTime).diff()).format("m:ss [remaining]")}function n(){return p.isLoading=!0,i.keepSessionAlive().then(function(a){return l(),f.close(),a})["finally"](function(){p.isLoading=!1})}function o(){return p.isLoading=!0,c.logout()["finally"](function(){p.isLoading=!1,f.close()})}var p=a.sessionState={},q=h.moment;p.mode=b.mode,a.keepAlive=n,a.signOut=o,a.getRemainingTime=m,j()}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").controller("ActionListEditorDialogController",["$scope","rxAction","$uibModalInstance","actionModel","selectedModelIndex","$controller",function(a,b,c,d,e,f){a.cell=d,f("ActionListController",{$scope:a}),a.actions.forEach(function(a){a.isCollapsed=e!==a.get("index")}),b.getLicensedActions().then(function(b){a.availableActions=_.reject(b,"hidden"),a.labelsMap=a.availableActions.reduce(function(a,b){return a[b.name]=b.label,a},{})}),a.ok=function(){c.close(d.get("rxData").actions)},a.cancel=function(){c.dismiss()},a.expandAll=function(){_.each(a.actions.models,function(a){a.isCollapsed=!1})},a.collapseAll=function(){_.each(a.actions.models,function(a){a.isCollapsed=!0})},a.onDropHandler=function(b,c){var d=c.hasOwnProperty("name");if(d)return a.addAction(c.name,b),!1;var e=a.actions.at(c.index);return b>c.index?e.down():e.up(),!0}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.action-button").controller("ActionListController",["$scope","$uibModal","rxAction","rxGUID","$injector","rxActionEditorModel","rxActionPropertyNavigator",function(a,b,c,d,e,f,g){function h(a){return _.find(q,{name:a})||{}}function i(a){o.reset(),a.length>0&&(l=a.map(function(a){var b=h(a.name),c=(a.index,_.omit(a,"index","id")),d=e.get(b.designManagerService||"rxActionDesignManager");return d.getModel({id:a.id,rxData:c,index:Number(a.index),viewComponentModel:m})}),o.add(l))}function j(){var a=o.map(function(a){return _.assign({id:a.get("id"),index:Number(a.get("index"))},a.get("rxData"))});k(a)}function k(a){var b=m.prop("rxData");b.actions=a,m.unset("rxData",{silent:!0}),m.set("rxData",b,{rxSilent:!0})}var l,m=a.cell;g.clear();var n=Backbone.Collection.extend({model:f,comparator:"index",recalculateIndexes:function(){var a=0;this.each(function(b){b.prop("index",a++,{silent:!0})}),j()},move:function(a){var b,c=a.model,d=c.get("index");switch(a.direction){case"up":rx.assert.assert(d>0,"The top action cannot be moved up"),b=o.at(d-1),b.prop("index",d,{silent:!0}),c.prop("index",d-1,{silent:!0});break;case"down":rx.assert.assert(d<this.length-1,"The bottom action cannot be moved down"),b=o.at(d+1),b.prop("index",d,{silent:!0}),c.prop("index",d+1,{silent:!0})}o.sort(),j(),this.updateActionsDataDictionary()},updateActionsDataDictionary:function(){this.each(function(a){a.updateActionDataDictionary()})}}),o=a.actions=new n,p=m.get("rxData").actions,q=c.getRegisteredActions();i(p),a.labelsMap=q.reduce(function(a,b){return a[b.name]=b.label,a},{}),a.addAction=function(a){var b=h(a),c=_.reduce(b.parameters,function(a,b){return a[b.name]=_.isUndefined(b.defaultValue)?"":b.defaultValue,a},{});c.name=a;var f=e.get(b.designManagerService||"rxActionDesignManager"),g=f.getModel({id:d.generate(),index:o.length,rxData:c,viewComponentModel:m});o.add(g,{at:o.length}),o.recalculateIndexes(),j()},a.openEditor=function(a){b.open({templateUrl:"scripts/view-components/action-button/editors/action-editor-dialog.html",controller:"ActionListEditorDialogController",backdrop:"static",resolve:{actionModel:function(){var a=Object.create(Object.getPrototypeOf(m));return _.merge(a,m),a.off(),a},selectedModelIndex:function(){return _.isUndefined(a)?null:a.get("index")}},windowClass:"rx-action-editor-dialog"}).result.then(function(a){i(a),j()})},o.on("change update",j)}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").controller("InspectorRecordDefinitionFieldsDirectiveController",["$scope","$q","RX_RECORD_EDITOR",function(a,b,c){a.getFields=function(){var d=a.cell.prop("rxData/mode"),e=_(a.cell.get("fieldDefinitions")).filter(function(b){return d===c.modes.edit||d===c.modes.create&&!a.cell.isSystemLikeField(b)}).map(function(a){return{fieldId:a.id,name:a.name,fieldOption:a.fieldOption,selected:!1}}).value(),f=a.cell.getDefinitionsForRecordFieldBindableComponents();return f.length&&_.each(e,function(a){a.selected=Boolean(_.find(f,function(b){return Number(b.propertiesByName.fieldId)===a.fieldId}))}),b.when(e)}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").controller("RecordEditorFieldSelectorController",["$scope","$uibModalInstance","fields","RX_RECORD_DEFINITION",function(a,b,c,d){var e=_.filter(c,{selected:!0});a.fields=c,a.apply=function(){b.close(c)},a.cancel=function(){b.dismiss()},a.selectFields=function(b){_(a.fields).filter(b).each(function(a){a.selected=!0}).value()},a.canApply=function(){for(var a=_.filter(c,{selected:!0}),b=e.length!=a.length,d=0;!b&&d<e.length;){var f=_.find(a,{fieldId:e[d].fieldId});b=!Boolean(f),d++}return b},a.selectRequiredFields=function(){a.selectFields({fieldOption:"REQUIRED"})},a.selectOptionalFields=function(){a.selectFields(a.filterOptionalFields)},a.selectSystemFields=function(){a.selectFields(a.filterSystemFields)},a.filterOptionalFields=function(a){return"OPTIONAL"==a.fieldOption&&a.fieldId!==d.coreFieldIds.id&&a.fieldId!==d.coreFieldIds.guid},a.filterSystemFields=function(a){return"SYSTEM"==a.fieldOption||a.fieldId===d.coreFieldIds.id||a.fieldId===d.coreFieldIds.guid}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").controller("AssociatedRecordFieldSelectorDialogController",["$scope","$uibModalInstance","context",function(a,b,c){function d(){return _.filter(c.fields,function(a){return!_.find(c.displayedFields,{fieldId:a.fieldId})})}a.availableFields=d(),a.selectedFields=_.cloneDeep(c.displayedFields),a.addField=function(b,c){var d=_.find(a.availableFields,{fieldId:b.fieldId});d.label=d.name,a.availableFields.splice(a.availableFields.indexOf(d),1),a.selectedFields.splice(c,0,d)},a.expandAll=function(){_.each(a.selectedFields,function(a){a.isCollapsed=!1})},a.collapseAll=function(){_.each(a.selectedFields,function(a){a.isCollapsed=!0})},a.moveDown=function(b){var c=_.findIndex(a.selectedFields,b);a.selectedFields.splice(c,1),a.selectedFields.splice(c+1,0,b)},a.moveUp=function(b){var c=_.findIndex(a.selectedFields,b);a.selectedFields.splice(c,1),a.selectedFields.splice(c-1,0,b)},a.onDropHandler=function(b,c){var d=_.find(a.selectedFields,{fieldId:c.fieldId});if(d){var e=_.findIndex(a.selectedFields,c);return a.selectedFields.splice(e,1),d}return a.addField(c,b),!1},a.remove=function(b){_.pull(a.selectedFields,b),a.availableFields.push(b)},a.apply=function(){var c=_.map(a.selectedFields,function(a){return _.pick(a,["fieldId","label","name"])});b.close(c)},a.cancel=function(){b.dismiss()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").controller("RxRecordEditorFieldComponentDesignController",["$scope","RX_RECORD_DEFINITION","RX_RECORD_EDITOR",function(a,b,c){function d(){if(a.fieldDefinition=e.model.fieldDefinition||_.clone(f),e.model){var b=e.model.prop("rxData/label");a.fieldDefinition.label=_.isUndefined(b)?a.fieldDefinition.name:b}}var e=a.rxConfiguration,f={name:b.EMPTY_FIELD_NAME_OPTION.content};a.fieldDefinition=_.clone(f);var g=a.$watch("rxConfiguration.model",function(a){a&&(d(),a.on(c._designEvents.fieldInit,d),g())})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-editor").controller("RxRecordEditorFieldComponentController",["$scope","$timeout","$q","rxLog","rxViewComponentEventManager","rxUtils",function(a,b,c,d,e,f){var g,h=this,i=Number(a.rxConfiguration.propertiesByName.fieldId);a.rxConfiguration.api={setProperty:function(e,f){return"hidden"===e||"disabled"===e?c(function(c){_.set(a.rxConfiguration.propertiesByName,e,f),b(c)}):(d.warning("Field definition: property "+e+" is not settable."),c.reject())}},this.init=function(){a.fieldDefinition=this.findFieldDefinition(i),a.fieldInstance=this.findFieldInstance(i),a.$watch("rxConfiguration.propertiesByName.recordInstance",function(){a.fieldInstance=h.findFieldInstance(i)}),a.$watch("rxConfiguration.propertiesByName.value",function(b){f.isNullOrUndefined(b)||(a.fieldInstance.value=b)}),h.triggerPropertyChangedEvent("api",a.rxConfiguration.api)},this.findFieldDefinition=function(b){var c=_.find(a.rxConfiguration.propertiesByName.recordDefinition.fieldDefinitions,{id:b});return _.isUndefined(a.rxConfiguration.propertiesByName.label)&&(a.rxConfiguration.propertiesByName.label=c.name),c},this.findFieldInstance=function(b){return a.rxConfiguration.propertiesByName.recordInstance.fieldInstances[b]},this.triggerPropertyChangedEvent=function(a,b,c){var d=this._getEventManager();d.propertyChanged({property:a,newValue:b,oldValue:c})},this._getEventManager=function(){return g||(g=e.getInstance(a)),g}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.record-grid").controller("RecordGridColumnEditorController",["$q","$scope","$rootScope","dialogs","$uibModalInstance","columnContext","rxActionDesignManager","RX_RECORD_GRID","RX_EXPRESSION_EDITOR",function(a,b,c,d,e,f,g,h,i){function j(a){return _.find(b.recordDefinition.fieldDefinitions,{id:Number(a)})}function k(){var a=_.some(b.columns.value,"clickable");n.clickableRowItems=[],n.firstSelectedRowItems=[],_.each(b.columns.value,function(b){a&&n.clickableRowItems.push(l(b.name,".clickableRow.",b.fieldId)),n.firstSelectedRowItems.push(l(b.name,".firstSelectedRow.",b.fieldId))})}function l(a,c,d){var e=b.cell.prop("id");return{icon:"d-icon-arrow_right_square_input",label:a,type:"Component Property",value:"${view.components."+e+c+d+"}"}}b.availableColumns=[],b.columnProperties=h.columnProperties,b.cell=f.cell,b.columns={value:[]};var m=b.cell.prop("id"),n={clickableRowItems:[],firstSelectedRowItems:[]},o=Backbone.Model.extend({defaults:{rxData:{}},updateCommonDataDictionary:function(a){n.clickableRowItems.length&&_.each(a,function(a){"View"===a.label&&_.each(a.children,function(a){"rx-record-grid"===a.componentType&&a.componentId===m&&_.each(a.children,function(a){"Clickable Row"===a.label&&(a.children=n.clickableRowItems),"First Selected Row"===a.label&&(a.children=n.firstSelectedRowItems)})})})},buildChildDataDictionary:function(c){var d=_.cloneDeep(b.cell.getExpressionConfigurator().commonDataDictionary),e=c.get("index");if(this.updateCommonDataDictionary(d),e>0){var f={label:"Actions",children:[]},h=_.cloneDeep(this.prop("rxData/actions"));h=h.splice(0,e);var i=_.map(h,function(a){return g.getActionDataDictionary(a)});return a.all(i).then(function(a){return _.each(a,function(a){a.children.length&&f.children.push(a)}),f.children.length&&d.push(f),d})}return a.when(d)},getExpressionConfigurator:function(){return b.cell.getExpressionConfigurator()},prop:joint.dia.Cell.prototype.prop});b.path=f.path;var p=_.cloneDeep(b.cell.prop(b.path));b.cell.getCurrentRecordDefinition().then(function(a){b.recordDefinition=a,b.columns.value=_.map(_.cloneDeep(p),function(a){return a.name=j(a.fieldId).name,a.isCollapsed=a.fieldId!==f.columnEditId,a.cell=new o({rxData:{actions:a.actions||[]}}),_.isObject(a.sortable)&&(a.sortable=!0),a}),b.availableColumns=_(b.recordDefinition.fieldDefinitions).map(function(a){return{name:a.name,fieldId:a.id.toString()}}).filter(function(a){return!_.find(b.columns.value,{fieldId:a.fieldId})}).value()}),b.onColumnPropertyChanged=function(b,c,e){if("clickable"===c){if(e.preventDefault(),b[c])if(e.stopPropagation(),b.cell.prop("rxData/actions").length){var f=a.defer(),g=function(){var a=b.cell.prop("rxData");a.actions=[],b.cell.unset("rxData",{silent:!0}),b.cell.set("rxData",a,{rxSilent:!0}),b[c]=!1,k(),f.resolve()};d.confirm("Warning!","Actions will be removed. Do you want to continue?").result.then(g,f.reject)}else b[c]=!1;else b[c]=!0;k()}},b.removeColumn=function(a){var c={name:j(a.fieldId).name,fieldId:a.fieldId};_.pull(b.columns.value,a),b.availableColumns.push(c)},b.moveDown=function(a){var c=_.findIndex(b.columns.value,a);b.columns.value.splice(c,1),b.columns.value.splice(c+1,0,a)},b.moveUp=function(a){var c=_.findIndex(b.columns.value,a);b.columns.value.splice(c,1),b.columns.value.splice(c-1,0,a)},b.onDropHandler=function(a){var c=a.cell?a.cell.rxData:{actions:a.actions||[]};if(a.cell=new o({rxData:c}),!_.find(b.columns.value,{fieldId:a.fieldId})){var d=_.find(b.recordDefinition.fieldDefinitions,{id:Number(a.fieldId)});a.title=d.name,a.isCollapsed=!1,_.each(h.columnProperties,function(b){a[b.name]=b.defaultValue})}return a},b.addColumn=function(a,c){c&&c.stopPropagation();var d=b.onDropHandler(a);b.columns.value.push(d),b.availableColumns.splice(b.availableColumns.indexOf(a),1)},b.expandAll=function(){_.each(b.columns.value,function(a){a.isCollapsed=!1})},b.collapseAll=function(){_.each(b.columns.value,function(a){a.isCollapsed=!0})},b.ok=function(){var a=_.map(b.columns.value,function(a){var b=_.omit(angular.copy(a),"name","isCollapsed");if(b.sortable&&b.visible){var c=_.find(p,{fieldId:a.fieldId});c&&_.isObject(c.sortable)&&(b.sortable=c.sortable)}return b.actions=a.cell.prop("rxData/actions"),delete b.cell,b});b.cell.prop(b.path,"",{silent:!0}),b.cell.prop(b.path,a),c.$broadcast(i.events.refreshInspector,b.cell),e.close()},b.cancel=function(){e.close()},b.$watchCollection("columns.value",function(a,b){_.uniq(a,"fieldId").length!==_.uniq(b,"fieldId").length&&k()})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").controller("GlobalSearchEditorController",["$scope","$filter","$uibModalInstance","rxRecordDefinitionDataPageResource","recordContext",function(a,b,c,d,e){a.availableRecords=[],a.records=[];var f=e.cell,g=e.path;d.get(-1,0,{propertySelection:["name"]}).then(function(c){var d=c.data;a.records=_.map(JSON.parse(f.prop(g)),function(a){return a.isCollapsed=!(e.recordEdit&&a.name===e.recordEdit.name),a.definitionName=a.definitionName||b("definitionName")(a.name),a}),a.availableRecords=_(d).map(function(a){return{name:a.name,definitionName:b("definitionName")(a.name)}}).filter(function(b){return!_.find(a.records,{name:b.name})}).value()}),a.removeRecord=function(b){var c={name:b.name,definitionName:b.definitionName};_.pull(a.records,b),a.availableRecords.push(c)},a.onDropHandler=function(a){return a.isCollapsed=!1,a.view="",a},a.addRecord=function(b,c){c&&c.stopPropagation(),a.records.push(a.onDropHandler(b)),a.availableRecords.splice(a.availableRecords.indexOf(b),1)},a.expandAll=function(){_.each(a.records,function(a){a.isCollapsed=!1})},a.collapseAll=function(){_.each(a.records,function(a){a.isCollapsed=!0})},a.ok=function(){var b=_.map(a.records,function(a){return _.omit(angular.copy(a),"isCollapsed")});f.prop(g,JSON.stringify(b)),c.close()},a.cancel=function(){c.close()},a.isSaveDisabled=function(){return _.isEmpty(a.records)||_.some(a.records,{view:""})||_.some(a.records,{view:null})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").controller("ShellMenuController",["$scope","$uibModalInstance","context",function(a,b,c){a.menu=c.menu,a.currentApp=c.currentApp,a.appList=c.appList,a.allowAppSwitching=c.allowAppSwitching,a.hideAppList=!0,a.itemSelected=function(){b.close()},a.toggleAppList=function(){a.hideAppList=!a.hideAppList},a.close=function(){b.close()}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").controller("ShellNotificationController",["$scope","$uibModalInstance","shellNotificationModel","RX_SHELL",function(a,b,c,d){a.model=c,a.dismiss=function(){b.dismiss()},a.model.getNotifications(d.notificationTypes.dismissed)}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").controller("ViewCustomizationOptionsEditorController",["$scope","$uibModalInstance","viewDefinition","overlayOperation","RX_OVERLAY",function(a,b,c,d,e){var f=["allowOverlay"];
a.viewDefinitionName=c.name,a.customizationOptions=_.pick(c,f),a.isEditDisabled=d!==e.operationTypes.CREATED_IN_THIS_OVERLAY_GROUP,a.ok=function(){b.close({customizationOptions:a.customizationOptions})},a.cancel=function(){b.dismiss("cancel")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.designer").controller("rxRuntimeViewParametersController",["$scope","$uibModalInstance","data","rxString",function(a,b,c,d){a.fields=_.map(c,function(a){return{title:d.prettify(a.name),value:""}}),a.ok=function(){b.close(_.map(a.fields,"value"))},a.cancel=function(){b.dismiss("cancel")}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.runtime").controller("RuntimeViewModalController",["$scope","$uibModalInstance","runtimeViewConfiguration","modalConfiguration","RX_RUNTIME_VIEW","$q",function(a,b,c,d,e,f){a.runtimeViewConfiguration=c,a.modalConfiguration=d;var g=f.defer();a.$on(e.events.viewReady,function(a){g.resolve(),a.stopPropagation()}),a.close=function(){b.dismiss()},a.delay=0,a.minDuration=0,a.message="Please Wait...",a.templateUrl="template/busy-loader.html",a.backdrop=!0,a.promise=g.promise}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.runtime").controller("RuntimeViewDirectiveController",["$q",function(a){this.callRuntimeComponentsApi=function(b,c,d){var e=[];return rx.assert.assertStringWithLength(c),_.each(b,function(b){b.api&&_.isFunction(b.api[c])&&e.push(a.when(b.api[c](d)))}),a.all(e)}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.runtime").controller("RuntimeViewController",["$scope","$stateParams","rxPreviousState","rxAuthentication","RX_RUNTIME_VIEW",function(a,b,c,d,e){var f={};f[e.events.viewAction]=function(a){if(a.data.actionName===e.actions.close||a.data.actionName===e.actions.cancel){var b=d.appState();c.go(b.name,b.params)}},a.runtimeViewConfiguration={viewDefinitionName:b.viewDefinitionName,params:b.param,on:{action:f}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.action-type").factory("rxActionTypeDataPageResource",["rxDataPageResource",function(a){var b=a.withType("com.bmc.arsys.rx.application.action.datapage.ActionTypeDataPageQuery");return b.setDefaultRequestParameters({pageSize:-1}),b}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").service("rxAdministrationSettingsTenancyResource",["rxResource",function(a){var b={"Content-Type":"application/json","Accept-Language":"en-US,en"};this.getTenantInfo=function(){var c="rx/application/tenant/tenant-info",d=a.withSubUrlConfiguration(c,function(a){});return d.get("",{},b).then(function(a){return a})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").service("rxAdministrationSettingsResource",["rxResource",function(a){function b(b,c){return a.withSubUrlConfiguration(b,function(a){a.setFullResponse(c)})}var c={"Content-Type":"application/json","Accept-Language":"en-US,en"},d="rx/application/admin-settings/";this.setContext=function(a){d=a?"rx/application/admin-settings/":"rx/application/admin-settings/local/"},this.setBundleScope=function(a){c["default-bundle-scope"]=a},this.getNavTreeData=function(a){var e=d+"navigation-menu",f=b(e,!1);return c["default-bundle-scope"]=a,f.get("",{},c).then(function(a){return a})},this.getComponentDefinitionData=function(a){var e=d+"component-definition/"+a,f=b(e,!1);return f.get("",{},c).then(function(a){return a})},this.getComponentSettingData=function(a,e){var f=d+"component-settings/"+a,g=b(f,!1);return g.get("",{},_.assign(c,e)).then(function(a){return a})},this.getGridComponentData=function(a,e){var f=d+"component-griddata/"+a,g=b(f,!1);return g.get("",{},_.assign(c,e)).then(function(a){return a})},this.createComponentSettingData=function(a,c,e){var f=d+"component-settings/"+a,g=b(f,!0);return g.setResponseInterceptor(function(a,b,c,d,e,f){if(201===e.status)return e.headers("location")}),g.post(c,{},e).then(function(a){return a})},this.removeData=function(a,e){var f=d+"component-settings/"+a,g=b(f,!1);return g["delete"]("",{},_.assign(c,e)).then(function(a){return a})},this.updateComponentSettingData=function(a,e,f){var g=d+"component-settings/"+a,h=b(g,!1);return h.get("",{},_.assign(c,f)).then(function(a){return a.customPUT(e,null,null,f).then(function(a){return a})})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.administration-settings").service("rxUserPreferenceResource",["rxResource","rxBundleCache",function(a,b){function c(b,c){return a.withSubUrlConfiguration(b,function(a){a.setFullResponse(c)})}var d={"Content-Type":"application/json","Accept-Language":"en-US,en","default-bundle-scope":b.getBundleId()},e="rx/application/admin-settings/";this.getUserPreferenceComponentList=function(){var a=e+"user-preferences",b=c(a,!1);return b.get("",{},d).then(function(a){return a})},this.getUserPreferenceDefinitionData=function(a){var b=e+"user-preference-definition/"+a,f=c(b,!1);return f.get("",{},d).then(function(a){return a})},this.getUserPreferenceComponentData=function(a,b){var f=e+"user-preference/"+a,g=c(f,!1);return g.get("",{},_.assign(d,b)).then(function(a){return a})},this.createUserPreferenceComponentData=function(a,b,d){var f=e+"user-preference/"+a,g=c(f,!0);return g.setResponseInterceptor(function(a,b,c,d,e,f){if(201===e.status)return e.headers("location")}),g.post(b,{},d).then(function(a){return a})},this.updateUserPreferenceComponentData=function(a,b,f){var g=e+"user-preference/"+a,h=c(g,!1);return h.get("",{},_.assign(d,f)).then(function(a){return a.customPUT(b,null,null,f).then(function(a){return a})})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.association.definition").factory("rxAssociationDefinitionDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.association.datapage.AssociationDefinitionDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.bundle").factory("rxBundleDescriptorDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.bundle.datapage.BundleDescriptorDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.bundle").factory("rxBundleDescriptorResource",["rxResource",function(a){return a.withSubUrlConfiguration("rx/application/bundle/bundledescriptor")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").factory("rxApprovalFlowSelectorResource",["rxResource",function(a){var b=function(){var b=a.withSubUrlConfiguration("com.bmc.arsys.rx.approval/rx/application/approval/configuration/approvalflowconfigurator/approvalflows",function(a){a.setRestangularFields({id:"id"})});this.get=function(a,c,d,e){return b.get(encodeURIComponent(a),c,d,e)}};return new b}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").factory("rxUserDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.record.datapage.UserDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").factory("rxWaitForApprovalDefinitionResource",["rxResource",function(a){var b=function(){var b=a.withSubUrlConfiguration("com.bmc.arsys.rx.approval/rx/application/approval/configuration/approvalflowconfigurator",function(a){a.setRestangularFields({id:"id"})});this.get=function(a,c,d,e){return b.get(encodeURIComponent(a),c,d,e)},this.post=b.post};return new b}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").factory("axWaitForApprovalDefinitionDataPageResource",["rxDataPageResource","RX_WAIT_FOR_APPROVAL",function(a,b){return a.withType(b.dataPageType)}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.components.designer").factory("rxWaitForApprovalFlowSelectorResource",["rxResource",function(a){var b=function(){var b=a.withSubUrlConfiguration("com.bmc.arsys.rx.approval/rx/application/approval/configuration/approvalflowconfigurator/approvalprocesses",function(a){a.setRestangularFields({id:"id"})});this.get=function(a,c,d,e){return b.get(encodeURIComponent(a),c,d,e)},this.post=b.post};return new b}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.definition").factory("rxNamedListDataPageResource",["rxDataPageResource",function(a){var b=a.withType("com.bmc.arsys.rx.application.namedlist.datapage.NamedListDataPageQuery"),c=b.get;return b.get=function(a,d,e){rx.assert.assertStringWithLength(a,"The Named List definition name is a required parameter.");var f={namedlistdefinition:a};return c.call(b,d,e,f)},b.getWithCriteria=function(a,d,e,f){rx.assert.assertStringWithLength(a,"The Named List definition name is a required parameter."),rx.assert.assertStringWithLength(d,"The criteria is a required parameter.");var g={namedlistdefinition:a,additionalQueryCriteria:d};return c.call(b,e,f,g)},b}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.definition").factory("rxNamedListDefinitionDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.namedlist.datapage.NamedListDefinitionDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.definition").factory("rxNamedListDefinitionNameDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.namedlist.datapage.NamedListDefinitionNamesDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.named-list.definition").factory("rxNamedListDefinitionResource",["rxResource","RX_RESOURCE_URLS","rxCommandResource",function(a,b,c){var d=function(){var d=a.withSubUrlConfiguration(b.namedListDefinition,function(a){a.setRestangularFields({id:"name"})});d.getNew=function(){return{plain:function(){return{name:""}}}},this.getNew=d.getNew,this.get=function(a){return d.get(encodeURIComponent(a))},this.post=d.post,this.create=this.post,this["delete"]=function(a){return d["delete"](a)},this.revertCustomization=function(a){return c.withType("com.bmc.arsys.rx.application.namedlist.command.RevertNamedListDefinitionCommand").execute({namedListDefinitionName:a})},this.rename=function(a,b){return c.withType("com.bmc.arsys.rx.application.namedlist.command.RenameNamedListDefinitionCommand").execute({name:a,newName:b})}};return new d}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").factory("rxProcessDefinitionDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.process.datapage.ProcessDefinitionDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").factory("rxProcessDefinitionDescriptorDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.process.datapage.ProcessDefinitionDescriptorDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").factory("rxProcessDefinitionInputParamsResource",["rxResource",function(a){var b=function(){var b=a.withSubUrlConfiguration("rx/application/process/processdefinition",function(a){a.setRestangularFields({id:"name"})});this.get=function(a){var c=encodeURIComponent(a);return b.get(c+"/inputParams")}};return new b}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.definition").factory("rxProcessDefinitionResource",["rxResource","rxCommandResource","rxGUID","rxProcessElementSearch",function(a,b,c,d){var e=function(){function e(a){a.localizableStrings&&d.each(a,function(b){_.forEach(b.inputMap,function(b){var c=b.expression;if(c&&_.isString(c)){var d=c.replace(/^\"|\"$/g,"");a.localizableStrings[d]&&(b.expression=a.localizableStrings[d])}})})}var f=a.withSubUrlConfiguration("rx/application/process/processdefinition",function(a){a.setRestangularFields({id:"name"})});f.getNew=function(){return{plain:function(){return{name:"",guid:c.generate("rx-"),description:"",runAsUser:!1,isEnabled:!0,inputParams:[],outputParams:[],flowElements:[],artifacts:[],layout:null,allowOverlay:!0}}}},this.getNew=f.getNew,this.get=function(a,b,c,d){return f.get(encodeURIComponent(a),b,c,d).then(function(a){return e(a),a})},this.post=f.post,this.create=this.post,this["delete"]=function(a){return f["delete"](a)},this.revertCustomization=function(a){return b.withType("com.bmc.arsys.rx.application.process.command.RevertProcessDefinitionCommand").execute({processDefinitionName:a})},this.rename=function(a,c){return b.withType("com.bmc.arsys.rx.application.process.command.RenameProcessDefinitionCommand").execute({name:a,newName:c})},this.applyLocalization=e};return new e}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.instance").factory("rxProcessInstanceCountsByStatusDataPageResource",["rxDataPageResource",function(a){var b=a.withType("com.bmc.arsys.rx.application.process.datapage.ProcessInstanceCountsByStatusDataPageQuery"),c=b.get;return b.get=function(a,d,e,f){rx.assert.assert(_.isNull(a)||_.isUndefined(a)||_.isString(a),"processDefinitionName must be a string, or null/undefined.");var g={};return a&&(g.processDefinitionName=a),_.isObject(f)&&(g=angular.extend(g,f)),c.call(b,d,e,g)},b}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.instance").factory("rxProcessInstanceDataPageResource",["rxDataPageResource",function(a){var b=a.withType("com.bmc.arsys.rx.application.process.datapage.ProcessInstanceDataPageQuery"),c=b.get;return b.get=function(a,d,e,f){rx.assert.assert(_.isNull(a)||_.isUndefined(a)||_.isString(a),"processDefinitionName must be a string, or null/undefined.");var g={};return a&&(g.processDefinitionName=a),_.isObject(f)&&(g=angular.extend(g,f)),c.call(b,d,e,g)},b}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.process.instance").factory("rxProcessInstanceResource",["rxResource","RX_RESOURCE_URLS",function(a,b){var c=function(c){rx.assert.assertStringWithLength(c);var d=b.processSubdomainName+"/"+b.processInstanceResourceName,e=a.withSubUrlConfiguration(d);this.get=function(a){return rx.assert.assertStringWithLength(a),e.all(b.processInstanceResourceName).all(encodeURIComponent(c)).get(a)}};return{forProcessDefinition:function(a){return new c(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.association").factory("rxAssociationDefinitionResource",["$q","rxResource","Restangular","rxCommandResource",function(a,b,c,d){var e=function(){var c=b.withSubUrlConfiguration("rx/application/association/associationdefinition",function(a){a.setRestangularFields({id:"name"})});c.getNew=function(){return a.when(c.restangularizeElement(null,{name:""}),"")},this.getNew=c.getNew,this.get=function(a){return c.get(encodeURIComponent(a))},this.post=c.post,this["delete"]=c["delete"],this.revertCustomization=function(a){return d.withType("com.bmc.arsys.rx.application.association.command.RevertAssociationDefinitionCommand").execute({associationDefinitionName:a})},this.rename=function(a,b){return d.withType("com.bmc.arsys.rx.application.association.command.RenameAssociationDefinitionCommand").execute({name:a,newName:b})}};return new e}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.association").factory("rxAssociationInstanceDataPageResource",["rxDataPageResource",function(a){return a.withType({dataPageType:"com.bmc.arsys.rx.application.association.datapage.AssociationInstanceDataPageQuery"})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.association").factory("rxAssociationNodeTreeDataPageResource",["$q","rxDataPageResource",function(a,b){function c(a){rx.assert.assertStringWithLength(a);var c=b.withType("com.bmc.arsys.rx.application.association.datapage.AssociationNodeTreeDataPageQuery");this.get=function(b,d,e,f){return e=e||{},e.recorddefinition=a,c.get(b,d,e,f)}}return{withName:function(a){return new c(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").factory("rxRecordDefinitionDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.record.datapage.RecordDefinitionDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.definition").factory("rxRecordDefinitionResource",["rxResource","RX_RESOURCE_URLS","RX_RECORD_DEFINITION","rxGUID","rxCommandResource",function(a,b,c,d,e){var f=function(){function f(a){_(a.fieldDefinitions).where({resourceType:"com.bmc.arsys.rx.standardlib.record.SelectionFieldDefinition"}).each(function(a){var b={};_.each(a.optionNamesById,function(a,c){b[c]=d.generate()}),a.optionLabelsById=b}).value()}var g=a.withSubUrlConfiguration(b.recordDefinition,function(a){a.setRestangularFields({id:"name"})});g.getNew=function(a){var b={name:"",description:null,resourceType:c.recordDefinitionTypes.regular.recordDefinitionType,fieldDefinitions:angular.copy(c.coreFields),allowPermissionsOverlay:!0,allowOtherPropertiesOverlay:!0,allowNonAdminToDeleteRecordInstances:!1,allowIndexesOverlay:!0,allowFieldsOverlay:!0};return f(b),{plain:function(){return _.assign(b,a)}}},this.getNew=g.getNew,this.get=function(a){return g.get(encodeURIComponent(a))},this.getFromOverlay=function(a,b){return g.get(encodeURIComponent(a),null,{"request-overlay-group":b})},this.post=g.post,this.create=this.post,this["delete"]=function(a){return g["delete"](a)},this.revertCustomization=function(a){return e.withType("com.bmc.arsys.rx.application.record.command.RevertRecordDefinitionCommand").execute({recordDefinitionName:a})},this.rename=function(a,b){return e.withType("com.bmc.arsys.rx.application.record.command.RenameRecordDefinitionCommand").execute({name:a,newName:b})}};return new f}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.instance").factory("rxRecordInstanceAttachmentResource",["rxResource","RX_RESOURCE_URLS","$q","rxUtils",function(a,b,c,d){var e=a.withConfig(function(a){a.setFullResponse(!0)}).all(b.recordInstanceAttachment),f=[b.api,b.recordInstanceAttachment].join("/"),g=function(a){rx.assert.assertStringWithLength(a);var b=function(b){return[a,b].join("/")},c=function(a,c){return d.isNonEmptyString(c)?[f,b(a),c].join("/"):[f,b(a)].join("/")};this.get=function(a,c){return rx.assert.assertStringWithLength(a),rx.assert.assertStringWithLength(c),e.all(b(a)).withHttpConfig({responseType:"arraybuffer"}).customGET(c)},this["delete"]=function(a,c){return rx.assert.assertStringWithLength(a),rx.assert.assertStringWithLength(c),e.all(b(a)).customDELETE(c)},this.getUrl=function(a,b){return rx.assert.assertStringWithLength(a),rx.assert.assert(d.isNullOrUndefined(b)||d.isNonEmptyString(b)),c(a,b)}};return{withName:function(a){return new g(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.instance").factory("rxRecordInstanceDataPageResource",["rxDataPageResource","rxUtils",function(a,b){return{withName:function(c){return rx.assert.assertStringWithLength(c),a.withType({dataPageType:"com.bmc.arsys.rx.application.record.datapage.RecordInstanceDataPageQuery",defaultRequestParameters:{recorddefinition:c},transformerFunctions:{getFieldValue:function(a,c){rx.assert.assertNumber(a),rx.assert.assert(a>=0&&a<this.data.length,"The index is out of bounds."),rx.assert.assert(_.isNumber(c)||b.isNonEmptyString(c));var d=this.data[a];return c=String(c),_.isObject(d.fieldInstances)&&_.isObject(d.fieldInstances[c])?d.fieldInstances[c].value:null},setFieldValue:function(a,c,d){rx.assert.assertNumber(a),rx.assert.assert(a>=0&&a<this.data.length,"The index is out of bounds."),rx.assert.assert(_.isNumber(c)||b.isNonEmptyString(c));var e=this.data[a];c=String(c),_.isObject(e.fieldInstances)&&_.isObject(e.fieldInstances[c])&&(e.fieldInstances[c].value=d)}}})}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.record.instance").factory("rxRecordInstanceResource",["rxResource","$q","RX_RECORD_INSTANCE","RX_RESOURCE_URLS","rxUtils","RX_RECORD_DEFINITION",function(a,b,c,d,e,f){var g=function(g){function h(a){return _(a).transform(function(a,b,d){_.each(b,function(b,e){var f=_.remove(b.pending,"isNewInstance");_.isEmpty(b.pending)||a.push({associationDefinitionName:d,recordInstanceIds:_.map(b.pending,"id"),nodeSide:e,resourceType:c.association.operationResourceTypes.associate}),_.isEmpty(f)||a.push({associationDefinitionName:d,recordInstances:_.map(f,function(a){return _.pick(a,["fieldInstances","recordDefinitionName"])}),nodeSide:e,resourceType:c.association.operationResourceTypes.createAndAssociate}),_.isEmpty(b.deleted)||a.push({associationDefinitionName:d,recordInstanceIds:_.map(b.deleted,"id"),nodeSide:e,resourceType:c.association.operationResourceTypes.disassociate})})},[]).sortBy(function(a){return"ASSOCIATE"===a.operation}).value()}function i(a,b){return _(a).filter(function(a){return a.file}).map(function(a){return{key:b?b+"/"+a.id:a.id,file:a.file.getFile()}}).value()}function j(a){_(a).filter(function(a){return _.has(a,"file")}).each(function(b){b.file?delete a[b.id]:delete a[b.id].file}).value()}function k(a){var b=i(a.fieldInstances);j(a.fieldInstances);var c={};_.each(a.fieldInstances,function(b,d){(_.isUndefined(a.originalFieldInstances)||_.isUndefined(a.originalFieldInstances[d])||b.value!==a.originalFieldInstances[d].value||d==f.coreFieldIds.modifiedDate&&null!==b.value)&&(c[d]=b)}),a.fieldInstances=c,delete a.originalFieldInstances;var d=h(a.associationInstances);if(delete a.associationInstances,_.isEmpty(b)&&_.isEmpty(d))return a;var e=new FormData;return e.append("recordInstance",JSON.stringify(a.plain())),_.isEmpty(d)||(_(d).filter("recordInstances").each(function(a){_.each(a.recordInstances,function(a){b=b.concat(i(a.fieldInstances,a.fieldInstances[f.coreFieldIds.id].value)),j(a.fieldInstances)})}).value(),e.append("associationOperations",JSON.stringify(d))),_.each(b,function(a){e.append(a.key,a.file)}),e}rx.assert.assertStringWithLength(g),g=encodeURIComponent(g);var l=d.recordInstance.substr(d.recordInstance.lastIndexOf("/")+1),m=a.withSubUrlConfiguration(d.recordInstance,function(a){a.setFullResponse(!0),a.addElementTransformer(g,!1,function(a){return a.put=function(c){var d=b.defer(),e=a.originalFieldInstances,f=a.associationInstances,g=k(a),h={};return c&&(h["Override-Optimistic-Lock"]=!0),g instanceof FormData&&(h["Content-Type"]=void 0),a.customPUT.apply(a,[g,null,null,h]).then(function(a){d.resolve(a.data)},function(b){a.originalFieldInstances=e,a.associationInstances=f,d.reject(b)}),d.promise},a.getValue=function(a){return rx.assert.assert(_.isNumber(a)||e.isNonEmptyString(a)),a=String(a),_.isObject(this.fieldInstances)&&_.isObject(this.fieldInstances[a])?this.fieldInstances[a].value:null},a.setValue=function(a,b){rx.assert.assert(_.isNumber(a)||e.isNonEmptyString(a)),a=String(a),_.isObject(this.fieldInstances)&&_.isObject(this.fieldInstances[a])&&(this.fieldInstances[a].value=b)},a})});this.get=function(a){rx.assert.assertStringWithLength(a,"The record instance id must be a valid string with content.");var c=b.defer();return m.all(l).all(g).get(a).then(function(a){var b=a.data;b.originalFieldInstances=_.cloneDeep(b.fieldInstances),c.resolve(b)},function(a){c.reject(a)}),c.promise},this.getNew=function(){return this.get("0")},this.getList=function(){throw new Error("Not supported: Please use the rxRecordInstanceDataPageResource.")},this.post=function(a){rx.assert.assertObject(a);var c,d=b.defer(),f=a.fieldInstances&&a.fieldInstances[1],g=f&&f.value;rx.assert.assertNullOrUndefined(g,"The Entry ID field should not be defined");var h=a.associationInstances,i=k(a),j=a.originalFieldInstances;if(delete a.originalFieldInstances,i instanceof FormData){var l={"Content-Type":void 0};c=m.post.apply(m,[i,null,l])}else c=m.post(i);return c.then(function(a){if(_.isUndefined(a.data)||_.isNull(a.data))if(_.isObject(a)&&_.isFunction(a.headers)){var b=a.headers("location"),c={};e.isNonEmptyString(b)&&(c={id:b.substr(b.lastIndexOf("/")+1),url:b}),d.resolve(c)}else d.resolve(a);else d.resolve(a.data)},function(b){a.originalFieldInstances=j,a.associationInstances=h,d.reject(b)}),d.promise},this.create=this.post,this.getName=function(){return g},this["delete"]=function(b){var c=a.withSubUrlConfiguration(d.recordInstance+"/"+g);return c.remove(b)}};return{withName:function(a){return new g(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.resources").factory("rxCommandResource",["rxResource","rxUtils","RX_RESOURCE_URLS",function(a,b,c){var d=function(d){rx.assert.assertStringWithLength(d);var e=a.withSubUrlConfiguration(c.command,function(a){a.setFullResponse(!0)});this.execute=function(a,c,f,g){rx.assert.assertObject(a),rx.assert.assert(b.isNullOrUndefined(c)||_.isObject(c)),rx.assert.assert(b.isNullOrUndefined(f)||_.isObject(f)),rx.assert.assert(b.isNullOrUndefined(g)||_.isObject(g));var h=angular.extend({resourceType:d},a);return e.post(h,c,f,g)},this.getType=function(){return d}};return{withType:function(a){return new d(a)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.resources").factory("rxDataPageResource",["rxResource","RX_RESOURCE_URLS","$q","rxUtils",function(a,b,c,d){var e=function(e,f,g,h,i){rx.assert.assertStringWithLength(e),rx.assert.assert(d.isNullOrUndefined(f)||_.isObject(f)),rx.assert.assert(d.isNullOrUndefined(g)||_.isObject(g)),rx.assert.assert(d.isNullOrUndefined(h)||_.isObject(h)),rx.assert.assert(d.isNullOrUndefined(i)||_.isObject(i));var j=this,k={},l=a.withSubUrlConfiguration(b.dataPage,function(a){a.setDefaultRequestParams(angular.extend({dataPageType:e},f||{})),_.isObject(g)&&RestangularProvider.setDefaultHeaders(g),a.addElementTransformer("datapage",!1,function(a){return a.next=function(){rx.assert.assertObject(a.reqParams),rx.assert.assertNumber(a.reqParams.pageSize),rx.assert.assertNumber(a.reqParams.startIndex);var b=a.reqParams.pageSize,c=a.reqParams.startIndex+b;return j.get(b,c)},a.previous=function(){rx.assert.assertObject(a.reqParams),rx.assert.assertNumber(a.reqParams.pageSize),rx.assert.assertNumber(a.reqParams.startIndex);var b=a.reqParams.pageSize,c=a.reqParams.startIndex-b;return j.get(b,c)},_.isObject(h)&&angular.forEach(h,function(b,c){rx.assert.assertFunction(b,"Only functions are allowed for the transformer."),rx.assert.assertNullOrUndefined(a[c],"Name is already been used and can not be replaced."),a[c]=b}),_.isObject(i)&&d.isNonEmptyArray(a.data)&&angular.forEach(i,function(b,c){rx.assert.assertFunction(b,"Only functions are allowed for the transformer."),angular.forEach(a.data,function(a){_.isObject(a)&&(rx.assert.assertNullOrUndefined(a[c],"Name is already been used and can not be replaced."),a[c]=b)})}),a})});this.get=function(a,b,c,d){rx.assert.assertOptionalNumber(a,"Page size must be a valid number."),rx.assert.assertOptionalNumber(b,"Start Index must be a valid number."),rx.assert.assertOptionalObject(c),b=_.isNumber(b)?b:0,rx.assert.assert(b>=0,"Start Index must be a valid number greater than zero."),a=_.isNumber(a)?a:-1;var e=angular.extend({startIndex:b,pageSize:a},c||{},k);return l.get("",e,d)},this.getType=function(){return e},this.setDefaultRequestParameters=function(a){rx.assert.assert(_.isObject(a)||_.isNull(a)),k=a||{}},this.getEmptyDataPage=function(){return c.when({data:[],totalSize:0})},this.addResponseInterceptor=function(a){return l.addResponseInterceptor(a)}};return{withType:function(a,b,c,d,f){return _.isObject(a)?new e(a.dataPageType,a.defaultRequestParameters,a.defaultHeaders,a.transformerFunctions,a.dataTransformerFunctions):new e(a,b,c,d)}}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.definition").factory("rxRuleDefinitionDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.rule.datapage.RuleDefinitionDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.rule.definition").factory("rxRuleDefinitionResource",["rxResource","rxGUID","rxCommandResource",function(a,b,c){var d=function(){function d(a){a.localizableStrings&&_.forEach(a.actions,function(b){_.forEach(b.inputMap,function(b){var c=b.expression;if(c&&_.isString(c)){var d=c.replace(/^\"|\"$/g,"");a.localizableStrings[d]&&(b.expression=a.localizableStrings[d])}})})}var e=a.withSubUrlConfiguration("rx/application/rule/ruledefinition",function(a){a.setRestangularFields({id:"name"})});e.getNew=function(){return{plain:function(){return{name:"",id:b.generate("rx-"),isEnabled:!0,triggerEvent:{resourceType:"com.bmc.arsys.rx.services.rule.domain.RecordTriggerEvent",eventTypes:[],executionOrder:500},recordDefinitionNames:[],actions:[],allowOverlay:!0}}}},this.getNew=e.getNew,this.get=function(a,b,c,f){return e.get(encodeURIComponent(a),b,c,f).then(function(a){return d(a),a})},this.post=e.post,this.create=this.post,this["delete"]=function(a){return e["delete"](a)},this.revertCustomization=function(a){return c.withType("com.bmc.arsys.rx.application.rule.command.RevertRuleDefinitionCommand").execute({ruleDefinitionName:a})},this.rename=function(a,b){return c.withType("com.bmc.arsys.rx.application.rule.command.RenameRuleDefinitionCommand").execute({name:a,newName:b})},this.applyLocalization=d};return new d}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.security").factory("rxAuthUserResource",["rxCommandResource","$q","$window",function(a,b,c){function d(a,b){return rx.assert.assertObject(a),rx.assert.assertStringWithLength(a.username),_.isUndefined(a.locale)&&(a.locale=c.rxLocalization?_(window.rxLocalization).keys().first():"en"),g.execute(a,null,null,b).then(function(a){return a.data})}function e(){return h.execute({})}function f(){c.location.href="/api/rx/sso-logout"}var g=a.withType("com.bmc.arsys.rx.application.user.command.LoginCommand"),h=a.withType("com.bmc.arsys.rx.application.user.command.LogoutCommand");return{login:d,logout:e,ssoLogout:f}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.user").factory("rxGroupDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.group.datapage.GroupDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.user").factory("rxRoleDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.role.datapage.RoleDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.user").factory("rxUserResource",["rxResource","RX_RESOURCE_URLS",function(a,b){var c="$USER$",d=a.withSubUrlConfiguration("user",function(a){a.addElementTransformer(b.user,!0,function(a){return a.addRestangularMethod("getCurrentUser","get",c),a})});return d.addFullRequestInterceptor(function(a,b,d,e,f,g,h){"get"===b&&d===c&&(h.handleResponseError=function(){return!0})}),d.setResponseInterceptor(function(a,b,c,d,e,f){return a.developerMode=!1,e.headers("Developer-Id")&&(a.developerMode=!0),a.ssoProviderType=e.headers("sso-provider-type"),a}),d.all(b.user)}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").service("rxShellConfigResource",["$q","$rootScope","rxResource","rxUtils","rxViewDefinitionResource","rxShellSmartReportingResource","rxBundleCache","rxRuntimeViewState","rxAuthorization","rxSearchResultsState","rxAdministrationSettingsState","rxExpressionEngine","rxNotificationMessage","RX_SHELL","RX_ACTION_BUTTON","RX_VIEW_DEFINITION","RX_AUTH_EVENTS",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(a,b){var c={},e=d.deserializeObject(a);switch(e.actionName){case n.actions.launchURL:c={label:e.menuItemName,url:e.url};break;case n.actions.navigateToView:
var g=_.map(e.viewParams,function(a){var b="";try{b=l.evaluate(a)}catch(c){m.error(c.message)}return b});c={label:e.menuItemName,state:{name:b?h.get():"",params:{viewDefinitionName:e.viewDefinitionName,param:g}}};break;case n.actions.navigateToState:b&&!i.isStateAuthorized(e.state)||(c={label:e.menuItemName,state:e.state});break;case n.actions.navigateToSmartReporting:c.label=e.menuItemName,f.getSmartReportingURL().then(function(a){c.url=a})}return _.isEmpty(c)||(e.menuItemIcon&&(c.icon=(_.find(o.icons,{name:e.menuItemIcon})||{}).cls||""),c.hidden=!!_.has(e,"hidden")&&JSON.parse(e.hidden)),c}function s(a,b){var c=[],e={};if(a&&a.componentDefinitions[0]){var f=a.componentDefinitions[0],g=_.attempt(JSON.parse.bind(null,f.layout)),h=_.isError(g)?[]:d.flattenTree(g,"columns","children").filter(function(a){return a.componentDefinitionId});e=f.propertiesByName||{},_.each(h,function(a){var e=_.find(f.componentDefinitions,{guid:a.componentDefinitionId});if(e){var h={};switch(e.type){case n.navBar.menuGroup:var i=[];g=_.attempt(JSON.parse.bind(null,e.layout));var j=_.isError(g)?[]:d.flattenTree(g,"columns","children").filter(function(a){return a.componentDefinitionId});_.each(j,function(a){var c=_.find(e.componentDefinitions,{guid:a.componentDefinitionId});if(c){var d=r(c.propertiesByName,b);_.isEmpty(d)||i.push(d)}}),i.length>0&&(h={label:e.propertiesByName.menuGroupName,navigationBarItems:i,hidden:!!_.has(e.propertiesByName,"hidden")&&JSON.parse(e.propertiesByName.hidden)});break;case n.navBar.menuItem:h=r(e.propertiesByName,b)}_.isEmpty(h)||c.push(h)}})}var i={navigationBarItems:c,allowAppSwitching:!!_.has(e,"allowAppSwitching")&&JSON.parse(e.allowAppSwitching),globalSearchUseDefault:!_.has(e,"globalSearchUseDefault")||JSON.parse(e.globalSearchUseDefault),globalSearchCustomSearchState:e.globalSearchCustomSearchState||"",globalSearchDisabled:!_.has(e,"globalSearchDisabled")||JSON.parse(e.globalSearchDisabled),globalSearchRecords:_.has(e,"globalSearchRecords")?JSON.parse(e.globalSearchRecords):[],globalSearchState:j.get(),administrationSettingsState:k.get()};return!i.globalSearchDisabled&&(i.globalSearchUseDefault&&0===i.globalSearchRecords.length||!i.globalSearchUseDefault&&0===i.globalSearchCustomSearchState.length)&&(i.globalSearchDisabled=!0),i}var t;this.get=function(b){var c=g.getBundleId()+":"+p.shellDefinitionName;return t?a.when(t):e.get(c,null,null,{handleResponseError:function(a){return 404===a.status}}).then(function(c){return t=s(c,b),a.when(t)})["catch"](function(){return a.when(s())})},b.$on(q.logoutSuccess,function(){t=null})}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view-components.shell").service("rxShellSmartReportingResource",["rxResource",function(a){this.getSmartReportingURL=function(){var b=a.withSubUrlConfiguration("rx/application/smartreporting/url");return b.get("").then(function(a){return a})}}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.definition").factory("rxViewDefinitionDataPageResource",["rxDataPageResource",function(a){return a.withType("com.bmc.arsys.rx.application.view.datapage.ViewDefinitionDataPageQuery")}])}(),function(){"use strict";angular.module("com.bmc.arsys.rx.standardlib.view.definition").factory("rxViewDefinitionResource",["$q","rxResource","rxGUID","rxCommandResource","RX_VIEW_DEFINITION","rxUtils",function(a,b,c,d,e,f){var g=function(){function g(a){var b=a.localizableStringsByComponentId,c={},d=f.flattenTree(a,"componentDefinitions");_.forOwn(b,function(a,b){var e=_.find(d,{guid:b});e&&(c[b]=a,_.forOwn(e.propertiesByName,function(d,f){a[d]&&(e.propertiesByName[f]=a[d],c[b][f]=d,delete c[b][d])}))}),a.localizableStringsByComponentId=c}var h=b.withSubUrlConfiguration("/rx/application/view/viewdefinition",function(a){a.setRestangularFields({id:"name"})});h.getNew=function(){return{plain:function(){return{guid:c.generate(),name:"",description:"",componentDefinitions:[],layout:"",inputParams:[],outputParams:[],allowOverlay:!0,permissions:[{ownerId:{value:0,type:"GROUP"},type:"VISIBLE"}],type:e.viewType.regular}}}},this.getNew=h.getNew,this.get=function(b,c,d,e){var f=a.defer();return h.get(encodeURIComponent(b),c,d,e).then(function(a){g(a),f.resolve(a)},function(a){f.reject(a)}),f.promise},this.post=h.post,this.create=this.post,this["delete"]=h["delete"],this.revertCustomization=function(a){return d.withType("com.bmc.arsys.rx.application.view.command.RevertViewDefinitionCommand").execute({viewDefinitionName:a})},this.applyLocalization=g,this.rename=function(a,b){return d.withType("com.bmc.arsys.rx.application.view.command.RenameViewDefinitionCommand").execute({name:a,newName:b})}};return new g}])}(),angular.module("com.bmc.arsys.rx.standardlib.utils").run(["$templateCache",function(a){"use strict";a.put("scripts/access-denied/access-denied.view.html",'<div ui-view="header"><header class="d-n-header"><nav class="d-n-nav"><ul class="d-n-menu"><li class="d-n-menu__item"><a class="d-n-menu__logo"><span class="bmc-logo rx-theme-small-logo-light" title="BMC" alt="BMC"></span></a></li><li class="d-n-menu__item d-n-menu__logo-text" ui-sref="ax.home.workspace"><a class="d-n-menu__divider">{{applicationName}}</a></li></ul><div class="d-n-actions"><div class="d-n-action d-n-nav__profile d-profile d-profile_size-tiny d-profile_rounded"><span class="d-n-dropdown__trigger-back d-n-dropdown-profile__trigger-back"></span> <span class="d-n-dropdown__name_rx current-user-label">{{currentUser || \'Guest\'}}</span> <i class="d-icon-left-angle_down d-n-profile__arrow"></i><ul class="d-n-dropdown d-n-dropdown__profile"><li class="d-n-dropdown__item d-n-dropdown__profile-item"><a class="d-n-dropdown__link d-icon-left-exit" ng-click="logout()">Log Out</a></li></ul></div></div></nav></header></div><div ui-view="content"><div class="rx-access-denied-message"><div class="rx-access-denied-message-icon"><h3 class="d-icon-info_circle"></h3></div><div class="rx-access-denied-message-text"><h3>You are not authorized to access {{applicationName}}</h3><p>You do not have permission to access {{applicationName}} with your current account privileges.</p><p>Contact the System Administrator if you believe you should be able to access {{applicationName}}</p></div></div></div>'),a.put("scripts/actions/utils/action-association-picker.directive.html",'<div class="d-textfield" ng-class="{\'d-textfield_required\': options.isRequired}"><label class="d-textfield__item">{{options.label}}</label><select ng-model="selectedAssociation" ng-disabled="!isAssociationPickerEnabled || isLoading" ng-options="item as item | definitionName for item in associationDefinitionNames" ng-change="selectAssociation(selectedAssociation)"></select></div>'),a.put("scripts/actions/utils/action-association-role-picker.directive.html",'<div class="d-textfield" ng-class="{\'d-textfield_required\': options.isRequired}"><label class="d-textfield__item">{{options.label}}</label><select ng-model="selectedAssociationRole" ng-disabled="!isAssociationSelected || isLoading || !isSymmetricalAssociation" ng-options="role.value as role.content for role in associationDefinitionRoles" ng-change="setAssociationRole(selectedAssociationRole)"></select></div>'),a.put("scripts/administration/settings/administration-settings-accordion.directive.html",'<div><div cg-busy="{promise:saveSettings.promise}" class="rx-busy-indicator"></div><uib-accordion close-others="status.oneAtATime" class="d-accordion__item"><uib-accordion-group ng-repeat="group in groupData" is-open="status.isItemOpen[$index]" is-disabled="isCreateNew && group.component"><uib-accordion-heading class="d-accordion__item-header">{{group.label}}<i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': status.isItemOpen[$index], \'glyphicon-chevron-right\': !status.isItemOpen[$index]}"></i></uib-accordion-heading><div ng-if="!group.supportsMultiple"><rx-property-panel rx-configuration="rxConfiguration[$index]" ng-model="entity" ng-if="!(isCreateNew && group.component)"></rx-property-panel></div><div class="pull-right" ng-show="group.supportsMultiple"><button type="button" class="d-button __primary" ng-click="createChild(group, rxConfiguration[$index])" ng-disabled="!componentCreatePermission[$index]"><span class="d-icon-left-plus"></span></button></div><div ng-if="group.supportsMultiple" class="rx-admin-settings-data-rows"><table class="table table-condensed table-hover"><thead><tr><th ng-repeat="header in group.masterContent.header" ng-if="header.keySetting">{{header.label}}</th><th>&nbsp;</th></tr></thead><tbody><tr ng-repeat="rowData in group.masterContent.rows"><td ng-repeat="key in group.masterContent.order" ng-if="hideColumn(group.masterContent.header,key)">{{rowData[key] | selectionFilter: key : settingConfiguration : group.name }}</td><td><div class="table-controls"><a href="" ng-click="removeData(rowData, $index, group, $parent.$index)" ng-disabled="!componentCreatePermission[$parent.$index]" class="d-button __primary __teal btn-icon btn-xs tip" title="" data-original-title="Delete entry"><i class="icon d-icon-trash"></i></a> <a href="" ng-click="getChildComponentSettingData(rowData, group, rxConfiguration[$parent.$index],$parent.$index)" class="d-button __primary __teal btn-icon btn-xs tip" title="" data-original-title="Edit entry"><i class="icon d-icon-left-pencil"></i></a></div></td></tr></tbody></table><div ng-show="group.config && group.supportsMultiple && group.showPanel"><rx-property-panel rx-configuration="group.configuration" ng-model="group.config.entity"></rx-property-panel></div></div></uib-accordion-group></uib-accordion></div>'),a.put("scripts/administration/settings/administration-settings-action-blade.html",'<div class="action-blade-panel"><div class="action-blade-header"><h3>{{header}}</h3><span ng-if="settingConfiguration.impactRowVisibility && settingConfiguration.componentCreatePermission[0] " class="icon d-icon-gear group-setting" ng-click="openGroupEditor()"></span></div><div class="action-blade-body"><div class="action-blade-group-list"><div class="admin-setting-editor-action"><ng-form class="form-horizontal" name="componentForm"><rx-administration-setting-accordion setting-configuration="settingConfiguration"></rx-administration-setting-accordion></ng-form></div></div></div><div class="action-blade__footer"><div class="action-blade__button-container"><button type="button" class="d-button d-button_secondary d-button_large" ng-click="reset()">Reset to Default</button> <button type="submit" class="d-button d-button_primary d-button_large" ng-disabled="componentForm.$invalid" ng-click="save()">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="close()">Close</button></div></div></div>'),a.put("scripts/administration/settings/administration-settings-custom-view.view.html",'<rx-administration-settings-custom-view rx-configuration="customViewConfiguration"></rx-administration-settings-custom-view>'),a.put("scripts/administration/settings/administration-settings-editor.view.html",'<div class="panel panel-default" ng-if="settingConfiguration.headerLabel"><div class="panel-heading"><h4>{{headerLabel}}</h4></div><div class="panel-body"><div class="pull-right" ng-show="hasMultiple" ng-if="settingConfiguration.propertyPanelConfigurations.length"><button type="button" class="d-button __primary" ng-click="showActionBlade()" ng-disabled="!settingConfiguration.componentCreatePermission[0]"><span class="d-icon-left-plus"></span></button> <button type="button" class="d-button __primary" ng-click="refreshGridData()"><span class="d-icon-left-refresh"></span></button></div><div ng-if="hasMultiple" class="rx-admin-settings-data-rows"><table class="table table-condensed table-hover"><thead><tr><th ng-repeat="header in masterContent.header" ng-if="header.keySetting">{{header.label}}</th><th>&nbsp;</th></tr></thead><tbody><tr ng-repeat="rowData in masterContent.rows"><td ng-repeat="key in masterContent.order" ng-if="hideColumn(masterContent.header,key)"><span>{{rowData[key] | selectionFilter: key : settingConfiguration }}</span></td><td><div class="table-controls"><a href="" ng-click="removeData(rowData,$index)" ng-disabled="!settingConfiguration.componentCreatePermission[0]" class="d-button __primary __teal btn-icon btn-xs tip" title="" data-original-title="Delete entry"><i class="icon d-icon-trash"></i></a> <a href="" ng-click="editData(rowData)" class="d-button __primary __teal btn-icon btn-xs tip" title="" data-original-title="Edit entry"><i class="icon d-icon-left-pencil"></i></a></div></td></tr></tbody></table></div><div ng-if="!hasMultiple"><ng-form class="form-horizontal" name="componentForm"><rx-administration-setting-accordion setting-configuration="settingConfiguration"></rx-administration-setting-accordion><button ng-if="settingConfiguration.propertyPanelConfigurations.length" type="button" class="d-button d-button_primary d-button_large pull-right save-setting" ng-click="saveData()" ng-disabled="componentForm.$invalid">Save</button> <button ng-if="settingConfiguration.propertyPanelConfigurations.length" type="button" class="d-button d-button_secondary d-button_large pull-right reset-setting" ng-click="resetData()">Reset to Default</button></ng-form></div></div></div>'),a.put("scripts/administration/settings/administration-settings-empty.view.html",'<div class="row rx-admin-settings"><div class="col-md-9"><div class="panel panel-default"><div class="panel-heading"><h4>Configuration launched in a new window</h4></div></div></div></div>'),a.put("scripts/administration/settings/administration-settings-list.view.html",'<div class="rx-admin-settings" ng-if="!isUserPreference"><rx-blade rx-configuration="navConfiguration" class="rx-navigation"><div class="rx-admin-settings-filter"><input ng-model="query" type="text" class="d-textfield__input custom-search" placeholder="&#x1f50d Search Configuration" autofocus><ul class="admin-settings-nav-header d-button-group d-button-group_primary d-button-group_small" ng-if="isSaaSAdmin"><li class="d-button-group__item"><button ng-click="getAppSetting(true)" ng-class="{\'is-checked\':isGlobalSetting}" class="d-button-group__btn">Global</button></li><li class="d-button-group__item"><button ng-click="getAppSetting(false)" ng-class="{\'is-checked\':!isGlobalSetting}" class="d-button-group__btn">Tenant</button></li></ul></div><div class="rx-admin-settings-tree"><treecontrol ng-if="treeData" id="tree" class="tree-light" selected-node="selectedNode" expanded-nodes="expandedNodes" tree-model="treeData" filter-expression="query" options="opts" on-selection="showSelected(node)">{{node.label}}</treecontrol></div></rx-blade><div ng-hide="isDetail" ng-class="{ true:\'blade-exapand\', false : \'blade-collapse\'}[navConfiguration.expanded]"><div class="panel panel-default"><div class="panel-heading"><h4>Please select a configuration option from the navigation menu to show configuration content here</h4></div></div></div><div ng-class="{ true:\'blade-exapand\', false : \'blade-collapse\'}[navConfiguration.expanded]" ui-view="detail" ng-show="isDetail"><div ng-switch="selection"><div ng-switch-when="shared-view" ng-controller="AdministrationSettingsEditorController"><ng-include src="\'scripts/administration/settings/administration-settings-editor.view.html\'"></ng-include></div><div ng-switch-when="custom-view" ng-controller="AdministrationSettingsCustomViewController"><ng-include src="\'scripts/administration/settings/administration-settings-custom-view.view.html\'"></ng-include></div><div ng-switch-when="external-view"><ng-include src="\'scripts/administration/settings/administration-settings-empty.view.html\'"></ng-include></div><div ng-switch-when="runtime-view" ng-controller="RuntimeViewController"><ng-include src="\'scripts/view/runtime/runtime-view.view.html\'"></ng-include></div><div ng-switch-when="parent-selection"><div class="panel panel-default"><div class="panel-heading"><h4>Please select a configuration option from the navigation menu to show configuration content here</h4></div></div></div><div ng-switch-default>Content Loading...</div></div></div></div><div ng-if="isUserPreference"><rx-user-preference></rx-user-preference></div>'),a.put("scripts/administration/settings/administration-settings.view.html",'<rx-administration-settings rx-configuration="rxConfiguration"></rx-administration-settings>'),a.put("scripts/administration/settings/attachment-panel/administration-settings-attachment-panel.directive.html",'<div class="admin-settings-attachments"><span class="admin-settings-attachment-item"><input class="admin-settings-attachment-input" type="file" ng-model="ngModel"> <a class="admin-settings-attachment-label" href="" ng-click="addAttachment()"><span class="admin-settings-attachment-add admin-settings-attachment-icon"></span>Add File...</a></span> <span class="admin-settings-attachment-item"><a class="admin-settings-attachment-label" title="{{attachment.name}}"><span class="admin-settings-attachment-icon"></span>{{attachment.filename}}</a></span></div>'),a.put("scripts/administration/user-preference/user-preference.directive.html",'<div ng-if="componentConfigurationList.length != 0"><div ng-repeat="settingConfiguration in componentConfigurationList"><div class="panel panel-default" ng-if="settingConfiguration.headerLabel"><div class="panel-heading"><h4>{{settingConfiguration.headerLabel}}</h4></div><div class="panel-body"><div><ng-form class="form-horizontal" name="componentForm"><rx-administration-setting-accordion setting-configuration="settingConfiguration"></rx-administration-setting-accordion></ng-form></div></div></div></div><div><button type="button" class="d-button d-button_primary d-button_large pull-right rx-user-preference-save-setting" ng-click="saveData()" ng-disabled="componentForm.$invalid">Save</button> <button type="button" class="d-button d-button_secondary d-button_large pull-right reset-setting" ng-click="resetData()">Reset to Default</button></div></div><div ng-if="componentConfigurationList.length === 0"><div class="panel panel-default"><div class="panel-heading"><h4>User Preference Not Defined</h4></div></div></div>'),a.put("scripts/association/designer/association-designer.directive.html",'<form name="rxAssociationDesignerForm" novalidate ng-submit="" layout="column" flex class="rx-association-designer-form"><div class="rx-editor-header"><div class="rx-editor-header__column rx-editor-header__column_left"><a class="rx-editor-header__back d-icon-arrow_left" ng-click="closeDesigner()"></a> <span class="rx-editor-header__app-name">{{bundleFriendlyName}}</span></div><div class="rx-editor-header__column rx-editor-header__column_right"><div class="rx-editor-header__title"><rx-designer-breadcrumb-bar ng-show="isLoaded" definition-name="(associationDefinition.name | definitionName) || \'&lt;New Association&gt;\'" definition-icon="" items="breadcrumbs" on-click="handleBreadcrumbBarClick(itemId)"></rx-designer-breadcrumb-bar></div><div class="rx-editor-header__buttons"><button ng-show="isLoaded" type="button" ng-class="isDesignMode ? \'d-icon-left-brackets_curly\' : \'d-icon-left-app_eye\'" class="rx-editor-header__button rx-editor-header__button_toggle-view d-button d-button_secondary d-button_small" ng-click="toggleDesignMode()">{{isDesignMode ? "JSON" : "UI Design"}}</button> <button type="submit" class="rx-editor-header__button rx-editor-header__button_save rx-editor-header__button_divider-before d-button d-button_primary d-button_small" ng-click="saveChanges()" ng-disabled="!canSave()">Save</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_close d-button d-button_secondary d-button_small" ng-click="closeDesigner()">Close</button></div></div></div><div cg-busy="rxBusyIndicator" class="rx-busy-indicator" flex layout="column"><div ng-show="isDesignMode !== true" class="rx-content rx-editor-content rx-association-designer-content" flex layout="column"><div class="rx-simple-json-editor-container control-group" ng-class="{\'has-error\': rxViewDesignerForm.json.$invalid}" flex layout="column"><rx-simple-json-editor flex name="json" rx-object="json" ng-readonly="true"></rx-simple-json-editor></div></div><div ng-show="(isDesignMode === true) && isLoaded" class="rx-content rx-editor-content rx-association-designer-content" flex layout="row"><div class="rx-association-designer-fields"><h1 class="ng-binding">{{exists ? \'Edit Association\' : \'Create Association\'}}</h1><div class="d-textfield d-textfield_required"><label class="d-textfield__label"><span class="d-textfield__item">Association Name</span> <input class="d-textfield__input" name="name" type="text" maxlength="254" required ng-disabled="exists" ng-model="associationDefinition.name" ng-pattern="validDefinitionNameRegex" placeholder="Enter a name to identify this association"></label></div><div class="d-textfield"><label class="d-textfield__label"><span class="d-textfield__item">Description</span><textarea name="description" ng-model="associationDefinition.description" class="d-textfield__input" ng-attr-placeholder="{{!exists ? \'Enter a short description of this association\' : \'\'}}"></textarea></label></div><div layout="row" layout-align="center center"><div class="d-textfield" flex><label class="d-textfield__label d-textfield_required"><span class="d-textfield__item"><rx-tooltip tooltip="{text: \'Select a record that is the starting point of your association.\', placement: \'top\'}"></rx-tooltip>First Record</span></label><rx-definition-picker ng-model="associationDefinition.nodeAId" name="nodeAId" required rx-align="left" rx-type="regularRecord" rx-disabled="::exists" rx-allow-clear="false" rx-available-picker-states="::availableDefinitionPickerStates"></rx-definition-picker></div><div class="rx-association-designer-arrow-1"></div><div class="d-textfield" flex><label class="d-textfield__label"><span class="d-textfield__item">Cardinality</span><div class="d-dropdown d-js-dropdown"><div ng-disabled="exists" class="d-dropdown__trigger d-select"><select name="cardinality" ng-disabled="exists" data-mode="selectable" ng-model="associationDefinition.cardinality" ng-options="cardinality.value as cardinality.name for cardinality in cardinalities"></select>{{getCardinalityByValue(associationDefinition.cardinality).name}}</div></div></label></div><div class="rx-association-designer-arrow-2"></div><div class="d-textfield d-textfield_required" flex><label class="d-textfield__label"><span class="d-textfield__item"><rx-tooltip tooltip="{text: \'Select a record that is the ending point of your association.\', placement: \'top\'}"></rx-tooltip>Second Record</span></label><rx-definition-picker ng-model="associationDefinition.nodeBId" name="nodeBId" required rx-type="regularRecord" rx-disabled="::exists" rx-allow-clear="false" rx-available-picker-states="::availableDefinitionPickerStates"></rx-definition-picker></div></div><div layout><div ng-disabled="exists" class="d-textfield" flex><label class="d-textfield__label"><span class="d-textfield__item"><rx-tooltip tooltip="{text: \'Add a record description for the first record, which explains the record in context of the association.\', placement: \'top\'}"></rx-tooltip>Role of First Record</span> <input name="nodeAName" type="text" ng-model="associationDefinition.nodeAName"></label></div><div class="rx-association-designer-arrow-placeholder"></div><div flex></div><div class="rx-association-designer-arrow-placeholder"></div><div ng-disabled="exists" class="d-textfield" flex><label class="d-textfield__label"><span class="d-textfield__item"><rx-tooltip tooltip="{text: \'Add a record description for the second record, which explains the record in context of the association.\', placement: \'top\'}"></rx-tooltip>Role of Second Record</span> <input name="nodeBName" type="text" name="nodeBName" ng-model="associationDefinition.nodeBName"></label></div></div><div ng-if="canCascadeDelete"><div class="d-textfield" flex><div class="d-textfield__label"><span class="d-textfield__item">Add Constraints:<rx-tooltip tooltip="{text: \'Select the check-box to implement the association by means of adding a foreign key on the second record. The second record should exist only when the first record exists.\', placement: \'top\'}"></rx-tooltip></span><rx-dpl-checkbox ng-disabled="exists" ng-model="associationDefinition.shouldCascadeDelete">If <b>{{associationDefinition.nodeAId | definitionName}} {{associationDefinition.nodeAName ? \'(\' + associationDefinition.nodeAName + \')\' : \'\'}}</b> record is deleted, automatically delete all associated <b>{{associationDefinition.nodeBId | definitionName}} {{associationDefinition.nodeBName ? \'(\' + associationDefinition.nodeBName + \')\' : \'\'}}</b> records</rx-dpl-checkbox><rx-dpl-checkbox ng-true-value="modality.required" ng-false-value="modality.optional" ng-model="associationDefinition.nodeAModality" ng-disabled="!(associationDefinition.shouldCascadeDelete && associationDefinition.nodeAId && associationDefinition.nodeBId)">Require a <b>{{associationDefinition.nodeAId | definitionName}} {{associationDefinition.nodeAName ? \'(\' + associationDefinition.nodeAName + \')\' : \'\'}}</b> record to be associated in order to create a new <b>{{associationDefinition.nodeBId | definitionName}} {{associationDefinition.nodeBName ? \'(\' + associationDefinition.nodeBName + \')\' : \'\'}}</b> record</rx-dpl-checkbox></div></div></div><hr><div layout><rx-dpl-checkbox ng-model="associationDefinition.isEnabled">Enable association</rx-dpl-checkbox></div></div></div><rx-blade ng-show="(isDesignMode === true)" ng-if="isLoaded" rx-configuration="rightBladeConfiguration"><rx-blade-tab icon-class="rightBladeConfiguration.tabs.validationIssues.iconClass + (selected.validationIssues.length ? \' error\' : \'\')" tab-name="rightBladeConfiguration.tabs.validationIssues.name" active="rightBladeConfiguration.tabs.validationIssues.active"><span class="title">Validation Issues</span><rx-designer-validation-issues validation-issues="validationIssues" rx-configuration="validationIssuesConfiguration"></rx-designer-validation-issues></rx-blade-tab></rx-blade></div></form>'),a.put("scripts/components/blade/blade-tab.directive.html",'<a href="" class="rx-blade-tab {{tabName}}" ng-class="{\'active\' : active}" ng-click="activate()"><div class="icon {{iconClass}}"></div></a>'),a.put("scripts/components/blade/blade.directive.html","<div class=\"rx-blade\" ng-class=\"{\n        'rx-blade-dock-right': rxConfiguration.dock === 'right',\n        'rx-blade-dock-left': rxConfiguration.dock === 'left',\n        'rx-blade-expanded': rxConfiguration.expanded}\"><a class=\"rx-blade-toggle\" href=\"\" ng-click=\"toggle()\" ng-class=\"{'collapsed': !rxConfiguration.expanded}\"><div class=\"icon\" ng-class=\"{\n                'd-icon-left-arrow_right': rxConfiguration.dock === 'right',\n                'd-icon-right-arrow_left': rxConfiguration.dock === 'left'\n"+'            }"></div>{{rxConfiguration.title}}</a><div class="rx-blade-tabs" ng-transclude></div><div class="rx-blade-content"><div class="rx-blade-tab-pane" ng-repeat="tab in tabs" ng-class="{active: tab.active}" ng-show="tab.active" rx-blade-tab-content="tab"></div></div></div>'),a.put("scripts/components/boolean/boolean.directive.html",'<ul class="d-button-group d-button-group_primary d-button-group_small"><li class="d-button-group__item"><button class="d-button-group__btn d-icon-check rx-boolean-button-true" d-ripple ng-model="booleanFieldValue" uib-btn-radio="trueValue" uncheckable aria-pressed="{{booleanFieldValue == trueValue}}"></button></li><li class="d-button-group__item"><button class="d-button-group__btn d-icon-circle_slash_o rx-boolean-button-false" d-ripple ng-model="booleanFieldValue" uib-btn-radio="falseValue" uncheckable aria-pressed="{{booleanFieldValue == falseValue}}"></button></li></ul>'),a.put("scripts/components/confirmation-message-dialog/confirmation-message-dialog.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">{{title}}</h4></div><div class="modal-body"><div>{{fieldLabel}}<textarea ng-model="message"></textarea></div><div class="rx-confirmation-message-buttons"><button type="button" type="button" class="d-button d-button_primary d-button_large" ng-click="ok()">OK</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),a.put("scripts/components/definition-picker/definition-picker.directive.html",'<div class="rx-definition-picker__input-container" ng-click="openPopup()"><span class="rx-definition-picker__fake-input rx-input d-icon-right-angle_down" ng-disabled="rxDisabled"><span class="rx-definition-picker__fake-input-value" ng-bind="rxSelectedDefinitionName | definitionName"></span> <button class="d-icon-cross d-button_action rx-definition-picker__clear-button" ng-click="clearDefinition($event)" ng-if="rxSelectedDefinitionName && rxAllowClear && !rxDisabled" type="button"></button></span></div><div class="rx-definition-picker__popup" ng-style="{width: popupWidth, transform: popupTransform}" ng-class="{\'rx-definition-picker__popup_visible\': popupVisible}" ng-show="states.opened"><div class="rx-definition-picker__header"><div class="rx-definition-picker__header-group rx-definition-picker__header-group_tabs" ng-if="definitionGroups.length" ng-show="!states.searchOpened"><ul class="d-button-group d-button-group_primary d-button-group_small"><li class="d-button-group__item" ng-repeat="definitionGroup in definitionGroups"><button class="d-button-group__btn" ng-model="definitionScope.name" uib-btn-radio="\'{{::definitionGroup.key}}\'">{{::definitionGroup.label}}</button></li></ul><button class="rx-definition-picker__open-search-button d-button d-button_action-clear d-button_small d-icon-search" ng-click="openSearch()" type="button"></button></div><div class="rx-definition-picker__header-group rx-definition-picker__header-group_search" ng-class="{\'isVisible\': states.searchOpened}"><button class="d-button d-button_action-clear d-button_small d-icon-arrow_left" ng-if="definitionGroups.length" ng-click="closeSearch()" type="button"></button><div class="d-textfield d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-search"><button class="rx-definition-picker__clear-search-button d-textfield__action d-button d-button_action-clear d-icon-cross" ng-click="clearSearch()" ng-show="definitionSearchQuery" type="button"></button> <input ng-model="definitionSearchQuery" ng-model-options="{ debounce: 200 }" class="d-textfield__input" type="search"></label></div></div></div><div class="rx-definition-picker__body" cg-busy="{promise:loadingDefinitionsPromise, templateUrl:busyIndicatorTemplateUrl, delay:400, minDuration:0, message:\'\'}"><ul class="rx-definition-picker__bundles-list"><li class="d-menu__item" ng-repeat="bundle in definitionTrees[definitionScope.name]"><span ng-click="bundle.isExpanded = !bundle.isExpanded" class="rx-definition-picker__bundle-label d-icon-left-triangle_right" ng-bind-html="bundle.label" ng-class="{isExpanded: !bundle.isExpanded}"></span><ul class="rx-definition-picker__instances-list collapse" uib-collapse="!bundle.isExpanded" ng-if="bundle.isExpanded"><li ng-repeat="definitionTreeNode in bundle.definitionTreeNodes" class="rx-definition-picker__instance-item"><span class="rx-definition-picker__instance-name" ng-class="{\'d-icon-right-check isChecked\': rxSelectedDefinitionName === definitionTreeNode.definitionName}" ng-click="selectDefinition(definitionTreeNode.definitionName)" ng-bind-html="definitionTreeNode.label" title="{{::definitionTreeNode.definitionName}}"></span></li></ul></li></ul></div></div>'),a.put("scripts/components/designer/breadcrumb-bar/breadcrumb-bar.directive.html",'<ul class="rx-designer-breadcrumb-bar__list"><li class="rx-designer-breadcrumb-bar__item"><a ng-if="items.length" class="rx-designer-breadcrumb-bar__item-value" ng-class="\'d-icon-left-\' + definitionIcon" ng-click="onClick()">{{definitionName}}</a> <span ng-if="!items.length" class="rx-designer-breadcrumb-bar__item-value" ng-class="\'d-icon-left-\' + definitionIcon">{{definitionName}}</span> <span ng-if="items.length" class="rx-designer-breadcrumb-bar__divider"></span></li><li class="rx-designer-breadcrumb-bar__item" ng-repeat="item in items" title="{{item.name}}"><a ng-if="$last == false" class="rx-designer-breadcrumb-bar__item-value" ng-class="\'d-icon-left-\' + item.icon" ng-click="onClick({itemId: item.id})">{{item.name}}</a> <span ng-if="$last" class="rx-designer-breadcrumb-bar__item-value" ng-class="\'d-icon-left-\' + item.icon">{{item.name}}</span> <span class="rx-designer-breadcrumb-bar__divider" ng-if="$last == false"></span></li></ul>'),
a.put("scripts/components/designer/canvas-preview/designer-canvas-preview.directive.html",'<div class="rx-designer-canvas-toolbar" layout><button class="rx-designer-canvas-toolbar-item zoom-in" type="button" ng-click="onZoomIn()" tooltip-placement="bottom" uib-tooltip="Zoom In"><span class="d-icon-search_plus"></span></button> <button class="rx-designer-canvas-toolbar-item zoom-out" type="button" ng-click="onZoomOut()" tooltip-placement="bottom" uib-tooltip="Zoom Out"><span class="d-icon-search_minus"></span></button></div>'),a.put("scripts/components/designer/canvas/designer-canvas.directive.html",'<div class="rx-designer-canvas-toolbar" layout><button class="rx-designer-canvas-toolbar-item custom-actions-left" type="button" ng-repeat="item in rxConfiguration.customActionsLeft" ng-disabled="item.isDisabled()" ng-click="dispatchActionEvent(item.eventName)" ng-class="item.buttonCls"><span class="{{::item.iconCls}}">{{::item.label}}</span></button> <button class="rx-designer-canvas-toolbar-item undo" ng-if="interactive" type="button" ng-disabled="!hasUndo()" ng-click="undo()" tooltip-placement="bottom" uib-tooltip="Undo"><span class="d-icon-undo"></span></button> <button class="rx-designer-canvas-toolbar-item redo" ng-if="interactive" type="button" ng-disabled="!hasRedo()" ng-click="redo()" tooltip-placement="bottom" uib-tooltip="Redo"><span class="d-icon-share"></span></button> <button class="rx-designer-canvas-toolbar-item zoom-in" type="button" ng-click="onZoomIn()" tooltip-placement="bottom" uib-tooltip="Zoom In"><span class="d-icon-search_plus"></span></button> <button class="rx-designer-canvas-toolbar-item zoom-out" type="button" ng-click="onZoomOut()" tooltip-placement="bottom" uib-tooltip="Zoom Out"><span class="d-icon-search_minus"></span></button> <button class="rx-designer-canvas-toolbar-item print" type="button" ng-click="onPrint()" tooltip-placement="bottom" uib-tooltip="Print"><span class="d-icon-printer"></span></button> <button class="rx-designer-canvas-toolbar-item clear" ng-if="interactive" type="button" ng-click="onClear()" tooltip-placement="bottom" uib-tooltip="Clear Canvas"><span class="d-icon-cross_square"></span></button> <button class="rx-designer-canvas-toolbar-item export-to-png" type="button" ng-click="exportToPng()" tooltip-placement="bottom" uib-tooltip="Export to PNG"><span class="d-icon-file_arrow_png_o"></span></button><div class="rx-designer-canvas-toolbar-item grid-size" ng-if="interactive" tooltip-placement="bottom" uib-tooltip="Change Grid Size" layout><label class="grid-size-label">Grid size:</label><button type="button" ng-disabled="options.gridSize == 1" ng-click="onDecreaseGridSize()"><span class="d-icon-minus_circle"></span></button> <input type="range" value="5" min="1" max="20" step="1" ng-model="options.gridSize"> <button type="button" ng-disabled="options.gridSize == 20" ng-click="onIncreaseGridSize()"><span class="d-icon-plus_circle"></span></button><label>{{options.gridSize}}</label></div><div class="snaplines-checkbox" ng-if="interactive" tooltip-placement="bottom" uib-tooltip="Show Snaplines" layout><label class="snaplines-label">Snaplines:</label><rx-dpl-checkbox ng-change="onSnaplinesChange()" ng-model="options.snaplinesEnabled"></rx-dpl-checkbox></div><button class="rx-designer-canvas-toolbar-item custom-actions-right" type="button" ng-repeat="item in rxConfiguration.customActionsRight" ng-click="dispatchActionEvent(item.eventName)()" ng-class="item.buttonCls"><span class="{{::item.iconCls}}">{{::item.label}}</span></button></div>'),a.put("scripts/components/designer/editors/permission-editor-dialog.html",'<div class="d-modal__header dialog-header-confirm"><h4 class="d-modal__title">{{(\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.header.caption\' | translate) + \' \' + displayName}} <button type="button" class="close" ng-click="cancel()">&times;</button></h4></div><div class="d-notification d-notification_info" ng-if="automaticPermissionSet() || basePermissionDisabled() || basePermissionPinned()"><div class="rx-permissions-notification" ng-if="automaticPermissionSet() "><span class="d-icon-left-info_circle"></span> <span class="align-right">{{publicPermissionValue.join()}} {{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.notification.automaticPermission\' | translate}}</span></div><div class="rx-permissions-notification" ng-if="basePermissionPinned()"><span class="d-icon-left-info_circle"></span> <span class="align-right">One or more Base Permissions have been pinned (<span class="d-icon-left-pin_circle"></span>). These permissions are guaranteed to be present even if they are removed in the originating definition</span></div><div class="rx-permissions-notification" ng-if="basePermissionDisabled()"><span class="d-icon-left-info_circle"></span> <span class="align-right">One or more Base Permissions have been disabled. Click Undo icon on the right side of the permission ro re-enable that permission</span></div></div><div class="d-modal__content rx-permissions-editor"><div class="preloader-container" ng-show="!state.dataLoaded"><div class="d-preloader d-icon-left-circle_25_o"></div></div><div class="d-modal__content-item" ng-if="overlayMode"><h5>Base Permissions</h5><div class="rx-permissions-editor-table"><div class="rx-permissions-editor-table-row rx-permissions-editor-table-header"><div class="rx-permissions-editor-table-type-column"><h6>{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.column.type.label\' | translate}}</h6></div><div class="rx-permissions-editor-table-group-role-column"><h6>{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.column.group.label\' | translate}}</h6></div><div class="rx-permissions-editor-restrictions-selector" ng-repeat="action in actionsData"><h6>{{action.label | translate}}</h6></div><div>&nbsp;</div></div><div ng-repeat="permission in basePermissions" class="rx-permissions-editor-table-row" ng-class="{\'disabled-permission\': permission.isDisabled}"><div class="rx-permissions-editor-type-column"><ul class="d-button-group d-button-group_primary"><li class="d-button-group__item" ng-repeat="type in permissionTypes"><button class="d-button-group__btn" ng-class="{\'is-checked\': permission.type == type}" disabled="disabled">{{(\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.button.\' + type +\'.label\') | translate}}</button></li></ul></div><div class="rx-permissions-editor-table-group-role-column"><div class="d-dropdown d-js-dropdown" data-mode="unselectable"><div class="d-dropdown__trigger d-select" disabled="true" data-placeholder="{{(\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.select.\' + permission.type +\'.placeholder\') | translate}}">{{permission.permissionOwner || ((\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.select.\' + permission.type + \'.placeholder\') | translate)}}</div><div class="d-dropdown__menu"><div class="d-textfield d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-search"><input ng-model="permission.searchText" type="text" placeholder="{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.searchWithinList.placeholder\' | translate}}" class="d-textfield__input"></label></div><ul class="d-dropdown__menu-options"><li class="d-dropdown__menu-options-item" ng-if="!filteredPermissionOwnersList.length">{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.select.group.noMatch\' | translate}}</li><li class="d-dropdown__menu-options-item" ng-repeat="permissionOwner in filteredPermissionOwnersList = (getAvailablePermissionOwnersList(permission.permissionOwnerList) | filter:permission.searchText)"><a class="d-dropdown__menu-options-item-option" ng-click="setPermissionOwner(permissionOwner, permission)">{{::permissionOwner.name}}</a></li></ul></div></div></div><div class="rx-permissions-editor-restrictions-selector" ng-repeat="action in actionsData"><div class="d-checkbox d-checkbox_default"><label><input class="d-checkbox__input" type="checkbox" disabled="true" ng-click="setRestriction(action.value, permission)" ng-checked="(permission.permittedActions.indexOf(action.value) >= 0) || publicPermissionValue.indexOf(action.value) >= 0"> <span class="d-checkbox__label d-checkbox__item"></span></label></div></div><div class="text-right"><a class="d-button d-button_action d-button_small {{permission.isPinned ? \'d-icon-left-pin_circle\' : \'d-icon-left-pin\'}}" ng-disabled="permission.isDisabled" ng-click="pinPermission(permission)"></a> <a class="d-button d-button_action d-button_small {{permission.isDisabled ? \'d-icon-left-undo\' : \'d-icon-left-cross\'}}" ng-click="togglePermission(permission)"></a></div></div></div></div><div class="d-modal__content-item"><h5 ng-if="overlayMode">Custom Permissions</h5><div class="rx-permissions-editor-table"><div class="rx-permissions-editor-table-row rx-permissions-editor-table-header"><div class="rx-permissions-editor-table-type-column"><h6>{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.column.type.label\' | translate}}</h6></div><div class="rx-permissions-editor-table-group-role-column"><h6>{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.column.group.label\' | translate}}</h6></div><div class="rx-permissions-editor-restrictions-selector" ng-repeat="action in actionsData"><h6>{{action.label | translate}}</h6><a class="d-button d-button_secondary d-button_small" ng-disabled="permissions.length === 0" ng-click="setRestrictionForAllPermissions(action.value)">{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.button.setAll.caption\' | translate}}</a></div><div>&nbsp;</div></div><div ng-repeat="permission in permissions" class="rx-permissions-editor-table-row"><div class="rx-permissions-editor-type-column"><ul class="d-button-group d-button-group_primary"><li class="d-button-group__item" ng-repeat="type in permissionTypes" ng-click="setPermissionType(type, permission)"><button class="d-button-group__btn" ng-class="{\'is-checked\': permission.type == type}">{{(\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.button.\' + type +\'.label\') | translate}}</button></li></ul></div><div class="rx-permissions-editor-table-group-role-column"><div class="d-dropdown d-js-dropdown" data-mode="unselectable"><div class="d-dropdown__trigger d-select" data-placeholder="{{(\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.select.\' + permission.type +\'.placeholder\') | translate}}">{{permission.permissionOwner || ((\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.select.\' + permission.type + \'.placeholder\') | translate)}}</div><div class="d-dropdown__menu"><div class="d-textfield d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-search"><input ng-model="permission.searchText" type="text" placeholder="{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.searchWithinList.placeholder\' | translate}}" class="d-textfield__input"></label></div><ul class="d-dropdown__menu-options"><li class="d-dropdown__menu-options-item" ng-if="!filteredPermissionOwnersList.length && !securityLabelsList.length">{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.select.group.noMatch\' | translate}}</li><li ng-if="filteredPermissionOwnersList.length" class="rx-dropdown__menu-group">{{permission.type === \'group\' ? \'Groups\' : \'Roles\'}}</li><li class="d-dropdown__menu-options-item" ng-repeat="permissionOwner in filteredPermissionOwnersList = (getAvailablePermissionOwnersList(permission.permissionOwnerList) | filter:permission.searchText)"><a class="d-dropdown__menu-options-item-option" ng-click="setPermissionOwner(permissionOwner, permission)">{{::permissionOwner.name}}</a></li><li ng-if="securityLabelsList.length" class="rx-dropdown__menu-group">Security Labels</li><li class="d-dropdown__menu-options-item" ng-repeat="securityLabel in securityLabelsList = (securityLabels | filter:permission.searchText)"><a class="d-dropdown__menu-options-item-option" ng-click="setPermissionOwner(securityLabel, permission)">{{::securityLabel.name}}</a></li></ul></div></div></div><div class="rx-permissions-editor-restrictions-selector" ng-repeat="action in actionsData"><div class="d-checkbox d-checkbox_default"><label><input class="d-checkbox__input" type="checkbox" ng-disabled="publicPermissionValue.indexOf(action.value) >= 0" ng-click="setRestriction(action.value, permission)" ng-checked="(permission.permittedActions.indexOf(action.value) >= 0) || publicPermissionValue.indexOf(action.value) >= 0"> <span class="d-checkbox__label d-checkbox__item"></span></label></div></div><div class="text-right"><a class="d-button d-button_action d-button_small d-icon-left-cross" ng-click="removePermission(permission)"></a></div></div></div></div><div class="d-modal__content-item"><a class="d-icon-left-plus_circle" ng-click="createNewPermission()">{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.button.addPermission.label\' | translate}}</a></div></div><div class="d-modal__footer"><button type="button" class="d-button d-button_primary d-button_large" ng-click="ok()" ng-disabled="!state.permissionsWereUpdated">{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.button.save.label\' | translate}}</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">{{\'com.bmc.arsys.rx.standardlib.permission.permissionEditor.button.cancel.label\' | translate}}</button></div>'),a.put("scripts/components/designer/editors/timer-editor.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Edit Timer</h4></div><div class="modal-body rx-timer-editor"><form novalidate><div class="row"><div class="col-md-6 form-horizontal"><label class="required">Interval:</label><div class="form-group"><div class="col-md-5"><input type="number" ng-model="form.months" name="months" class="rx-input" min="0" step="1"></div><label class="col-md-7">month(s)</label></div><div class="form-group"><div class="col-md-5"><input type="number" ng-model="form.weeks" name="" class="rx-input" min="0" step="1"></div><label class="col-md-7">week(s)</label></div><div class="form-group"><div class="col-md-5"><input type="number" ng-model="form.days" name="days" class="rx-input" min="0" step="1"></div><label class="col-md-7">day(s)</label></div><div class="form-group"><div class="col-md-5"><input type="number" ng-model="form.hours" name="hours" class="rx-input" min="0" step="1"></div><label class="col-md-7">hour(s)</label></div><div class="form-group"><div class="col-md-5"><input type="number" ng-model="form.minutes" name="minutes" class="rx-input" min="0" step="1"></div><label class="col-md-7">minute(s)</label></div></div></div></form><div>Interval Timer<div class="rx-timer-editor-preview">{{preview}}</div></div><div class="rx-timer-editor-action-buttons"><button type="button" type="button" class="d-button d-button_primary d-button_large" ng-click="ok()" ng-disabled="!preview">OK</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),a.put("scripts/components/designer/inspector/designer-inspector.directive.html",'<div class="{{inspector.options.cell.get(\'rxInspector\').cls}}" ng-class="{\'readonly\': inspector.options.cell.get(\'rxInspector\').readonly}"><div class="rx-inspector-empty-text" ng-if="!inspector">{{rxConfiguration.emptyText}}</div><div class="rx-blocker" ng-if="rxConfiguration.disabled"></div></div>'),a.put("scripts/components/designer/inspector/editors/add-remove-input-map-fields/add-remove-input-map-fields-selector.html",'<div class="modal-header"><h4 class="modal-title">{{label}}</h4><button type="button" class="d-button d-button_primary d-button_small" ng-click="apply()" ng-disabled="!canApply()">Apply</button> <span ng-click="cancel()" class="icon d-icon-cross"></span></div><div class="modal-body"><div class="record-definition-fields-search"><a class="select-all" ng-click="selectFields()">Select All</a><div class="d-textfield d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-search"><input class="d-textfield__input" type="search" placeholder="Type to filter field list" ng-model="filterValue"></label></div></div><div class="record-definition-fields-content"><div class="d-textfield"><div ng-show="requiredFields.length"><div class="d-textfield__item">Required fields:</div><a class="d-textfield__item" ng-click="selectFields({fieldOption: \'REQUIRED\'})">Select All Required Fields</a></div><div class="d-checkbox d-checkbox_default record-definition-fields-checkbox" ng-repeat="field in fields | filter: {fieldOption: \'REQUIRED\'} | filter: {name: filterValue} | orderBy: \'name\' as requiredFields"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-model="field.selected" ng-disabled="field._required"> <span class="d-checkbox__item">{{field.name}}</span></label></div></div><div class="d-textfield"><div ng-show="optinalFields.length"><div class="d-textfield__item">Optional fields:</div><a class="d-textfield__item" ng-click="selectFields(filterOptionalFields)">Select All Optional Fields</a></div><div class="d-checkbox d-checkbox_default record-definition-fields-checkbox" ng-repeat="field in fields | filter: filterOptionalFields | filter: {name: filterValue} | orderBy: \'name\' as optinalFields"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-model="field.selected"> <span class="d-checkbox__item">{{field.name}}</span></label></div></div><div class="d-textfield"><div ng-show="systemFields.length"><div class="d-textfield__item">System fields:</div><a class="d-textfield__item" ng-click="selectFields(filterSystemFields)">Select All System Fields</a></div><div class="d-checkbox d-checkbox_default record-definition-fields-checkbox" ng-repeat="field in fields | filter: filterSystemFields | filter: {name: filterValue} | orderBy: \'name\' as systemFields"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-model="field.selected"> <span class="d-checkbox__item">{{field.name}}</span></label></div></div></div></div>'),a.put("scripts/components/designer/inspector/editors/add-remove-input-map-fields/inspector-add-remove-input-map-fields.directive.html",'<div class="rx-inspector-add-remove-input-map-fields"><a class="field-action d-icon-left-plus_circle" ng-click="openEditor()">{{options.label}}</a><div ng-switch="options.fieldType"><div ng-switch-when="card-view"><div class="rx-parameter-editor-list"><div ng-repeat="field in inputMapFields" class="field-item"><div class="field-content"><div class="field-name">{{field.name}}</div></div><div class="action-buttons"><div class="d-icon-left-cross" ng-click="removeField(field.id)"></div></div></div></div></div><div ng-switch-default><div ng-repeat="inputMapField in inputMapFields" class="rx-parameter-editor-item"><rx-inspector-expression-field-label label="inputMapField.name" value="inputMapField.value" cell="cell" path="inputMapField._path" required="inputMapField._required"></rx-inspector-expression-field-label><rx-expression-node-renderer path="inputMapField._path" cell="cell" label="inputMapField.name" value="inputMapField.value"></rx-expression-node-renderer></div></div></div><input type="hidden" data-attribute="{{path}}" data-type="object"></div>'),a.put("scripts/components/designer/inspector/editors/approval-flow-selector/approval-flow-selector-dialog.html",'<div class="modal-header dialog-header-confirm"><h4 class="modal-title">Select From Approval Flows</h4></div><div class="modal-body rx-timer-editor"><div class="row"><div class="col-md-6"><div class="d-textfield d-textfield_large"><label class="d-textfield__label"><span class="d-textfield__item">Record Definition</span><select class="d-textfield__input" ng-model="selectedRecordDefinitionName" ng-change="onRecordDefinitionChange()" title="Select a record definition"><option value="">Select a record definition</option><option value="{{record}}" ng-repeat="record in recordDefinitions | orderBy:record">{{record}}</option></select></label></div></div><rx-record-grid rx-configuration="recordGridConfiguration"></rx-record-grid></div><div class="rx-approval-flow-selector-dialog-action-buttons"><button type="button" type="button" class="d-button d-button_primary d-button_large" ng-disabled="!isRowSelected" ng-click="ok()">Use Selected Flow</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),a.put("scripts/components/designer/inspector/editors/approval-flow-selector/inspector-approval-flow-selector-field.directive.html",'<div class="rx-inspector-approval-flow-selector-field"><label ng-class="options.attrs.label.class">Approval Flow Name <a ng-show="!options.attrs.input.disabled" class="edit-link d-icon-left-folder_open_o" ng-click="openDialog()">Select</a></label><input type="text" data-attribute="{{path}}" data-type="text" readonly-input="{{options.attrs.input.disabled}}" ng-model="value.approvalFlowName" ng-disabled="{{options.attrs.input.disabled}}"></div>'),a.put("scripts/components/designer/inspector/editors/column-span/inspector-column-span.directive.html",'<label>{{::options.label}}:</label><table width="240" cellspacing="0" cellpadding="0"><tbody><tr><td ng-repeat="column in columns" ng-style="{\'width\': column.span * 20}">{{column.span}}</td></tr></tbody></table><input type="hidden" data-attribute="{{::path}}" data-type="text" ng-model="value">'),a.put("scripts/components/designer/inspector/editors/customization-options/customization-options.directive.html",'<a href="" ng-click="openCustomizationOptionsEditor()">Choose what can be customized</a>'),a.put("scripts/components/designer/inspector/editors/customization-perspective/customization-perspective.directive.html",'<div><span ng-if="!isOverlayOperationHidden" class="d-button d-button_action-clear d-button_no-padding d-button_large d-icon-left-info_circle is-checked" tooltip-append-to-body="true" tooltip-placement="top" uib-tooltip="Overlay operation description">{{::overlayOperation}}</span> <span class="pull-right d-button d-button_action-clear d-button_no-padding d-button_large d-icon-left-undo is-checked" ng-if="!isRevertActionHidden" ng-click="revertCustomization()">Revert</span></div>'),a.put("scripts/components/designer/inspector/editors/definition-picker/inspector-definition-picker.directive.html",'<label ng-class="options.attrs.label.class"><rx-tooltip tooltip="options.tooltip"></rx-tooltip>{{options.label}}:</label><input type="text" data-attribute="{{path}}" data-type="text" style="display: none" ng-model="data.value"><rx-definition-picker rx-selected-definition-name="data.value" rx-align="{{::options.align}}" rx-type="{{::options.definitionType}}" rx-disabled="options.attrs.input.disabled" rx-available-picker-states="options.availablePickerStates"></rx-definition-picker>'),a.put("scripts/components/designer/inspector/editors/expression-field-label/inspector-expression-field-label.directive.html",'<div class="rx-inspector-expression-field-label"><a ng-show="value" class="edit-link d-icon-left-pencil" ng-click="openEditor()">Edit</a><label ng-class="{required: required}">{{label}}:</label></div>'),a.put("scripts/components/designer/inspector/editors/expression-node-renderer/expression-node-renderer.directive.html",'<div class="rx-expression-node-renderer" for-expression-editor-label="{{label}}" for-expression-editor-path="{{path}}"><a ng-show="!value" class="rx-new-expression-link" ng-click="openEditor()">Click to build an expression</a><div ng-show="value" class="rx-full-expression" ng-click="openEditor()"><span ng-repeat="node in nodes track by $index" class="rx-inspector-tags" ng-class="node.class || \'rx-inspector-string-tag\'" tooltip-enable="node.tooltip" tooltip-trigger="outsideClick mouseenter" uib-tooltip="{{node.tooltip}}" tooltip-append-to-body="true">{{node.label || node}}</span><div class="rx-fade-line d-icon-ellipsis_horizontal"></div></div></div>'),a.put("scripts/components/designer/inspector/editors/inspector-boolean-field.directive.html",'<label class="d-textfield__label"><span class="d-textfield__item" ng-if="options.label">{{options.label}}:</span><rx-boolean ng-model="value" rx-boolean-true="options.trueValue" rx-boolean-false="options.falseValue"></rx-boolean></label><input style="display: none" type="text" data-attribute="{{path}}" class="text" ng-model="value">'),a.put("scripts/components/designer/inspector/editors/inspector-checkbox-multiselect.directive.html",'<div class="rx-inspector-checkbox-multiselect" data-attribute="{{path}}"><label ng-class="options.attrs.label.class">{{options.label}}:</label><div class="inspectorToggleGroup" ng-repeat="group in groups"><div class="selectionItem" ng-repeat="item in group"><rx-dpl-checkbox ng-change="updateSelection(item.value)" ng-model="item.isChecked" ng-class="{\'rx-dpl-checkbox-checked\': item.isChecked}">{{item.content}}</rx-dpl-checkbox></div></div></div>'),a.put("scripts/components/designer/inspector/editors/inspector-checkbox.directive.html",'<div ng-class="{\'d-checkbox_default\': !options.switcher, \'d-checkbox_switcher\': options.switcher}" class="d-checkbox"><label class="d-textfield__item ng-binding" ng-if="options.label">{{options.label}}:</label><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-model="data.value"> <span class="d-checkbox__item">{{options.description}}</span></label><input style="display: none" type="text" data-attribute="{{path}}" class="text"></div>'),a.put("scripts/components/designer/inspector/editors/inspector-datepicker.directive.html",'<div><label>{{options.label}}:</label><p class="input-group"><input class="rx-input" type="text" uib-datepicker-popup="yyyy-MM-dd" data-attribute="{{path}}" ng-model="value" is-open="opened" datepicker-options="datepickerOptions" show-button-bar="false" ng-disabled="options.attrs.input.disabled"> <span class="input-group-btn"><button class="btn btn-default" type="button" ng-click="open($event)" ng-disabled="options.attrs.button.disabled"><i class="d-icon-calendar"></i></button></span></p></div>'),a.put("scripts/components/designer/inspector/editors/inspector-datetimepicker.directive.html",'<div><label>{{options.label}}:</label><input type="text" style="display: none" data-attribute="{{path}}" data-type="text" ng-model="value" ng-disabled="options.attrs.input.disabled"><p class="input-group"><input class="rx-input" type="text" uib-datepicker-popup="yyyy-MM-dd" datepicker-options="datepickerOptions" show-button-bar="false" ng-model="datetime" is-open="opened" ng-disabled="options.attrs.input.disabled"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="open($event)" ng-disabled="options.attrs.button.disabled"><i class="d-icon-calendar"></i></button></span></p><uib-timepicker ng-model="datetime" readonly-input="{{options.attrs.input.disabled}}" ng-disabled="options.attrs.timepicker.disabled" class="d-timepicker d-timepicker__no-label"></uib-timepicker></div>'),a.put("scripts/components/designer/inspector/editors/inspector-expression-field.directive.html",'<div class="rx-inspector-expression-field"><label ng-class="options.attrs.label.class">{{options.label}}:</label><a ng-show="!options.attrs.input.disabled" class="edit-link d-icon-left-pencil" ng-click="openEditor()">Edit</a> <input type="text" data-attribute="{{path}}" data-type="text" readonly-input="{{options.attrs.input.disabled}}" ng-model="value" ng-disabled="{{options.attrs.input.disabled}}"></div>'),a.put("scripts/components/designer/inspector/editors/inspector-expression-input-select.directive.html",'<div class="rx-inspector-expression-input-select"><a ng-show="!options.attrs.input.disabled" class="edit-link d-icon-left-pencil" ng-click="openEditor()">Edit</a><label ng-class="options.attrs.label.class">{{options.label}}:</label><input type="text" style="display: none" data-attribute="{{path}}" data-type="text" ng-model="value" ng-disabled="{{options.attrs.input.disabled}}"><ui-select tagging tag-on-blur="true" tagging-tokens="ENTER" ng-model="model.value" ng-disabled="{{options.attrs.input.disabled}}" on-select="onSelect($item)" on-remove="onRemove($item)"><ui-select-match allow-clear="true">{{$select.selected}}</ui-select-match><ui-select-choices repeat="selectOption in selectOptions | filter: $select.search"><div ng-bind-html="selectOption | highlight: $select.search"></div></ui-select-choices></ui-select></div>'),a.put("scripts/components/designer/inspector/editors/inspector-expression-node-field.directive.html",'<div class="rx-inspector-expression-node-field"><label ng-class="options.attrs.label.class"><a ng-show="!options.attrs.input.disabled && value" class="edit-link d-icon-left-pencil" ng-click="openEditor()">Edit</a><rx-tooltip tooltip="options.tooltip"></rx-tooltip>{{options.label}}:</label><rx-expression-node-renderer cell="cell" path="path" value="value" label="options.label"></rx-expression-node-renderer><input type="text" data-attribute="{{path}}" data-type="text" ng-model="value" style="display:none"></div>'),a.put("scripts/components/designer/inspector/editors/inspector-expression-select.directive.html",'<div class="rx-inspector-expression-select"><label ng-class="options.attrs.label.class">{{options.label}}:</label><a ng-show="!options.attrs.select.disabled" class="edit-link d-icon-left-pencil" ng-click="openEditor()">Edit</a><select class="select" data-type="select" data-attribute="{{path}}" readonly-input="{{options.attrs.select.disabled}}" ng-disabled="{{options.attrs.select.disabled}}"><option value="{{option.value}}" ng-repeat="option in options.options" ng-selected="option.value == value">{{option.content}}</option></select></div>'),a.put("scripts/components/designer/inspector/editors/inspector-expression-textarea-field.directive.html",'<div class="rx-inspector-expression-textarea-field"><label ng-class="options.attrs.label.class"><a ng-show="!options.attrs.input.disabled" class="edit-link d-icon-left-pencil" ng-click="openEditor()">Edit</a><rx-tooltip tooltip="options.tooltip"></rx-tooltip>{{options.label}}:</label><textarea data-attribute="{{path}}" data-type="textarea" ng-model="value" ng-disabled="options.attrs.input.disabled"></textarea></div>'),a.put("scripts/components/designer/inspector/editors/inspector-filter-select.directive.html",'<div class="rx-inspector-filter-select"><label ng-class="options.attrs.label.class">{{options.label | translate}}:<rx-tooltip tooltip="options.tooltip"></rx-tooltip></label><ul class="rx-inspector-filter-select__types d-button-group d-button-group_primary d-button-group_small"><li class="d-button-group__item" ng-repeat="filter in ::filterTypes"><button class="d-button-group__btn" ng-class="{\'is-checked\': filterMode === filter.type}" ng-bind="::filter.label" ng-click="changeFilterMode(filter.type)"></button></li></ul><rx-search-filter ng-show="filterMode === \'basic\'" rx-filter-data="filterData" rx-filter-configuration="filterConfiguration"></rx-search-filter><rx-expression-node-renderer ng-show="filterMode === \'expression\'" cell="cell" path="filterExpressionPath" label="options.label | translate" value="filterExpressionValue"></rx-expression-node-renderer><input type="text" data-attribute="{{path}}" data-type="text" ng-model="value" style="display:none"></div>'),a.put("scripts/components/designer/inspector/editors/inspector-group-button.directive.html",'<div><label ng-class="options.attrs.label.class"><rx-tooltip tooltip="options.tooltip"></rx-tooltip>{{options.label}}:</label><ul class="d-button-group d-button-group_primary d-button-group_small"><li class="d-button-group__item" ng-repeat="button in options.options"><button data-test="{{button.content}}" class="d-button-group__btn" ng-model="data.value" uib-btn-radio="button.value">{{button.content}}</button></li></ul></div><input type="text" data-attribute="{{path}}" data-type="text" ng-model="data.value" style="display:none">'),
a.put("scripts/components/designer/inspector/editors/inspector-input-select.directive.html",'<div><label ng-class="options.attrs.label.class">{{options.label}}:</label><input type="text" style="display: none" data-attribute="{{path}}" data-type="text" ng-model="value" ng-disabled="{{options.attrs.input.disabled}}"><ui-select tagging tag-on-blur="true" tagging-tokens="ENTER" ng-model="model.value" ng-disabled="{{options.attrs.input.disabled}}" on-select="onSelect($item)" on-remove="onRemove($item)"><ui-select-match>{{$select.selected}}</ui-select-match><ui-select-choices repeat="selectOption in selectOptions | filter: $select.search"><div ng-bind-html="selectOption | highlight: $select.search"></div></ui-select-choices></ui-select></div>'),a.put("scripts/components/designer/inspector/editors/inspector-multiselect-dropdown.directive.html",'<div class="d-dropdown d-js-dropdown"><div class="d-dropdown__trigger d-icon-left-plus_circle" data-placeholder="Filter" style="width: 200px" ng-click="dropdownToggle()">Add columns</div><div class="d-dropdown__menu"><div class="d-textfield d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-search"><span class="d-textfield__item">Type to filter field list</span> <input type="search" placeholder="Type to filter field list" class="d-textfield__input" ng-model="search"></label></div><div class="options-container"><div class="d-checkbox d-checkbox_default" ng-repeat="selectOption in selectOptions | filter:search | orderBy:\'content\' "><label><input class="d-checkbox__input" type="checkbox" ng-model="selectOption.checked"> <span class="d-checkbox__label d-checkbox__item">{{selectOption.content}}</span></label></div></div></div></div><div ng-repeat="selectOption in selectOptions | filter:{checked:true}" class="selected-options">{{selectOption.content}}</div>'),a.put("scripts/components/designer/inspector/editors/inspector-number-input.directive.html",'<label>{{options.label}}:</label><input type="number" data-attribute="{{path}}" data-type="number" min="{{attrs.min || \'\'}}" max="{{attrs.max || \'\'}}" pattern="{{attrs.pattern || \'\'}}" ng-model="value" ng-change="onChange(value)" ng-blur="onBlur(value)" ng-disabled="{{options.attrs.input.disabled}}">'),a.put("scripts/components/designer/inspector/editors/inspector-optional-expression.directive.html",'<div class="rx-inspector-optional-expression"><label>{{options.label}}</label><div class="rx-inspector-optional-expression-group"><div class="toggle"><input ng-model="state.checkbox" type="checkbox"> <span><i></i></span></div><div class="rx-inspector-optional-expression-select" ng-if="state.checkbox"><select class="select" data-type="select" ng-model="state.select"><option value="{{option.value}}" ng-repeat="option in selectConfig.options track by option.value" ng-selected="option.value == state.select">{{option.content}}</option></select></div></div><div class="rx-inspector-optional-expression-input" ng-show="state.select == SELECT_STATE.CONDITIONAL"><label>Condition</label><rx-expression-node-renderer cell="cell" path="path" label="options.label" value="value"></rx-expression-node-renderer><input ng-model-options="{updateOn: \'blur\'}" type="text" data-attribute="{{path}}" class="text" ng-model="value" style="display: none"></div></div>'),a.put("scripts/components/designer/inspector/editors/inspector-optional-select.directive.html",'<div class="rx-inspector-optional-select"><label>{{options.label}}:</label><div class="rx-inspector-optional-select-group"><div class="toggle"><input ng-model="state.checkbox" type="checkbox"> <span><i></i></span></div><div class="rx-inspector-optional-select-options" ng-if="state.checkbox"><select class="select" data-type="select" ng-model="state.select"><option value="{{option.value}}" ng-repeat="option in options.options track by option.value" ng-selected="option.value == state.select">{{option.content}}</option></select></div></div><input style="display: none" type="text" data-attribute="{{path}}" class="text" ng-model="value"></div>'),a.put("scripts/components/designer/inspector/editors/inspector-permission-editor.directive.html",'<div class="rx-permission-editor"><label ng-class="options.attrs.label.class">{{options.label}}: <a class="d-button_action d-icon-left-pencil is-checked pull-right" ng-hide="isPermissionEditDisabled || options.isReadOnly" ng-click="openPermissionEditor()">Edit</a></label><div class="clearfix" ng-if="effectivePermissions.length === 0"><h6>None set (Admins only)</h6></div><div class="clearfix"><div ng-repeat="permission in effectivePermissions" class="rx-permission-editor-item"><span class="rx-permitted-group-name">{{::permission.ownerName}}</span> <span class="d-tag pull-right" ng-if="permission.type">{{::permission.type}}</span></div></div></div>'),a.put("scripts/components/designer/inspector/editors/inspector-read-only-text.directive.html",'<div ng-switch="options.inputType" class="rx-inspector-read-only-text"><label ng-class="options.attrs.label.class">{{options.label}}:</label><input type="text" ng-switch-default ng-model="displayValue" disabled="disabled"><textarea class="textarea" ng-switch-when="textarea" ng-model="displayValue" disabled="disabled"></textarea></div>'),a.put("scripts/components/designer/inspector/editors/inspector-record-instance-sample-data.directive.html",'<div><label class="icon teal" ng-class="{\'d-icon-check_circle\': value, \'d-icon-circle_o\': !value}" ng-click="toggle()">{{\' \' + options.label}}</label><input type="checkbox" data-type="toggle" data-attribute="{{path}}" ng-model="value" class="hidden"></div>'),a.put("scripts/components/designer/inspector/editors/inspector-select.directive.html",'<div><label>{{options.label}}:</label><select ng-options="item for item in options.options track by item" class="select" data-type="select" data-attribute="{{path}}" ng-model="value"></select></div>'),a.put("scripts/components/designer/inspector/editors/inspector-tag-input.directive.html",'<div><rx-tooltip tooltip="options.tooltip"></rx-tooltip><input type="text" data-attribute="{{path}}" data-type="text" ng-model="value" style="display:none"><label ng-class="options.attrs.label.class">{{options.label}}<tags-input ng-model="tags" placeholder="{{options.placeholderText}}" display-property="name" replace-spaces-with-dashes="false"><auto-complete source="loadOptions($query)" min-length="0" load-on-focus="true" load-on-empty="true"></auto-complete></tags-input></label></div>'),a.put("scripts/components/designer/inspector/editors/inspector-text-message.directive.html",'<span data-attribute="{{path}}">{{options.value}}</span>'),a.put("scripts/components/designer/inspector/editors/inspector-timepicker.directive.html",'<div><label>{{options.label}}:</label><input type="text" style="display: none" data-attribute="{{path}}" data-type="text" ng-model="value" ng-disabled="options.attrs.input.disabled"><uib-timepicker ng-model="date" class="d-timepicker d-timepicker__no-label" readonly-input="{{options.attrs.input.disabled}}" ng-disabled="options.attrs.timepicker.disabled"></uib-timepicker><button class="btn btn-default btn-sm rx-inspector-timepicker__clear" type="button" ng-click="clearTime($event)">Clear</button></div>'),a.put("scripts/components/designer/inspector/editors/inspector-timer-field.directive.html",'<div class="rx-inspector-timer-field"><a ng-show="!options.attrs.input.disabled" class="edit-link d-icon-left-pencil" ng-click="openIntervalTimerEditor()" data-value="IntervalTimer">Edit</a> <input type="hidden" ng-model="value" data-attribute="{{path}}"><rx-inspector-read-only-text></rx-inspector-read-only-text></div>'),a.put("scripts/components/designer/inspector/editors/process-parameters/inspector-process-parameter-editor.directive.html",'<div class="rx-parameters-editor"><a class="d-icon-left-plus_circle" ng-click="openParameterEditor()" ng-if="!options.attrs.input.disabled">Add/Remove Variables</a><div class="clearfix"><div ng-if="contextKeyOptions.length" class="rx-parameter-context-key rx-inspector-tooltip-field"><label class="rx-parameter-context-key-label"><rx-tooltip tooltip="\'A Context Key is used to identify process instances with a meaningful domain label. A text input parameter or a record instance input parameter may serve as a key, if marked as required.\'"></rx-tooltip>Context Key:</label><select class="select" ng-model="contextKeyParam" ng-options="contextKey.name as contextKey.name for contextKey in contextKeyOptions" ng-change="onContextKeyChange(contextKeyParam)"><option value=""></option></select></div><div ng-if="inputParams.length" class="rx-parameter-editor-list"><div class="rx-parameter-editor-list-header" ng-init="inputParamsIsCollapsed = false" ng-click="inputParamsIsCollapsed = !inputParamsIsCollapsed" ng-class="{\'d-icon-left-angle_right\' : inputParamsIsCollapsed, \'d-icon-left-angle_down\' : !inputParamsIsCollapsed}">Input Parameters</div><div uib-collapse="inputParamsIsCollapsed"><div ng-repeat="parameter in inputParams" class="rx-parameter-editor-item"><button ng-click="removeParameter(parameter, \'inputParams\')" ng-if="!options.attrs.input.disabled" class="btn-list d-icon-cross" type="button"></button> <button ng-click="openParameterEditor(parameter)" ng-if="!options.attrs.input.disabled" class="btn-list d-icon-pencil" type="button"></button> <button ng-if="parameter.name === contextKeyParam" tooltip-placement="bottom" uib-tooltip="Context Key" class="btn-list d-icon-key" type="button"></button><div><i ng-class="{\'d-icon-right-arrow_right_brackets pull-left\' : parameter.isInputAndOutputParam, \'d-icon-arrow_right_square_input pull-left\' : !parameter.isInputAndOutputParam}"></i><div class="rx-parameter-name">{{parameter.name}}</div><div class="rx-parameter-type">{{parameter.resourceType|resourceType}} {{parameter.required ? \' | Required\' : \'\'}}</div></div></div></div></div><div ng-if="outputParams.length" class="rx-parameter-editor-list"><div class="rx-parameter-editor-list-header" ng-init="outputParamsIsCollapsed = false" ng-click="outputParamsIsCollapsed = !outputParamsIsCollapsed" ng-class="{\'d-icon-left-angle_right\' : outputParamsIsCollapsed, \'d-icon-left-angle_down\' : !outputParamsIsCollapsed}">Output Parameters</div><div uib-collapse="outputParamsIsCollapsed"><div ng-repeat="parameter in outputParams" class="rx-parameter-editor-item"><button ng-click="removeParameter(parameter, \'outputParams\')" ng-if="!options.attrs.input.disabled" class="btn-list d-icon-cross" type="button"></button> <button ng-click="openParameterEditor(parameter)" ng-if="!options.attrs.input.disabled" class="btn-list d-icon-pencil" type="button"></button><div><i ng-class="{\'d-icon-right-arrow_right_brackets pull-left\' : parameter.isInputAndOutputParam, \'d-icon-arrow_right_square_o pull-left\' : !parameter.isInputAndOutputParam}"></i><div class="rx-parameter-name">{{parameter.name}}</div><div class="rx-parameter-type">{{parameter.resourceType|resourceType}}</div></div></div></div></div><div ng-if="localVariables.length" class="rx-parameter-editor-list"><div class="rx-parameter-editor-list-header" ng-init="localVariablesIsCollapsed = false" ng-click="localVariablesIsCollapsed = !localVariablesIsCollapsed" ng-class="{\'d-icon-left-angle_right\' : localVariablesIsCollapsed, \'d-icon-left-angle_down\' : !localVariablesIsCollapsed}">Local Variables</div><div uib-collapse="localVariablesIsCollapsed"><div ng-repeat="parameter in localVariables" class="rx-parameter-editor-item"><button ng-click="removeParameter(parameter, \'localVariables\')" ng-if="!options.attrs.input.disabled" class="btn-list d-icon-cross" type="button"></button> <button ng-click="openParameterEditor(parameter)" ng-if="!options.attrs.input.disabled" class="btn-list d-icon-pencil" type="button"></button><div><i class="d-icon-arrows_right pull-left"></i><div class="rx-parameter-name">{{parameter.name}}</div><div class="rx-parameter-type">{{parameter.resourceType|resourceType}}</div></div></div></div></div></div></div>'),a.put("scripts/components/designer/inspector/editors/process-parameters/process-parameter-editor.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Add/Remove Variables</h4></div><form name="ProcessParameterEditorForm" novalidate><div class="modal-body"><div class="rx-record-grid-column-editor-wrapper"><div layout="row" layout-align="space-between center"><a class="d-icon-left-plus_circle" ng-click="addProcessParameter()">Add Variable</a><div class="expand-collapse-buttons"><button class="d-button d-button_secondary d-button_small" ng-click="expandAll()">Expand All</button> <button class="d-button d-button_secondary d-button_small" ng-click="collapseAll()">Collapse All</button></div></div></div><div class="rx-process-parameters-container"><div ng-if="processParameters.length" class="process-parameters-list"><div ng-repeat="processParameter in processParameters" class="process-parameter-item" ng-class="{\'has-error\': processParameter.isCollapsed && ProcessParameterEditorForm[\'parameter-name-\' + (processParameter.newId || processParameter.id)].$invalid}"><div class="process-parameter-item-header" ng-click="processParameter.isCollapsed = !processParameter.isCollapsed"><div class="left-header-block">{{processParameter.name || (processParameter.lastUpdateTime ? \'\' : \'New Variable\')}}</div><div class="right-header-block"><div ng-click="removeProcessParameter($event, $index)" class="remove-button"><div class="d-icon-left-cross header-icon"></div><div class="remove-button-text">Remove</div></div><div class="arrow-pointer header-icon" ng-class="{\'d-icon-right-angle_down\' : processParameter.isCollapsed , \'d-icon-right-angle_up\' : !processParameter.isCollapsed}"></div></div></div><div uib-collapse="processParameter.isCollapsed" class="d-collapse-panel collapse-content"><div class="row"><div class="col-md-6 d-textfield_required d-textfield"><label for="parameter-name-{{(processParameter.newId || processParameter.id)}}" class="d-textfield__item">Name</label><input type="text" name="parameter-name-{{(processParameter.newId || processParameter.id)}}" class="rx-input" required id="parameter-name-{{(processParameter.newId || processParameter.id)}}" ng-model="processParameter.name" ng-blur="checkDuplicate(\'name\')" maxlength="254" ng-pattern="validDefinitionNameRegex"><p class="d-error" ng-if="ProcessParameterEditorForm[\'parameter-name-\' + (processParameter.newId || processParameter.id)].$error.required">Name is required.</p><p class="d-error" ng-if="processParameter.name && ProcessParameterEditorForm[\'parameter-name-\' + (processParameter.newId || processParameter.id)].$error.duplicate">Name must be unique.</p><p class="d-error" ng-if="ProcessParameterEditorForm[\'parameter-name-\' + (processParameter.newId || processParameter.id)].$error.pattern">The name contains an invalid character.</p></div><div class="col-md-6 d-textfield"><label class="d-textfield__item"><rx-tooltip tooltip="{text: \'A Variable ID uniquely identifies a process variable. It must contain integers only.\', appendToBody: false}"></rx-tooltip>Variable ID</label><input type="number" name="parameter-id-{{(processParameter.newId || processParameter.id)}}" class="rx-input" ng-model="processParameter.id" ng-blur="validateParameterId(\'id\', processParameter)" ng-disabled="processParameter.lastUpdateTime"><p class="d-error" ng-if="(processParameter.id || processParameter.id == 0) && ProcessParameterEditorForm[\'parameter-id-\' + (processParameter.newId || processParameter.id)].$error.range">Variable ID must be greater than 1000.</p><p class="d-error" ng-if="processParameter.id && ProcessParameterEditorForm[\'parameter-id-\' + (processParameter.newId || processParameter.id)].$error.duplicate">Variable ID must be unique.</p></div></div><div class="row"><div class="col-md-6"><div class="d-textfield_required"><label class="d-textfield__item"><rx-tooltip tooltip="{text: parameterTypeTooltip, appendToBody: false, placement: \'right\'}"></rx-tooltip>Variable Type</label><div class="d-radio"><label class="d-radio__label"><input type="radio" ng-model="processParameter.isLocalVariable" ng-value="false" ng-change="parameterTypeChanged(processParameter)" class="d-radio__input"> <span class="d-radio__item">Input/Output Parameter:</span></label></div><div class="rx-process-parameter-types-container"><div class="row"><div class="col-md-4 rx-process-parameter-type-input"><rx-dpl-checkbox ng-model="processParameter.isInput" ng-disabled="processParameter.isLocalVariable" ng-change="parameterTypeChanged(processParameter)" ng-class="{\'rx-dpl-checkbox-checked\': processParameter.isInput}">Input</rx-dpl-checkbox></div><div class="col-md-8"><rx-dpl-checkbox ng-model="processParameter.required" ng-disabled="processParameter.isLocalVariable || !processParameter.isInput" ng-class="{\'rx-dpl-checkbox-checked\': processParameter.required}">Input Required</rx-dpl-checkbox></div></div><div><rx-dpl-checkbox ng-model="processParameter.isOutput" ng-disabled="processParameter.isLocalVariable" ng-change="parameterTypeChanged(processParameter)" ng-class="{\'rx-dpl-checkbox-checked\': processParameter.isOutput}">Output</rx-dpl-checkbox></div></div><div class="d-radio"><label class="d-radio__label"><input type="radio" ng-model="processParameter.isLocalVariable" ng-value="true" ng-change="parameterTypeChanged(processParameter)" class="d-radio__input"> <span class="d-radio__item">Local Variable</span></label></div><input type="hidden" name="parameter-type-{{(processParameter.newId || processParameter.id)}}" ng-model="processParameter.type"><p ng-if="ProcessParameterEditorForm[\'parameter-type-\' + (processParameter.newId || processParameter.id)].$error.required" class="d-error">Variable Type is required.</p></div><div class="d-textfield_required d-textfield"><label class="d-textfield__item">Data Type</label><select ng-model="processParameter.resourceType" ng-options="dataType.value as dataType.content for dataType in inputDataTypes" ng-change="onResourceTypeChange(processParameter)" ng-disabled="processParameter.lastUpdateTime" required class="select"></select><p ng-if="!processParameter.resourceType" class="d-error">Data Type is required.</p></div></div><div class="col-md-6 d-textfield"><label for="parameter-description-{{(processParameter.newId || processParameter.id)}}" class="d-textfield__item">Description</label><textarea ng-model="processParameter.description" id="parameter-description-{{(processParameter.newId || processParameter.id)}}" class="textarea"></textarea></div></div><div class="row"><div class="col-md-6"><div ng-if="processParameter.defaultValueType && processParameter.defaultValueType === \'select\'" class="d-textfield d-textfield_required rx-selection"><a ng-click="openSelectOptionsEditor(processParameter)" class="pull-right d-icon-left-pencil">Edit</a><label class="d-textfield__item">Options</label><div class="field-options">{{processParameter.optionNamesById|selectionFieldOptions}}</div><input type="hidden" name="parameter-optionNamesById-{{(processParameter.newId || processParameter.id)}}" required ng-model="processParameter.optionNamesById"><p ng-if="!processParameter.optionNamesById && ProcessParameterEditorForm[\'parameter-optionNamesById-\' + (processParameter.newId || processParameter.id)].$error.required" class="d-error">Options are required.</p></div><div ng-if="processParameter.defaultValueType && processParameter.defaultValueType !== \'recordInstance\'" class="d-textfield"><label for="parameter-defaultValue-{{(processParameter.newId || processParameter.id)}}" class="d-textfield__item">Default Value</label><input type="text" name="parameter-defaultValue-{{(processParameter.newId || processParameter.id)}}" id="parameter-defaultValue-{{(processParameter.newId || processParameter.id)}}" class="rx-input" ng-model="processParameter.defaultValue" ng-if="processParameter.defaultValueType === \'text\'"> <input type="number" name="parameter-defaultValue-{{(processParameter.newId || processParameter.id)}}" id="parameter-defaultValue-{{(processParameter.newId || processParameter.id)}}" class="rx-input" ng-model="processParameter.defaultValue" ng-if="processParameter.defaultValueType === \'number\'"><select ng-model="processParameter.defaultValue" ng-if="isObject(processParameter.defaultValueType) && processParameter.defaultValueType.type === \'select\'" class="select"><option ng-repeat="option in processParameter.defaultValueType.options" value="{{option.value}}">{{option.content}}</option></select><rx-boolean ng-model="processParameter.defaultValue" rx-boolean-true="\'1\'" rx-boolean-false="\'0\'" ng-if="processParameter.defaultValueType === \'rx-boolean\'"></rx-boolean><select ng-model="processParameter.defaultValue" ng-if="processParameter.defaultValueType === \'select\'" ng-options="key as value for (key, value) in processParameter.optionNamesById" class="select"></select><p ng-if="processParameter.defaultValueType === \'rx-inspector-datepicker\' || processParameter.defaultValueType === \'rx-inspector-datetimepicker\'" class="input-group"><input type="text" class="rx-input" uib-datepicker-popup="yyyy-MM-dd" ng-model="processParameter.defaultValue" is-open="processParameter.datepickerOpened" datepicker-options="datepickerOptions" show-button-bar="false"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="open($event, processParameter)"><i class="d-icon-calendar"></i></button></span></p><uib-timepicker ng-if="processParameter.defaultValueType === \'rx-inspector-timepicker\' || processParameter.defaultValueType === \'rx-inspector-datetimepicker\'" ng-model="processParameter.defaultValue" class="d-timepicker d-timepicker__no-label"></uib-timepicker></div><div ng-if="processParameter.defaultValueType === \'recordInstance\'" class="d-textfield d-textfield_required"><label class="d-textfield__item">{{processParameter.useSampleData ? \'Sample\' : \'\'}} Record Definition</label><rx-definition-picker rx-selected-definition-name="processParameter.recordDefinitionName" rx-type="record"></rx-definition-picker><input type="hidden" name="record-definition-{{(processParameter.newId || processParameter.id)}}" ng-model="processParameter.recordDefinitionName" required><p ng-if="!processParameter.recordDefinitionName" class="d-error">Record Definition is required.</p><div class="field-checkbox"><rx-dpl-checkbox ng-model="processParameter.useSampleData">Use Sample Data</rx-dpl-checkbox></div></div></div></div></div></div></div><div ng-if="!processParameters.length" class="process-parameters-empty">Click \'Add Variable\' to add a new process Input or Output Parameter, or a new Local Variable.</div></div><div class="rx-process-parameters-editor-action-buttons"><button type="submit" ng-disabled="ProcessParameterEditorForm.$invalid" class="d-button d-button_primary d-button_large" ng-click="ok()">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div></form>'),a.put("scripts/components/designer/inspector/editors/radio-button/inspector-radio-button.directive.html",'<label ng-class="options.attrs.label.class">{{options.label}}:</label><input type="text" style="display: none" data-attribute="{{path}}" data-type="text" ng-model="model.value"><label ng-repeat="radio in options.options" class="d-radio__label"><input style="display: none" class="d-radio__input" type="radio" name="{{options.label}}" ng-model="model.value" ng-value="radio.value"> <span class="d-radio__item">{{radio.content}}</span></label>'),a.put("scripts/components/designer/inspector/editors/schedule-timer/inspector-schedule-timer-field.directive.html",'<div class="rx-inspector-expression-textarea-field"><a ng-show="!options.attrs.input.disabled" class="edit-link d-icon-left-pencil" ng-click="openDialog()">Edit</a> <input type="hidden" ng-model="value" data-attribute="{{path}}"><rx-inspector-read-only-text></rx-inspector-read-only-text></div>'),a.put("scripts/components/designer/inspector/editors/schedule-timer/schedule-timer-dialog.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Edit Schedule Definition</h4></div><div class="modal-body rx-schedule-dialog-body"><div class="row"><div class="col-md-7"><div class="rx-scheduler-title"><span><label>Month Days</label></span> <span class="pull-right"><label class="rx-button-all" ng-click="selectAllDates()">All</label><label class="rx-button-all left-margin" ng-click="resetSelection(\'monthDays\')">None</label></span></div><table class="table rx-month-days"><tr ng-repeat="dates in ::calendarDates track by $index"><td ng-repeat="date in ::dates track by $index" class="" ng-click=" !(date < 32) || updateScheduleDefinition(\'monthDays\', date)" ng-class="{\'active-date\': isDateSelected(date), \'disable-date\': date > 31}"><small ng-if="date < 32">{{date}}</small></td></tr></table></div><div class="col-md-5"><div class="rx-scheduler-title"><span><label>Week Days</label></span> <span class="pull-right"><label class="rx-button-all" ng-click="selectAllDays()">All</label><label class="rx-button-all left-margin" ng-click="resetSelection(\'weekDays\')">None</label></span></div><div><div class="list-group rx-week-days col-sm-6" ng-repeat="days in ::weekDays track by $index" ng-class="{\'hide-left-border\' : $last }"><div class="list-group-item" ng-repeat="day in ::days track by $index" ng-click="!day || updateScheduleDefinition(\'weekDays\', day)" ng-class="{\'active-date\': isDaySelected(day),\'disable-day\': !day }"><small ng-if="day">{{day.value}}</small></div></div></div></div></div><div class="row"><div class="col-md-12 rx-scheduler-title"><span><label>Hours</label></span> <span class="pull-right"><label class="rx-button-all" ng-click="selectAllHours()">All</label><label class="rx-button-all left-margin" ng-click="resetSelection(\'hours\')">None</label></span></div><div class="col-md-12"><table class="table rx-month-days"><tr><th class="period">AM</th><td ng-repeat="hour in ::hours track by $index" ng-click="updateScheduleDefinition(\'hours\', hour + \':\' + \'AM\' )" ng-class="{\'active-date\': isHourSelected(hour , \'AM\')}">{{hour}}</td></tr><tr><th class="period">PM</th><td ng-repeat="hour in ::hours track by $index" ng-click="updateScheduleDefinition(\'hours\', hour + \':\' + \'PM\' )" ng-class="{\'active-date\': isHourSelected(hour, \'PM\')}">{{hour}}</td></tr></table></div></div><div class="row"><form novalidate><div><label class="col-md-5 pull-left">Minutes After the Hour (00-59):</label><div class="col-md-2"><input type="number" ng-model="scheduleDefinition.minute" name="" class="rx-input" min="0" max="59" step="1"></div></div></form></div><div class="row"><div class="col-md-12"><label class="rx-scheduler-title"><strong>Schedule Definition</strong></label><div class="rx-schedule-definition-preview">{{preview}}</div></div></div><div class="rx-schedule-timer-dialog-action-buttons"><button type="button" type="button" class="d-button d-button_primary d-button_large" ng-click="ok()" ng-disabled="!scheduleDefinition.monthDays.length && !scheduleDefinition.weekDays.length">OK</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),a.put("scripts/components/designer/inspector/editors/select-expression-dropdown/inspector-select-expression-dropdown.html",'<div class="rx-inspector-select-expression-dropdown"><div class="dropdown" ng-if="!options.attrs.input.disabled" uib-dropdown=""><a uib-dropdown-toggle="" class="d-dropdown__trigger d-icon-right-angle_down dropdown-toggle edit-link" aria-haspopup="true" aria-expanded="false">{{cell.selectExpressionDropdownValue}}</a><ul uib-dropdown-menu="" role="menu" class="dropdown-menu"><li role="presentation" ng-repeat="item in menuOptions"><a role="menuitem" ng-click="validateSelection(item.value)" ng-bind="getDisplayValue(item.displayValue)"></a></li></ul></div><label ng-class="options.attrs.label.class">{{options.label}}:</label><input type="text" style="display: none" data-attribute="{{path}}" data-type="text" ng-model="value"><div ng-switch="cell.selectExpressionDropdownValue"><rx-definition-picker rx-selected-definition-name="$parent.value" rx-type="{{::options.definitionType}}" rx-disabled="options.attrs.input.disabled" ng-switch-when="Select"></rx-definition-picker><rx-expression-node-renderer ng-switch-when="Expression" path="path" cell="cell" label="options.label" value="$parent.value"></rx-expression-node-renderer></div></div>'),a.put("scripts/components/designer/inspector/editors/select-field/inspector-select.directive.html",'<label ng-class="options.attrs.label.class"><rx-tooltip tooltip="options.tooltip"></rx-tooltip>{{options.label}}:</label><select data-type="select" class="select" data-attribute="{{path}}" ng-disabled="options.attrs.input.disabled"><option ng-repeat="option in options.options track by option.value" value="{{option.value}}" ng-selected="option.value == defaultValue.value">{{option.content}}</option></select>'),a.put("scripts/components/designer/inspector/editors/select-with-validation-messages/inspector-select-with-validation-messages.template.html",'<div class="rx-inspector-select-with-validation-messages"><label ng-class="options.attrs.label.class">{{options.label}}:</label><select ng-options="value.content for value in selectOptions" ng-change="onSelect()" ng-model="model" ng-disabled="isDisabled()" class="select"></select></div><div class="rx-inspector-select-with-validation-messages__validation-issue" ng-repeat="issue in options.validationIssues"><span ng-class="issue.type" class="rx-inspector-select-with-validation-messages__validation-issue-message">{{issue.message}}</span> <a ng-show="issue.propertyName" ng-click="correctValidationIssue(issue)" class="rx-inspector-select-with-validation-messages__validation-issue-action">Correct this problem</a></div><!-- This input below is here because rappid\'s logic of hiding/showing with `when` clause\n is dependent on the inputs with data-attribute --><!-- TODO-mkoretsk: remove it when rappid.js removes dependency on the inputs with data-attribute --><input type="hidden" data-attribute="{{path}}">'),a.put("scripts/components/designer/inspector/editors/selection-field/inspector-selection-field-editor.directive.html",'<div class="inspector-selection-field-options"><label class="required" ng-class="options.attrs.label.class">{{options.label}}:</label><a ng-show="!options.attrs.input.disabled" class="edit-link d-icon-left-pencil" ng-click="openEditor()">Edit</a></div><div class="inspector-selection-field-options-label">{{optionsLabels}}</div><div class="inspector-selection-field-options-defaultValue"><label>Default Value</label><select class="rx-input" data-attribute="{{defaultValuePath}}" ng-disabled="options.attrs.input.disabled"><option value="{{option.value}}" ng-repeat="option in selectionOptions" ng-selected="option.value == defaultValue">{{option.content}}</option></select></div>'),a.put("scripts/components/designer/inspector/editors/selection-field/selection-field-editor.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Add/Remove Selection Options</h4></div><form name="SelectionFieldEditorForm" novalidate><div class="modal-body rx-selection-field-editor"><div class="rx-record-grid-column-editor-wrapper"><div layout="row" layout-align="space-between center" class="rx-selection-field-editor-data-header"><a class="d-icon-left-plus_circle" ng-click="addSelectionField()">Add Option</a><div class="expand-collapse-buttons"><button class="d-button d-button_secondary d-button_small" ng-click="expandAll()">Expand All</button> <button class="d-button d-button_secondary d-button_small" ng-click="collapseAll()">Collapse All</button></div></div><div class="selection-fields"><div class="selection-field-container" ng-repeat="selectionField in selectionFields.value"><div class="button-open-selection-field" ng-click="selectionField.isCollapsed = !selectionField.isCollapsed"><div class="left-header-block" title="{{selectionField.displayValue}}">{{selectionField.displayValue}}</div><div class="right-header-block"><div ng-click="removeSelectionField($index)" class="remove-button"><div class="d-icon-left-cross header-icon"></div><div class="remove-button-text">Remove</div></div><div class="arrow-pointer header-icon" ng-class="{\'d-icon-right-angle_down\' : selectionField.isCollapsed , \'d-icon-right-angle_up\' : !selectionField.isCollapsed}"></div></div></div><div uib-collapse="selectionField.isCollapsed" class="d-collapse-panel collapse-content"><div class="rx-selection-field-editor-text-fields d-textfield_required d-textfield"><label class="d-textfield__item">Name</label><input name="{{\'displayValue\' + selectionField.inputName}}" type="text" class="rx-input" required maxlength="254" ng-model="selectionField.displayValue" ng-model-options="{updateOn: \'default blur\', debounce: {default: 500, blur: 0}}" ng-change="checkDisplayValueDuplicate()"><p class="d-error" ng-init="nameError = SelectionFieldEditorForm[\'displayValue\' + selectionField.inputName].$error"><span ng-if="nameError.duplicate">Duplicate Name</span> <span ng-if="nameError.required">Missing Name</span> &nbsp;</p></div><div class="rx-selection-field-editor-text-fields d-textfield_required d-textfield"><label class="d-textfield__item">Integer Value</label><input class="rx-input" name="{{\'integerValue\' + selectionField.inputName}}" type="number" required pattern="\\d+" min="0" max="2147483647" ng-model="selectionField.integerValue" ng-model-options="{updateOn: \'default blur\', debounce: {default: 500, blur: 0}}" ng-change="checkIntegerValueDuplicate()"><p class="d-error" ng-init="valError = SelectionFieldEditorForm[\'integerValue\' + selectionField.inputName].$error"><span ng-if="valError.duplicate && !valError.required && !valError.pattern && !valError.number">Duplicate Integer Value</span> <span ng-if="valError.required">Missing Integer Value</span> <span ng-if="valError.pattern || valError.max || valError.min || valError.number">Integer Value must be an integer number within the range of 0 to 2147483647</span> &nbsp;</p></div></div></div></div></div></div><div class="rx-selection-field-editor-action-buttons"><button type="submit" ng-disabled="SelectionFieldEditorForm.$invalid" class="d-button d-button_primary d-button_large" ng-click="ok()">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></form>'),
a.put("scripts/components/designer/inspector/editors/text-field/inspector-text.directive.html",'<label ng-class="options.attrs.label.class"><rx-tooltip tooltip="options.tooltip"></rx-tooltip>{{options.label}}:</label><input data-type="text" ng-model="value" class="text" data-attribute="{{path}}" ng-disabled="options.attrs.input.readonly">'),a.put("scripts/components/designer/inspector/editors/text-tooltip/inspector-text-tooltip.directive.html",'<span class="rx-inspector-text-tooltip d-button d-button_action-clear d-icon-left-info_circle is-checked" tooltip-popup-delay="{{::options.tooltipPopupDelay}}" tooltip-append-to-body="true" tooltip-placement="top" uib-tooltip-html="options.tooltip">{{::options.label}}</span>'),a.put("scripts/components/designer/inspector/editors/toggle-field/inspector-toggle-field.directive.html",'<label><rx-tooltip tooltip="options.tooltip"></rx-tooltip>{{::options.label}}:</label><div class="toggle"><input ng-model="data.value" ng-disabled="options.attrs.toggle.disabled" type="checkbox" data-attribute="{{::path}}"> <span><i></i></span></div>'),a.put("scripts/components/designer/inspector/editors/tooltip-field/inspector-tooltip-field.directive.html",'<div class="rx-inspector-tooltip-field" ng-switch="options.inputType"><label ng-class="options.attrs.label.class"><rx-tooltip tooltip="options.tooltip"></rx-tooltip>{{options.label}}:</label><input ng-switch-when="number" type="number" data-attribute="{{path}}" data-type="number" min="{{options.min}}" max="{{options.max}}" ng-model="value" ng-class="options.inputType" ng-disabled="options.attrs.input.disabled"> <input ng-switch-when="text" type="text" data-attribute="{{path}}" data-type="text" ng-model="value" ng-class="options.inputType" ng-disabled="options.attrs.input.disabled"></div>'),a.put("scripts/components/designer/inspector/editors/validation-issues/inspector-validation-issues.directive.html",'<div class="rx-inspector-validation-issues"><div class="rx-inspector-validation-issues__validation-issue" ng-repeat="issue in options.validationIssues"><span ng-class="issue.type" class="rx-inspector-validation-issues__validation-issue-message">{{issue.message}}</span> <a ng-show="issue.propertyName" ng-click="correctValidationIssue(issue)" class="rx-inspector-validation-issues__validation-issue-action">Correct this problem</a></div></div>'),a.put("scripts/components/designer/inspector/editors/wait-for-approval/inspector-wait-for-approval-field.directive.html",'<div class="rx-inspector-wait-for-approval-field"><div ng-show="!options.attrs.input.disabled" class="d-dropdown d-js-dropdown pull-right" data-model="modelMapping"><span class="d-dropdown__trigger d-button d-button_action d-icon-right-angle_down"><span class="d-icon-left-pencil" data-placeholder="Action">&nbsp;&nbsp;Action</span></span><div class="d-dropdown__menu"><ul class="d-dropdown__menu-options"><li class="d-dropdown__menu-options-item"><a ng-click="openDialog()" class="d-button d-button_action is-checked pull-right ng-binding" data-value="selectWFAD"><span class="d-icon-left-folder_open_o">&nbsp;&nbsp;Select</span></a></li><li class="d-dropdown__menu-options-item"><a ng-show="cell.attributes.rxData.inputMap[&quot;Approval Process Name&quot;]" ng-click="openWaitForApprovalEditor()" class="d-button d-button_action is-checked pull-right ng-binding" data-value="editWFAD"><span class="d-icon-left-pencil">&nbsp;&nbsp;Edit</span></a></li></ul></div></div></div>'),a.put("scripts/components/designer/inspector/editors/wait-for-approval/wait-for-approval-definition-dialog.html",'<div class="manage-wait-for-approval-definition-panel"><div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">×</button><h4 class="modal-title">{{title}} Wait for Approval Definition</h4></div><form ng-submit="submitForm()" novalidate name="waitForApprovalForm"><div class="modal-body"><div class="row"><div class="col-md-6"><div class="d-textfield d-textfield_large d-textfield_required"><label class="d-textfield__label"><span class="d-textfield__item">WFA Definition Name</span> <input class="d-textfield__input" ng-disabled="disableProcessName" type="text" placeholder="Enter Definition Name" name="wfaDefinitionName" ng-model="waitForApprovalDefinition.processName" required ng-maxlength="254"><p class="d-error d-error_pattern" ng-show="waitForApprovalDefinition.processName.$error.maxlength">Maximum of 254 characters</p></label></div></div><div class="col-md-6"><div class="d-textfield d-textfield_large d-textfield_required"><label class="d-textfield__label"><span class="d-textfield__item">Completion Criteria</span><select class="d-textfield__input" ng-model="waitForApprovalDefinition.multipleApprovers" required><option value="" ng-selected ng-disabled>Select Completion Criteria</option><option value="0">One Must Sign</option><option value="1">All Must Sign</option></select></label></div></div></div><div class="row"><div class="col-md-6"><div class="d-textfield d-textfield_large d-textfield_required"><label class="d-textfield__label"><span class="d-textfield__item">Record Definition</span> <input class="d-textfield__input" type="text" name="wfaDefinitionName" required ng-model="waitForApprovalDefinition.approvalForm" disabled="disabled"></label></div></div><div class="col-md-6"><div class="d-textfield d-textfield_large d-textfield_required"><label class="d-textfield__label"><span class="d-textfield__item">Select Approvers From</span><select class="d-textfield__input" ng-model="approverType" ng-change="updateAvailableApproverOption()" required><option value="0" ng-hide="isEdit && approverType ===\'2\'">Approval Roles</option><option value="1" ng-hide="isEdit && approverType ===\'2\'">Individual Approvers</option><option value="2" ng-hide="isEdit && approverType !==\'2\'">Field Identifying Approval</option></select></label></div></div></div><div class="row"><div class="col-md-6"><div class="d-textfield d-textfield_large"><label class="d-textfield__label"><span class="d-textfield__item">Require Justification on Rejection</span><select class="d-textfield__input" ng-model="waitForApprovalDefinition.justificationRequired" ng-change="checkJustification()"><option value="0">No</option><option value="1">Yes</option></select></label></div></div><div class="col-md-6"><div class="d-textfield d-textfield_large"><label class="d-textfield__label"><span class="d-textfield__item">Justification Field</span><select class="d-textfield__input" ng-model="waitForApprovalDefinition.justificationRequiredField" ng-disabled="justificationDisabled" ng-class="{\'grey-background\': justificationDisabled,\'error-not-selected\': justificationNotSelected}" ng-change="checkJustification()"><option value="" ng-selected ng-disabled>Select Field</option><option ng-repeat="field in availableFieldList | orderBy:field.label" value="{{\'$\' + field.label + \'$\'}}">{{field.label}}</option></select></label></div></div></div><div class="row"><div class="col-md-12"><div class="box-container large"><div class="box box-selected"><span class="d-textfield__item">Available Approvers</span><div class="content"><div class="fixed-search"><label class="d-textfield__label d-icon-left-search"><input class="d-textfield__input" type="search" ng-model="searchApprovers" placeholder="Search"></label></div><ul class="approval-list-container approval-list"><li ng-repeat="approver in availableOptionList | filter:{label:searchApprovers} |  orderBy: \'+approver.label\' track by $index" ng-click="setSelectedApprover(approver)" ng-class="{selected: approver.selected}">{{approver.label}}</li></ul></div><div class="actions"><ul><li><a ng-click="moveLeftToRight()" ng-disabled="currentSelectedApprovers.length === 0" class="d-button d-button_secondary leftRightButton"><span class="d-icon-angle_right"></span></a></li></ul></div></div><div class="box d-textfield_required"><span class="d-textfield__item">Selected Approvers</span><div class="content"><ul class="approval-list-container"><li ng-repeat="approver in finalApproversList track by $index" ng-class="{finalised: approver.selected}"><span class="text">{{approver.label}}</span> <span class="icon d-icon-cross_circle" ng-click="removeOption(approver);"></span></li></ul></div></div></div></div></div></div><div class="modal-footer"><div class="controls"><button class="d-button d-button_primary d-button_large" type="submit" ng-disabled="waitForApprovalForm.$invalid || finalApproversList.length ===0 || justificationNotSelected">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div></form></div>'),a.put("scripts/components/designer/inspector/editors/wait-for-approval/wait-for-approval-dialog.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Wait for Approval (WFA) Definitions</h4></div><div class="modal-body rx-timer-editor"><div class="row"><div class="d-button d-button_large d-button_action-clear"><a class="d-icon-left-plus_circle" type="button" ng-click="createWaitForApprovalDefinition()">New</a></div><rx-record-grid rx-configuration="recordGridConfiguration"></rx-record-grid></div><div class="rx-wait-for-approval-dialog-action-buttons"><button type="button" type="button" class="d-button d-button_primary d-button_large" ng-disabled="!isRowSelected" ng-click="ok()">Use Selected Definition</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),a.put("scripts/components/designer/stencil/designer-stencil-settings.directive.html",'<h3 class="group-label">Manage Palette<!--a class="__icon-right-info_circle" popover-placement="bottom" popover-title="About Pallette Management"\n       popover="Select a process element checkbox to make the process element visible on the primary palette. Select the star to add it to your favorites">&nbsp;</a--></h3><div class="show-all"><rx-multi-checkbox model="checkboxes" watch-prop="default" callback="changeGroupState" custom-view="defaultCustomView"></rx-multi-checkbox><rx-multi-checkbox model="favorites" watch-prop="favorite" callback="changeGroupState" custom-view="favoriteCustomView"></rx-multi-checkbox><span>Show all</span></div><treecontrol class="tree-classic" tree-model="stencilConfiguration" expanded-nodes="expandedNodes" options="treeOptions"><div class="rx-crop-text" title="{{node.label}}" ng-class="{ \'rx-tree-node-parent\': !node.children, \'rx-tree-node-leaf\': node.children }"><div ng-if="node.children" class="icon rx-tree-node-collapsed d-icon-triangle_right"></div><div ng-if="node.children" class="icon rx-tree-node-expanded d-icon-triangle_down"></div><rx-multi-checkbox ng-if="node.children" model="checkboxes[node.label]" children="node.children" watch-prop="default" callback="changeGroupState" class="default-checkbox" custom-view="defaultCustomView"></rx-multi-checkbox><rx-multi-checkbox ng-if="node.children" model="favorites[node.label]" children="node.children" watch-prop="favorite" callback="changeGroupState" custom-view="favoriteCustomView"></rx-multi-checkbox><input type="checkbox" id="{{node.$$hashKey}}-default" ng-if="!node.children" ng-model="node.default" ng-change="changeState(node, \'default\')" rx-no-dirty-check class="custom-checkbox"><label for="{{node.$$hashKey}}-default" ng-if="!node.children" class="icon" ng-class="{\'d-icon-check_square_o\': node.default, \'d-icon-square_o\': !node.default}"></label><input type="checkbox" id="{{node.$$hashKey}}-favorite" ng-if="!node.children" ng-model="node.favorite" ng-change="changeState(node, \'favorite\')" rx-no-dirty-check class="custom-checkbox"><label for="{{node.$$hashKey}}-favorite" ng-if="!node.children" class="icon" ng-class="{\'d-icon-star\': node.favorite, \'d-icon-star_o\': !node.favorite}"></label><span>{{node.label}}</span></div></treecontrol>'),a.put("scripts/components/designer/stencil/designer-stencil.directive.html",'<div ng-if="stencilPlaceholder.emptyText" class="stencil-placeholder"><h3>{{stencilPlaceholder.title}}</h3><div>{{stencilPlaceholder.emptyText}}</div><div></div></div>'),a.put("scripts/components/designer/validation-issues/designer-validation-issues.directive.html",'<div class="rx-validation-issues-empty-text" ng-if="!validationIssues.length">{{rxConfiguration.emptyText}}</div><div class="rx-validation-issues" ng-if="validationIssues.length"><div class="rx-validation-issues-group" data-name="validationIssue" ng-repeat="group in groups | orderBy:\'groupName\'" ng-class="{\'closed\': group.closed}"><h3 class="group-label" ng-click="toggleGroup(group)">{{group.groupName}}</h3><div class="rx-validation-issue" ng-dblclick="correctValidationIssue(validationIssue)" ng-repeat="validationIssue in group.groupIssues"><div class="icon d-icon-exclamation_triangle rx-validation-issue-icon" ng-class="validationIssue.type"></div><div class="rx-validation-issue-info"><p class="rx-validation-issue-type">{{validationIssue.type}}</p><p class="rx-validation-issue-message">{{validationIssue.message}}</p><div ng-if="validationIssue.propertyName"><a class="rx-validation-issue-correct" ng-click="correctValidationIssue(validationIssue)">Correct</a></div></div></div></div></div>'),a.put("scripts/components/expression-editor/data-dictionary.directive.html",'<div class="d-textfield d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-search"><input ng-model="valueFilter" type="search" placeholder="Search" class="d-textfield__input ng-pristine ng-valid ng-touched"></label></div><treecontrol class="tree-classic" tree-model="tree" filter-expression="searchMatches" expanded-nodes="expandedNodes" filter-comparator="false" options="treeOptions"><rx-tree-node-renderer data="node" data-drag-value="{{::getDragValue(node.value)}}"></rx-tree-node-renderer></treecontrol>'),a.put("scripts/components/expression-editor/expression-editor.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Edit Expression for {{label}}</h4></div><div class="modal-body rx-expression-editor" cg-busy="rxBusyIndicator"><form><div class="row rx-expression-editor-wrapper"><div class="col-sm-6"><h5>Expression</h5><div class="rx-expression-editor-data rx-expression-editor-panel" layout="column"><rx-rich-expression-editor ng-if="dataDictionaryList" ng-model="expression.value" dictionary-list="dataDictionaryList" flex ng-class="{\'rx-error-expression\' : hasError}" rx-configuration="richExpressionEditorConfiguration"></rx-rich-expression-editor><div class="error-container"><span class="d-error d-error_pattern" ng-show="hasError">Invalid Value</span></div><div class="control-panel"><div class="dynamic-qualification" ng-show="useDynamicQualification"><div class="d-checkbox d-checkbox_default"><label><input class="d-checkbox__input" type="checkbox" ng-model="isDynamicQualification" ng-change="clearValidationError()"> <span class="d-checkbox__label d-checkbox__item">Use Dynamic Expression</span></label></div></div><div class="rx-expression-editor-button-list"><div class="operator-list-row" ng-repeat="operatorRow in operators"><div ng-repeat="operator in operatorRow" class="rx-expression-editor-button-{{operator.displayValue | lowercase}}"><button type="button" ng-click="operatorHandler(operator.contentValue, $event)" class="d-button d-button_secondary {{operator.buttonStyle}}-operator" ng-disabled="isDynamicQualification" tooltip-placement="top" uib-tooltip-template="operatorPopoverTemplate" tooltip-enable="{{operator.showTooltip}}">{{operator.displayValue}}</button></div></div></div></div></div></div><div class="col-sm-6 rx-expression-editor-dictionary rx-expression-editor-panel"><h5>Available Values <a tooltip-placement="bottom" uib-tooltip-template="popoverTemplate" class="rx-highlight-on-hover d-icon-right-info_circle">&nbsp;</a></h5><rx-data-dictionary tree="dataDictionaryTree" node-selected="onNodeSelected" expanded-nodes="expandedNodes"></rx-data-dictionary></div></div><div class="rx-expression-editor-action-buttons"><div class="rx-expression-editor-navigation-buttons" ng-show="previousExpressionFieldExists || nextExpressionFieldExists"><button type="button" class="d-button d-button_secondary d-button_large d-icon-left-angle_left" ng-disabled="!previousExpressionFieldExists" ng-click="prev()">Prev</button> <button type="button" class="d-button d-button_secondary d-button_large d-icon-right-angle_right" ng-disabled="!nextExpressionFieldExists" ng-click="next()">Next</button></div><button type="button" class="d-button d-button_primary d-button_large" ng-disabled="hasError" ng-click="ok()">OK</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></form></div>'),a.put("scripts/components/expression-editor/fields/expression-field.directive.html",'<div class="rx-expression-field d-textfield" ng-class="{\'d-textfield_required\': options.isRequired}"><label class="d-textfield__item">{{label}}:</label><rx-expression-node-renderer cell="cell" path="path" value="value" label="label"></rx-expression-node-renderer></div>'),a.put("scripts/components/expression-editor/legend-popover-template.html",'<div class="rx-tooltip-legend-container"><div ng-repeat="item in legend | orderBy : \'label\'" class="legend-type"><span class="legend-icon {{item.icon}}"></span> <span>{{item.label}}</span></div></div>'),a.put("scripts/components/expression-editor/operator-popover-template.html",'<div class="rx-operator-tooltip-container"><div class="rx-tooltip-title">{{operator.tooltipTitle}}</div><div class="rx-tooltip-content">{{operator.tooltipContent}}</div></div>'),a.put("scripts/components/expression-editor/rich-expression-editor.directive.html",'<div contenteditable="true"></div>'),a.put("scripts/components/expression-editor/tree-node-renderer.directive.html",'<div class="rx-tree-node-label" ng-class="{ \'rx-tree-node-parent\': !node.value, \'rx-tree-node-leaf\': node.value }"><div ng-if="node.children.length" class="icon rx-tree-node-collapsed d-icon-triangle_right"></div><div ng-if="node.children.length" class="icon rx-tree-node-expanded d-icon-triangle_down"></div><div ng-if="node.value" ng-click="addValueToExpression(node, $event)" class="icon d-icon-plus_circle"></div><div ng-if="node.value && !node.children" class="rx-data-dictionary-item" ng-dblclick="addValueToExpression(node, $event)"><div ng-if="node.value" class="rx-data-dictionary-item-icon"><i class="icon" ng-class="node.icon || \'d-icon-angle_left\'"></i></div><div ng-class="{\'rx-data-dictionary-item-value\': node.value}">{{node.label}}</div></div><div ng-if="node.value && node.children" class="rx-data-dictionary-item"><div ng-if="node.value" class="rx-data-dictionary-item-icon"><i class="icon" ng-class="node.icon || \'d-icon-angle_left\'"></i></div><div ng-class="{\'rx-data-dictionary-item-value\': node.value}">{{node.label}}</div></div><div ng-if="!node.value" class="rx-data-dictionary-item" ng-dblclick="addValueToExpression(node)"><div ng-if="node.value" class="rx-data-dictionary-item-icon"><i class="icon" ng-class="node.icon || \'d-icon-angle_left\'"></i></div><div ng-class="{\'rx-data-dictionary-item-value\': node.value}">{{node.label}}</div></div></div>'),a.put("scripts/components/multi-checkbox/multi-checkbox.directive.html",'<div class="multi-checkbox"><input type="checkbox" id="rxMultiCheckbox-{{$id}}" ng-model="isSelected" ng-change="onClick()" class="{{customView ? customView.default : \'\'}}"><label for="rxMultiCheckbox-{{$id}}" ng-if="customView" ng-click="onLabelClick($event)" class="icon" ng-class="customStates"></label></div>'),a.put("scripts/components/navigation-bar/navigation-bar.directive.html",'<li ng-repeat="item in items" class="d-n-menu__item"><a class="d-n-menu__link" ng-class="{\'is-active\': item.selected}" ui-sref="{{item.state.name || item.state}}({{item.state.params}})" ng-hide="item.hidden"><span>{{item.label}}</span></a></li>'),a.put("scripts/components/property-panel/editors/boolean-field-editor.directive.html",'<select ng-if="options" class="rx-input" ng-required="rxConfiguration.required" ng-disabled="rxConfiguration.disabled" ng-model="data.value" name="{{rxConfiguration.name}}" ng-options="option.value as option.content for option in options"></select><rx-boolean ng-if="!options" ng-model="data.value" rx-boolean-true="\'1\'" rx-boolean-false="\'0\'" ng-required="rxConfiguration.required"></rx-boolean>'),a.put("scripts/components/property-panel/editors/date-field-editor.directive.html",'<div class="input-group"><input type="text" uib-datepicker-popup="yyyy-MM-dd" ng-model="date" is-open="opened" show-button-bar="false" datepicker-options="datepickerOptions" ng-required="rxConfiguration.required" ng-disabled="rxConfiguration.disabled"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-disabled="rxConfiguration.disabled" ng-click="open($event)"><i class="d-icon-calendar"></i></button></span></div>'),a.put("scripts/components/property-panel/editors/date-time-field-editor.directive.html",'<div class="row"><div class="col-sm-6"><div class="input-group"><input type="text" class="rx-input" uib-datepicker-popup="yyyy-MM-dd" datepicker-options="datepickerOptions" show-button-bar="false" ng-model="datetime" is-open="opened" ng-required="rxConfiguration.required"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="open($event)"><i class="d-icon-calendar"></i></button></span></div></div><div class="col-sm-6"><uib-timepicker ng-model="datetime" class="d-timepicker d-timepicker__no-label"></uib-timepicker></div></div>'),a.put("scripts/components/property-panel/editors/number-field-editor.directive.html",'<input type="number" class="rx-input" ng-required="rxConfiguration.required" ng-disabled="rxConfiguration.disabled" ng-model="numberValue" step="any" min="{{rxConfiguration.min}}" max="{{rxConfiguration.max}}" name="{{rxConfiguration.name}}">'),a.put("scripts/components/property-panel/editors/selection-field-editor.directive.html",'<select class="rx-input" ng-required="rxConfiguration.required" ng-disabled="rxConfiguration.disabled" ng-model="ngModel" name="{{rxConfiguration.name}}" ng-options="option.value as option.content for option in options"></select>'),a.put("scripts/components/property-panel/editors/time-field-editor.directive.html",'<uib-timepicker ng-model="date" class="d-timepicker d-timepicker__no-label"></uib-timepicker>'),a.put("scripts/components/property-panel/property-panel.directive.html",'<form novalidate class="rx-content"><div ng-repeat="propertyDefinition in propertyDefinitions" class="d-textfield rx-property-{{propertyDefinition.id}}" ng-class="{\'d-textfield_required\': propertyDefinition.required}"><div class="rx-property-title" ng-if="propertyDefinition.propertyPanelConfiguration">{{propertyDefinition.name | idToName}}</div><span ng-if="!propertyDefinition.propertyPanelConfiguration" ng-class="{required: propertyDefinition.required}" class="d-textfield__item d-textfield__item_label">{{propertyDefinition.name | idToName}}</span><div ng-include="getPropertyEditorTemplateUrl(propertyDefinition)" class="rx-property-editor"></div></div><span class="d-textfield__item d-textfield__item_label" ng-if="showEmptyText()">{{rxConfiguration.emptyText}}</span></form>'),a.put("scripts/components/property-view-panel/property-view-panel.directive.html",'<div class="rx-property-view-panel-section" ng-if="fields.length"><div ng-repeat="field in fields" class="rx-property-view-panel-field"><p class="rx-property-label">{{field.label}}</p><p class="rx-property-value">{{field.value === null ? \'-\' : field.value}}</p></div></div><div class="rx-property-view-panel-groups" ng-if="groups.length"><div class="rx-property-view-panel-group" ng-repeat="group in groups" ng-class="{\'closed\': group.closed}"><h3 class="group-label" ng-click="toggleGroup(group)">{{group.label}}</h3><div class="rx-property-view-panel-section"><div ng-repeat="field in group.fields" class="rx-property-view-panel-field"><p class="rx-property-label">{{field.label}}</p><p class="rx-property-value">{{field.value === null ? \'-\' : field.value}}</p></div></div></div></div><div class="rx-empty-text" ng-if="!fields.length && !groups.length">{{rxConfiguration.emptyText}}</div>'),a.put("scripts/components/search-field/search-field.directive.html",'<a class="d-navigation__icon-search d-icon-left-search" ng-click="search = !search"></a><form class="d-n-search" ng-class="{\'is-active\': search}"><label for="search" class="sr-only">Search</label><input type="search" id="search" class="d-n-search__item" placeholder="{{\'com.bmc.arsys.rx.standardlib.components.search-field.searchbox.placeholder\' | translate}}"><div class="d-n-search__close d-icon-left-cross" ng-click="search = !search"><span class="d-navigation__search-line"></span></div></form>'),a.put("scripts/components/search-filter/search-filter.directive.html",'<div class="rx-search-filter" uib-dropdown auto-close="outsideClick" is-open="status.isopen" tabindex="0"><button class="d-button d-button_action d-button_large d-icon-left-filter d-icon-right-angle_down rx-search-filter__trigger" ng-class="{\'is-checked\': status.isopen}" type="button" uib-dropdown-toggle>{{rxFilterConfiguration.label}}</button><div class="search-filter-dropdown" uib-dropdown-menu><div class="rx-search-filter-heading"><span class="rx-search-filter-heading__text">{{\'com.bmc.arsys.rx.standardlib.components.search-filter.dropDown.header.label\' | translate}}</span> <button class="d-button d-button_primary d-button_small rx-search-filter-heading__apply" ng-if="pendingFilterChanges" ng-click="applySelectedFilters()" ng-enter="applySelectedFilters()" tabindex="0">{{\'com.bmc.arsys.rx.standardlib.components.search-filter.button.apply.label\' | translate}}</button></div><uib-accordion class="rx-search-filter-accordion" close-others="true"><ul class="d-accordion d-accordion_outer d-accordion_filter"><uib-accordion-group heading="{{filter.label}}" ng-repeat="filter in filterModel.filters" template-url="template/accordion.html"><div class="search-filter-section" ng-repeat="option in filter.options | orderBy: [\'type\',\'order\',\'name\']"><div class="rx-search-filter-option" ng-class="{\n                                \'rx-search-filter-option_checked d-icon-left-check_square_o\': option.active,\n                                \'d-icon-left-square_o\': !option.active\n                             }" ng-if="option.type != \'search\' && option.type != \'number\' && option.type != \'timeStampRange\'" ng-click="addFilter($event, option)" ng-keydown="handleKeydown($event, option)" role="menuitemcheckbox" aria-checked="{{option.active}}" title="{{option.label ? option.label : option.name}}" tabindex="0">{{option.label ? option.label : option.name}}</div><div ng-if="option.type == \'timeStampRange\'" class="dropdown-item_date-ranges clearfix" ng-click="closeDatePickers(option)" ng-enter="closeDatePickers(option)"><span>{{\'com.bmc.arsys.rx.standardlib.components.search-filter.datepicker.fromDate.label\' | translate}}</span><div class="dropdown-item_date-range"><input type="text" uib-datepicker-popup="{{option.format}}" is-open="option.startDatePicker.isOpen" class="text-input full-width" ng-model="option.startDatePicker.date" ng-click="openDatePicker($event, option.startDatePicker)" ng-enter="openDatePicker($event, option.startDatePicker)" max-date="option.endDatePicker.date" datepicker-options="datePickerOptions" show-button-bar="false"><uib-timepicker ng-model="option.startDatePicker.date" class="ui-bootstrap__timepicker" show-meridian="showMeridian"></uib-timepicker></div><span>{{\'com.bmc.arsys.rx.standardlib.components.search-filter.datepicker.toDate.label\' | translate}}</span><div class="dropdown-item_date-range"><input type="text" uib-datepicker-popup="{{option.format}}" is-open="option.endDatePicker.isOpen" class="text-input full-width" ng-model="option.endDatePicker.date" ng-click="openDatePicker($event, option.endDatePicker)" ng-enter="openDatePicker($event, option.endDatePicker)" min-date="option.startDatePicker.date" datepicker-options="datePickerOptions" show-button-bar="false"><uib-timepicker ng-model="option.endDatePicker.date" class="ui-bootstrap__timepicker" show-meridian="showMeridian"></uib-timepicker></div><span class="d-button d-button_primary" ng-click="onDateRangeSubmit(filter, option)" ng-enter="onDateRangeSubmit(filter, option)" tabindex="0">{{\'com.bmc.arsys.rx.standardlib.components.search-filter.button.apply.label\' | translate}}</span></div><div ng-if="option.type == \'search\'"><div class="d-textfield d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-search"><span class="d-textfield__item">{{option.label}}</span> <input ng-if="!option.subtype" class="search-filter__option-item_search d-textfield__input" title="{{option.label}}" type="text" ng-if="option.type == \'search\'" ng-model="option.searchText" role="combobox" uib-typeahead="option.key for option in searchFilterOption(option, $viewValue)" uib-typeahead-min-length="3" uib-typeahead-on-select="onFilterOptionSelect(filter, option, $item)" uib-typeahead-wait-ms="500"> <input ng-if="option.subtype == \'keyword\'" class="search-filter__option-item_search d-textfield__input" title="{{option.label}}" type="text" placeholder="{{option.label}}" ng-model="option.searchText" ng-keydown="applyKeywordFilter($event, filter, option)"></label></div></div><div ng-if="option.type == \'number\'" class="dropdown-item_range"><div><span>{{\'com.bmc.arsys.rx.standardlib.components.search-filter.range.from.label\' | translate}}</span> <input type="number" data-type="number" ng-model="option.from" ng-change="onRangeChange(option, \'from\')"> <span>{{\'com.bmc.arsys.rx.standardlib.components.search-filter.range.to.label\' | translate}}</span> <input type="number" data-type="number" ng-model="option.to" ng-change="onRangeChange(option, \'to\')"></div><span class="d-button d-button_primary" ng-click="onRangeSubmit(filter, option)" ng-enter="onRangeSubmit(filter, option)" tabindex="0">{{\'com.bmc.arsys.rx.standardlib.components.search-filter.button.apply.label\' | translate}}</span></div></div></uib-accordion-group></ul></uib-accordion></div></div><div class="clearfix" ng-show="rxFilterConfiguration.showPills"><rx-tag-pills tags="filterModel.selectedFilters" allow-remove="true" display-limit="rxFilterConfiguration.tagsLimit"></rx-tag-pills></div>'),a.put("scripts/components/simple-json-editor/simple-json-editor.directive.html",'<textarea ng-model="json"></textarea>'),a.put("scripts/components/tag-pills/tag-pills.directive.html",'<div class="tag-pill-item" ng-repeat="tag in groupedTags | limitTo: displayLimit" tabindex="0"><span class="d-tag" tabindex="0"><span class="d-tag-label"><strong ng-if="tag.criteria.name">{{tag.criteria.name}}:</strong> <span>{{tag.label || tag.name}}</span></span> <span class="d-tag-remove-button" data-role="remove" ng-if="allowRemove" ng-click="removeTag(tag)" ng-enter="removeTag(tag)" tabindex="0"></span></span></div><div class="d-dropdown d-js-dropdown show__more-tags" ng-if="groupedTags.length > displayLimit"><a class="d-dropdown__trigger show__more-toggle">+ {{groupedTags.length - displayLimit + \' \' + (\'com.bmc.arsys.rx.standardlib.components.tag-pills.button.showMore.label\' | translate)}}</a><ul class="d-dropdown__menu"><li class="d-dropdown__menu-options-item" ng-repeat="tag in groupedTags | limitTo : -(groupedTags.length - displayLimit)"><span class="d-tag" tabindex="0"><span class="d-tag-label"><strong ng-if="tag.criteria.name">{{tag.criteria.name}}:</strong> <span>{{tag.label || tag.name}}</span></span> <span class="d-tag-remove-button" data-role="remove" ng-if="allowRemove" ng-click="removeTag(tag)" ng-enter="removeTag(tag)" tabindex="0"></span></span></li></ul></div>'),
a.put("scripts/components/tooltip/tooltip.directive.html",'<span class="d-icon-right-question_circle_o tooltip-icon" ng-if="params" tooltip-append-to-body="{{::params.appendToBody}}" tooltip-placement="{{::params.placement}}" uib-tooltip-html="params.text"></span>'),a.put("scripts/components/ui-grid/header-cell-with-tooltip-template.html",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}<rx-tooltip tooltip="col.colDef.tooltip"></rx-tooltip></span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),a.put("scripts/dpl/checkbox/checkbox.directive.html",'<div class="d-checkbox d-checkbox_default"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox"> <span class="d-checkbox__item" ng-transclude></span></label></div>'),a.put("scripts/growl/growl.directive.html",'<div class="rx-growl"><div class="rx-growl-item" ng-repeat="message in messages" ng-mouseenter="onMouseEnterHandler(message)" ng-mouseleave="onMouseLeaveHandler(message)" ng-class="computeClasses(message)"><button type="button" class="close rx-growl-close" ng-click="deleteMessage(message)">&times;</button><div ng-switch="message.enableHtml"><div ng-switch-when="true" ng-bind-html="message.text"></div><div ng-switch-default ng-bind="message.text"></div></div></div></div>'),a.put("scripts/login/login.view.html",'<div class="decorator decorator_login"><div id="bg-image" class="{{image}}"><article class="page page_login"><div class="block"><div class="logo"><a class="logo__wrapper"><div class="d-login-form__logo-bmc rx-theme-small-logo-light" title="BMC" alt="BMC"></div><span class="logo__product">{{applicationDescriptor.friendlyName}}</span> <span class="logo__version">version: {{applicationDescriptor.version}}</span></a></div></div><div class="block block_form"><div class="login"><form name="loginForm" ng-submit="login(credentials)" novalidate><div class="d-textfield d-textfield_large d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-user"><span class="d-textfield__item">{{\'login.username\' | translate}}</span> <input class="d-textfield__input" type="search" placeholder="{{\'login.username\' | translate}}" ng-model="credentials.username" required autofocus></label></div><div class="d-textfield d-textfield_large d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-lock"><span class="d-textfield__item">{{\'login.password\' | translate}}</span> <input class="d-textfield__input" type="password" name="password" placeholder="{{\'login.password\' | translate}}" ng-model="credentials.password"></label></div><button class="login__submit d-button d-button_service d-button_large __focus" type="submit" ng-disabled="loginForm.$invalid">{{\'login.login\' | translate}}</button></form></div></div><div class="block"><div class="footer"><a href="http://www.bmc.com" target="_blank" class="footer__powered" title="{{\'login.poweredByBMC\' | translate}}"><span class="footer__powered-title">{{\'login.poweredBy\' | translate}}</span><div class="d-login-form__logo-bmc" title="BMC" alt="BMC"></div></a><p class="footer__copy"><span class="footer__copy-line">Copyright 1997 - 2016 BMC Software, Inc.</span> <span class="footer__copy-line">{{\'login.trademark\' | translate}}</span></p></div></div></article></div></div>'),a.put("scripts/named-list/designer/named-list-designer.directive.html",'<form name="rxNamedListDesignerForm" novalidate><div class="rx-editor-header"><div class="rx-editor-header__column rx-editor-header__column_left"><a class="rx-editor-header__back d-icon-arrow_left" ng-click="closeDesigner()"></a> <span class="rx-editor-header__app-name">{{bundleFriendlyName}}</span></div><div class="rx-editor-header__column rx-editor-header__column_right"><div class="rx-editor-header__title"><rx-designer-breadcrumb-bar definition-name="(plainNamedListDefinition.name | definitionName) || \'&lt;New Named List&gt;\'" definition-icon="layout"></rx-designer-breadcrumb-bar></div><div class="rx-editor-header__buttons"><button type="button" class="rx-editor-header__button rx-editor-header__button_toggle-view d-button d-button_secondary d-button_small" ng-class="isDesignMode ? \'d-icon-left-brackets_curly\' : \'d-icon-left-app_eye\'" ng-click="toggleDesignMode()">{{isDesignMode ? "JSON" : "UI Design"}}</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_save rx-editor-header__button_divider-before d-button d-button_primary d-button_small" ng-click="saveNamedListDefinition()" ng-disabled="!canSave()">Save</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_close d-button d-button_secondary d-button_small" ng-click="closeDesigner()">Close</button></div></div></div><div class="rx-editor-content"><div class="rx-simple-json-editor-container control-group" ng-if="!isDesignMode" flex layout="column"><rx-simple-json-editor flex name="json" rx-object="plainNamedListDefinition" ng-readonly="true"></rx-simple-json-editor></div><div class="rx-named-list-designer" ng-show="isDesignMode"><h1>{{plainNamedListDefinition.lastUpdateTime ? \'Edit Named List\' : \'Create Named List\'}}</h1><rx-designer-inspector target="selected.namedListDefinitionModel" class="rx-named-list-inspector" rx-configuration="{}"></rx-designer-inspector><rx-blade rx-configuration="rightBladeConfiguration"><rx-blade-tab icon-class="rightBladeConfiguration.tabs.validationIssues.iconClass + (selected.validationIssues.length ? \' error\' : \'\')" tab-name="rightBladeConfiguration.tabs.validationIssues.name" active="rightBladeConfiguration.tabs.validationIssues.active"><span class="title">Validation Issues</span><rx-designer-validation-issues validation-issues="selected.validationIssues" rx-configuration="validationIssuesConfiguration"></rx-designer-validation-issues></rx-blade-tab></rx-blade></div></div></form>'),a.put("scripts/process/designer/inspector-editors/customization-options/process-customization-options-editor.html",'<div class="d-modal__header dialog-header-confirm"><h4 class="d-modal__title">Customization Options <button type="button" class="close" ng-click="cancel()">&times;</button></h4></div><div class="d-modal__content"><div class="rx-blocker" ng-if="isEditDisabled"></div><form name="customizationOptionsFrom"><div class="d-modal__content-item"><rx-dpl-checkbox ng-model="customizationOptions.allowOverlay">Allow future customization to this Process Definition, <strong>{{processDefinition.name}}</strong></rx-dpl-checkbox><div class="rx-customization-option-hint">If this option is unselected, others will not be allowed to customize this definition.<br>If you are unsafe about what this option does, leave it selected.</div></div></form></div><div class="d-modal__footer"><button type="button" class="d-button d-button_primary d-button_large" ng-click="ok()" ng-disabled="!customizationOptionsFrom.$dirty">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div>'),a.put("scripts/process/designer/process-designer.directive.html",'<form name="rxProcessDesignerForm" novalidate cg-busy="rxBusyIndicator" class="rx-busy-indicator" ng-class="{\'rx-no-header\': rxConfiguration.noHeader}"><div class="rx-editor-header" ng-if="!rxConfiguration.noHeader"><div class="rx-editor-header__column rx-editor-header__column_left"><a class="rx-editor-header__back d-icon-arrow_left" ng-click="closeDesigner()"></a> <span class="rx-editor-header__app-name">{{bundleFriendlyName}}</span></div><div class="rx-editor-header__column rx-editor-header__column_right"><div class="rx-editor-header__title"><rx-designer-breadcrumb-bar definition-name="(plainProcessDefinition.name | definitionName) || (rxConfiguration.sourceProcessDefinitionName && \'&lt;Copy of \' + (rxConfiguration.sourceProcessDefinitionName | definitionName) + \'&gt;\') || \'&lt;New Process&gt;\'" definition-icon="app_connection" items="breadcrumbs" on-click="handleBreadcrumbBarClick(itemId)"></rx-designer-breadcrumb-bar></div><div class="rx-editor-header__buttons"><button type="button" class="rx-editor-header__button rx-editor-header__button_toggle-view d-button d-button_secondary d-button_small" ng-class="isDesignMode ? \'d-icon-left-brackets_curly\' : \'d-icon-left-app_connection\'" ng-click="toggleDesignMode()" ng-show="isDesignModeAvailable()">{{isDesignMode ? "JSON" : "UI Design"}}</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_save rx-editor-header__button_divider-before d-button d-button_primary d-button_small" ng-click="saveChanges()" ng-disabled="!canSave()">Save</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_close d-button d-button_secondary d-button_small" ng-click="closeDesigner()">Close</button></div></div></div><div class="rx-editor-content"><div class="rx-simple-json-editor-container control-group" ng-class="{\'has-error\': rxProcessDesignerForm.json.$invalid}" ng-show="isDesignMode === false"><rx-simple-json-editor name="json" rx-object="plainProcessDefinition" ng-readonly="!!plainProcessDefinition.layout"></rx-simple-json-editor></div><div class="rx-joint-process-designer" ng-show="isDesignMode === true"><rx-blade rx-configuration="leftBladeConfiguration" ng-class="{\'rx-process-designer-transitions-disabled\': transitionsDisabled}" ng-if="stencilConfiguration"><rx-blade-tab icon-class="leftBladeConfiguration.tabs.stencilTabDefault.iconClass" tab-name="leftBladeConfiguration.tabs.stencilTabDefault.name" active="leftBladeConfiguration.tabs.stencilTabDefault.active" on-activate="leftBladeConfiguration.tabs.stencilTabDefault.onActivate"><rx-designer-stencil paper="paper" stencil-configuration="stencilConfiguration.default" ng-if="!isOverlayDisabled" ng-class="{refreshing: leftBladeConfiguration.tabs.stencilTabDefault.refreshNeeded}"></rx-designer-stencil><p ng-if="isOverlayDisabled" class="rx-process-designer-palette-readonly-text">This Process is in read-only mode and components cannot be added to the canvas</p></rx-blade-tab><rx-blade-tab icon-class="leftBladeConfiguration.tabs.stencilTabFavorite.iconClass" tab-name="leftBladeConfiguration.tabs.stencilTabFavorite.name" active="leftBladeConfiguration.tabs.stencilTabFavorite.active" on-activate="leftBladeConfiguration.tabs.stencilTabFavorite.onActivate" ng-if="!isOverlayDisabled"><rx-designer-stencil paper="paper" stencil-configuration="stencilConfiguration.favorite" stencil-placeholder="stencilPlaceholder" ng-class="{refreshing: leftBladeConfiguration.tabs.stencilTabFavorite.refreshNeeded}"></rx-designer-stencil></rx-blade-tab><rx-blade-tab icon-class="leftBladeConfiguration.tabs.stencilTabRecent.iconClass" tab-name="leftBladeConfiguration.tabs.stencilTabRecent.name" active="leftBladeConfiguration.tabs.stencilTabRecent.active" on-activate="leftBladeConfiguration.tabs.stencilTabRecent.onActivate" ng-if="!isOverlayDisabled"><rx-designer-stencil class="recentStencil" paper="paper" stencil-configuration="stencilConfiguration.recent"></rx-designer-stencil><button type="button" class="rx-clear-recent-stencil d-icon-left-cross_circle" ng-disabled="isRecentsEmpty()" ng-click="clearRecents()">Clear Recents</button></rx-blade-tab><rx-blade-tab icon-class="leftBladeConfiguration.tabs.stencilTabSettings.iconClass" tab-name="leftBladeConfiguration.tabs.stencilTabSettings.name" active="leftBladeConfiguration.tabs.stencilTabSettings.active" ng-if="!isOverlayDisabled"><rx-designer-stencil-settings paper="paper" stencil-configuration-service="stencilConfiguration.configurationService"></rx-designer-stencil-settings></rx-blade-tab></rx-blade><rx-blade rx-configuration="rightBladeConfiguration" ng-class="{\'rx-process-designer-transitions-disabled\': transitionsDisabled}"><rx-blade-tab icon-class="rightBladeConfiguration.tabs.processProperties.iconClass" tab-name="rightBladeConfiguration.tabs.processProperties.name" active="rightBladeConfiguration.tabs.processProperties.active"><rx-designer-inspector target="selected.process" class="rx-process-inspector" rx-configuration="{}"></rx-designer-inspector></rx-blade-tab><rx-blade-tab icon-class="rightBladeConfiguration.tabs.elementProperties.iconClass" tab-name="rightBladeConfiguration.tabs.elementProperties.name" active="rightBladeConfiguration.tabs.elementProperties.active"><rx-designer-inspector target="selected.cellModel" class="rx-element-inspector" rx-configuration="inspectorConfiguration"></rx-designer-inspector></rx-blade-tab><rx-blade-tab icon-class="rightBladeConfiguration.tabs.validationIssues.iconClass + \' \' + validationIssueLevel" tab-name="rightBladeConfiguration.tabs.validationIssues.name" active="rightBladeConfiguration.tabs.validationIssues.active"><span class="title">Validation Issues</span><div class="rx-refresh-validation-issues" ng-click="validateProcess()"><div class="icon icon-refresh"></div><span>Refresh</span></div><rx-designer-validation-issues validation-issues="selected.validationIssues" rx-configuration="validationIssuesConfiguration"></rx-designer-validation-issues></rx-blade-tab></rx-blade><rx-designer-canvas rx-configuration="canvasConfiguration" ng-class="{\'rx-blade-expanded-left\': leftBladeConfiguration.expanded, \'rx-blade-expanded-right\': rightBladeConfiguration.expanded, \'rx-process-designer-transitions-disabled\': transitionsDisabled}"></rx-designer-canvas></div></div></form>'),a.put("scripts/process/designer/process-preview.directive.html",'<rx-designer-canvas-preview ng-if="graph" rx-model="graph"></rx-designer-canvas-preview>'),a.put("scripts/process/instance-viewer/process-instance-viewer.directive.html",'<form novalidate cg-busy="rxBusyIndicator"><div class="rx-editor-header"><div class="rx-editor-header__column rx-editor-header__column_left"><a class="rx-editor-header__back d-icon-arrow_left" ng-click="onClose()"></a> <span class="rx-editor-header__app-name">{{bundleFriendlyName}}</span></div><div class="rx-editor-header__column rx-editor-header__column_right"><div class="rx-editor-header__title"><rx-designer-breadcrumb-bar definition-name="\'Manage Processes\'" definition-icon="flow" items="breadcrumbs" on-click="handleBreadcrumbBarClick(itemId)"></rx-designer-breadcrumb-bar></div><div class="rx-editor-header__buttons"><button type="button" class="rx-editor-header__button rx-editor-header__button_toggle-view d-button d-button_secondary d-button_small" ng-class="isDesignMode ? \'d-icon-left-brackets_curly\' : \'d-icon-left-app_connection\'" ng-click="toggleDesignMode()">{{isDesignMode? "JSON" : "UI Design"}}</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_close d-button d-button_secondary d-button_small" ng-click="onClose()">Close</button></div></div></div><div class="rx-editor-content"><div class="rx-simple-json-editor-container control-group" ng-class="{\'has-error\': rxRecordDesignerForm.json.$invalid}" ng-show="isDesignMode === false"><rx-simple-json-editor name="json" rx-object="processInstance" readonly="readonly"></rx-simple-json-editor></div><div class="rx-process-instance-details" ng-if="plainProcessDefinition.layout" ng-show="isDesignMode === true"><div class=""><rx-blade rx-configuration="rightBladeConfiguration" ng-class="{\'rx-process-designer-transitions-disabled\': transitionsDisabled}"><rx-blade-tab icon-class="rightBladeConfiguration.tabs.processInfo.iconClass" tab-name="rightBladeConfiguration.tabs.processInfo.name" active="rightBladeConfiguration.tabs.processInfo.active"><span class="title">Process Instance Information</span><rx-property-view-panel rx-model="processInfo"></rx-property-view-panel></rx-blade-tab><rx-blade-tab icon-class="rightBladeConfiguration.tabs.processVariable.iconClass" tab-name="rightBladeConfiguration.tabs.processVariable.name" active="rightBladeConfiguration.tabs.processVariable.active"><span class="title">Process Variables</span><rx-property-view-panel rx-model="processVariables" rx-configuration="processVariablesConfiguration"></rx-property-view-panel></rx-blade-tab><rx-blade-tab icon-class="rightBladeConfiguration.tabs.activityResults.iconClass" tab-name="rightBladeConfiguration.tabs.activityResults.name" active="rightBladeConfiguration.tabs.activityResults.active"><span class="title">Activity Results</span><rx-property-view-panel rx-model="activityResults" rx-configuration="activityResultsConfiguration"></rx-property-view-panel></rx-blade-tab><rx-blade-tab icon-class="rightBladeConfiguration.tabs.errorsMessages.iconClass + (instanceErrors.length ? \' error\' : \'\')" tab-name="rightBladeConfiguration.tabs.errorsMessages.name" active="rightBladeConfiguration.tabs.errorsMessages.active"><span class="title">Exceptions</span><rx-designer-validation-issues validation-issues="instanceErrors" rx-configuration="validationIssuesConfiguration"></rx-designer-validation-issues></rx-blade-tab></rx-blade><rx-designer-canvas rx-instance-id="canvasInstanceId" rx-configuration="canvasConfiguration" ng-class="{\'rx-blade-expanded-right\': rightBladeConfiguration.expanded, \'rx-process-designer-transitions-disabled\': transitionsDisabled}"></rx-designer-canvas></div></div></div></form>'),a.put("scripts/process/management/preview-process-dialog.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="close()">&times;</button><h4 class="modal-title">{{selectedProcessDefinition.content}}</h4></div><div class="rx-preview-process-modal__preview" cg-busy="rxBusyIndicator"><rx-process-preview ng-if="plainProcessDefinition" rx-model="plainProcessDefinition" rx-configuration="processPreviewConfiguration"></rx-process-preview></div><div class="rx-preview-process-modal__action-buttons"><button type="button" class="rx-preview-process-modal__action-buttons_item d-button d-button_primary d-button_large" ng-disabled="isRunDisabled()" ng-click="run()">Run</button> <button type="button" class="rx-preview-process-modal__action-buttons_item d-button d-button_secondary d-button_large" ng-click="close()">Close</button></div>'),a.put("scripts/process/management/process-instances-chart.directive.html","<svg></svg>"),a.put("scripts/process/management/process-management.directive.html",'<div class="rx-process-management" cg-busy="rxBusyIndicator"><div class="rx-editor-header"><div class="rx-editor-header__column rx-editor-header__column_left"><a class="rx-editor-header__back d-icon-arrow_left" ng-click="onClose()"></a> <span class="rx-editor-header__app-name">{{bundleFriendlyName}}</span></div><div class="rx-editor-header__column rx-editor-header__column_right"><div class="rx-editor-header__title"><rx-designer-breadcrumb-bar definition-name="\'Manage Processes\'" definition-icon="flow" items="breadcrumbs" on-click="handleBreadcrumbBarClick(itemId)"></rx-designer-breadcrumb-bar></div><div class="rx-editor-header__buttons"><button type="button" class="rx-editor-header__button rx-editor-header__button_close d-button d-button_secondary d-button_small" ng-click="onClose()">Close</button></div></div></div><div class="rx-process-management__content"><div class="rx-process-management__column rx-process-management__column_left"><div class="rx-process-definition-picker"><div class="rx-process-definition-picker__actions"><a class="rx-actions__item d-icon-left-play_o d-button" type="button" ng-class="{\'rx-actions__item_disabled\': isRunDisabled()}" ng-click="startProcess()">Run</a> <a class="rx-actions__item d-icon-left-eye d-button" type="button" ng-class="{\'rx-actions__item_disabled\': isPreviewDisabled()}" ng-click="previewProcess()">View</a></div><div class="rx-process-definition-picker__search"><div class="d-textfield d-textfield_label_hidden"><label class="custom-search-label d-textfield__label d-icon-left-search"><input ng-model="valueFilter" class="d-textfield__input custom-search" type="search" placeholder="Search" style=""></label></div></div><div class="rx-process-definition-picker__processes-list"><div class="rx-process-list__item" ng-repeat="processDefinition in processDefinitions | orderBy:content | filter:{content: valueFilter}" ng-click="selectProcessItem(processDefinition)" ng-class="{\'rx-process-list__item_selected\': processDefinition.name === selectedProcess.name}">{{processDefinition.content}}</div></div></div></div><div class="rx-process-management__column rx-process-management__column_right"><div class="rx-process-instances"><div class="rx-process-instances__row_top"><div class="rx-process-instances-chart-zone"><div class="rx-process-instances-chart-zone__time-frame"><rx-time-frame-dropdown rx-time-frame="timeFrame"></rx-time-frame-dropdown></div><div class="rx-process-instances-chart-zone__chart"><rx-process-instances-chart rx-data="chartData"></rx-process-instances-chart></div></div><div class="rx-process-instance-run-times"></div></div><div class="rx-process-instances__row_middle"><ul class="rx-process-instances-status-filter d-button-group d-button-group_primary"><li ng-repeat="instanceStatus in processInstancesStatus" class="rx-process-instances-status-filter_item d-button-group__item"><button ng-click="changeStatusFilter(instanceStatus)" ng-class="{\'is-checked\': instanceStatus.value == selectedStatusFilter.value}" class="d-button-group__btn">{{instanceStatus.content}}</button></li></ul></div><div class="rx-process-instances__row_bottom"><div class="rx-process-instances-grid"><rx-record-grid ng-if="selectedProcess" rx-configuration="processInstanceGridConfiguration"></rx-record-grid></div></div></div></div></div></div>'),a.put("scripts/process/management/start-process-dialog.html",'<div class="rx-start-process-modal__row_top"><div class="rx-start-process-modal__modal-header modal-header"><h4 class="modal-title">{{\'Run \' + selectedProcessDefinition.content}}</h4></div></div><div class="rx-start-process-modal__row_middle" cg-busy="rxStartProcessBusyIndicator"><rx-property-panel rx-configuration="propertyPanelConfig" ng-model="processInstance.processInputValues"></rx-property-panel></div><div class="rx-start-process-modal__row_bottom"><div class="rx-start-process-modal__action-buttons"><button type="button" class="rx-start-process-modal__action-buttons_item d-button d-button_primary d-button_large" ng-click="runProcess()" ng-disabled="isRunButtonDisabled()">Run</button> <button type="button" class="rx-start-process-modal__action-buttons_item d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),a.put("scripts/process/management/time-frame-dropdown.directive.html",'<span class="rx-time-frame-dropdown__label">Time Frame</span><div class="rx-time-frame-dropdown d-dropdown" uib-dropdown auto-close="disabled" is-open="dropdownStatus.isOpen"><a class="rx-time-frame-dropdown__head d-button d-button_small d-icon-right-angle_down d-button_secondary" uib-dropdown-toggle>{{selectedItem.customRangeValue || selectedItem.label}}</a><ul uib-dropdown-menu class="rx-time-frame-dropdown__body d-dropdown__list" role="menu"><li class="d-dropdown__item" ng-repeat="item in dropdownItems" ng-click="selectTimeFrame(item)"><a class="d-dropdown__link" ng-class="{\'is-checked\': item.label === selectedItem.label}">{{item.label}}</a></li><li class="rx-time-frame-dropdown__datetimepicker-item" ng-show="showCustomRange"><label class="datetimepicker-label">From</label><p class="input-group"><input class="rx-input" type="text" uib-datepicker-popup="yyyy-MM-dd" datepicker-options="datepickerOptions" popup-placement="top" show-button-bar="false" ng-model="datePickersModels.startedAfter" is-open="datePickersModels.startedAfterOpened"> <span class="input-group-btn"><button type="button" class="rx-input btn btn-default" ng-click="openDatePicker($event, \'startedAfterOpened\')"><i class="d-icon-calendar"></i></button></span></p><uib-timepicker ng-model="datePickersModels.startedAfter" class="d-timepicker d-timepicker__no-label"></uib-timepicker></li><li class="rx-time-frame-dropdown__datetimepicker-item" ng-if="showCustomRange"><label class="datetimepicker-label">To</label><p class="input-group"><input class="rx-input" type="text" uib-datepicker-popup="yyyy-MM-dd" datepicker-options="datepickerOptions" popup-placement="top" show-button-bar="false" ng-model="datePickersModels.finishedBefore" is-open="datePickersModels.finishedBeforeOpened"> <span class="input-group-btn"><button type="button" class="rx-input btn btn-default" ng-click="openDatePicker($event, \'finishedBeforeOpened\')"><i class="d-icon-calendar"></i></button></span></p><uib-timepicker ng-model="datePickersModels.finishedBefore" class="d-timepicker d-timepicker__no-label"></uib-timepicker></li><button class="rx-time-frame-dropdown__apply-custom-range d-button d-button_secondary d-button_small" ng-if="showCustomRange" ng-click="applyCustomRange()">Apply</button></ul></div>'),a.put("scripts/record/designer/add-fields-dialog/add-fields-dialog.view.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="ctrl.cancel()">&times;</button><h4 class="modal-title">Add Fields to Join Record</h4></div><div class="d-notification d-notification_info d-notification_single" ng-show="ctrl.hasDuplicateFieldNames"><div class="d-notification__icon d-icon-left-info_circle"></div><div class="d-notification__supporting-text"><p class="d-notification__item">You have selected similarly named fields from both Primary and Secondary Records or Join Record. These must be unique. The Record Definition names will be automatically appended to the end of each editable Field Name.</p></div></div><div class="modal-body"><div class="row"><div class="col-xs-6 field-panel"><div class="d-textfield d-textfield_required"><div class="d-textfield"><label class="d-textfield__label"><span class="d-textfield__item">Primary Record</span><div class="d-dropdown d-js-dropdown"><div class="d-select" ng-disabled="true"><span>{{::ctrl.definition.primaryRecordDefinitionName | definitionName}}</span></div></div></label></div></div><p>Select fields to include from Primary Record:</p><div class="field-container"><div><a href="" ng-click="ctrl.selectAll(ctrl.definition.primaryFields, true)">Select All</a> <a href="" ng-click="ctrl.selectAll(ctrl.definition.primaryFields, false)">Select None</a></div><div class="field-holder"><div ng-repeat="field in ctrl.definition.primaryFields" class="d-checkbox d-checkbox_default"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-model="field.selected" ng-click="ctrl.handleCheckboxClick()"> <span class="d-checkbox__item">{{::field.name}}</span></label></div></div></div></div><div class="col-xs-6 field-panel"><div class="d-textfield d-textfield_required"><div class="d-textfield"><label class="d-textfield__label"><span class="d-textfield__item">Secondary Record</span><div class="d-dropdown d-js-dropdown"><div class="d-select" ng-disabled="true"><span>{{::ctrl.definition.secondaryRecordDefinitionName | definitionName}}</span></div></div></label></div></div><p>Select fields to include from Secondary Record:</p><div class="field-container"><div><a href="" ng-click="ctrl.selectAll(ctrl.definition.secondaryFields, true)">Select All</a> <a href="" ng-click="ctrl.selectAll(ctrl.definition.secondaryFields, false)">Select None</a></div><div class="field-holder"><div ng-repeat="field in ctrl.definition.secondaryFields" class="d-checkbox d-checkbox_default"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-model="field.selected" ng-click="ctrl.handleCheckboxClick()"> <span class="d-checkbox__item">{{::field.name}}</span></label></div></div></div></div></div></div><div class="modal-footer"><button class="d-button d-button_primary d-button_large" ng-disabled="ctrl.isSaveButtonDisabled()" ng-click="ctrl.handleSaveButtonClick()">Add Fields</button> <button class="d-button d-button_secondary d-button_large" ng-click="ctrl.cancel()">Cancel</button></div>'),a.put("scripts/record/designer/inheritance-issues-dialog/inheritance-issue-dialog.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="ctrl.cancel()">&times;</button><h4 class="modal-title">Inheritance Issue</h4></div><div class="modal-body"><div><p class="d-notification__item">You have selected to inherit from a Record Definition with properties in conflict</p><ul class="rx-inheritance-issues-list"><li ng-if="ctrl.fields"><span>{{ctrl.fields.length}} Record fields (<strong ng-repeat="field in ctrl.fields">{{!$last ? field.name + \', \' : field.name}}</strong>)</span></li><li ng-if="ctrl.securityLabels"><span>{{ctrl.securityLabels.length}} Security Labels (<strong ng-repeat="securityLabel in ctrl.securityLabels">{{!$last ? securityLabel.name + \', \' : securityLabel.name}}</strong>)</span></li></ul><p class="d-notification__item">If you save this inheritance, these will be replaced with those of the Record definition that is inherited</p></div></div><div class="modal-footer"><button class="d-button d-button_primary d-button_large" ng-click="ctrl.save()">Save Anyway</button> <button class="d-button d-button_secondary d-button_large" ng-click="ctrl.cancel()">Cancel</button></div>'),a.put("scripts/record/designer/inspector-editors/customization-options/record-customization-options-editor.html",'<div class="d-modal__header dialog-header-confirm"><h4 class="d-modal__title">Customization Options <button type="button" class="close" ng-click="cancel()">&times;</button></h4></div><div class="d-modal__content"><div class="rx-blocker" ng-if="isEditDisabled"></div><form name="customizationOptionsFrom"><div class="d-modal__content-item"><rx-dpl-checkbox ng-model="allowOverlay" ng-change="handleAllowOverlayChange()">Allow future customization to this Record Definition, <strong>{{recordDefinition.name | definitionName}}</strong></rx-dpl-checkbox><div class="rx-customization-option-hint">If this option is unselected, others will not be allowed to customize this definition.<br>If you are unsafe about what this option does, leave it selected</div></div><div class="d-modal__content-item"><h6>Allow future customizations to:</h6><div class="rx-customization-option"><rx-dpl-checkbox ng-model="customizationOptions.allowOtherPropertiesOverlay" ng-change="handleRecordCustomizationOptionChange()">Properties of this Record Definition</rx-dpl-checkbox></div><div class="rx-customization-option"><rx-dpl-checkbox ng-model="customizationOptions.allowPermissionsOverlay" ng-change="handleRecordCustomizationOptionChange()">Permissions of this Record Definition</rx-dpl-checkbox></div><div class="rx-customization-option"><rx-dpl-checkbox ng-model="customizationOptions.allowIndexesOverlay" ng-change="handleRecordCustomizationOptionChange()">Search Indexes of this Record Definition</rx-dpl-checkbox></div><div class="rx-customization-option"><rx-dpl-checkbox ng-model="customizationOptions.allowFieldsOverlay" ng-change="handleRecordCustomizationOptionChange(true)">Record Definition fields within this record</rx-dpl-checkbox></div><div class="rx-customization-option-dependants-table"><div class="rx-customization-option-dependant-row"><div class="rx-customization-option-dependant-cell"><h6>Name</h6></div><div class="rx-customization-option-dependant-cell text-center"><h6>Allow Properties Customization</h6></div><div class="rx-customization-option-dependant-cell text-center"><h6>Allow Permission Customization</h6></div></div><div class="rx-customization-option-dependant-scroll-area"><div class="rx-customization-option-dependant-row" ng-repeat="fieldDefinition in recordDefinition.fieldDefinitions"><div class="rx-customization-option-dependant-cell">{{::fieldDefinition.name}}</div><div class="rx-customization-option-dependant-cell text-center"><rx-dpl-checkbox ng-model="fieldDefinition.allowOtherPropertiesOverlay" ng-disabled="!customizationOptions.allowFieldsOverlay" ng-change="fieldCustomizationOptionsChangeHandler(\'allowOtherPropertiesOverlay\', fieldDefinition)"></rx-dpl-checkbox></div><div class="rx-customization-option-dependant-cell text-center"><rx-dpl-checkbox ng-model="fieldDefinition.allowPermissionsOverlay" ng-disabled="!customizationOptions.allowFieldsOverlay" ng-change="fieldCustomizationOptionsChangeHandler(\'allowPermissionsOverlay\', fieldDefinition)"></rx-dpl-checkbox></div></div></div></div></div></form></div><div class="d-modal__footer"><button type="button" class="d-button d-button_primary d-button_large" ng-click="ok()" ng-disabled="!customizationOptionsFrom.$dirty">{{\'com.bmc.arsys.rx.standardlib.common.save.label\' | translate}}</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">{{\'com.bmc.arsys.rx.standardlib.common.cancel.label\' | translate}}</button></div>'),
a.put("scripts/record/designer/inspector-editors/record-index-editor/inspector-record-index-editor.directive.html",'<div class="rx-record-index-editor"><ul class="rx-record-index-list" ng-if="indexDefinitions.length"><li class="rx-record-index-list-item clearfix" ng-repeat="indexDef in indexDefinitions"><div class="rx-record-index-list-item__actions pull-right"><button class="d-button_action d-icon-pencil" type="button" ng-if="!options.isReadOnly && !isSystemIndex(indexDef)" ng-click="editIndex(indexDef, $index)"></button> <button class="d-button_action d-icon-cross" type="button" ng-if="!options.isReadOnly && !isSystemIndex(indexDef)" ng-click="deleteIndex(indexDef, $index)"></button></div><div class="rx-record-index-list-item__title"><span ng-bind="indexDef.indexName" ng-click="editIndex(indexDef, $index)" ng-if="!options.isReadOnly"></span> <span ng-if="isSystemIndex(indexDef)">(Automatic)<rx-tooltip tooltip="\'This index has been automatically generated and cannot be removed.\'"></rx-tooltip></span></div><div class="rx-record-index-list-item__desc">{{indexDef.unique ? \'Unique\' : \'Not unique\'}}<!--\n                --><span ng-if="indexDef.indexFieldIds.length">, {{indexDef.indexFieldIds.length}} {{indexDef.indexFieldIds.length === 1 ? \'field\' : \'fields\'}}</span></div></li></ul><a class="d-icon-left-plus_circle" ng-click="createNewIndex()" ng-hide="options.isReadOnly">Add Index</a></div>'),a.put("scripts/record/designer/inspector-editors/record-index-editor/record-index-editor-dialog.view.html",'<div class="d-modal__header"><h4 class="d-modal__title">Add Index for Record Definition {{idxEditorState.definitionName | definitionName}} <button type="button" class="close" ng-click="$dismiss()">&times;</button></h4></div><div class="d-notification d-notification_info d-notification_single"><div class="d-notification__icon d-icon-left-info_circle"></div><div class="d-notification__supporting-text"><p class="d-notification__item">Indexes optimize the performance of your application by returning search results faster for your most important fields. Use indexes sparingly, as adding too many to a single Record Definition can degrade performance.</p></div></div><form name="indexEditorForm" class="d-modal__content"><div class="rx-record-index-editor-label">Indexing Options:</div><div class="d-checkbox d-checkbox_default"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-disabled="idxEditorState.isFieldSelectionDisabled" ng-model="idxEditorState.isUnique"> <span class="d-checkbox__item">Each index should resolve to a unique result</span></label></div><div class="rx-record-index-editor-layout-row"><div class="rx-record-index-editor-layout-column rx-record-index-editor-layout-column_first"><div class="rx-record-index-editor-label">Available Fields</div><rx-record-index-field-selector field-selection-disabled="idxEditorState.isFieldSelectionDisabled" list="idxEditorState.fields.available"></rx-record-index-field-selector><div class="rx-record-index-editor-select-buttons"><button class="d-button d-button_secondary d-button_large d-icon-angle_right rx-record-index-editor-select-buttons__button rx-record-index-editor-select-buttons__button_large" type="button" ng-disabled="idxEditorState.isFieldSelectionDisabled" ng-click="moveHorizontal(\n                            idxEditorState.fields.available,\n                            idxEditorState.fields.selected\n                        )"></button> <button class="d-button d-button_secondary d-button_large d-icon-angle_left rx-record-index-editor-select-buttons__button rx-record-index-editor-select-buttons__button_large" type="button" ng-disabled="idxEditorState.isFieldSelectionDisabled" ng-click="moveHorizontal(\n                            idxEditorState.fields.selected,\n                            idxEditorState.fields.available\n                        )"></button></div></div><div class="rx-record-index-editor-layout-column rx-record-index-editor-layout-column_first"><div class="rx-record-index-editor-label">Selected Fields<rx-tooltip tooltip="{text: \'Drag and drop these fields to assign priority. The topmost field will get highest priority in returning search results.<br>Note, the system will automatically index Display ID. Do not include it as a field to index unless you want to combine it with other fields for indexing.\', placement: \'top\'}"></rx-tooltip></div><rx-record-index-field-selector field-selection-disabled="idxEditorState.isFieldSelectionDisabled" list="idxEditorState.fields.selected" dnd-enabled="true"></rx-record-index-field-selector><div class="rx-record-index-editor-select-buttons"><button class="d-button d-button_secondary d-button_large rx-record-index-editor-select-buttons__button" type="button" ng-disabled="idxEditorState.isFieldSelectionDisabled || idxEditorState.fields.selected.length < 2" ng-click="moveVertical(idxEditorState.fields.selected, -1)">Move Up</button> <button class="d-button d-button_secondary d-button_large rx-record-index-editor-select-buttons__button" type="button" ng-disabled="idxEditorState.isFieldSelectionDisabled || idxEditorState.fields.selected.length < 2" ng-click="moveVertical(idxEditorState.fields.selected, 1)">Move Down</button></div></div></div></form><div class="d-modal__footer clearfix"><button class="d-button d-button_primary d-button_large rx-record-index-editor-footer-button" type="button" ng-disabled="!idxEditorState.fields.selected.length" ng-click="saveIndex()">Save</button> <button class="d-button d-button_secondary d-button_large rx-record-index-editor-footer-button" type="button" ng-click="$dismiss()">Cancel</button></div>'),a.put("scripts/record/designer/inspector-editors/record-index-editor/record-index-field-selector.directive.html",'<div class="rx-record-index-field-selector"><div class="rx-record-index-field-selector__textfield d-textfield d-textfield_label_hidden"><label class="rx-record-index-field-selector__textfield-label d-textfield__label d-icon-left-search"><span class="d-textfield__item">Search fields</span> <input class="d-textfield__input" ng-model="searchText.label" type="search" placeholder="Search fields"></label></div><ul class="rx-record-index-field-selector-list" ng-class="{\'rx-record-index-field-selector-list_disabled\': fieldSelectionDisabled}" ng-if="dndEnabled && !fieldSelectionDisabled" dnd-list="list"><li class="rx-record-index-field-selector-list__item" dnd-draggable="item" dnd-moved="list.splice($index, 1)" ng-class="{\'rx-record-index-field-selector-list__item_selected\': item.selected}" ng-repeat="item in list | filter : searchText" ng-click="select(item)"><span class="d-icon-left-dots rx-record-index-field-selector-list__item-label" ng-bind="item.label"></span></li></ul><ul class="rx-record-index-field-selector-list" ng-class="{\'rx-record-index-field-selector-list_disabled\': fieldSelectionDisabled}" ng-if="!dndEnabled || fieldSelectionDisabled"><li class="rx-record-index-field-selector-list__item" ng-class="{\'rx-record-index-field-selector-list__item_selected\': item.selected}" ng-repeat="item in list | filter : searchText" ng-click="select(item)"><span class="rx-record-index-field-selector-list__item-label" ng-bind="item.label"></span></li></ul></div>'),a.put("scripts/record/designer/inspector-editors/record-inheritance-selector/record-inheritance-selector.directive.html",'<div class="d-checkbox d-checkbox_default"><label class="d-checkbox__label"><input class="d-checkbox__input rx-inheritance-option-is-shared" type="checkbox" ng-model="inheritanceOptions.isSharedInstanceStorage" ng-disabled="options.isReadOnly || state.isSharedInstanceStorageLocked" ng-click="handleInheritanceOptionsChange()"> <span class="d-checkbox__item">Share data with inheritors</span></label><rx-tooltip tooltip="\'If this option is selected, all Record Definitions inheriting from this one will share the same database for storing data.\'"></rx-tooltip></div><div class="d-checkbox d-checkbox_default"><label class="d-checkbox__label"><input class="d-checkbox__input rx-inheritance-option-is-abstract" type="checkbox" ng-disabled="options.isReadOnly" ng-model="inheritanceOptions.isAbstract" ng-click="handleInheritanceOptionsChange()"> <span class="d-checkbox__item">Make Abstract</span></label><rx-tooltip tooltip="\'If this option is selected, new entries for the inherited Record Definition will not be allowed to be created.\'"></rx-tooltip></div><div class="d-checkbox d-checkbox_default"><label class="d-checkbox__label"><input class="d-checkbox__input rx-inheritance-option-is-final" type="checkbox" ng-model="inheritanceOptions.isFinal" ng-disabled="options.isReadOnly || (inheritanceOptions.isSharedInstanceStorage && !inheritanceDescriptor.inheritingFrom)" ng-click="handleInheritanceOptionsChange()"> <span class="d-checkbox__item">Make Final</span></label><rx-tooltip tooltip="\'If this option is selected, no other Record Definition will be able to inherit from this one.\'"></rx-tooltip></div><div><label ng-show="!inheritanceDescriptor.inheritingFrom">This Record Definition will be allowed to assume fields, permissions, and/or rules from any Definitions specified here.</label><span ng-show="!inheritanceDescriptor && !options.isReadOnly"><a href="" class="d-button_action d-button_small d-icon-left-plus_circle is-checked" ng-click="showRecordInheritanceOptions()">Inherit from a Record Definition</a><rx-tooltip tooltip="\'Select this option to inherit field definitions from an existing record definition.\'"></rx-tooltip></span><div class="rx-inheritance-record-form" ng-show="!!inheritanceDescriptor"><a class="pull-right d-button d-button_action d-button_small d-icon-right-cross" ng-click="removeInheritance()" ng-show="!options.isReadOnly">&nbsp;</a><label><span>Record to Inherit:</span></label><rx-definition-picker ng-show="(!state.editMode || (state.editMode && !inheritanceOptions.isSharedInstanceStorage)) && !options.isReadOnly" rx-selected-definition-name="inheritanceDescriptor.inheritingFrom" rx-type="{{::definitionType}}"></rx-definition-picker><div class="d-dropdown d-js-dropdown" ng-show="(state.editMode && inheritanceOptions.isSharedInstanceStorage) || options.isReadOnly"><div class="d-dropdown__trigger d-select" data-placeholder="Select" disabled="disabled">{{inheritanceDescriptor.inheritingFrom | definitionName}}</div></div><label><span>Inherit:</span></label><div class="d-checkbox d-checkbox_default"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-model="inheritingCoreFields" ng-disabled="(!inheritanceDescriptor.inheritingFrom || state.inheritCoreFieldsAutomatically) || state.lockCoreFieldInheritanceOption || options.isReadOnly" ng-change="inheritCoreFieldsChange()"> <span class="d-checkbox__item">Core Fields</span></label></div><div class="d-checkbox d-checkbox_default"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-checked="inheritanceDescriptor.isInheritingRules" ng-click="onInheritanceDescriptorChange(\'isInheritingRules\', !inheritanceDescriptor.isInheritingRules)" ng-disabled="!inheritanceDescriptor.inheritingFrom || options.isReadOnly"> <span class="d-checkbox__item">Rules</span></label></div><div class="d-checkbox d-checkbox_default"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-checked="inheritanceDescriptor.isInheritingFieldPermissions" ng-click="onInheritanceDescriptorChange(\'isInheritingFieldPermissions\', !inheritanceDescriptor.isInheritingFieldPermissions)" ng-disabled="!inheritanceDescriptor.inheritingFrom || options.isReadOnly"> <span class="d-checkbox__item">Field Permissions</span></label></div><div class="d-checkbox d-checkbox_default"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-checked="inheritanceDescriptor.isInheritingAssociations" ng-click="onInheritanceDescriptorChange(\'isInheritingAssociations\', !inheritanceDescriptor.isInheritingAssociations)" ng-disabled="!inheritanceDescriptor.inheritingFrom || options.isReadOnly"> <span class="d-checkbox__item">Associations</span></label></div></div></div>'),a.put("scripts/record/designer/inspector-editors/search-title-editor/inspector-search-title-editor.directive.html",'<label><rx-tooltip tooltip="options.tooltip" ng-if="hasUnsavedFTSFields"></rx-tooltip>{{::options.label}}:</label><div><select ng-change="onSearchTitleChange()" ng-model="weightedRelevancyFieldsTitle" ng-options="option.name for option in selectOptions track by option.id"></select></div>'),a.put("scripts/record/designer/inspector-editors/security-labels/duplicate-security-label-renderer.directive.html",'<div class="row"><div class="col-sm-6"><div class="d-textfield d-textfield_required" ng-class="{\'d-textfield_invalid\' : (!primaryLabel.name || primaryLabel.name === secondaryLabel.name)}"><label class="d-textfield__label"><span class="d-textfield__item">New Name for &quot;{{::primaryLabel.name}}&quot; from Primary</span> <input name="security-label-name-{{primaryLabel.id}}" class="d-textfield__input" type="text" ng-model="primaryLabel.name" aria-required="true" required></label></div></div><div class="col-sm-6"><div class="d-textfield d-textfield_required" ng-class="{\'d-textfield_invalid\' : (!secondaryLabel.name || secondaryLabel.name === primaryLabel.name)}"><label class="d-textfield__label"><span class="d-textfield__item">New Name for &quot;{{::secondaryLabel.name}}&quot; from Secondary</span> <input name="security-label-name-{{secondaryLabel.id}}" class="d-textfield__input" type="text" ng-model="secondaryLabel.name" aria-required="true" required></label></div></div></div>'),a.put("scripts/record/designer/inspector-editors/security-labels/inspector-join-definition-security-label-editor.directive.html",'<div class="rx-security-labels-editor"><a class="d-icon-left-plus_circle" ng-click="openSecurityLabelsEditor()" ng-hide="options.isReadOnly">Add/Remove Security Labels</a><ul class="rx-security-labels-list"><li ng-repeat="securityLabel in securityLabelsTree" ng-include="\'scripts/record/designer/inspector-editors/security-labels/inspector-security-label-tree-item.html\'"></li></ul></div>'),a.put("scripts/record/designer/inspector-editors/security-labels/inspector-security-label-editor.directive.html",'<div class="rx-security-labels-editor"><a class="d-icon-left-plus_circle" ng-click="openSecurityLabelsEditor()" ng-hide="options.isReadOnly">Add/Remove Security Labels</a><ul class="rx-security-labels-list"><li ng-repeat="securityLabel in securityLabelsTree" ng-include="\'scripts/record/designer/inspector-editors/security-labels/inspector-security-label-tree-item.html\'"></li></ul></div>'),a.put("scripts/record/designer/inspector-editors/security-labels/inspector-security-label-tree-item.html",'<div class="rx-security-labels-item"><button ng-click="removeSecurityLabel(securityLabel)" ng-hide="securityLabel.inherited || securityLabel.securityLabelMapping" class="btn-list d-icon-cross"></button> <button ng-click="openSecurityLabelsEditor(securityLabel)" ng-hide="securityLabel.inherited || securityLabel.securityLabelMapping" class="btn-list d-icon-pencil"></button> <span class="rx-security-labels-item-name">{{securityLabel.name}}</span></div><ul ng-if="securityLabel.children" class="rx-security-labels-list"><li ng-repeat="securityLabel in securityLabel.children track by $index" ng-include="\'scripts/record/designer/inspector-editors/security-labels/inspector-security-label-tree-item.html\'"></li></ul>'),a.put("scripts/record/designer/inspector-editors/security-labels/join-definition-security-label-editor.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="ctrl.cancel()">&times;</button><h4 class="modal-title">Add/Remove Security Labels</h4></div><div class="modal-body"><p class="description">Security Labels control view and edit access restrictions to record instances and specific fields. Each label can be populated with a group to establish dynamic field permissions. Security Labels can also be set by Processes and Rules.</p><div class="row"><div class="col-xs-6 security-label-panel-description">Security Labels to include from {{ctrl.definition.primaryRecordDefinitionName | definitionName}} (Primary)</div><div class="col-xs-6 security-label-panel-description">Security Labels to include from {{ctrl.definition.secondaryRecordDefinitionName | definitionName}} (Secondary)</div></div><div class="row"><div class="col-xs-6 security-label-panel"><div class="security-label-container"><div><a href="" ng-click="ctrl.selectAll(ctrl.definition.primarySecurityLabels, true)">Select All</a> <a href="" ng-click="ctrl.selectAll(ctrl.definition.primarySecurityLabels, false)">Select None</a></div><div class="security-label-holder"><div ng-repeat="securityLabel in ctrl.definition.primarySecurityLabels" class="d-checkbox d-checkbox_default d-checkbox_filed-join"><label class="d-checkbox__label security-label-nesting-{{securityLabel.nestingLevel}}"><input class="d-checkbox__input" type="checkbox" ng-model="securityLabel.selected" ng-click="ctrl.handleCheckboxClick()"> <span class="d-checkbox__item">{{securityLabel.name}}</span></label></div></div></div></div><div class="col-xs-6 security-label-panel"><div class="security-label-container"><div><a href="" ng-click="ctrl.selectAll(ctrl.definition.secondarySecurityLabels, true)">Select All</a> <a href="" ng-click="ctrl.selectAll(ctrl.definition.secondarySecurityLabels, false)">Select None</a></div><div class="security-label-holder"><div ng-repeat="securityLabel in ctrl.definition.secondarySecurityLabels" class="d-checkbox d-checkbox_default d-checkbox_filed-join"><label class="d-checkbox__label security-label-nesting-{{securityLabel.nestingLevel}}"><input class="d-checkbox__input" type="checkbox" ng-model="securityLabel.selected" ng-click="ctrl.handleCheckboxClick()"> <span class="d-checkbox__item">{{securityLabel.name}}</span></label></div></div></div></div></div><div ng-show="ctrl.hasDuplicateSecurityLabels"><p class="warning">You have selected labels with the same names between Primary and Secondary Records. Please specify unique names for each below to make them distinct.</p><form><rx-duplicate-security-label-renderer ng-repeat="pair in ctrl.duplicateSecurityLabelPairs" primary-label="pair.primaryLabel" secondary-label="pair.secondaryLabel"></rx-duplicate-security-label-renderer></form></div></div><div class="modal-footer"><button type="submit" ng-disabled="ctrl.isSaveButtonDisabled()" class="d-button d-button_primary d-button_large" ng-click="ctrl.handleSaveButtonClick()">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="ctrl.cancel()">Cancel</button></div>'),a.put("scripts/record/designer/inspector-editors/security-labels/security-label-editor.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Add/Remove Security Labels</h4></div><form name="SecurityLabelEditorForm" novalidate><div class="modal-body"><div class="rx-record-grid-column-editor-wrapper"><p class="description">Security Labels control view and edit access restrictions to record instances and specific fields. Each label can be populated with a group to establish dynamic field permissions. Security Labels can also be set by Processes and Rules.</p><div layout="row" layout-align="space-between center"><a class="d-icon-left-plus_circle" ng-click="addSecurityLabel()">Add Security Label</a></div></div><div class="rx-security-label-container"><div ng-repeat="securityLabel in securityLabels" class="security-label-item"><div class="security-label-item-header" ng-click="securityLabel.isCollapsed = !securityLabel.isCollapsed"><div class="left-header-block">{{securityLabel.name || (securityLabel.lastUpdateTime ? \'\' : \'New Security Label\')}}</div><div class="right-header-block"><div ng-click="removeSecurityLabel(securityLabel, $event)" class="remove-button" ng-hide="securityLabel.inherited"><div class="d-icon-left-cross header-icon"></div><div class="remove-button-text">Remove</div></div><div class="arrow-pointer header-icon" ng-class="{\'d-icon-right-angle_down\' : securityLabel.isCollapsed , \'d-icon-right-angle_up\' : !securityLabel.isCollapsed}"></div></div></div><div uib-collapse="securityLabel.isCollapsed" class="d-collapse-panel collapse-content"><div class="row"><div class="col-md-12 d-textfield_required d-textfield"><label class="d-textfield__item">Name</label><input type="text" name="security-label-name-{{securityLabel.id}}" class="rx-input" ng-required="true" ng-disabled="securityLabel.inherited" ng-model="securityLabel.name" ng-blur="checkDuplicate(\'name\')" maxlength="254"><p ng-if="!securityLabel.name" class="d-error">Name is required.</p><p class="d-error" ng-if="securityLabel.name && SecurityLabelEditorForm[\'security-label-name-\' + securityLabel.id].$error.duplicate">Name must be unique.</p></div><div class="col-md-6 d-textfield"><label class="d-textfield__item">Parent<rx-tooltip tooltip="\'This selection establishes hierarchy of Security Labels.\n                                    When this Security Label is populated with a group,\n                                    its Parent Security Label will also be populated with that group`s parent.\'"></rx-tooltip></label><select class="select" ng-disabled="securityLabel.inherited" ng-model="securityLabel.parentId"><option value="">None</option><option value="{{label.id}}" ng-repeat="label in getAvailableParents(securityLabel) | orderBy:\'name\'">{{label.name}}</option></select></div></div></div></div></div><div class="rx-security-label-editor-action-buttons"><button type="submit" ng-disabled="SecurityLabelEditorForm.$invalid" class="d-button d-button_primary d-button_large" ng-click="saveChanges()">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div></form>'),a.put("scripts/record/designer/record-designer.directive.html",'<form name="rxRecordDesignerForm" novalidate><div class="rx-editor-header"><div class="rx-editor-header__column rx-editor-header__column_left"><a class="rx-editor-header__back d-icon-arrow_left" ng-click="closeDesigner()"></a> <span class="rx-editor-header__app-name">{{bundleFriendlyName}}</span></div><div class="rx-editor-header__column rx-editor-header__column_right"><div class="rx-editor-header__title"><rx-designer-breadcrumb-bar definition-name="(plainRecordDefinition.name | definitionName:decode) || \'&lt;New \' + (plainRecordDefinition.resourceType | recordDefinitionType) + \' Record&gt;\'" definition-icon="app_list" items="breadcrumbs" on-click="handleBreadcrumbBarClick()"></rx-designer-breadcrumb-bar></div><div class="rx-editor-header__buttons"><button type="button" class="rx-editor-header__button rx-editor-header__button_toggle-view d-button d-button_secondary d-button_small" ng-class="isDesignMode ? \'d-icon-left-brackets_curly\' : \'d-icon-left-app_list\'" ng-click="toggleDesignMode()">{{isDesignMode ? "JSON" : "UI Design"}}</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_save rx-editor-header__button_divider-before d-button d-button_primary d-button_small" ng-click="saveRecordDefinition()" ng-disabled="!canSave()">Save</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_close d-button d-button_secondary d-button_small" ng-click="closeDesigner()">Close</button></div></div></div><div class="rx-editor-content"><div class="rx-simple-json-editor-container control-group" ng-class="{\'has-error\': rxRecordDesignerForm.json.$invalid}" ng-show="isDesignMode === false"><rx-simple-json-editor name="json" rx-object="plainRecordDefinition" readonly="readonly"></rx-simple-json-editor></div><div class="rx-record-designer" ng-show="isDesignMode === true"><div class="gridLayout" ng-class="{\'rx-blade-expanded-left\': leftBladeConfiguration.expanded, \'rx-blade-expanded-right\': rightBladeConfiguration.expanded, \'rx-record-designer-transitions-disabled\': transitionsDisabled}"><h3 class="rx-editor-content__heading">{{(plainRecordDefinition.name | definitionName:decode) || \'&lt;New \' + (plainRecordDefinition.resourceType | recordDefinitionType) + \' Record&gt;\'}}</h3><h4 class="rx-editor-content__subheading">Fields included in this {{(plainRecordDefinition.resourceType | recordDefinitionType)}} Record{{isJoinRecordDefinition ? (\' from \' + (plainRecordDefinition.primaryRecordDefinitionName | definitionName) + \' (Primary) and \' + (plainRecordDefinition.secondaryRecordDefinitionName | definitionName) + \' (Secondary)\') : \'\'}}</h4><div layout class="toolbar d-toolbar d-toolbar_top d-toolbar-overflow d-toolbar_small"><div class="d-toolbar__wrapper" ng-show="isJoinRecordDefinition"><div class="d-toolbar__item"><a class="d-icon-left-plus_circle" type="button" ng-click="openAddFieldDialog()">New Field</a></div></div><div class="d-toolbar__wrapper" ng-show="!isJoinRecordDefinition"><div class="d-toolbar__item"><div uib-dropdown class="dropdown"><a uib-dropdown-toggle class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true"><div class="icon d-icon-left-plus_circle"></div>New Field</a><ul uib-dropdown-menu role="menu"><li role="presentation" ng-repeat="option in resourceTypeOptions" ng-click="addNewField(option.value)"><a role="menuitem" tabindex="-1" href="">{{::option.content}}</a></li></ul></div></div></div><div class="d-toolbar__wrapper"><div class="d-toolbar__item"><button class="d-button d-button_action d-button_large d-icon-left-trash" ng-disabled="isDeleteDisabled()" ng-click="deleteFields()" uib-tooltip="Delete Field(s)"></button></div></div></div><div class="gridStyle" ui-grid="gridOptions" ui-grid-selection ui-grid-resize-columns ui-grid-save-state></div></div><rx-blade rx-configuration="rightBladeConfiguration" ng-class="{\'rx-record-designer-transitions-disabled\': transitionsDisabled}"><rx-blade-tab icon-class="rightBladeConfiguration.tabs.recordProperties.iconClass" tab-name="rightBladeConfiguration.tabs.recordProperties.name" active="rightBladeConfiguration.tabs.recordProperties.active"><rx-designer-inspector target="selected.recordDefinitionModel" class="rx-record-inspector" rx-configuration="{}"></rx-designer-inspector></rx-blade-tab><rx-blade-tab icon-class="rightBladeConfiguration.tabs.fieldProperties.iconClass" tab-name="rightBladeConfiguration.tabs.fieldProperties.name" active="rightBladeConfiguration.tabs.fieldProperties.active"><rx-designer-inspector target="selected.fieldDefinitionModel" class="rx-field-inspector" rx-configuration="inspectorConfiguration"></rx-designer-inspector></rx-blade-tab><rx-blade-tab icon-class="rightBladeConfiguration.tabs.validationIssues.iconClass + \' \' + validationIssueLevel" tab-name="rightBladeConfiguration.tabs.validationIssues.name" active="rightBladeConfiguration.tabs.validationIssues.active"><span class="title">Validation Issues</span><rx-designer-validation-issues validation-issues="selected.validationIssues" rx-configuration="validationIssuesConfiguration"></rx-designer-validation-issues></rx-blade-tab></rx-blade></div></div></form>'),a.put("scripts/rule/designer/inspector-editors/customization-options/rule-customization-options-editor.html",'<div class="d-modal__header dialog-header-confirm"><h4 class="d-modal__title">Customization Options <button type="button" class="close" ng-click="cancel()">&times;</button></h4></div><div class="d-modal__content"><div class="rx-blocker" ng-if="isEditDisabled"></div><form name="customizationOptionsFrom"><div class="d-modal__content-item"><rx-dpl-checkbox ng-model="customizationOptions.allowOverlay">Allow future customization to this Rule Definition, <strong>{{ruleDefinition.name}}</strong></rx-dpl-checkbox><div class="rx-customization-option-hint">If this option is unselected, others will not be allowed to customize this definition.<br>If you are unsafe about what this option does, leave it selected.</div></div></form></div><div class="d-modal__footer"><button type="button" class="d-button d-button_primary d-button_large" ng-click="ok()" ng-disabled="!customizationOptionsFrom.$dirty">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div>'),a.put("scripts/rule/designer/inspector-editors/interval-timer/inspector-interval-timer-field.directive.html",'<div class="rx-inspector-timer-textarea-field"><a ng-show="!options.attrs.input.disabled" class="edit-link d-icon-left-pencil" ng-click="openDialog()">Edit</a> <input type="hidden" ng-model="value" data-attribute="{{path}}" ng-disabled="{{options.attrs.input.disabled}}"><rx-inspector-read-only-text></rx-inspector-read-only-text></div>'),a.put("scripts/rule/designer/inspector-editors/interval-timer/rule-interval-timer-dialog.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Edit Interval Definition</h4></div><div class="modal-body rx-timer-editor"><form novalidate><div class="row"><div class="col-md-6 form-horizontal"><label class="required">Interval:</label><div class="form-group"><div class="col-md-5"><input type="number" ng-model="timerData.days" name="days" class="rx-input" min="0" step="1"></div><label class="col-md-7">day(s)</label></div><div class="form-group"><div class="col-md-5"><input type="number" ng-model="timerData.hours" name="hours" class="rx-input" min="0" step="1"></div><label class="col-md-7">hour(s)</label></div><div class="form-group"><div class="col-md-5"><input type="number" ng-model="timerData.minutes" name="minutes" class="rx-input" min="0" step="1"></div><label class="col-md-7">minute(s)</label></div></div></div></form><div>Interval Definition:<div class="rx-timer-editor-preview">{{preview}}</div></div><div class="rx-timer-editor-action-buttons"><button type="button" type="button" class="d-button d-button_primary d-button_large" ng-click="ok()" ng-disabled="!preview">OK</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),a.put("scripts/rule/designer/inspector-editors/rule-record-definitions/inspector-rule-record-definitions-field.directive.html",'<a class="d-icon-left-plus_circle" ng-click="openEditor()" ng-if="!options.attrs.input.disabled">Add/Remove Record Definitions</a><label class="required">Rule Applies To</label><div ng-repeat="selectedDefinition in recordDefinitions" class="selected-options"><span title="{{::selectedDefinition.content}}">{{selectedDefinition.content}}</span><div class="action-buttons"><button type="button" class="d-icon-left-cross" ng-click="removeColumn(selectedDefinition)" ng-if="!options.attrs.input.disabled"></button></div><div class="subtitle">{{$index === 0 ? \'[Primary Definition]\' : \'\'}}</div></div>'),a.put("scripts/rule/designer/inspector-editors/rule-record-definitions/rule-record-definitions-dialog.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Add/Remove Record Definitions</h4></div><div class="modal-body rx-rule-record-definitions-editor"><div class="rx-rule-record-definitions-editor-wrapper"><div class="rx-record-definitions-available-definitions rx-rule-record-definitions-editor-panel" layout="column"><h5>Available Record Definitions</h5><div class="d-textfield d-textfield_label_hidden"><label class="custom-search-label d-textfield__label d-icon-left-search"><input ng-model="valueFilter" class="d-textfield__input custom-search" type="search" placeholder="Search record definitions"></label><div></div></div><div class="rx-rule-record-definitions-editor-available-list" cg-busy="{promise: loadingDefinitionsPromise, templateUrl: busyIndicatorTemplateUrl, delay: 200, minDuration: 0, message: \'\'}" flex><div class="available-definition" ng-repeat="definition in availableRecordDefinitions | orderBy:content | filter:{content: valueFilter}" dnd-draggable="definition" dnd-moved="availableRecordDefinitions.splice($index, 1)"><div class="column-pill" ng-dblclick="addDefinition(definition)"><span class="column-pill-icon icon d-icon-plus_circle" ng-click="addDefinition(definition, $event)"></span><div class="column-pill-label">{{definition.content}}</div></div></div></div></div><div class="rx-rule-record-definitions-editor-data rx-rule-record-definitions-editor-panel" layout="column"><div layout="row" layout-align="space-between center" class="rx-rule-record-definitions-editor-data-header"><h5>Selected Record Definitions</h5></div><div class="rx-rule-record-definitions-editor-data-empty" ng-show="!recordDefinitions.value.length">Select Record Definitions from the list on the left.</div><div class="selected-definitions" dnd-list="recordDefinitions.value" dnd-drop="onDropHandler(item)" flex><div class="dndPlaceholder"></div><div class="selected-definition-container" ng-repeat="definition in recordDefinitions.value" dnd-draggable="definition" dnd-moved="movedHandler($index)"><div dnd-nodrag><div class="button-open-definition"><div class="left-header-block"><div dnd-handle class="header-icon d-icon-left-dots"></div><div class="definition-label"><span class="definition-name" title="{{::definition.content}}">{{definition.content}}</span> <span class="definition-primary-label">{{$index === 0 ? \'[Primary Definition]\' : \'\'}}</span></div></div><div class="right-header-block"><div class="index-buttons"><button class="d-icon-left-triangle_down header-icon" ng-show="!$last" ng-click="moveDown(definition); $event.stopPropagation();"></button> <button class="d-icon-left-triangle_up header-icon" ng-show="!$first" ng-click="moveUp(definition); $event.stopPropagation();"></button></div><div ng-click="removeDefinition(definition)" class="remove-button"><div class="d-icon-left-cross header-icon"></div><div class="remove-button-text">Remove</div></div></div></div></div></div></div></div></div><div class="rx-rule-record-definitions-editor-action-buttons"><button type="button" class="d-button d-button_primary d-button_large" ng-click="ok()">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),
a.put("scripts/rule/designer/rule-designer.directive.html",'<form name="rxRuleDesignerForm" novalidate><div class="rx-editor-header"><div class="rx-editor-header__column rx-editor-header__column_left"><a class="rx-editor-header__back d-icon-arrow_left" ng-click="closeDesigner()"></a> <span class="rx-editor-header__app-name">{{bundleFriendlyName}}</span></div><div class="rx-editor-header__column rx-editor-header__column_right"><div class="rx-editor-header__title"><rx-designer-breadcrumb-bar definition-name="(plainRuleDefinition.name | definitionName) || \'&lt;New Rule&gt;\'" definition-icon="app_flag" items="breadcrumbs" on-click="handleBreadcrumbBarClick()"></rx-designer-breadcrumb-bar></div><div class="rx-editor-header__buttons"><button type="button" class="rx-editor-header__button rx-editor-header__button_toggle-view d-button d-button_secondary d-button_small" ng-class="isDesignMode ? \'d-icon-left-brackets_curly\' : \'d-icon-left-app_flag\'" ng-if="isDesignModeAvailable()" ng-click="toggleDesignMode()">{{isDesignMode ? "JSON" : "UI Design"}}</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_save rx-editor-header__button_divider-before d-button d-button_primary d-button_small" ng-click="saveChanges()" ng-disabled="!canSave()">Save</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_close d-button d-button_secondary d-button_small" ng-click="closeDesigner()">Close</button></div></div></div><div class="rx-editor-content"><div class="rx-simple-json-editor-container control-group" ng-class="{\'has-error\': rxRuleDesignerForm.json.$invalid}" ng-show="isDesignMode === false"><rx-simple-json-editor name="json" rx-object="plainRuleDefinition" ng-readonly="true"></rx-simple-json-editor></div><div class="rx-rule-designer" ng-show="isDesignMode === true"><rx-blade rx-configuration="leftBladeConfiguration" ng-class="{\'rx-rule-designer-transitions-disabled\': transitionsDisabled}" ng-if="stencilConfiguration"><rx-blade-tab icon-class="leftBladeConfiguration.tabs.stencilTabDefault.iconClass" tab-name="leftBladeConfiguration.tabs.stencilTabDefault.name" active="leftBladeConfiguration.tabs.stencilTabDefault.active" on-activate="leftBladeConfiguration.tabs.stencilTabDefault.onActivate"><rx-designer-stencil paper="paper" stencil-configuration="stencilConfiguration.default" ng-class="{refreshing: leftBladeConfiguration.tabs.stencilTabDefault.refreshNeeded}" ng-if="!isOverlayDisabled"></rx-designer-stencil><p ng-if="isOverlayDisabled" class="rx-process-designer-palette-readonly-text">This Rule is in read-only mode and components cannot be added to the canvas</p></rx-blade-tab><rx-blade-tab icon-class="leftBladeConfiguration.tabs.stencilTabFavorite.iconClass" tab-name="leftBladeConfiguration.tabs.stencilTabFavorite.name" active="leftBladeConfiguration.tabs.stencilTabFavorite.active" on-activate="leftBladeConfiguration.tabs.stencilTabFavorite.onActivate" ng-if="!isOverlayDisabled"><rx-designer-stencil paper="paper" stencil-configuration="stencilConfiguration.favorite" stencil-placeholder="stencilPlaceholder" ng-class="{refreshing: leftBladeConfiguration.tabs.stencilTabFavorite.refreshNeeded}"></rx-designer-stencil></rx-blade-tab><rx-blade-tab icon-class="leftBladeConfiguration.tabs.stencilTabRecent.iconClass" tab-name="leftBladeConfiguration.tabs.stencilTabRecent.name" active="leftBladeConfiguration.tabs.stencilTabRecent.active" on-activate="leftBladeConfiguration.tabs.stencilTabRecent.onActivate" ng-if="!isOverlayDisabled"><rx-designer-stencil class="recentStencil" paper="paper" stencil-configuration="stencilConfiguration.recent"></rx-designer-stencil><button type="button" class="rx-clear-recent-stencil d-icon-left-cross_circle" ng-disabled="isRecentsEmpty()" ng-click="clearRecents()">Clear Recents</button></rx-blade-tab><rx-blade-tab icon-class="leftBladeConfiguration.tabs.stencilTabSettings.iconClass" tab-name="leftBladeConfiguration.tabs.stencilTabSettings.name" active="leftBladeConfiguration.tabs.stencilTabSettings.active" ng-if="!isOverlayDisabled"><rx-designer-stencil-settings paper="paper" stencil-configuration-service="stencilConfiguration.configurationService"></rx-designer-stencil-settings></rx-blade-tab></rx-blade><rx-blade rx-configuration="rightBladeConfiguration" ng-class="{\'rx-rule-designer-transitions-disabled\': transitionsDisabled}"><rx-blade-tab icon-class="rightBladeConfiguration.tabs.ruleProperties.iconClass" tab-name="rightBladeConfiguration.tabs.ruleProperties.name" active="rightBladeConfiguration.tabs.ruleProperties.active"><rx-designer-inspector target="selected.rule" class="rx-rule-inspector" rx-configuration="{}"></rx-designer-inspector></rx-blade-tab><rx-blade-tab icon-class="rightBladeConfiguration.tabs.elementProperties.iconClass" tab-name="rightBladeConfiguration.tabs.elementProperties.name" active="rightBladeConfiguration.tabs.elementProperties.active"><rx-designer-inspector target="selected.cellModel" class="rx-element-inspector" rx-configuration="inspectorConfiguration"></rx-designer-inspector></rx-blade-tab><rx-blade-tab icon-class="rightBladeConfiguration.tabs.validationIssues.iconClass + \' \' + validationIssueLevel" tab-name="rightBladeConfiguration.tabs.validationIssues.name" active="rightBladeConfiguration.tabs.validationIssues.active"><span class="title">Validation Issues</span><div class="rx-refresh-validation-issues" ng-click="validateRule()"><div class="icon icon-refresh"></div><span>Refresh</span></div><rx-designer-validation-issues validation-issues="selected.validationIssues" rx-configuration="validationIssuesConfiguration"></rx-designer-validation-issues></rx-blade-tab></rx-blade><rx-designer-canvas rx-configuration="canvasConfiguration" ng-class="{\'rx-blade-expanded-left\': leftBladeConfiguration.expanded, \'rx-blade-expanded-right\': rightBladeConfiguration.expanded, \'rx-rule-designer-transitions-disabled\': transitionsDisabled}"></rx-designer-canvas></div></div></form>'),a.put("scripts/search/search-content.html",'<div class="rx-global-search"><div class="rx-global-search-header"><div class="rx-global-search-label"><h1>{{\'com.bmc.arsys.rx.standardlib.view-components.shell.action.search.results.label\' | translate}}</h1></div><form class="rx-global-search-bar" ng-submit="getGlobalSearchResults()"><div class="d-textfield d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-search"><input ng-model="searchText" class="d-textfield__input rx-global-search-textField" type="text" placeholder="{{::\'com.bmc.arsys.rx.standardlib.view-components.shell.action.search.label\' | translate}}"> <button class="d-textfield__action d-button d-button_action d-icon-cross" ng-click="clearSearchText()" type="button"></button></label></div></form><div class="rx-global-search-filter"><div uib-dropdown class="rx-global-search-dropdown" dropdown is-open="isopen" auto-close="outsideClick"><a type="button" class="dropdown__trigger d-icon-left-filter d-icon-right-angle_down dropdown-toggle dropdown-toggle" uib-dropdown-toggle data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{\'com.bmc.arsys.rx.standardlib.search.select.filter\' | translate}}</a><ul uib-dropdown-menu role="menu" class="rx-global-search-dropdown_menu"><div class="rx-global-search-dropdown_menu_item">{{\'com.bmc.arsys.rx.standardlib.search.searchbox.placeholder\' | translate}}</div><li role="presentation" class="rx-global-search-dropdown_menu_item"><a class="rx-link" href="" ng-click="selectAllFilter($event)">{{\'com.bmc.arsys.rx.standardlib.search.select.all\' | translate}}</a> <a class="rx-link rx-global-search-dropdown_menu_item_none" href="" ng-click="selectNoneFilter($event)">{{\'com.bmc.arsys.rx.standardlib.search.select.none\' | translate}}</a></li><li role="presentation" role="menuitem" ng-repeat="filterItem in filters"><div ng-click="updateFilters($event, filterItem)" class="{{(filterItem.selected) ? \'rx-global-search-dropdown__menu-options-item-option rx-global-search-dropdown-item_selected\' : \'rx-global-search-dropdown__menu-options-item-option rx-global-search-dropdown-item\'}}">{{filterItem.displayName | definitionName}}</div></li></ul></div></div></div><div layout="column" flex class="tms-tasks-grid-container"><div ng-show="!reload" ui-grid="gridOptions" ui-grid-infinite-scroll></div></div></div>'),a.put("scripts/security/session-expiration-modal.view.html",'<div class="d-modal__header"><h4 class="d-modal__title" ng-switch="sessionState.mode"><span ng-switch-when="idleSessionExpirationMode">Are you still there?</span> <span ng-switch-when="absoluteSessionExpirationMode">Session Expiration</span> <button class="close" ng-switch-when="absoluteSessionExpirationMode" type="button" ng-click="$dismiss()">&times;</button></h4></div><div class="d-modal__content rx-session-expiration-content" ng-switch="sessionState.mode"><div ng-switch-when="idleSessionExpirationMode">You haven\'t been active for little while.<br>Would you like to continue working?</div><div ng-switch-when="absoluteSessionExpirationMode">Your session is about to expire and you will be signed out for security purposes. Please save any work in progress</div></div><div class="d-modal__footer clearfix" ng-switch="sessionState.mode"><div class="rx-session-expiration-countdown d-icon-left-clock_o" ng-switch-when="idleSessionExpirationMode" ng-bind="sessionState.remainingTime"></div><button class="d-button d-button_primary d-button_large rx-session-expiration-button" type="button" ng-switch-when="idleSessionExpirationMode" ng-disabled="sessionState.isLoading" ng-click="keepAlive()">Continue</button> <button class="d-button d-button_secondary d-button_large rx-session-expiration-button" type="button" ng-switch-when="idleSessionExpirationMode" ng-disabled="sessionState.isLoading" ng-click="signOut()">Sign Out</button> <button class="d-button d-button_primary d-button_large rx-session-expiration-button" type="button" ng-switch-when="absoluteSessionExpirationMode" ng-click="$dismiss()">OK</button></div>'),a.put("scripts/view-component/view-component-placeholder.directive.html","<div class=\"well\"><h1>{{rxConfiguration.model.get('type')}}</h1></div>"),a.put("scripts/view-components/action-button/action-button-design.directive.html","<button type=\"button\" class=\"d-button {{sizeCls}} {{buttonCls}} d-icon-{{rxData.label ? 'left-' : ''}}{{iconCls}}\">{{rxData.label}}</button>"),a.put("scripts/view-components/action-button/action-button.directive.html",'<button type="button" class="d-button" ng-click="onClick()" ng-class="[cls, icon, sizeCls]" ng-disabled="config.disabled || isDisabled" ng-if="!config.hidden">{{config.label}} <span class="rx-action-button-content"><rx-action rx-configuration="action" ng-repeat="action in actions"></rx-action></span></button>'),a.put("scripts/view-components/action-button/editors/action-editor-dialog.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Add/Remove Actions</h4></div><div class="modal-body rx-action-editor-dialog-body"><div class="rx-action-editor-dialog-wrapper"><div class="rx-column-available-actions rx-action-editor-dialog-panel" layout="column"><h5>Available Actions</h5><div class="d-textfield d-textfield_label_hidden"><label class="custom-search-label d-textfield__label d-icon-left-search"><input ng-model="valueFilter" class="d-textfield__input custom-search" type="search" placeholder="Search actions"></label></div><div class="rx-action-editor-dialog-available-list" flex><div class="available-action" ng-repeat="action in availableActions | orderBy:name | filter:{label: valueFilter}" dnd-draggable="action" dnd-moved="availableActions.splice($index, 1)"><div class="action-pill" ng-dblclick="addAction(action.name)"><span class="action-pill-icon icon d-icon-plus_circle" ng-click="addAction(action.name)"></span><div class="action-pill-label">{{action.label}}</div></div></div></div></div><div class="rx-action-editor-dialog-data rx-action-editor-dialog-panel" layout="column"><div layout="row" layout-align="space-between center" class="rx-action-editor-dialog-data-header"><h5>Selected Actions</h5><div class="expand-collapse-buttons"><button class="d-button d-button_secondary d-button_small" ng-click="expandAll()">Expand All</button> <button class="d-button d-button_secondary d-button_small" ng-click="collapseAll()">Collapse All</button></div></div><div class="data-subheader">The order of these actions determines the sequence by which they will be performed.</div><div ng-show="!actions.length">No actions added.</div><div class="selected-actions" dnd-list="actions.models" dnd-drop="onDropHandler(index, item)" flex><div class="dndPlaceholder"></div><div class="selected-action-container" ng-repeat="action in actions.models" dnd-draggable="action" dnd-disable-if="$last && $first"><div dnd-nodrag><div class="button-open-action" ng-click="action.isCollapsed = !action.isCollapsed"><div class="left-header-block"><div dnd-handle class="header-icon d-icon-left-dots"></div><div class="action-name" title="{{::labelsMap[action.prop(\'rxData/name\')]}}">{{::labelsMap[action.prop(\'rxData/name\')]}}</div></div><div class="right-header-block"><div class="index-buttons"><button class="d-icon-left-triangle_down header-icon" ng-disabled="$last" ng-click="action.down(); $event.stopPropagation();" style="cursor: pointer"></button> <button class="d-icon-left-triangle_up header-icon" ng-disabled="$first" ng-click="action.up(); $event.stopPropagation();" style="cursor: pointer"></button></div><div ng-click="action.remove()" class="remove-button" style="cursor: pointer"><div class="d-icon-left-cross header-icon"></div><div class="remove-button-text">Remove</div></div><div class="arrow-pointer header-icon" ng-class="{\'d-icon-right-angle_down\' : action.isCollapsed , \'d-icon-right-angle_up\' : !action.isCollapsed}"></div></div></div><div uib-collapse="action.isCollapsed" class="d-collapse-panel collapse-content"><rx-action-editor action="action" class="dialog-view"></rx-action-editor></div></div></div></div></div></div><div class="rx-action-editor-dialog-action-buttons"><button type="button" class="d-button d-button_primary d-button_large" ng-click="ok()">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),a.put("scripts/view-components/action-button/editors/action-list.directive.html",'<div class="rx-inspector-selected-item-list"><a class="rx-inspector-selected-item-list__action-button d-icon-left-plus_circle" ng-click="openEditor()">Add/Remove Actions</a><div class="rx-inspector-selected-item-list__item" ng-repeat="action in actions.models" action="action"><span>{{::labelsMap[action.prop(\'rxData/name\')]}}</span><div class="rx-inspector-selected-item-list__item-action-buttons"><div class="d-icon-left-pencil" ng-click="openEditor(action)"></div><div class="d-icon-left-cross" ng-click="action.remove();"></div></div></div></div>'),a.put("scripts/view-components/action-button/editors/action-record-definition-picker.html",'<label ng-class="options.attrs.label.class">{{options.label}}:</label><rx-definition-picker rx-selected-definition-name="definition.name" rx-align="{{::options.align}}" rx-type="{{::options.definitionType}}"></rx-definition-picker>'),a.put("scripts/view-components/action-button/editors/inspector-action-editor.directive.html",'<div><label>Action<rx-tooltip tooltip="\'Creates a new button that can be used perform an action. For example, navigate to an external url, a view definition, to delete a record and so on.\'"></rx-tooltip></label><select ng-options="item.label for item in selectOptions" ng-change="onSelect()" ng-model="actionDescriptor" ng-disabled="isDisabled()" class="select"></select></div><a class="action-editor-move-down-action d-icon-arrow-down" ng-click="moveDown()" ng-show="!last"></a> <a class="action-editor-move-up-action d-icon-arrow-up" ng-click="moveUp()" ng-show="!first"></a> <a class="action-editor-remove-action d-icon-left-cross" ng-click="remove()"></a>'),a.put("scripts/view-components/action-button/editors/view-definition-params.directive.html",'<rx-expression-field label="param.label" value="param.value" cell="param.cell" path="param.path" ng-repeat="param in params"></rx-expression-field>'),a.put("scripts/view-components/action-button/editors/view-definition-selector.directive.html",'<div class="d-textfield" ng-class="{\'d-textfield_required\': options.isRequired}"><label class="d-textfield__item required">{{options.label || \'View\'}}</label><rx-definition-picker rx-selected-definition-name="selectedView.name" rx-align="{{::options.align}}" rx-type="view"></rx-definition-picker></div>'),a.put("scripts/view-components/action-button/editors/view-presentation-params.directive.html",'<div class="d-textfield"><label class="d-textfield__item">Presentation<rx-tooltip tooltip="{text: \'Select from the drop-down list how to display the target view in the deployed application.\', appendToBody: false, placement: \'top\'}"></rx-tooltip></label><select ng-options="option.value as option.label for option in options.type" ng-model="value.type"></select></div><div class="d-textfield" ng-hide="value.type === options.type.fullWidth.value"><label class="d-textfield__item">Title</label><input type="text" data-type="text" ng-model="value.title"></div><div class="d-textfield" ng-hide="value.type === options.type.fullWidth.value"><label class="d-textfield__item">Size</label><select ng-options="option.value as option.label for option in options.modalSize" ng-model="value.modalSize"></select></div><div class="d-textfield" ng-hide="value.type !== options.type.fullWidth.value"><label class="d-textfield__item">Launch Behavior</label><select ng-options="option.value as option.label for option in options.launchBehavior" ng-model="value.launchBehavior"></select></div>'),a.put("scripts/view-components/button-bar/button-bar-design.directive.html",'<div ng-class="alignment"><rx-view-designer-container node="containerLayout" class="component-container"></rx-view-designer-container></div>'),a.put("scripts/view-components/button-bar/button-bar.directive.html",'<div ng-class="alignment"><rx-runtime-view-container node="node"></rx-runtime-view-container></div>'),a.put("scripts/view-components/container/container-design.directive.html",'<rx-view-designer-container node="containerLayout" class="component-container" before-drop="onBeforeDrop(event, item)"></rx-view-designer-container>'),a.put("scripts/view-components/container/container.directive.html",'<rx-runtime-view-container node="node"></rx-runtime-view-container>'),a.put("scripts/view-components/record-editor/editors/inspector-record-definition-fields.directive.html",'<a class="field-action d-icon-left-plus_circle" ng-click="openEditor()">Quick Add/Remove Fields</a><div ng-repeat="field in fields" class="field-item"><div class="field-content"><div class="field-name">{{field.name}}</div><div class="field-type"><small>{{field.editorName}}</small></div></div><div class="action-buttons"><div class="d-icon-left-cross" ng-click="removeField(field.id)"></div></div></div><input type="text" data-attribute="{{path}}" data-type="text" style="display: none">'),a.put("scripts/view-components/record-editor/editors/inspector-record-editor-field-selector.html",'<div class="modal-header"><h4 class="modal-title">Quick Add/Remove Fields</h4><button type="button" class="d-button d-button_primary d-button_small" ng-click="apply()" ng-disabled="!canApply()">Apply</button> <span ng-click="cancel()" class="icon d-icon-cross"></span></div><div class="modal-body"><div class="record-definition-fields-search"><a class="select-all" ng-click="selectFields()">Select All</a><div class="d-textfield d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-search"><input class="d-textfield__input" type="search" placeholder="Type to filter field list" ng-model="filterValue"></label></div></div><div class="record-definition-fields-content"><div class="d-textfield"><div ng-show="requiredFields.length"><div class="d-textfield__item">Required fields:</div><a class="d-textfield__item" ng-click="selectRequiredFields()">Select All Required Fields</a></div><div class="d-checkbox d-checkbox_default record-definition-fields-checkbox" ng-repeat="field in fields | filter: {fieldOption: \'REQUIRED\'} | filter: {name: filterValue} | orderBy: \'name\' as requiredFields"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-model="field.selected"> <span class="d-checkbox__item">{{field.name}}</span></label></div></div><div class="d-textfield"><div ng-show="optinalFields.length"><div class="d-textfield__item">Optionals fields:</div><a class="d-textfield__item" ng-click="selectOptionalFields()">Select All Optional Fields</a></div><div class="d-checkbox d-checkbox_default record-definition-fields-checkbox" ng-repeat="field in fields | filter: filterOptionalFields | filter: {name: filterValue} | orderBy: \'name\' as optinalFields"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-model="field.selected"> <span class="d-checkbox__item">{{field.name}}</span></label></div></div><div class="d-textfield"><div ng-show="systemFields.length"><div class="d-textfield__item">System fields:</div><a class="d-textfield__item" ng-click="selectSystemFields()">Select All System Fields</a></div><div class="d-checkbox d-checkbox_default record-definition-fields-checkbox" ng-repeat="field in fields | filter: filterSystemFields | filter: {name: filterValue} | orderBy: \'name\' as systemFields"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-model="field.selected"> <span class="d-checkbox__item">{{field.name}}</span></label></div></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/association/association-design.directive.html",'<div class="rx-association__label">{{rxConfiguration.model.prop(\'rxData/label\')}}</div><div class="rx-association__buttons"><div class="rx-association__buttons-left"><button class="rx-association__button d-button d-button_secondary d-button_small">Associate</button> <button class="rx-association__button d-button d-button_secondary d-button_small" ng-if="rxConfiguration.model.prop(\'rxData/viewDefinitionNameForCreate\')">Create New</button></div><button class="rx-association__clear-all d-button d-button_action-clear d-button_small">Clear All</button></div><div class="rx-record-preview-card" ng-if="previewCardFields.length"><ul class="rx-record-preview-card__fields"><li class="rx-record-preview-card__field" ng-repeat="field in previewCardFields"><span class="rx-record-preview-card__label" ng-if="field.label">{{field.label}}</span> <span class="rx-record-preview-card__colons" ng-if="field.label">:</span> <span class="rx-record-preview-card__value">{{field.value}}</span></li></ul><span class="rx-record-preview-card__close d-button d-button_action-clear d-button_small d-icon-cross"></span></div><div class="rx-association__empty-message" ng-if="!previewCardFields.length"><i class="empty-view-component-icon d-icon-file_circle_slash_pencil"></i><div>Add fields in the Properties panel.</div></div>'),a.put("scripts/view-components/record-editor/field-components/association/association.directive.html",'<div class="rx-association" ng-hide="rxConfiguration.propertiesByName.hidden"><div class="rx-association__label">{{::rxConfiguration.propertiesByName.label}}</div><div class="rx-association__buttons" ng-hide="!areActionsAvailable()"><div class="rx-association__buttons-left"><rx-action-button class="rx-association__button" rx-configuration="associateButtonConfiguration"></rx-action-button><rx-action-button class="rx-association__button" ng-if="createAndAssociateButtonConfiguration" rx-configuration="createAndAssociateButtonConfiguration"></rx-action-button></div></div><div class="rx-association__preview-cards"><div ng-if="rxConfiguration.propertiesByName.state === RX_RECORD_EDITOR.defaultState.read"><div ng-switch="associationManager.cardinalityType"><div ng-switch-when="associationManager.cardinalityTypes.one"><div ng-if="existingPreviewConfigurations.length || pendingPreviewConfigurations.length"><rx-record-preview-card rx-configuration="existingPreviewConfigurations[0] || pendingPreviewConfigurations[0]"></rx-record-preview-card></div></div><div ng-switch-default><rx-record-preview-card ng-repeat="previewCardConfig in existingPreviewConfigurations" rx-configuration="previewCardConfig"></rx-record-preview-card><button ng-if="associationManager.totalExistingCount > existingPreviewConfigurations.length  + associationManager.deleted.length" class="d-button d-button_action-clear d-button_small" ng-click="loadExistingAssociations()">Show more</button></div></div></div><div ng-if="rxConfiguration.propertiesByName.state === \'EDIT\'"><div class="rx-association__preview-group" ng-if="existingPreviewConfigurations.length"><div class="rx-association__preview-existing-head"><span class="rx-association__preview-count">{{associationManager.totalExistingCount}} items</span> <button class="rx-association__clear-all d-button d-button_action-clear d-button_small" ng-hide="!areActionsAvailable() || rxConfiguration.propertiesByName.disabled" ng-click="deleteAllExisting()">Clear All</button></div><rx-record-preview-card ng-repeat="previewCardConfig in existingPreviewConfigurations" rx-configuration="previewCardConfig"></rx-record-preview-card><button ng-if="associationManager.totalExistingCount > existingPreviewConfigurations.length  + associationManager.deleted.length" class="d-button d-button_action-clear d-button_small" ng-click="loadExistingAssociations()">Show more</button></div><div class="rx-association__preview-group" ng-if="pendingPreviewConfigurations.length"><div class="rx-association__preview-pending-head"><p class="rx-association__group-title">Pending Associations:</p><div><span class="rx-association__preview-count">{{totalPendingCount}} items</span> <button class="rx-association__clear-all d-button d-button_action-clear d-button_small" ng-hide="!areActionsAvailable() || rxConfiguration.propertiesByName.disabled" ng-click="deleteAllPending()">Clear All</button></div></div><rx-record-preview-card ng-repeat="previewCardConfig in getPendingPreviewConfigurations()" rx-configuration="previewCardConfig"></rx-record-preview-card><button ng-if="totalPendingCount > currentPendingPageIndex" class="d-button d-button_action-clear d-button_small" ng-click="showPendingAssociations()">Show more</button></div></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/association/editors/associated-record-field-selector-dialog.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Show/Hide Fields in Preview</h4></div><div class="modal-body modal-body_no-padding rx-item-selector"><div class="rx-item-selector__wrapper"><div class="rx-item-selector__column rx-item-selector__left-column"><h5>Available Fields</h5><div class="d-textfield d-textfield_label_hidden"><label class="custom-search-label d-textfield__label d-icon-left-search"><input ng-model="valueFilter" class="d-textfield__input custom-search" type="search" placeholder="Search fields"></label></div><div class="rx-item-selector__available-list"><div class="rx-item-selector__available-item" ng-repeat="field in availableFields | orderBy:name | filter:{name: valueFilter}" dnd-draggable="field" dnd-moved="availableFields.splice($index, 1)"><div class="rx-item-selector__item-pill" ng-dblclick="addField(field, $index)"><span class="rx-item-selector__item-pill-icon icon d-icon-plus_circle" ng-click="addField(field)"></span><div>{{field.name}}</div></div></div></div></div><div class="rx-item-selector__column rx-item-selector__right-column"><div class="rx-item-selector__selected-header"><h5>Selected Fields</h5><div class="expand-collapse-buttons"><button class="d-button d-button_secondary d-button_small" ng-click="expandAll()">Expand All</button> <button class="d-button d-button_secondary d-button_small" ng-click="collapseAll()">Collapse All</button></div></div><div ng-show="!selectedFields.length">No fields added.</div><div class="rx-item-selector__selected-list" dnd-list="selectedFields" dnd-drop="onDropHandler(index, item)"><div class="rx-item-selector__selected-container" ng-repeat="selectedField in selectedFields" dnd-draggable="selectedField" dnd-disable-if="$last && $first"><div dnd-nodrag><div class="rx-item-selector__selected-item" ng-click="selectedField.isCollapsed = !selectedField.isCollapsed"><div class="rx-item-selector__selected-item-header-left"><div dnd-handle class="rx-item-selector__selected-item-header-icon d-icon-left-dots"></div><div class="" title="{{::selectedField.name}}">{{::selectedField.name}}</div></div><div class="rx-item-selector__selected-item-header-right"><div class="rx-item-selector__index-buttons"><button class="d-icon-left-triangle_down header-icon" ng-disabled="$last" ng-click="moveDown(selectedField); $event.stopPropagation();"></button> <button class="d-icon-left-triangle_up header-icon" ng-disabled="$first" ng-click="moveUp(selectedField); $event.stopPropagation();"></button></div><div ng-click="remove(selectedField)" class="rx-item-selector__remove-button"><div class="d-icon-left-cross header-icon"></div><div class="rx-item-selector__remove-button-text">Remove</div></div><div class="rx-item-selector__arrow-pointer header-icon" ng-class="{\'d-icon-right-angle_down\' : selectedField.isCollapsed , \'d-icon-right-angle_up\' : !selectedField.isCollapsed}"></div></div></div><div uib-collapse="selectedField.isCollapsed" class="rx-item-selector__selected-content d-collapse-panel collapse-content"><div class="d-textfield"><label class="d-textfield__label"><span class="d-textfield__item">Label</span> <input class="d-textfield__input" type="text" ng-model="selectedField.label" placeholder="Field label"></label></div></div></div></div></div></div></div><div class="rx-item-selector__action-buttons"><button type="button" class="d-button d-button_primary d-button_large" ng-click="apply()">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),a.put("scripts/view-components/record-editor/field-components/association/editors/inspector-associated-record-field-selector.directive.html",'<div class="rx-inspector-selected-item-list"><a class="rx-inspector-selected-item-list__action-button d-icon-left-plus_circle" ng-click="openEditor(0)">Show/Hide Fields in Preview</a><div ng-repeat="displayedField in displayedFields" class="rx-inspector-selected-item-list__item"><span>{{::displayedField.name}}</span><div class="rx-inspector-selected-item-list__item-action-buttons"><div class="d-icon-left-pencil" ng-click="openEditor($index)"></div><div class="d-icon-left-cross" ng-click="remove($index);"></div></div></div></div><input type="text" data-attribute="{{path}}" data-type="text" style="display: none">'),a.put("scripts/view-components/record-editor/field-components/attachment-field/attachment-field-design.directive.html",'<div class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\'}"><label class="d-textfield__label"><span class="d-textfield__item">{{fieldDefinition.label}}</span> <input type="file" readonly="readonly" disabled="disabled" aria-required="{{fieldDefinition.fieldOption == \'REQUIRED\'}}"></label></div>'),a.put("scripts/view-components/record-editor/field-components/attachment-field/attachment-field.directive.html",'<div class="rx-attachment-field" ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield"><label class="d-textfield__label"><span class="d-textfield__item">{{::rxConfiguration.propertiesByName.label}}</span> <span class="rx-attachment-item" ng-if="attachment"><a ng-click="saveAttachment()" title="{{attachment}}"><span class="rx-attachment-icon"></span>{{attachment}}</a></span></label></div></div><div ng-switch-when="EDIT"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\', \'d-textfield_invalid\' : form[fieldDefinition.name].$dirty && form[fieldDefinition.name].$invalid}"><label class="d-textfield__label"><span class="d-textfield__item">{{::rxConfiguration.propertiesByName.label}}</span></label><input class="rx-attachment-input" type="file"> <button class="d-button d-button_secondary d-button_small" type="button" ng-click="addAttachment()" ng-disabled="rxConfiguration.propertiesByName.disabled">{{attachment ? "Replace File" : "Choose File"}}</button><div class="rx-attachment-item" ng-if="attachment"><a class="rx-attachment-label" title="{{attachment}}" ng-click="saveAttachment()">{{attachment}}</a> <a class="rx-attachment-remove" ng-hide="rxConfiguration.propertiesByName.disabled" ng-click="remove()"><span class="d-icon-cross_circle"></span></a></div></div></div></div>'),
a.put("scripts/view-components/record-editor/field-components/boolean-field/boolean-field-design.directive.html",'<div class="d-textfield d-checkbox d-checkbox_switcher" ng-class="{\'d-checkbox_required\': fieldDefinition.fieldOption == \'REQUIRED\'}"><label class="d-checkbox__label"><input class="d-checkbox__input" ng-disabled="true" ng-checked="true" type="checkbox"> <span class="d-checkbox__item">{{fieldDefinition.label}}</span></label></div>'),a.put("scripts/view-components/record-editor/field-components/boolean-field/boolean-field.directive.html",'<div ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-include="\'scripts/view-components/record-editor/field-components/field-read.directive.html\'"></div></div><div ng-switch-when="EDIT"><div class="d-textfield" ng-class="{\'d-checkbox_required\': fieldDefinition.fieldOption == \'REQUIRED\', \'d-checkbox_disabled d-checkbox_required\': rxConfiguration.propertiesByName.disabled}" ng-show="!rxConfiguration.propertiesByName.hidden"><label class="d-textfield__label"><span class="d-textfield__item">{{::rxConfiguration.propertiesByName.label}}</span><rx-boolean ng-model="fieldInstance.value" rx-boolean-true="\'1\'" rx-boolean-false="\'0\'"></rx-boolean></label></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/character-field/character-field-design.directive.html",'<div class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\'}"><label class="d-textfield__label"><span class="d-textfield__item">{{fieldDefinition.label}}</span> <input ng-if="!fieldDefinition.namedListDefinition" class="d-textfield__input" type="text" readonly="readonly" disabled="disabled" aria-required="{{fieldDefinition.fieldOption == \'REQUIRED\'}}"><select ng-if="fieldDefinition.namedListDefinition" disabled="disabled"></select></label></div>'),a.put("scripts/view-components/record-editor/field-components/character-field/character-field-multiselect.view.html",'<div class="rx-multiselect"><button class="rx-multiselect__trigger rx-input d-icon-right-angle_down" type="button" ng-bind="header" ng-click="toggleSelect()"></button><div class="rx-multiselect__drop"><div class="rx-multiselect-search" ng-show="search"><div class="rx-multiselect-search__textfield d-textfield d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-search"><span class="d-textfield__item">Search</span> <input class="d-textfield__input" ng-model="searchText.label" type="search" ng-keydown="keydown($event)" autofocus="autofocus" placeholder="Search"></label></div></div><div class="rx-multiselect-search-actions text-right" ng-show="multiple"><button class="rx-multiselect-search__button d-button d-button_action d-button_small" ng-click="checkAll()">Select all</button> <button class="rx-multiselect-search__button d-button d-button_action d-button_small" ng-click="uncheckAll()">Select none</button></div><ul class="rx-multiselect-list"><li class="rx-multiselect-list__item" ng-repeat="item in items | filter : searchText"><a href tabindex="0" class="d-dropdown__link" ng-class="{\'is-checked\': item.checked }" ng-click="select(item); focus()"><span class="d-checkbox d-checkbox_default" ng-if="checkbox"><label class="d-checkbox__label"><input class="d-checkbox__input" type="checkbox" ng-checked="item.checked" tabindex="1"> <span class="d-checkbox__item">{{item.label}}</span></label></span> <span ng-if="!checkbox">{{item.label}}</span></a></li></ul></div></div>'),a.put("scripts/view-components/record-editor/field-components/character-field/character-field.directive.html",'<div ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-if="fieldDefinition.namedListDefinition && rxConfiguration.propertiesByName.enableMultiSelection"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield"><label class="d-textfield__label"><span class="d-textfield__item">{{::rxConfiguration.propertiesByName.label}}</span></label><span ng-repeat="label in formattedLabels.shown track by $index"><span ng-show="!$first">,</span> {{label}}</span><a ng-show="formattedLabels.rest.length" tooltip-append-to-body="true" uib-tooltip="{{formattedLabels.rest.join(\', \')}}" tooltip-placement="bottom">, {{(\'com.bmc.arsys.rx.standardlib.view-components.record-editor.more.label\' | translate:{count: formattedLabels.rest.length})}}</a></div></div><div ng-if="!(fieldDefinition.namedListDefinition && rxConfiguration.propertiesByName.enableMultiSelection)" ng-include="\'scripts/view-components/record-editor/field-components/field-read.directive.html\'"></div></div><div ng-switch-when="EDIT"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\', \'d-textfield_invalid\' : form[fieldDefinition.name].$dirty && form[fieldDefinition.name].$invalid}"><label class="d-textfield__label"><span class="d-textfield__item">{{rxConfiguration.propertiesByName.label}}</span> <input name="{{fieldDefinition.name}}" ng-if="!fieldDefinition.namedListDefinition && !isPasswordField" ng-readonly="rxConfiguration.propertiesByName.disabled" class="d-textfield__input" type="text" ng-model="fieldInstance.value" aria-required="{{fieldDefinition.fieldOption == \'REQUIRED\'}}" ng-required="fieldDefinition.fieldOption == \'REQUIRED\'" ng-attr-maxlength="{{::maxLength}}"> <input name="{{fieldDefinition.name}}" ng-if="isPasswordField" ng-disabled="rxConfiguration.propertiesByName.disabled" class="d-textfield__input" type="password" aria-required="{{fieldDefinition.fieldOption == \'REQUIRED\'}}" ng-model="encryptedPassword" ng-change="onPasswordChange()" ng-required="fieldDefinition.fieldOption == \'REQUIRED\'" ng-attr-maxlength="{{::maxLength}}"><ui-select ng-if="fieldDefinition.namedListDefinition\n                               && !rxConfiguration.propertiesByName.enableMultiSelection\n                               && !isPasswordField" ng-readonly="rxConfiguration.propertiesByName.disabled" ng-model="selectedOption" on-select="onSelect($item)"><ui-select-match allow-clear="{{fieldDefinition.fieldOption != \'REQUIRED\'}}">{{$select.selected.label}}</ui-select-match><ui-select-choices repeat="item in selectOptions | filter: $select.search"><div ng-bind-html="item.label | highlight: $select.search"></div></ui-select-choices></ui-select><am-multiselect ng-if="fieldDefinition.namedListDefinition\n                            && rxConfiguration.propertiesByName.enableMultiSelection\n                            && !isPasswordField" multiple="true" template-url="scripts/view-components/record-editor/field-components/character-field/character-field-multiselect.view.html" ng-model="multiSelectModel.value" ng-change="onMultiSelectChange(multiSelectModel.value)" options="option.value as option.label for option in selectOptions"></am-multiselect></label></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/date-field/date-field-design.directive.html",'<div ng-show="!rxConfiguration.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\'}"><label class="d-textfield__label"><span class="d-textfield__item">{{fieldDefinition.label}}</span><p class="input-group"><input type="text" ng-disabled="true" class="d-textfield__input"> <span class="input-group-btn"><button type="button" class="btn btn-default"><i class="d-icon-calendar"></i></button></span></p></label></div>'),a.put("scripts/view-components/record-editor/field-components/date-field/date-field.directive.html",'<div ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-include="\'scripts/view-components/record-editor/field-components/field-read.directive.html\'"></div></div><div ng-switch-when="EDIT"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\', \'d-textfield_invalid\' : form[fieldDefinition.name].$dirty && form[fieldDefinition.name].$invalid}"><label class="d-textfield__label"><span class="d-textfield__item">{{rxConfiguration.propertiesByName.label}}</span><p class="input-group"><input type="text" name="{{fieldDefinition.name}}" ng-disabled="rxConfiguration.propertiesByName.disabled" uib-datepicker-popup="yyyy-MM-dd" datepicker-options="datepickerOptions" show-button-bar="false" ng-model="data.date" ng-required="fieldDefinition.fieldOption == \'REQUIRED\'" is-open="data.opened" ng-change="dateChanged()" class="d-textfield__input"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="open($event)"><i class="d-icon-calendar"></i></button></span></p></label></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/date-time-field/date-time-field-design.directive.html",'<div ng-show="!rxConfiguration.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\'}"><span class="d-textfield__item d-textfield__item_label">{{fieldDefinition.label}}</span><div class="row"><div class="rx-datepicker-container"><div class="input-group"><input type="text" ng-disabled="true"> <span class="input-group-btn"><button type="button" class="btn btn-default"><i class="d-icon-calendar"></i></button></span></div></div><div class="rx-timepicker-container"><uib-timepicker ng-model="time" ng-disabled="true" readonly-input="true" show-meridian="ismeridian" class="d-timepicker d-timepicker__no-label"></uib-timepicker></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/date-time-field/date-time-field.directive.html",'<div ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-include="\'scripts/view-components/record-editor/field-components/field-read.directive.html\'"></div></div><div ng-switch-when="EDIT"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\', \'d-textfield_invalid\' : form[fieldDefinition.name].$dirty && form[fieldDefinition.name].$invalid}"><span class="d-textfield__item d-textfield__item_label">{{rxConfiguration.propertiesByName.label}}</span><div class="row"><div class="col-sm-6"><div class="input-group"><input type="text" name="{{fieldDefinition.name}}" class="d-textfield__input" ng-disabled="rxConfiguration.propertiesByName.disabled" uib-datepicker-popup="yyyy-MM-dd" ng-model="data.date" ng-required="fieldDefinition.fieldOption == \'REQUIRED\'" is-open="data.opened" datepicker-options="datepickerOptions" show-button-bar="false" ng-change="dateChanged()"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="open($event)"><i class="d-icon-calendar"></i></button></span></div></div><div class="col-sm-6"><uib-timepicker ng-model="data.date" ng-disabled="rxConfiguration.propertiesByName.disabled" ng-change="timeChanged()" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian" class="d-timepicker d-timepicker__no-label"></uib-timepicker></div></div></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/decimal-field/decimal-field.directive.html",'<div ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-include="\'scripts/view-components/record-editor/field-components/field-read.directive.html\'"></div></div><div ng-switch-when="EDIT"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\',\n     \'d-textfield_invalid\' : form[fieldDefinition.name].$dirty && form[fieldDefinition.name].$invalid}"><label class="d-textfield__label"><span class="d-textfield__item">{{rxConfiguration.propertiesByName.label}}</span> <input name="{{fieldDefinition.name}}" ng-readonly="rxConfiguration.propertiesByName.disabled" class="d-textfield__input" type="number" ng-model="fieldInstance.value" ng-pattern="/^(\\-)?(\\d{1,}(\\.)?\\d*){1}$/" rx-string-to-number ng-required="fieldDefinition.fieldOption == \'REQUIRED\'" aria-required="{{fieldDefinition.fieldOption== \'REQUIRED\'}}"></label></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/field-read.directive.html",'<div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield"><label class="d-textfield__label"><span class="d-textfield__item">{{::rxConfiguration.propertiesByName.label}}</span></label><p>{{getFormattedValue()}}</p></div>'),a.put("scripts/view-components/record-editor/field-components/floating-field/floating-field.directive.html",'<div ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-include="\'scripts/view-components/record-editor/field-components/field-read.directive.html\'"></div></div><div ng-switch-when="EDIT"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\', \'d-textfield_invalid\' : form[fieldDefinition.name].$dirty && form[fieldDefinition.name].$invalid}"><label class="d-textfield__label"><span class="d-textfield__item">{{rxConfiguration.propertiesByName.label}}</span> <input name="{{fieldDefinition.name}}" ng-readonly="rxConfiguration.propertiesByName.disabled" class="d-textfield__input" type="number" ng-model="fieldInstance.value" ng-pattern="/^(\\-)?(\\d{1,}(\\.)?\\d*){1}$/" rx-string-to-number ng-required="fieldDefinition.fieldOption == \'REQUIRED\'" aria-required="{{fieldDefinition.fieldOption == \'REQUIRED\'}}"></label></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/integer-field/integer-field.directive.html",'<div ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-include="\'scripts/view-components/record-editor/field-components/field-read.directive.html\'"></div></div><div ng-switch-when="EDIT"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\', \'d-textfield_invalid\' : form[fieldDefinition.name].$dirty && form[fieldDefinition.name].$invalid}"><label class="d-textfield__label"><span class="d-textfield__item">{{rxConfiguration.propertiesByName.label}}</span> <input name="{{fieldDefinition.name}}" ng-readonly="rxConfiguration.propertiesByName.disabled" class="d-textfield__input" type="number" ng-model="fieldInstance.value" ng-pattern="/^(\\-)?[0-9]+$/" rx-string-to-number ng-required="fieldDefinition.fieldOption == \'REQUIRED\'" aria-required="{{fieldDefinition.fieldOption == \'REQUIRED\'}}"></label></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/record-preview-card/record-preview-card.directive.html",'<div class="rx-record-preview-card" ng-class="{\'rx-record-preview-card_edit\': isEditableState()}"><ul class="rx-record-preview-card__fields"><li class="rx-record-preview-card__field" ng-repeat="field in ::rxConfiguration.fields"><span class="rx-record-preview-card__label" ng-if="::field.label">{{field.label}}</span> <span class="rx-record-preview-card__colons" ng-if="::field.label">:</span> <span class="rx-record-preview-card__value">{{field.value | rxRecordPreviewCardValue:maxFieldValueLength}}</span></li></ul><span class="rx-record-preview-card__close d-button d-button_action-clear d-button_small d-icon-cross" ng-click="rxConfiguration.onDelete(rxConfiguration.id)" ng-if="isEditableState()"></span></div>'),a.put("scripts/view-components/record-editor/field-components/select-group/select-group-design.directive.html",'<div class="empty-form-text" ng-if="!fieldDefinition.fieldList.length"><i class="empty-view-component-icon d-icon-file_circle_slash_pencil"></i><div>No fields have been added to this Select Group yet.</div><div><small>Add files through the Details panel to the right.</small></div></div><div class="field-list" ng-repeat="field in fieldDefinition.fieldList" ng-if="fieldDefinition.fieldList.length"><div class="d-textfield" ng-class="{\'d-textfield_required\': field.fieldOption == \'REQUIRED\'}"><label class="d-textfield__label"><span class="d-textfield__item">{{field.label || "&lt;No Label&gt;"}}</span><select disabled="disabled"><option>Default value</option></select></label></div></div>'),a.put("scripts/view-components/record-editor/field-components/select-group/select-group.directive.html",'<div ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-hide="rxConfiguration.propertiesByName.hidden"><div ng-repeat="field in fieldList"><div class="d-textfield"><label class="d-textfield__label"><span class="d-textfield__item">{{field.label}}</span><div>{{field.selectedOption.label}}</div></label></div></div></div></div><div ng-switch-when="EDIT"><div ng-hide="rxConfiguration.propertiesByName.hidden"><div class="field-list" ng-repeat="field in fieldList" ng-if="fieldList.length"><div class="d-textfield" ng-class="{\'d-textfield_required\': field.definition.fieldOption == \'REQUIRED\'}"><label class="d-textfield__label"><span class="d-textfield__item">{{field.label}}</span><ui-select ng-disabled="rxConfiguration.propertiesByName.disabled" ng-required="{{field.definition.fieldOption == \'REQUIRED\'}}" on-select="onListItemSelect($item, field)" ng-model="field.selectedOption"><ui-select-match allow-clear="{{field.definition.fieldOption != \'REQUIRED\'}}">{{$select.selected.label}}</ui-select-match><ui-select-choices repeat="item in field.selectOptions | filter: $select.search"><div ng-bind-html="item.label | highlight: $select.search"></div></ui-select-choices></ui-select></label></div></div></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/selection-field/selection-field-design.directive.html",'<div class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\'}"><label class="d-textfield__label"><span class="d-textfield__item">{{fieldDefinition.label}}</span><select disabled="disabled"><option>Default value</option></select></label></div>'),a.put("scripts/view-components/record-editor/field-components/selection-field/selection-field.directive.html",'<div ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-include="\'scripts/view-components/record-editor/field-components/field-read.directive.html\'"></div></div><div ng-switch-when="EDIT"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\'}"><label class="d-textfield__label"><span class="d-textfield__item">{{rxConfiguration.propertiesByName.label}}</span><ui-select name="{{fieldDefinition.name}}" ng-required="{{fieldDefinition.fieldOption == \'REQUIRED\'}}" ng-disabled="rxConfiguration.propertiesByName.disabled" ng-change="onModelValueChange(selectedOption.model)" ng-model="selectedOption.model"><ui-select-match allow-clear="{{fieldDefinition.fieldOption != \'REQUIRED\' && !rxConfiguration.propertiesByName.disabled}}">{{$select.selected.content}}</ui-select-match><ui-select-choices repeat="option in selectOptions | filter: $select.search"><div ng-bind-html="option.content | highlight: $select.search"></div></ui-select-choices></ui-select></label></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/textarea-field/textarea-field-design.directive.html",'<div class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\'}"><label class="d-textfield__label"><span class="d-textfield__item">{{fieldDefinition.label}}</span><textarea class="d-textfield__input" readonly="readonly" disabled="disabled"></textarea></label></div>'),a.put("scripts/view-components/record-editor/field-components/textarea-field/textarea-field.directive.html",'<div ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-include="\'scripts/view-components/record-editor/field-components/field-read.directive.html\'"></div></div><div ng-switch-when="EDIT"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\', \'d-textfield_invalid\' : form[fieldDefinition.name].$dirty && form[fieldDefinition.name].$invalid}"><label class="d-textfield__label"><span class="d-textfield__item">{{rxConfiguration.propertiesByName.label}}</span><textarea ng-readonly="rxConfiguration.propertiesByName.disabled" class="d-textfield__input" ng-required="fieldDefinition.fieldOption == \'REQUIRED\'" name="{{fieldDefinition.name}}" ng-model="fieldInstance.value"></textarea></label></div></div></div>'),a.put("scripts/view-components/record-editor/field-components/time-field/time-field-design.directive.html",'<div class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\'}"><span class="d-textfield__item d-textfield__item_label">{{fieldDefinition.label}}</span><uib-timepicker ng-model="time" show-meridian="ismeridian" class="d-timepicker" ng-disabled="true" readonly-input="true"></uib-timepicker></div>'),a.put("scripts/view-components/record-editor/field-components/time-field/time-field.directive.html",'<div ng-switch on="rxConfiguration.propertiesByName.state"><div ng-switch-when="READ"><div ng-include="\'scripts/view-components/record-editor/field-components/field-read.directive.html\'"></div></div><div ng-switch-when="EDIT"><div ng-show="!rxConfiguration.propertiesByName.hidden" class="d-textfield" ng-class="{\'d-textfield_required\': fieldDefinition.fieldOption == \'REQUIRED\'}"><span class="d-textfield__item d-textfield__item_label">{{rxConfiguration.propertiesByName.label}}</span><uib-timepicker ng-model="data.time" ng-change="timeChanged()" ng-disabled="rxConfiguration.propertiesByName.disabled" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian" class="d-timepicker"></uib-timepicker></div></div></div>'),a.put("scripts/view-components/record-editor/record-editor-all-fields.html",'<div class="rx-record-editor__field-container" ng-repeat="fieldGroupFilter in ::fieldGroupFilters track by $index" ng-if="componentDefinitions.length && recordDefintion.fieldDefinitions"><rx-record-editor-component-renderer ng-repeat="component in componentDefinitions | rxRecordEditorFieldComponentGroup: recordDefintion.fieldDefinitions:fieldGroupFilter | orderBy: \'propertiesByName.label\' as groupFields" rx-component-definition="component" rx-state="state"></rx-record-editor-component-renderer><hr class="rx-record-editor__separator" ng-if="!$parent.$last && groupFields.length !== 0"></div><div><button ng-show="isSaveButtonAvailable()" type="button" class="d-button d-button_primary d-button_small rx-record-editor-save" ng-disabled="!canSave()" ng-click="save()">{{\'com.bmc.arsys.rx.standardlib.common.save.label\' | translate}}</button> <button ng-show="isCancelButtonAvailable()" type="button" class="d-button d-button_secondary d-button_small rx-record-editor-close" ng-click="cancel()">{{\'com.bmc.arsys.rx.standardlib.common.cancel.label\' | translate}}</button></div>'),a.put("scripts/view-components/record-editor/record-editor-default.html",'<a ng-show="isEditStateAvailable()" class="edit-link d-icon-left-pencil rx-record-editor-edit" ng-click="switchToEditState()">{{\'com.bmc.arsys.rx.standardlib.common.edit.label\' | translate}}</a><div class="rx-record-editor__field-container"><rx-record-editor-component-renderer ng-repeat="component in componentDefinitions | orderBy: \'order\'" rx-component-definition="component" rx-state="state"></rx-record-editor-component-renderer></div><div class="rx-record-invalid-message" ng-show="!isConfigValid()">{{\'com.bmc.arsys.rx.standardlib.view-components.record-editor.record-invalid-message.label\' | translate}}.</div><div ng-show="isConfigValid()" class="rx-record-editor__button-bar"><button ng-show="isSaveButtonAvailable()" type="button" class="d-button d-button_primary d-button_small rx-record-editor-save" ng-disabled="!canSave()" ng-click="save()">{{\'com.bmc.arsys.rx.standardlib.common.save.label\' | translate}}</button> <button ng-show="isCancelButtonAvailable()" type="button" class="d-button d-button_secondary d-button_small rx-record-editor-close" ng-click="cancel()">{{\'com.bmc.arsys.rx.standardlib.common.cancel.label\' | translate}}</button></div>'),a.put("scripts/view-components/record-editor/record-editor-design.directive.html",'<div ng-class="{\'empty-form\': isFormEmpty()}"><div class="info-text"><i class="empty-view-component-icon d-icon-file_circle_slash_pencil"></i><div>Drop fields from the Palette here or select a Record Definition and add fields in the Properties panel.</div></div><rx-view-designer-container node="recordEditorLayout" class="component-container" before-drop="onBeforeDrop(event, item)"></rx-view-designer-container></div>'),a.put("scripts/view-components/record-editor/record-editor.directive.html",'<div class="rx-record-editor {{state == \'READ\' ? \'rx-record-editor-read-state\' : \'\'}} {{columns ? \'rx-record-editor_columns-\' + columns : \'\'}} {{styles}}"><div ng-if="missingRequiredFields.length" class="d-notification d-notification_error"><div class="d-notification__icon d-icon-left-exclamation_triangle"></div><div class="d-notification__supporting-text"><p class="d-notification__item">{{\'com.bmc.arsys.rx.standardlib.view-components.record-editor.missing-required-fields.label\' | translate}}{{missingRequiredFields.join(\', \')}}.</p></div></div><form class="rx-record-editor__form rx-theme-main-border-color rx-theme-main-text-color rx-theme-main-background-color" name="rxRecordEditorForm" novalidate><div ng-include="template"></div></form></div>'),a.put("scripts/view-components/record-grid/editors/record-grid-column-editor/inspector-record-grid-column-editor.directive.html",'<a class="d-icon-left-plus_circle" ng-click="openEditor()">Add/Remove Grid Columns</a><div ng-show="visibleColumns.length"><label><rx-tooltip tooltip="options.tooltip"></rx-tooltip>Visible by Default:</label><div ng-repeat="selectedColumn in columns | orderBy:\'index\' | filter:{visible:true} as visibleColumns" class="selected-options"><span>{{selectedColumn.title}}</span><div class="action-buttons"><div class="d-icon-left-pencil" ng-click="openEditor(selectedColumn.fieldId)"></div><div class="d-icon-left-cross" ng-click="removeColumn(selectedColumn)"></div></div><div class="column-type">{{selectedColumn.type}}</div></div></div><div ng-show="additionalColumns.length"><label>Additional Columns:</label><div ng-repeat="selectedColumn in columns | filter:{visible:false} as additionalColumns" class="selected-options"><span title="{{::selectedColumn.title}}">{{selectedColumn.title}}</span><div class="action-buttons"><div class="d-icon-left-pencil" ng-click="openEditor(selectedColumn.id)"></div><div class="d-icon-left-cross" ng-click="removeColumn(selectedColumn)"></div></div><div class="column-type">{{selectedColumn.type}}</div></div></div><input type="text" data-attribute="{{path}}" data-type="text" style="display: none">'),a.put("scripts/view-components/record-grid/editors/record-grid-column-editor/record-grid-column-editor.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Add/Remove Grid Columns</h4></div><div class="modal-body rx-record-grid-column-editor"><div class="rx-record-grid-column-editor-wrapper"><div class="rx-column-available-columns rx-record-grid-column-editor-panel" layout="column"><h5>Available Columns</h5><div class="d-textfield d-textfield_label_hidden"><label class="custom-search-label d-textfield__label d-icon-left-search"><input ng-model="valueFilter" class="d-textfield__input custom-search" type="search" placeholder="Search columns"></label></div><div class="rx-record-grid-column-editor-available-list" flex><div class="available-column" ng-repeat="column in availableColumns | orderBy:name | filter:valueFilter" dnd-draggable="column" dnd-moved="availableColumns.splice($index, 1)"><div class="column-pill" ng-dblclick="addColumn(column)"><span class="column-pill-icon icon d-icon-plus_circle" ng-click="addColumn(column, $event)"></span><div class="column-pill-label">{{column.name}}</div></div></div></div></div><div class="rx-record-grid-column-editor-data rx-record-grid-column-editor-panel" layout="column"><div layout="row" layout-align="space-between center" class="rx-record-grid-column-editor-data-header"><h5>Selected Columns</h5><div class="expand-collapse-buttons"><button class="d-button d-button_secondary d-button_small" ng-click="expandAll()">Expand All</button> <button class="d-button d-button_secondary d-button_small" ng-click="collapseAll()">Collapse All</button></div></div><div class="rx-record-grid-column-editor-data-empty" ng-show="!columns.value.length">No columns added.</div><div class="selected-columns" dnd-list="columns.value" dnd-drop="onDropHandler(item)" flex><div class="dndPlaceholder"></div><div class="selected-column-container" ng-repeat="column in columns.value" ng-init="cell = column.cell" dnd-draggable="column" dnd-moved="columns.value.splice($index, 1)"><div dnd-nodrag><div class="button-open-column" ng-click="column.isCollapsed = !column.isCollapsed"><div class="left-header-block"><div dnd-handle class="header-icon d-icon-left-dots"></div><div class="column-name" title="{{::column.name}}">{{column.name}}</div></div><div class="right-header-block"><div class="index-buttons"><button class="d-icon-left-triangle_down header-icon" ng-disabled="$last" ng-click="moveDown(column); $event.stopPropagation();"></button> <button class="d-icon-left-triangle_up header-icon" ng-disabled="$first" ng-click="moveUp(column); $event.stopPropagation();"></button></div><div ng-click="removeColumn(column)" class="remove-button"><div class="d-icon-left-cross header-icon"></div><div class="remove-button-text">Remove</div></div><div class="arrow-pointer header-icon" ng-class="{\'d-icon-right-angle_down\' : column.isCollapsed , \'d-icon-right-angle_up\' : !column.isCollapsed}"></div></div></div><div uib-collapse="column.isCollapsed" class="d-collapse-panel collapse-content"><div class="rx-record-grid-column-editor-text-fields"><div><label>Column Header</label><input type="text" class="rx-input" ng-model="column.title"></div></div><div class="rx-record-grid-column-editor__checkbox-fields"><div class="d-checkbox d-checkbox_default rx-record-grid-column-editor__checkbox-field" ng-repeat="property in ::columnProperties"><label ng-click="onColumnPropertyChanged(column, property.name, $event)"><input class="d-checkbox__input" type="checkbox" ng-model="column[property.name]"> <span class="d-checkbox__label d-checkbox__item">{{::property.label}}<rx-tooltip tooltip="property.tooltip"></rx-tooltip></span></label><rx-action-list ng-if="property.name === \'clickable\' && column[property.name]"></rx-action-list></div></div></div></div></div></div></div></div><div class="rx-record-grid-column-editor-action-buttons"><button type="button" class="d-button d-button_primary d-button_large" ng-click="ok()">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),a.put("scripts/view-components/record-grid/editors/record-grid-sort-editor/inspector-record-grid-sort-editor.directive.html",'<label ng-class="::options.attrs.label.class">{{::options.label}}:</label><div class="rx-inspector-record-grid-sort-editor__container"><select class="select rx-inspector-record-grid-sort-editor__select" ng-options="column.title for column in columns | filter:initialSortColumnsFilter" ng-model="selectedColumn"><option value="">None Selected</option></select><!-- Show direction buttons only when any column has sortable value--><div class="rx-inspector-record-grid-sort-editor__buttons" ng-class="{visible: selectedDirection}"><ul class="d-button-group d-button-group_small"><li class="d-button-group__item" ng-repeat="direction in ::directions"><button class="d-button-group__btn d-icon-arrow_{{direction.icon}}" ng-click="changeDirection(direction.value)" ng-class="{\'is-checked\': isCheckedDirection(direction.value)}"></button></li></ul></div></div><!-- Hack: hidden input for Inspector because without it we get "closest" error --><input type="text" data-attribute="{{path}}" data-type="text" style="display: none">'),
a.put("scripts/view-components/record-grid/record-grid-design.directive.html",'<div><div ng-show="!hasRecordDefinitionName()" class="info-text"><i class="empty-view-component-icon d-icon-file_circle_slash_pencil"></i><div>Select a Record Definition and add/remove Grid Columns in the Properties panel.</div></div><div ng-show="hasRecordDefinitionName()"><rx-view-designer-container node="recordGridLayout" class="component-container" before-drop="onBeforeDrop(event, item)"></rx-view-designer-container><div class="rx-record-grid-toolbar"><div class="rx-record-grid-toolbar__left"><a class="rx-record-grid-toolbar__item d-button d-button_action d-button_large d-icon-refresh"></a><div class="rx-record-grid-toolbar__item"><div class="d-textfield d-textfield_label_hidden"><label class="d-textfield__label d-icon-left-search"><input class="d-textfield__input" type="search" ng-disabled="true" placeholder="Type to search grid"></label></div></div><div class="rx-record-grid-toolbar__item"><div class="d-dropdown__trigger d-button d-button_action d-button_large d-icon-left-filter d-icon-right-angle_down" ng-show="rxConfiguration.model.prop(\'rxData/enableFiltering\')">Filter</div></div></div><div class="rx-record-grid-toolbar__right"><div class="d-dropdown d-js-dropdown d-dropdown_selected-columns rx-record-grid-toolbar__item"><div class="d-dropdown__trigger d-icon-ellipsis d-button d-button_action d-button_large"></div></div></div></div></div><!-- can\'t use ng-show here because ui-grid requires being rendered right away to properly calculate columns size --><div ui-grid="gridOptions" ng-class="{\'invisible\': !hasRecordDefinitionName()}"></div></div>'),a.put("scripts/view-components/record-grid/record-grid-toolbar.directive.html",'<div class="rx-record-grid-toolbar__left"><a class="rx-record-grid-toolbar__item d-button d-button_action d-button_large d-icon-refresh" ng-click="refreshGridData()"></a><form class="rx-record-grid-toolbar__item rx-record-grid-toolbar__item_search" ng-submit="applySearchText()"><div class="d-textfield d-textfield_label_hidden"><label class="d-textfield__label"><button type="submit" class="d-textfield__action d-button d-button_action d-icon-search"></button> <button class="d-textfield__action d-button d-button_action d-icon-cross" ng-click="clearSearch()" ng-show="searchText"></button> <input ng-model="searchText" class="d-textfield__input" type="text" placeholder="{{\'com.bmc.arsys.rx.standardlib.view-components.record-grid.search.placeholder\' | translate}}"></label></div></form><div class="rx-record-grid-toolbar__item rx-record-grid-toolbar__item_filter" ng-if="filter.config"><rx-search-filter rx-filter-data="filter.data" rx-filter-configuration="filter.config"></rx-search-filter></div></div><div class="rx-record-grid-toolbar__right"><div data-mode="multiselectable" data-model="visibleColumns" class="d-dropdown d-js-dropdown d-dropdown_selected-columns rx-record-grid-toolbar__item"><div class="d-dropdown__trigger d-icon-ellipsis d-button d-button_action d-button_large"></div><div class="d-dropdown__menu"><div class="d-dropdown__menu-caption"><span>{{\'com.bmc.arsys.rx.standardlib.view-components.record-grid.visible-columns.label\' | translate}}</span></div><ul class="d-dropdown__menu-options"><li class="d-dropdown__menu-options-item" ng-repeat="column in uiGridOptions.columnDefs | orderBy: \'name\'"><a class="d-dropdown__menu-options-item-option" data-value="{{column.field}}">{{column.name}}</a></li></ul></div></div></div><!--Action Bar--><div class="rx-record-grid-toolbar__action-bar" ng-class="{active: isActionBarVisible}"><span class="rx-record-grid-toolbar__item rx-record-grid-toolbar__item_selected-row-count">{{selectionData.totalRowCount > 1 ? (\'com.bmc.arsys.rx.standardlib.view-components.record-grid.multiple-rows-selected.label\' | translate:{count: selectionData.selectedRowCount, total: selectionData.totalRowCount}) : (\'com.bmc.arsys.rx.standardlib.view-components.record-grid.single-row-selected.label\' | translate) }}</span><ul class="rx-record-grid-toolbar__action-buttons"><li class="rx-record-grid-toolbar__item" ng-repeat="button in config.actionButtons" ng-hide="button.propertiesByName.hidden"><rx-action-button rx-configuration="button" rx-view-component-id="{{button.guid}}"></rx-action-button></li></ul></div><!--Action Bar End-->'),a.put("scripts/view-components/record-grid/record-grid.directive.html",'<div class="rx-action-button-content"><div class="rx-column-action-container" ng-repeat="column in columnsWithActions"><rx-action rx-configuration="action" ng-repeat="action in column.actions"></rx-action></div></div><rx-record-grid-toolbar></rx-record-grid-toolbar><!-- ui-grid appended here -->'),a.put("scripts/view-components/rich-text/rich-text-design.directive.html",'<!--this nested structure of div\'s is here to prevent drop into ckeditor from the outside--><div class="wrapper"><div class="backdrop"></div><div class="cke-scrollable-area"><div class="editor" contenteditable="true"></div></div></div>'),a.put("scripts/view-components/rich-text/rich-text.directive.html",'<div ng-show="!rxConfiguration.propertiesByName.hidden" ng-bind-html="html"></div>'),a.put("scripts/view-components/shell/editors/global-search-editor.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Configure Results View</h4></div><div class="modal-body rx-global-search-editor"><div class="rx-global-search-editor-wrapper"><div class="rx-record-available-records rx-global-search-editor-panel" layout="column"><h5>Available Records to Search:</h5><div class="d-textfield d-textfield_label_hidden"><label class="custom-search-label d-textfield__label d-icon-left-search"><input ng-model="valueFilter" class="d-textfield__input custom-search" type="search" placeholder="Search Records"></label></div><div class="rx-global-search-editor-available-list" flex><div class="available-record" ng-repeat="record in availableRecords | orderBy:name | filter:valueFilter" dnd-draggable="record" dnd-moved="availableRecords.splice($index, 1)"><div class="record-pill" ng-dblclick="addRecord(record)"><span class="record-pill-icon icon d-icon-plus_circle" ng-click="addRecord(record, $event)"></span><div class="record-pill-label">{{::record.definitionName}}</div></div></div></div></div><div class="rx-global-search-editor-data rx-global-search-editor-panel" layout="column"><div layout="row" layout-align="space-between center" class="rx-global-search-editor-data-header"><h5>Records Included in Search Results:</h5><div class="expand-collapse-buttons"><button class="d-button d-button_secondary d-button_small" ng-click="expandAll()">Expand All</button> <button class="d-button d-button_secondary d-button_small" ng-click="collapseAll()">Collapse All</button></div></div><div class="rx-global-search-editor-data-empty" ng-show="!records.length">No records added.</div><div class="selected-records" dnd-list="records" dnd-drop="onDropHandler(item)" flex><div class="dndPlaceholder"></div><div class="selected-record-container" ng-repeat="record in records" dnd-draggable="record" dnd-moved="records.splice($index, 1)"><div dnd-nodrag><div class="button-open-record" ng-click="record.isCollapsed = !record.isCollapsed"><div class="left-header-block"><div class="record-name" title="{{::record.definitionName}}">{{::record.definitionName}}</div></div><div class="right-header-block"><div ng-click="removeRecord(record)" class="remove-button"><div class="d-icon-left-cross header-icon"></div><div class="remove-button-text">Remove</div></div><div class="arrow-pointer header-icon" ng-class="{\'d-icon-right-angle_down\' : record.isCollapsed , \'d-icon-right-angle_up\' : !record.isCollapsed}"></div></div></div><div uib-collapse="record.isCollapsed" class="d-collapse-panel collapse-content"><div class="rx-global-search-editor-input-fields d-textfield d-textfield_required"><div><label class="d-textfield__label"><span class="d-textfield__item">Display View When Clicked</span></label><rx-definition-picker rx-selected-definition-name="record.view" rx-align="left" rx-type="view"></rx-definition-picker></div></div></div></div></div></div></div></div><div class="rx-global-search-editor-action-buttons"><button type="button" class="d-button d-button_primary d-button_large" ng-disabled="isSaveDisabled()" ng-click="ok()">Save</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></div>'),a.put("scripts/view-components/shell/editors/inspector-global-search-editor.directive.html",'<a class="d-icon-left-plus_circle" ng-click="openEditor()">Configure Results View</a><div ng-show="records.length"><label>Records Included in Search Results:</label><div ng-repeat="selectedRecord in records | orderBy:\'index\' " class="selected-options"><span class="selected-name">{{selectedRecord.definitionName}}</span><div class="action-buttons"><div class="d-icon-left-pencil" ng-click="openEditor(selectedRecord)"></div><div class="d-icon-left-cross" ng-click="removeRecord(selectedRecord)"></div></div></div></div><input type="text" data-attribute="{{path}}" data-type="text" style="display: none">'),a.put("scripts/view-components/shell/editors/inspector-menu-item-editor.directive.html",'<div ng-if="!navbarItems.length"><small>No menu items have been defined. Drag and drop menu groups or menu items onto the canvas to define the menu.</small></div><div class="rx-inspector-menu-item-editor" ng-if="navbarItems.length"><div ng-repeat="item in navbarItems | orderBy:\'index\'"><div class="selected-options"><span class="selected-name">{{item.menuItemName}}</span><div class="action-buttons"><div class="d-icon-left-pencil" ng-click="openEditor(item)"></div><div class="d-icon-cross" ng-click="removeItem(item)"></div></div><span class="selected-type">{{item.menuItemType}}</span> <span class="selected-type" ng-if="item.actionName">({{item.actionName}})</span></div><div ng-repeat="child in item.componentDefinitions | orderBy:\'index\'" class="selected-options selected-sub-options"><span class="selected-name">{{child.menuItemName}}</span><div class="action-buttons"><div class="d-icon-left-pencil" ng-click="openEditor(child)"></div><div class="d-icon-cross" ng-click="removeItem(child)"></div></div><span class="selected-type">{{child.menuItemType}}</span> <span class="selected-type" ng-if="child.actionName">({{child.actionName}})</span></div></div></div>'),a.put("scripts/view-components/shell/menu-components/menu-group/shell-menu-group-design.directive.html",'<div class="d-n-menu menu-item menu-group" dnd-list="holder" dnd-dragover="handleDragover(type)" dnd-drop="handleDrop(event)"><div class="d-n-menu__item" ng-class="{\'d-n-dropdown__trigger\': manager.selectedMenuGroupId === id}" ng-click="toggleDropdown()"><span class="d-n-dropdown__trigger-back"></span> <a class="d-n-menu__link"><span class="d-n-dropdown__trigger-title menu-item-label">{{menuGroupDefinition.menuGroupName}} <span class="d-icon-right-angle_down"></span></span></a><rx-view-designer-container node="menuGroupItemsLayout" class="d-n-dropdown component-container clearfix"></rx-view-designer-container></div></div>'),a.put("scripts/view-components/shell/menu-components/menu-group/shell-menu-group.directive.html","<div>Menu Group</div>"),a.put("scripts/view-components/shell/menu-components/menu-item/shell-menu-item-design.directive.html",'<div class="menu-item d-icon-{{menuItemDefinition.menuItemName ? \'left-\' : \'\'}}{{menuItemDefinition.iconCls}}"><span class="menu-item-label" ng-class="{spacer: menuItemDefinition.iconCls}" ng-show="menuItemDefinition.menuItemName">{{menuItemDefinition.menuItemName}}</span></div>'),a.put("scripts/view-components/shell/menu-components/menu-item/shell-menu-item.directive.html","<div>{{'com.bmc.arsys.rx.standardlib.view-components.shell.shell-menu-item.menu-item.label' | translate}}</div>"),a.put("scripts/view-components/shell/shell-design.directive.html",'<div class="rx-shell-design"><header class="d-n-header"><nav class="d-n-nav" role="navigation"><div class="d-n-menu rx-shell-app-switcher"><div class="d-n-menu__item"><a class="d-n-menu__logo"><span class="bmc-logo rx-theme-small-logo-light"></span></a></div><div class="d-n-menu__item d-n-dropdown__trigger"><a class="d-n-menu__link" ng-class="{\'d-icon-right-angle_down\': navBarDefinition.allowAppSwitching}"><span class="d-n-dropdown__trigger-back"></span> <span class="d-n-dropdown__trigger-title d-n-menu__divider">{{bundleFriendlyName}}</span></a></div></div><rx-view-designer-container node="shellLayout" class="menu-items-container component-container clearfix" before-drop="onBeforeDrop(event, item)"></rx-view-designer-container><div class="d-n-actions"><span class="d-n-action d-icon-gear"></span><div class="d-n-action d-n-nav__profile d-profile d-profile_size-tiny d-profile_rounded d-n-menu__divider"><span class="d-n-dropdown__trigger-back d-n-dropdown-profile__trigger-back"></span> <span class="d-profile__image d-n-profile__image d-icon-left-user_circle"></span> <i class="d-icon-left-angle_down d-n-profile__arrow"></i></div><a class="d-n-action d-n-action__search d-icon-left-search" ng-hide="navBarDefinition.globalSearchDisabled"></a></div></nav></header></div>'),a.put("scripts/view-components/shell/shell-menu.html",'<div class="rx-shell-blade__dialog" role="dialog" aria-labelledby="modalLabel"><div class="rx-shell-blade__dialog" id="action-blade"><nav class="d-n-hamburger__overlay-wrap" role="navigation"><button class="d-n-hamburger__close rx-shell__button d-icon-left-cross" ng-click="close()"></button><div class="d-n-hamburger__logo"><a class="d-n-hamburger__logo-image rx-shell__logo"><div class="rx-theme-small-logo-light"></div></a></div><ul class="d-n-hamburger__nav"><li class="d-n-dropdown__divider"><div class="d-n-hamburger__nav-link" ng-if="!allowAppSwitching"><span>{{currentApp.friendlyName}}</span></div><a class="d-n-hamburger__nav-link d-icon-right-angle_down" ng-if="allowAppSwitching" ng-click="toggleAppList()"><span>{{currentApp.friendlyName}}</span></a><!-- todo: make app list hidden on open for now, will refactor if Brian suggest something different --><ul class="d-n-hamburger__submenu" ng-hide="hideAppList"><li ng-repeat="app in appList"><a class="d-n-hamburger__nav-link d-n-nav__submenu-link" ng-href="/{{::app.id}}/index.html">{{::app.friendlyName}}</a></li></ul></li></ul><ul class="d-n-hamburger__nav"><li ng-repeat="menuItem in menu.items" ng-hide="menuItem.hidden"><a ng-if="menuItem.state" class="d-n-hamburger__nav-link d-icon-left-{{::menuItem.icon}}" ng-class="{\'is-active\' : menuItem.selected}" ui-sref="{{::menuItem.state.name || menuItem.state}}({{::menuItem.state.params}})" ng-click="itemSelected()">{{::menuItem.label}}</a> <a ng-if="menuItem.url" class="d-n-hamburger__nav-link d-icon-left-{{::menuItem.icon}}" ng-class="{\'is-active\' : menuItem.selected}" href="{{::menuItem.url}}" ng-click="itemSelected()">{{::menuItem.label}}</a> <a ng-if="menuItem.navigationBarItems" class="d-n-hamburger__nav-link d-icon-left-{{::menuItem.icon}}">{{::menuItem.label}}</a><ul class="d-n-hamburger__submenu" ng-if="menuItem.navigationBarItems"><li ng-repeat="subMenuItem in menuItem.navigationBarItems" ng-hide="subMenuItem.hidden"><a ng-if="subMenuItem.state" class="d-n-hamburger__nav-link d-n-nav__submenu-link d-icon-left-{{::subMenuItem.icon}}" ng-class="{\'is-active\' : subMenuItem.selected}" ui-sref="{{::subMenuItem.state.name || subMenuItem.state}}({{::subMenuItem.state.params}})" ng-click="itemSelected()">{{::subMenuItem.label}}</a> <a ng-if="subMenuItem.url" class="d-n-hamburger__nav-link d-n-nav__submenu-link d-icon-left-{{::subMenuItem.icon}}" ng-class="{\'is-active\' : subMenuItem.selected}" href="{{::subMenuItem.url}}" ng-click="itemSelected()">{{::subMenuItem.label}}</a></li></ul></li></ul></nav></div></div>'),a.put("scripts/view-components/shell/shell-notification-show-all-template.html",'<div class="rx-shell-notification-dialog__container"><div class="d-n-nav rx-shell-notification-dialog__title-section">{{\'com.bmc.arsys.rx.standardlib.view-components.shell.notification.viewAll.label\' | translate}}</div><div class="rx-shell-notification-dialog__content-section"><div ng-repeat="notification in model.notifications"><div class="rx-shell-notification-dialog__content-title rx-default-border" translate="com.bmc.arsys.rx.standardlib.view-components.shell.notification.{{notification.type}}.label" translate-values="{ count: notification.count }"></div><div class="rx-shell-notification__empty-holder" ng-if="notification.count===0">{{\'com.bmc.arsys.rx.standardlib.view-components.shell.notification.\' + notification.type + \'.noNotifications.label\' | translate}}</div><div ng-if="notification.count"><div class="rx-shell-notification__item rx-default-border" ng-class="{\'rx-shell-notification__item-dismiss\' : item.dismissInProgress}" ng-repeat="item in notification.list"><div class="rx-shell-notification__item-icon-section d-icon-left-speaker"></div><div class="rx-shell-notification__item-content-section"><div class="rx-shell-notification__item-content-text" ng-bind-html="item[model.userMessageDef.fields.body]"></div><div class="rx-shell-notification__item-content-date">{{item[model.userMessageDef.fields.modifiedDate] | date:\'medium\'}}</div></div><div class="rx-shell-notification__item-dismiss-section" ng-if="notification.type===\'active\'"><button class="d-button_action d-button_small d-icon-left-cross" ng-if="!item.dismissInProgress" ng-click="model.dismissNotification(item)"></button><div class="rx-shell-notification__item-dismiss-preloader"><div class="d-preloader d-icon-left-circle_25_o" ng-if="item.dismissInProgress"></div></div></div></div></div><div class="d-preloader d-icon-left-circle_25_o" ng-if="notification.loadingInProgress"></div><div class="rx-shell-notification-dialog__content-loadMore" ng-if="!notification.loadingInProgress && notification.count > notification.list.length"><button class="d-button d-button_action d-button_small" translate="com.bmc.arsys.rx.standardlib.view-components.shell.notification.action.loadMore" translate-values="{ chunkSize: model.chunkSize }" ng-click="model.getNotifications(notification.type, true)"></button></div></div></div><div class="rx-shell-notification-dialog__footer-section rx-default-border"><button class="d-button d-button_secondary d-button_small" ng-click="dismiss()">{{\'com.bmc.arsys.rx.standardlib.view-components.shell.notification.action.close\' | translate}}</button></div></div>'),a.put("scripts/view-components/shell/shell-notification-template.html",'<div class="rx-shell-notification__container"><div class="rx-shell-notification__title-section rx-default-border">{{\'com.bmc.arsys.rx.standardlib.view-components.shell.notification.title\' | translate}} <button class="d-button d-button_action-clear d-button_small" ng-click="viewAll()">{{\'com.bmc.arsys.rx.standardlib.view-components.shell.notification.action.viewAll\' | translate}}</button></div><div class="rx-shell-notification__empty-holder" ng-if="model.notifications.active.count===0">{{\'com.bmc.arsys.rx.standardlib.view-components.shell.notification.active.noNotifications.label\' | translate}}</div><div ng-if="model.notifications.active.count"><div class="rx-shell-notification__item rx-default-border" ng-class="{\'rx-shell-notification__item-dismiss\' : item.dismissInProgress}" ng-repeat="item in model.notifications.active.list"><div class="rx-shell-notification__item-icon-section d-icon-left-speaker"></div><div class="rx-shell-notification__item-content-section"><div class="rx-shell-notification__item-content-text" ng-bind-html="item[model.userMessageDef.fields.body]"></div><div class="rx-shell-notification__item-content-date">{{item[model.userMessageDef.fields.modifiedDate] | date:\'medium\'}}</div></div><div class="rx-shell-notification__item-dismiss-section"><button class="d-button_action d-button_small d-icon-left-cross" ng-if="!item.dismissInProgress" ng-click="model.dismissNotification(item)"></button><div class="rx-shell-notification__item-dismiss-preloader"><div class="d-preloader d-icon-left-circle_25_o" ng-if="item.dismissInProgress"></div></div></div></div></div><div class="d-preloader d-icon-left-circle_25_o" ng-if="model.notifications.active.loadingInProgress"></div><div class="rx-shell-notification-dialog__content-loadMore" ng-if="!model.notifications.active.loadingInProgress && model.notifications.active.count > model.notifications.active.list.length"><button class="d-button d-button_action d-button_small" translate="com.bmc.arsys.rx.standardlib.view-components.shell.notification.action.loadMore" translate-values="{ chunkSize: model.chunkSize }" ng-click="model.getActiveNotifications(true)"></button></div></div>'),a.put("scripts/view-components/shell/shell-notification.directive.html",'<a class="d-n-action d-n-action__message d-icon-left-bell_o" href="javascript:void(0)" uib-popover-template="notificationTemplate" popover-is-open="popoverIsOpen" ng-click="togglePopover()" popover-placement="auto bottom"><span class="d-n-action__message-counter" ng-if="model.notifications.active.count">{{model.notifications.active.count}}</span></a>'),a.put("scripts/view-components/shell/shell.directive.html",'<header class="d-n-header rx-theme-nav-border-color rx-shell"><nav class="d-n-nav" role="navigation"><!--navigation hamburger icon--><div class="d-n-hamburger rx-shell__button-container" ng-class="{\'is-hidden\' : !compactNavigation}"><button class="d-n-hamburger__trigger d-n-hamburger__icon rx-shell__button d-icon-left-lines" ng-click="openMenu()"></button></div><!-- active menu element is visible in compactNavigation mode --><ul class="d-n-breadcrumbs" ng-class="{\'is-hidden\' : !compactNavigation}"><li><a class="d-n-breadcrumbs__link">{{menu.items[menu.currentItem].label}}</a></li></ul><ul class="d-n-menu" ng-class="{\'is-hidden\' : compactNavigation}"><li class="d-n-menu__item"><a class="d-n-menu__logo"><span class="bmc-logo rx-theme-small-logo-light"></span></a></li><li class="d-n-menu__item" ng-if="!allowAppSwitching"><div class="d-n-menu__link"><span class="d-n-dropdown__trigger-title d-n-menu__divider">{{currentApp.friendlyName}}</span></div></li><li class="d-n-menu__item d-n-dropdown__trigger" ng-if="allowAppSwitching"><a class="d-n-menu__link d-icon-right-angle_down"><span class="d-n-dropdown__trigger-back"></span> <span class="d-n-dropdown__trigger-title d-n-menu__divider">{{currentApp.friendlyName}}</span></a><ul class="d-n-dropdown"><li ng-repeat="app in appList" class="d-n-dropdown__item"><a class="d-n-dropdown__link" ng-href="/{{::app.id}}/index.html">{{::app.friendlyName}}</a></li></ul></li><li ng-repeat="menuItem in menu.items" class="d-n-menu__item" ng-class="{\'d-n-dropdown__trigger\': menuItem.navigationBarItems}" ng-hide="menuItem.hidden"><a ng-if="menuItem.state" class="d-n-menu__link d-icon-left-{{::menuItem.icon}}" ng-class="{\'is-active\': menuItem.selected}" ui-sref="{{::menuItem.state.name || menuItem.state}}({{::menuItem.state.params}})"><span>{{::menuItem.label}}</span></a> <a ng-if="menuItem.url" class="d-n-menu__link d-icon-left-{{::menuItem.icon}}" ng-class="{\'is-active\': menuItem.selected}" href="{{::menuItem.url}}"><span>{{::menuItem.label}}</span></a> <a ng-if="menuItem.navigationBarItems" class="d-n-menu__link d-icon-right-angle_down d-icon-left-{{::menuItem.icon}}" ng-class="{\'is-active\': menuItem.selected}"><span class="d-n-dropdown__trigger-back"></span> <span class="d-n-dropdown__trigger-title">{{::menuItem.label}}</span></a><ul class="d-n-dropdown" ng-if="menuItem.navigationBarItems"><li ng-repeat="subMenuItem in menuItem.navigationBarItems" ng-class="{\'d-n-dropdown__divider\': subMenuItem.separated}" class="d-n-dropdown__item" ng-hide="subMenuItem.hidden"><a ng-if="subMenuItem.state" class="d-n-dropdown__link d-icon-left-{{::subMenuItem.icon}}" ng-class="{\'is-active\': subMenuItem.selected}" ui-sref="{{::subMenuItem.state.name || subMenuItem.state}}({{::subMenuItem.state.params}})">{{::subMenuItem.label}}</a> <a ng-if="subMenuItem.url" class="d-n-dropdown__link d-icon-left-{{::subMenuItem.icon}}" ng-class="{\'is-active\': subMenuItem.selected}" href="{{::subMenuItem.url}}">{{::subMenuItem.label}}</a></li></ul></li></ul><div class="d-n-actions"><a class="d-n-action d-icon-gear d-n-menu__divider" ng-click="openApplicationSettings(false)"></a><div class="d-n-action d-n-nav__profile d-profile d-profile_size-tiny d-profile_rounded"><span class="d-n-dropdown__trigger-back d-n-dropdown-profile__trigger-back"></span> <span class="d-profile__image d-n-profile__image d-icon-left-user_circle"></span> <i class="d-icon-left-angle_down d-n-profile__arrow"></i><ul class="d-n-dropdown d-n-dropdown__profile"><li class="d-n-dropdown__item d-n-profile__title d-n-dropdown__divider"><span class="d-n-profile__label">{{\'com.bmc.arsys.rx.standardlib.view-components.shell.profile.label\' | translate}}</span> <span class="d-n-profile__name">{{currentUser}}</span></li><li class="d-n-dropdown__item d-n-dropdown__profile-item"><a class="d-n-dropdown__link d-icon-left-user" ng-click="openApplicationSettings(true)">{{\'com.bmc.arsys.rx.standardlib.view-components.shell.action.myAppSettings.label\' | translate}}</a></li><li class="d-n-dropdown__item d-n-dropdown__profile-item"><a class="d-n-dropdown__link d-icon-left-exit" ng-click="logout()">{{\'com.bmc.arsys.rx.standardlib.view-components.shell.action.signOut.label\' | translate}}</a></li></ul></div><!-- comment out action buttons for now\n            <a class="d-n-action d-n-action__book d-icon-left-book_o"></a>\n            <a class="d-n-action d-n-action__message d-icon-left-comments_o">\n                <span class="d-n-action__message-counter">2</span>\n            </a>\n            --><a id="d-n-action__search" ng-if="!isGlobalSearchDisabled" class="d-n-action d-n-action__search d-icon-left-search rx-shell-nav__item-left" ng-click="toggleSearchBar()" ng-enter="toggleSearchBar()" href="" tabindex="0"></a><rx-shell-notification></rx-shell-notification></div><div ng-if="globalSearch"><form class="d-n-search" ng-class="{\'is-active\': globalSearch}" ng-submit="moveToSearchState(globalSearchText)"><label class="sr-only" for="search">{{\'com.bmc.arsys.rx.standardlib.view-components.shell.action.search.label\' | translate}}</label><input class="d-n-search__item" type="search" id="search" ng-model="globalSearchText" placeholder="{{::\'com.bmc.arsys.rx.standardlib.view-components.shell.searchbox.placeholder\' | translate}}"><div class="d-n-search__close d-icon-left-cross" ng-click="globalSearch = !globalSearch"></div></form></div></nav></header><div ng-form="shellContent"><ng-transclude></ng-transclude></div>'),a.put("scripts/view/designer/inspector-editors/customization-options/view-customization-options-editor.html",'<div class="d-modal__header dialog-header-confirm"><h4 class="d-modal__title">Customization Options <button type="button" class="close" ng-click="cancel()">&times;</button></h4></div><div class="d-modal__content"><div class="rx-blocker" ng-if="isEditDisabled"></div><form name="customizationOptionsFrom"><div class="d-modal__content-item"><rx-dpl-checkbox ng-model="customizationOptions.allowOverlay">Allow future customization to this View Definition, <strong>{{viewDefinitionName}}</strong></rx-dpl-checkbox><div class="rx-customization-option-hint">If this option is unselected, others will not be allowed to customize this definition.<br>If you are not sure about what this option does, leave it selected.</div></div></form></div><div class="d-modal__footer"><button type="button" class="d-button d-button_primary d-button_large" ng-click="ok()" ng-disabled="!customizationOptionsFrom.$dirty">{{\'com.bmc.arsys.rx.standardlib.common.save.label\' | translate}}</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">{{\'com.bmc.arsys.rx.standardlib.common.cancel.label\' | translate}}</button></div>'),a.put("scripts/view/designer/layout/renderers/view-designer-container.directive.html",'<div rx-view-component-id="{{::node.componentDefinitionId}}" class="row container-element"><div ng-repeat="column in node.columns track by $index" ng-init="columnIndex = $index" class="column-renderer col-sm-{{column.span || 12}}"><ul class="view-designer-container__list" dnd-list="column.children" dnd-drop="onDndDrop(event, item, node, columnIndex, index)" dnd-allowed-types="node.allowedTypes" dnd-horizontal-list="{{node.horizontalList || false}}" ng-style="node.height ? {\'min-height\': node.height} : undefined"><li ng-repeat="node in column.children | filter:isComponentPresent track by node.componentDefinitionId" dnd-draggable="node" dnd-dragstart="onDndStart(event, node, $parent.node, columnIndex, $index)" dnd-effect-allowed="move" dnd-type="node.type" dnd-selected="onDndSelected(event, node)" dnd-disable-if="node.static || node.disableCustomization" ng-class="{\'selected\': node.selected}" class="view-designer-container__item"><rx-view-designer-item node="node"></rx-view-designer-item></li></ul></div></div>'),a.put("scripts/view/designer/layout/renderers/view-designer-item.directive.html",'<div class="rx-view-designer-item" dnd-nodrag><div class="rx-view-designer-item-halo" ng-show="node.selected" dnd-handle><span class="icon d-icon-dots"></span> <span class="rx-view-designer-item-name">{{node.name}}</span> <span ng-hide="::isDeleteDisabled()" class="icon d-icon-cross" ng-click="onDeleteItemClick($event)"></span></div><div class="rx-view-designer-item-content"></div></div>'),a.put("scripts/view/designer/runtime-view-parameters.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="cancel()">&times;</button><h4 class="modal-title">Enter runtime parameters</h4></div><div class="modal-body"><form name="runtimeViewParametersForm"><div><div class="d-textfield" ng-repeat="field in fields"><label class="d-textfield__label"><span class="d-textfield__item">{{field.title}}</span> <input class="d-textfield__input" type="text" ng-model="field.value" required></label></div></div><div class="rx-condition-editor-action-buttons"><button type="button" class="d-button d-button_primary d-button_large" ng-click="ok()" ng-disabled="!runtimeViewParametersForm.$valid">OK</button> <button type="button" class="d-button d-button_secondary d-button_large" ng-click="cancel()">Cancel</button></div></form></div>'),a.put("scripts/view/designer/view-designer-canvas.directive.html",'<div class="rx-designer-canvas-toolbar"></div><div class="dropzone-scroller"><div class="dropzone"><rx-view-designer-container node="canvasConfiguration.layout"></rx-view-designer-container></div></div>'),a.put("scripts/view/designer/view-designer-stencil.directive.html",'<input type="search" placeholder="search" class="search" ng-model="search"><div class="rx-view-designer-stencil-wrapper"><div class="rx-view-components-group" ng-repeat="(groupKey, componentGroup) in componentGroups"><div class="rx-view-components-group-header" ng-click="toggleComponentGroup(componentGroup)"><span class="rx-view-components-group-title">{{groupKey}}</span> <span class="text-right icon" ng-class="componentGroup.isCollapsed ?\'d-icon-angle_down\' :\'d-icon-angle_up\'"></span></div><div ng-show="!componentGroup.isCollapsed"><div class="rx-view-components-group-body" ng-repeat="componentsChunk in componentGroup"><div class="rx-view-component" dnd-draggable="component" dnd-effect-allowed="copy" dnd-type="component.type" ng-repeat="component in componentsChunk | filter:{name : search} | orderBy : \'name\'"><span class="rx-view-component-icon icon" ng-class="\'d-icon-\'+component.icon" ng-if="!component.icon.url"></span> <img class="rx-view-component-icon image" ng-src="{{component.icon.url}}" ng-if="component.icon.url"> <span class="rx-view-component-name">{{component.name}}</span></div></div></div></div><div ng-if="rxConfiguration.components.length == 0">No matches found...</div></div>'),
a.put("scripts/view/designer/view-designer.directive.html",'<form name="rxViewDesignerForm"><div class="rx-editor-header"><div class="rx-editor-header__column rx-editor-header__column_left"><a class="rx-editor-header__back d-icon-arrow_left" ng-click="closeDesigner()"></a> <span class="rx-editor-header__app-name">{{bundleFriendlyName}}</span></div><div class="rx-editor-header__column rx-editor-header__column_right"><div class="rx-editor-header__title"><rx-designer-breadcrumb-bar definition-name="(plainViewDefinition.name | definitionName) || \'&lt;New View&gt;\'" definition-icon="app_eye" items="breadcrumbs" on-click="handleBreadcrumbBarClick(itemId)"></rx-designer-breadcrumb-bar></div><div class="rx-editor-header__buttons"><button type="button" class="rx-editor-header__button rx-editor-header__button_toggle-view d-button d-button_secondary d-button_small" ng-class="isDesignMode ? \'d-icon-left-brackets_curly\' : \'d-icon-left-app_eye\'" ng-if="isDesignModeAvailable()" ng-click="toggleDesignMode()">{{isDesignMode ? "JSON" : "UI Design"}}</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_show-runtime d-button d-button_secondary d-button_small d-icon-left-eye" ng-hide="isNewView  || rxConfiguration.shellDefinitionName" ng-click="showRuntimeMode()">Preview</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_save rx-editor-header__button_divider-before d-button d-button_primary d-button_small" ng-click="saveChanges()" ng-disabled="!canSave()">Save</button> <button type="button" class="rx-editor-header__button rx-editor-header__button_close d-button d-button_secondary d-button_small" ng-click="closeDesigner()">Close</button></div></div></div><div class="rx-editor-content"><div class="rx-simple-json-editor-container control-group" ng-class="{\'has-error\': rxViewDesignerForm.json.$invalid}" ng-show="isDesignMode === false"><rx-simple-json-editor name="json" rx-object="plainViewDefinition" ng-readonly="true"></rx-simple-json-editor></div><div class="rx-component-view-designer" ng-show="isDesignMode === true"><rx-blade rx-configuration="leftBladeConfiguration"><rx-blade-tab icon-class="leftBladeConfiguration.tabs.stencilTabDefault.iconClass" tab-name="leftBladeConfiguration.tabs.stencilTabDefault.name" active="leftBladeConfiguration.tabs.stencilTabDefault.active" on-activate="leftBladeConfiguration.tabs.stencilTabDefault.onActivate"><rx-view-designer-stencil rx-configuration="stencilConfiguration" ng-if="!canvasConfiguration.isReadOnly"></rx-view-designer-stencil><p ng-if="canvasConfiguration.isReadOnly" class="rx-component-view-designer-palette-readonly-text">This View is in read-only mode and components cannot be added to the canvas</p></rx-blade-tab></rx-blade><rx-blade rx-configuration="rightBladeConfiguration"><rx-blade-tab icon-class="rightBladeConfiguration.tabs.viewInformation.iconClass" tab-name="rightBladeConfiguration.tabs.viewInformation.name" active="rightBladeConfiguration.tabs.viewInformation.active"><rx-designer-inspector target="selected.viewDefinitionModel" class="rx-view-inspector" rx-configuration="{}"></rx-designer-inspector></rx-blade-tab><rx-blade-tab icon-class="rightBladeConfiguration.tabs.componentInformation.iconClass" tab-name="rightBladeConfiguration.tabs.componentInformation.name" active="rightBladeConfiguration.tabs.componentInformation.active"><rx-designer-inspector target="selected.viewComponentDefinitionModel" class="rx-view-component-inspector" rx-configuration="viewComponentInspectorConfiguration"></rx-designer-inspector></rx-blade-tab><rx-blade-tab icon-class="rightBladeConfiguration.tabs.validationIssues.iconClass + (selected.validationIssues.length ? \' error\' : \'\')" tab-name="rightBladeConfiguration.tabs.validationIssues.name" active="rightBladeConfiguration.tabs.validationIssues.active" ng-hide="canvasConfiguration.isReadOnly"><span class="title">Validation Issues</span><rx-designer-validation-issues validation-issues="selected.validationIssues" rx-configuration="validationIssuesConfiguration"></rx-designer-validation-issues></rx-blade-tab></rx-blade><rx-view-designer-canvas ng-class="{\'rx-blade-expanded-left\': leftBladeConfiguration.expanded, \'rx-blade-expanded-right\': rightBladeConfiguration.expanded}"></rx-view-designer-canvas></div></div></form>'),a.put("scripts/view/runtime/modal/runtime-view-blade.html",'<div class="modal-header dialog-header-confirm"><h3 class="modal-title">{{modalConfiguration.title}}</h3></div><div class="modal-preloader"><div cg-busy="{promise: promise, templateUrl: templateUrl, message: message, backdrop: backdrop, delay: delay, minDuration: minDuration}"></div></div><div class="modal-body__content"><rx-runtime-view rx-configuration="runtimeViewConfiguration"></rx-runtime-view></div>'),a.put("scripts/view/runtime/modal/runtime-view-modal.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="close()">×</button><h4 class="modal-title">{{modalConfiguration.title}}</h4></div><div class="modal-preloader"><div cg-busy="{promise: promise, templateUrl: templateUrl, message: message, backdrop: backdrop, delay: delay, minDuration: minDuration}"></div></div><div class="modal-body__content"><rx-runtime-view rx-configuration="runtimeViewConfiguration"></rx-runtime-view></div>'),a.put("scripts/view/runtime/runtime-view-container.directive.html",'<div rx-view-component-id="{{::node.componentDefinitionId}}" ng-hide="node.hidden" ng-style="node.height ? {\'min-height\': node.height} : undefined" ng-class="node.styles" class="row"><div ng-repeat="column in ::node.columns" class="col-sm-{{::(column.span || 12)}}"><div ng-repeat="node in ::column.children track by node.componentDefinitionId" class="runtime-view-item-holder" ng-class="{\'rx-auto-fill\': node.autoFill}"><rx-runtime-view-item node="node"></rx-runtime-view-item></div></div></div>'),a.put("scripts/view/runtime/runtime-view.directive.html",'<div class="rx-template-layout" ng-class="{\'rx-template-row-layout\': useRowLayout}"><div ng-if="useRowLayout" ng-repeat="column in ::layout.columns" class="col-sm-{{::(column.span || 12)}} rx-template-content"><div ng-repeat="node in ::column.children track by node.componentDefinitionId" class="runtime-view-item-holder" ng-class="{\'rx-auto-fill\': node.autoFill}"><rx-runtime-view-item node="node"></rx-runtime-view-item></div></div><div ng-if="!useRowLayout" ng-repeat="node in ::layout.children track by node.componentDefinitionId" class="runtime-view-item-holder {{node.role ? (\'rx-template-\' + node.role) : \'\'}}"><rx-runtime-view-item node="node"></rx-runtime-view-item></div></div>'),a.put("scripts/view/runtime/runtime-view.view.html",'<rx-runtime-view rx-configuration="runtimeViewConfiguration"></rx-runtime-view>')}]);