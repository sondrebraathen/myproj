!function(){"use strict";angular.module("com.bmc.help",["ui.router","ui.bootstrap.dropdown"])}(),function(){"use strict";angular.module("com.bmc.help").config(["$stateProvider",function(a){var b=a.decorator;b("helpTopic",function(a){return a.parent&&a.parent.helpTopic&&angular.isUndefined(a.self.helpTopic)&&(a.helpTopic=a.self.helpTopic=a.parent.helpTopic),a.helpTopic})}])}(),function(){"use strict";function a(a){return angular.isFunction(a)&&angular.isArray(a.$invoke)||angular.isArray(a)&&angular.isFunction(a[a.length-1])}angular.module("com.bmc.help").provider("ehHelpDocsService",function(){var b,c,d=["$state","$injector",function(b,c){return function(){var d=b.current.helpTopic;return d=a(d)?c.invoke(d):d,_.isString(d)&&d||""}}],e=function(a){return"https://olh.bmc.com/urlresolver/docs?topic="+a},f=[],g=["$cacheFactory",function(a){return a("com.bmc.help.docs")}],h=["$http","$q","resourceUrl","documentProcessor",function(a,b,c,d,e){return{get:function(e){var f=angular.isFunction(c)&&c(e);return f?a({method:"GET",url:f,cache:!1}).then(function(a){return d?d(a.data):a.data}):b.reject("missing resource url")}}}];e.$inject=["topic"],this.configure=function(a){a=a||{},d=a.defaultTopic||d,e=a.externalLink||e,b=a.resourceUrl||b,f=a.topicIndex||f,g=a.documentCache||g,c=a.documentProcessor||c,h=a.documentResource||h},this.$get=["$injector","$q",function(i,j){var k=a(d)?i.invoke(d):d,l=a(e)?i.invoke(e):e,m=a(b)?i.invoke(b):b,n=a(f)?i.invoke(f):f,o=a(g)?i.invoke(g):g,p=a(c)?i.invoke(c):c,q=a(h)?i.invoke(h,void 0,{resourceUrl:m,documentProcessor:p}):h;return{getDefaultTopic:angular.isFunction(k)?k:function(){return k},getExternalLink:angular.isFunction(l)?l:angular.noop,hasDocument:angular.isFunction(n)?n:angular.isArray(n)?_.curry(_.include)(n):angular.noop,getDocument:function(a){var b=o&&o.get(a);return b?j.when(b):q.get(a).then(function(b){return o&&o.put(a,b),b})}}}]})}(),function(){"use strict";angular.module("com.bmc.help").provider("ehHelpPopup",function(){var a={floating:"floating",dockLeft:"dock-left",dockRight:"dock-right"},b={initialPosition:"bottom-left",labels:{title:"Help",dockLeft:"Dock Left",dockRight:"Dock Right",floating:"Floating"},template:'<div class="eh-help-popup" ng-class="{in: isOpened}">\n<div class="eh-help-popup__header">\n<div class="eh-help-popup__nav">\n<button type="button" class="eh-icon-button d-icon-angle_left help-nav__back" ng-click="back()" ng-show="!minimized" ng-disabled="!content.$prevContent"></button><button type="button" class="eh-icon-button d-icon-angle_right help-nav__forward" ng-click="forward()" ng-show="!minimized" ng-disabled="!content.$nextContent"></button></div>\n<h3 class="eh-help-popup__title" ng-bind="config.labels.title"></h3>\n<div class="eh-help-popup__buttons">\n<eh-help-link topic="\'eh.feedback\'"><button type="button" class="eh-icon-button d-icon-exclamation_bubble_o" ng-show="!minimized"></button></eh-help-link>\n<button type="button" class="eh-icon-button d-icon-squares_back" ng-click="restore()" ng-show="minimized"></button><span uib-dropdown ng-show="!minimized">\n<button type="button" class="eh-icon-button d-icon-gear" uib-dropdown-toggle></button>\n<ul uib-dropdown-menu role="menu">\n<li><a href ng-click="setDisplay(\'dock-left\')" ng-disabled="display === \'dock-left\'" ng-bind="config.labels.dockLeft"></a></li>\n<li><a href ng-click="setDisplay(\'dock-right\')" ng-disabled="display === \'dock-right\'" ng-bind="config.labels.dockRight"></a></li>\n<li><a href ng-click="setDisplay(\'floating\')" ng-disabled="display === \'floating\'" ng-bind="config.labels.floating"></a></li>\n</ul>\n</span>\n<button type="button" class="eh-icon-button d-icon-minus" ng-click="minimize()" ng-show="!minimized"></button><button type="button" class="eh-icon-button d-icon-cross" ng-click="close()"></button>\n</div>\n</div>\n<div class="eh-help-popup__content"></div>\n<div class="eh-help-popup__footer">\n<eh-help-link topic="\'eh.feedback\'"><span class="eh-icon-button d-icon-exclamation_bubble_o" ng-show="!minimized"></span> How helpful is this experience?</eh-help-link><div class="bmc-logo"></div>\n</div>\n</div>'};return{initialize:function(a){angular.extend(b,a)},$get:["$compile","$injector","$rootScope","$window","$document","$animate","$timeout",function(c,d,e,f,g,h,i){function j(){if(!m){var d,f,i=!0;m=e.$new(),m.config=n,d=c(angular.element(b.template))(m).appendTo(g[0].body),d.draggable({containment:"parent",handle:".eh-help-popup__header"}).resizable({minHeight:200,minWidth:350}),f=d.find(".eh-help-popup__content");var j=function(){if(m.isOpened&&m.display===a.floating&&!m.minimized&&f.is(":visible")){var c=i&&"bottom-left"===b.initialPosition||"bottom-right"===b.initialPosition?10:0,e=i&&"top-right"===b.initialPosition||"bottom-right"===b.initialPosition?10:0;d.css("height",f.outerHeight()),d.css("height",d.outerHeight()+f[0].scrollHeight-f.outerHeight()),d.offset().top+d.outerHeight()+c>o.height()&&d.css("top",Math.max(o.height()-d.outerHeight()-c,0)),d.offset().left+d.outerWidth()+e>o.width()&&d.css("left",Math.max(o.width()-d.outerWidth()-e,0)),i=!1}};if(o.on("resize",j),d.on("resize",function(a){a.stopPropagation()}),m.$watch("isOpened",function(a){a?(q?q(angular.element(g[0].body),{addClass:"eh-help-"+m.display}).start()["finally"](p):h.addClass(angular.element(g[0].body),"eh-help-"+m.display).then(p),j()):(f.contents().length&&h.leave(f.contents()),q?q(angular.element(g[0].body),{removeClass:"eh-help-"+m.display}).start()["finally"](p):h.removeClass(angular.element(g[0].body),"eh-help-"+m.display).then(p))}),m.$watch("content",function(a){var b=m.$new(!0),d=angular.element(a.body);f.contents().length&&h.leave(f.contents()),h.enter(d,f).then(j),c(d)(b),m.minimized&&m.restore(),m.isOpened=!0}),m.setDisplay=function(b){var c,e,f,i,k,l=m.display;m.minimized=!1,m.display=_.include(_.values(a),b)?b:a.floating,c=m.display===a.floating?"enable":"disable",d.draggable(c).resizable(c),e="eh-help-popup__"+m.display,f=l&&l!==m.display?"eh-help-popup__"+l+" eh-help-popup__minimized":"eh-help-popup__minimized",i="eh-help-"+m.display,k=l&&l!==m.display?"eh-help-"+l:"",m.isOpened?q?(q(d,{addClass:e,removeClass:f}).start()["finally"](j),q(angular.element(g[0].body),{addClass:i,removeClass:k}).start()["finally"](p)):(h.setClass(d,e,f).then(j),h.setClass(angular.element(g[0].body),i,k).then(p)):d.addClass(e).removeClass((f+" eh-help-popup__minimized").trim())},m.minimize=function(){m.isOpened&&(d.draggable("disable"),m.minimized=!0,q?(q(d,{addClass:"eh-help-popup__minimized",removeClass:"eh-help-popup__"+m.display}).start(),q(angular.element(g[0].body),{removeClass:"eh-help-"+m.display}).start()["finally"](p)):(h.setClass(d,"eh-help-popup__minimized","eh-help-popup__"+m.display),h.removeClass(angular.element(g[0].body),"eh-help-"+m.display).then(p)))},m.restore=function(){m.setDisplay(m.display)},m.back=function(){m.content=m.content.$prevContent||m.content},m.forward=function(){m.content=m.content.$nextContent||m.content},m.open=k,m.close=l,m.$on("$destroy",function(){m=null,d=null,f=null,o.off("resize",j)}),m.setDisplay(b.initialPosition),m.display===a.floating){var r="bottom-left"===b.initialPosition?{top:"100%",left:"10px"}:"bottom-right"===b.initialPosition?{top:"100%",left:"100%"}:"top-right"===b.initialPosition?{top:"10px",left:"100%"}:{top:"10px",left:"10px"};d.css(r)}}return m}function k(a){var b=j();b.content&&b.content.body===a?b.content={body:a,$prevContent:b.content.$prevContent,$nextContent:b.content.$nextContent}:(b.content={body:a,$prevContent:b.content},b.content.$prevContent&&(b.content.$prevContent.$nextContent=b.content))}function l(){m&&(m.isOpened=!1)}var m,n={labels:b.labels},o=angular.element(f),p=function(){o.trigger("resize")},q=d.has("$animateCss")?d.get("$animateCss"):null;return{extend:_.curry(_.assign,2)(n),open:k,close:l}}]}})}(),function(){"use strict";angular.module("com.bmc.help").directive("ehHelpLink",["$state","$injector","$timeout","ehHelpDocsService","ehHelpPopup",function(a,b,c,d,e){return{restrict:"E",scope:!0,transclude:!0,template:'<a target="_blank" href="." ng-transclude class="d-icon-question_circle_o"></a>',link:function(a,f,g){function h(){var c=_.isString(g.topic)&&g.topic&&a.$eval(g.topic);return c=angular.isFunction(c)||angular.isArray(c)&&angular.isFunction(c[c.length-1])?b.invoke(c):c,_.isString(c)&&c||d.getDefaultTopic()}var i=f.children("a");i.on("click",function(a){var b=h();return d.hasDocument(b)?(d.getDocument(b).then(e.open),!1):(i.attr("href",d.getExternalLink(b)),void c(function(){i.attr("href",".")}))})}}}])}();